!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.OTV=t():e.OTV=t()}("undefined"!=typeof self?self:this,function(){return function(e){function t(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var r={};return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=280)}([function(e,t,r){var n=r(6),i=r(13),o=r(25),a=r(22),s=r(30),u=function(e,t,r){var l,c,d,f,g=e&u.F,p=e&u.G,h=e&u.S,y=e&u.P,m=e&u.B,v=p?n:h?n[t]||(n[t]={}):(n[t]||{}).prototype,b=p?i:i[t]||(i[t]={}),A=b.prototype||(b.prototype={});p&&(r=t);for(l in r)c=!g&&v&&void 0!==v[l],d=(c?v:r)[l],f=m&&c?s(d,n):y&&"function"==typeof d?s(Function.call,d):d,v&&a(v,l,d,e&u.U),b[l]!=d&&o(b,l,f),y&&A[l]!=d&&(A[l]=d)};n.core=i,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,e.exports=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t,r,n){!n[e]&&t&&(n[e]={instance:t,override:r})}function t(e,t){for(var r in g){var n=g[r];if(n.context===e&&n.name===t)return n.instance}return null}function r(e,t,r){for(var n in g){var i=g[n];if(i.context===e&&i.name===t)return void(g[n].instance=r)}g.push({name:t,context:e,instance:r})}function n(e,t){return t[e]}function i(e,t,r){e in r&&(r[e]=t)}function o(e,t){i(e,t,h)}function a(e){return n(e,h)}function s(e){var t=n(e.__dashjs_factory_name,h);return t||(t=function(t){return void 0===t&&(t={}),{create:function(){return d(e,t,arguments)}}},h[e.__dashjs_factory_name]=t),t}function u(e,t){i(e,t,p)}function l(e){return n(e,p)}function c(e){var r=n(e.__dashjs_factory_name,p);return r||(r=function(r){var n=void 0;return void 0===r&&(r={}),{getInstance:function(){return n||(n=t(r,e.__dashjs_factory_name)),n||(n=d(e,r,arguments),g.push({name:e.__dashjs_factory_name,context:r,instance:n})),n}}},p[e.__dashjs_factory_name]=r),r}function d(e,t,r){var n=void 0,i=e.__dashjs_factory_name,o=t[i];if(o){var a=o.instance;if(!o.override)return a.apply({context:t,factory:f},r);n=e.apply({context:t},r),a=a.apply({context:t,factory:f,parent:n},r);for(var s in a)n.hasOwnProperty(s)&&(n[s]=a[s])}else n=e.apply({context:t},r);return n.getClassName=function(){return i},n}var f=void 0,g=[],p={},h={};return f={extend:e,getSingletonInstance:t,setSingletonInstance:r,getSingletonFactory:c,getSingletonFactoryByName:l,updateSingletonFactory:u,getClassFactory:s,getClassFactoryByName:a,updateClassFactory:o}}();t.default=n,e.exports=t.default},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function(){function e(){n(this,e),this.init()}return i(e,[{key:"init",value:function(){this.STREAM="stream",this.VIDEO="video",this.AUDIO="audio",this.TEXT="text",this.FRAGMENTED_TEXT="fragmentedText",this.EMBEDDED_TEXT="embeddedText",this.MUXED="muxed",this.IMAGE="image",this.LOCATION="Location",this.INITIALIZE="initialize",this.TEXT_SHOWING="showing",this.TEXT_HIDDEN="hidden",this.CC1="CC1",this.CC3="CC3",this.STPP="stpp",this.TTML="ttml",this.VTT="vtt",this.WVTT="wvtt",this.UTF8="utf-8",this.SUGGESTED_PRESENTATION_DELAY="suggestedPresentationDelay",this.SCHEME_ID_URI="schemeIdUri",this.START_TIME="starttime",this.ABR_STRATEGY_DYNAMIC="abrDynamic",this.ABR_STRATEGY_BOLA="abrBola",this.ABR_STRATEGY_THROUGHPUT="abrThroughput",this.MOVING_AVERAGE_SLIDING_WINDOW="slidingWindow",this.MOVING_AVERAGE_EWMA="ewma",this.BAD_ARGUMENT_ERROR="Invalid Arguments",this.MISSING_CONFIG_ERROR="Missing config parameter(s)"}}]),e}(),a=new o;t.default=a,e.exports=t.default},function(e,t,r){"use strict";function n(){function e(e,t,r){var i=arguments.length<=3||void 0===arguments[3]?a:arguments[3];if(!e)throw new Error("event type cannot be null or undefined");if(!t||"function"!=typeof t)throw new Error("listener must be a function: "+t);if(!(n(e,t,r)>=0)){o[e]=o[e]||[];var s={callback:t,scope:r,priority:i};o[e].some(function(t,r){if(t&&i>t.priority)return o[e].splice(r,0,s),!0})||o[e].push(s)}}function t(e,t,r){if(e&&t&&o[e]){var i=n(e,t,r);i<0||(o[e][i]=null)}}function r(e,t){if(e&&o[e]){if(t=t||{},t.hasOwnProperty("type"))throw new Error("'type' is a reserved word for event dispatching");t.type=e,o[e]=o[e].filter(function(e){return e}),o[e].forEach(function(e){return e&&e.callback.call(e.scope,t)})}}function n(e,t,r){var n=-1;return o[e]?(o[e].some(function(e,i){if(e&&e.callback===t&&(!r||r===e.scope))return n=i,!0}),n):n}function i(){o={}}var o={};return{on:e,off:t,trigger:r,reset:i}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(1),o=function(e){return e&&e.__esModule?e:{default:e}}(i),a=0;n.__dashjs_factory_name="EventBus";var s=o.default.getSingletonFactory(n);s.EVENT_PRIORITY_LOW=a,s.EVENT_PRIORITY_HIGH=5e3,o.default.updateSingletonFactory(n.__dashjs_factory_name,s),t.default=s,e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(){function e(e){return e&&e.bind?e.bind(window.console):window.console.log.bind(window.console)}function t(e){return{fatal:c.bind(e),error:m.bind(e),warn:v.bind(e),info:b.bind(e),debug:A.bind(e)}}function r(e){M=e}function n(){return M}function i(e){w=e}function o(e){C=e}function s(e){M=e?y:d}function l(){return M!==d}function c(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];_.apply(void 0,[f,this].concat(t))}function m(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];_.apply(void 0,[g,this].concat(t))}function v(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];_.apply(void 0,[p,this].concat(t))}function b(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];_.apply(void 0,[h,this].concat(t))}function A(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];_.apply(void 0,[y,this].concat(t))}function _(e,t){var r="",n=null;w&&(n=(new Date).getTime(),r+="["+(n-D)+"]"),C&&t&&t.getClassName&&(r+="["+t.getClassName()+"]",t.getType&&(r+="["+t.getType()+"]")),r.length>0&&(r+=" ");for(var i=arguments.length,o=Array(i>2?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a];Array.apply(null,o).forEach(function(e){r+=e+" "}),S[e]&&M>=e&&S[e](r),T.trigger(u.default.LOG,{message:r,level:e})}var E=this.context,T=(0,a.default)(E).getInstance(),S=[],I=void 0,w=void 0,C=void 0,D=void 0,M=void 0;return I={getLogger:t,setLogTimestampVisible:i,setCalleeNameVisible:o,setLogToBrowserConsole:s,getLogToBrowserConsole:l,setLogLevel:r,getLogLevel:n},function(){w=!0,C=!0,M=p,D=(new Date).getTime(),"undefined"!=typeof window&&window.console&&(S[f]=e(window.console.error),S[g]=e(window.console.error),S[p]=e(window.console.warn),S[h]=e(window.console.info),S[y]=e(window.console.debug))}(),I}Object.defineProperty(t,"__esModule",{value:!0});var o=r(3),a=n(o),s=r(5),u=n(s),l=r(1),c=n(l),d=0,f=1,g=2,p=3,h=4,y=5;i.__dashjs_factory_name="Debug";var m=c.default.getSingletonFactory(i);m.LOG_LEVEL_NONE=d,m.LOG_LEVEL_FATAL=f,m.LOG_LEVEL_ERROR=g,m.LOG_LEVEL_WARNING=p,m.LOG_LEVEL_INFO=h,m.LOG_LEVEL_DEBUG=y,c.default.updateSingletonFactory(i.__dashjs_factory_name,m),t.default=m,e.exports=t.default},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t,r){for(var n=!0;n;){var i=e,o=t,a=r;n=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=o,r=a,n=!0,s=l=void 0}},a=r(499),s=function(e){return e&&e.__esModule?e:{default:e}}(a),u=function(e){function t(){n(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return i(t,e),t}(s.default),l=new u;t.default=l,e.exports=t.default},function(e,t){var r=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,r){var n=r(9);e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,r){var n=r(90)("wks"),i=r(46),o=r(6).Symbol,a="function"==typeof o;(e.exports=function(e){return n[e]||(n[e]=a&&o[e]||(a?o:i)("Symbol."+e))}).store=n},function(e,t,r){var n=r(32),i=Math.min;e.exports=function(e){return e>0?i(n(e),9007199254740991):0}},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(t,r,i){n(this,e),this.code=t||null,this.message=r||null,this.data=i||null};t.default=i,e.exports=t.default},function(e,t){var r=e.exports={version:"2.6.11"};"number"==typeof __e&&(__e=r)},function(e,t){function r(e){return null!=e&&"object"==typeof e}e.exports=r},function(e,t,r){e.exports=!r(7)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,r){var n=r(8),i=r(184),o=r(41),a=Object.defineProperty;t.f=r(15)?Object.defineProperty:function(e,t,r){if(n(e),t=o(t,!0),n(r),i)try{return a(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(e[t]=r.value),e}},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t,r){for(var n=!0;n;){var i=e,o=t,a=r;n=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=o,r=a,n=!0,s=l=void 0}},a=r(230),s=function(e){return e&&e.__esModule?e:{default:e}}(a),u=function(e){function t(){n(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE=10,this.MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE=11,this.XLINK_LOADER_LOADING_FAILURE_ERROR_CODE=12,this.SEGMENTS_UPDATE_FAILED_ERROR_CODE=13,this.SEGMENTS_UNAVAILABLE_ERROR_CODE=14,this.SEGMENT_BASE_LOADER_ERROR_CODE=15,this.TIME_SYNC_FAILED_ERROR_CODE=16,this.FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE=17,this.FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE=18,this.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE=19,this.APPEND_ERROR_CODE=20,this.REMOVE_ERROR_CODE=21,this.DATA_UPDATE_FAILED_ERROR_CODE=22,this.CAPABILITY_MEDIASOURCE_ERROR_CODE=23,this.CAPABILITY_MEDIAKEYS_ERROR_CODE=24,this.DOWNLOAD_ERROR_ID_MANIFEST_CODE=25,this.DOWNLOAD_ERROR_ID_MANIFEST="manifest",this.DOWNLOAD_ERROR_ID_SIDX_CODE=26,this.DOWNLOAD_ERROR_ID_CONTENT_CODE=27,this.DOWNLOAD_ERROR_ID_CONTENT="content",this.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE=28,this.DOWNLOAD_ERROR_ID_INITIALIZATION="initialization",this.DOWNLOAD_ERROR_ID_XLINK_CODE=29,this.DOWNLOAD_ERROR_ID_XLINK="xlink",this.MANIFEST_ERROR_ID_CODEC_CODE=30,this.MANIFEST_ERROR_ID_PARSE_CODE=31,this.MANIFEST_ERROR_ID_NOSTREAMS_CODE=32,this.TIMED_TEXT_ERROR_ID_PARSE_CODE=33,this.MANIFEST_ERROR_ID_MULTIPLEXED_CODE=34,this.MEDIASOURCE_TYPE_UNSUPPORTED_CODE=35,this.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE="parsing failed for ",this.MANIFEST_LOADER_LOADING_FAILURE_ERROR_MESSAGE="Failed loading manifest: ",this.XLINK_LOADER_LOADING_FAILURE_ERROR_MESSAGE="Failed loading Xlink element: ",this.SEGMENTS_UPDATE_FAILED_ERROR_MESSAGE="Segments update failed",this.SEGMENTS_UNAVAILABLE_ERROR_MESSAGE="no segments are available yet",this.SEGMENT_BASE_LOADER_ERROR_MESSAGE="error loading segments",this.TIME_SYNC_FAILED_ERROR_MESSAGE="Failed to synchronize time",this.FRAGMENT_LOADER_NULL_REQUEST_ERROR_MESSAGE="request is null",this.URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE="Failed to resolve a valid URL",this.APPEND_ERROR_MESSAGE="chunk is not defined",this.REMOVE_ERROR_MESSAGE="buffer is not defined",this.DATA_UPDATE_FAILED_ERROR_MESSAGE="Data update failed",this.CAPABILITY_MEDIASOURCE_ERROR_MESSAGE="mediasource is not supported",this.CAPABILITY_MEDIAKEYS_ERROR_MESSAGE="mediakeys is not supported",this.TIMED_TEXT_ERROR_MESSAGE_PARSE="parsing error :",this.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE="Error creating source buffer of type : "}return i(t,e),t}(s.default),l=new u;t.default=l,e.exports=t.default},function(e,t){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(){n(this,e),this.tcpid=null,this.type=null,this.url=null,this.actualurl=null,this.range=null,this.trequest=null,this.tresponse=null,this.responsecode=null,this.interval=null,this.trace=[],this._stream=null,this._tfinish=null,this._mediaduration=null,this._responseHeaders=null,this._serviceLocation=null},o=function e(){n(this,e),this.s=null,this.d=null,this.b=[]};i.GET="GET",i.HEAD="HEAD",i.MPD_TYPE="MPD",i.XLINK_EXPANSION_TYPE="XLinkExpansion",i.INIT_SEGMENT_TYPE="InitializationSegment",i.INDEX_SEGMENT_TYPE="IndexSegment",i.MEDIA_SEGMENT_TYPE="MediaSegment",i.BITSTREAM_SWITCHING_SEGMENT_TYPE="BitstreamSwitchingSegment",i.OTHER_TYPE="other",t.HTTPRequest=i,t.HTTPRequestTrace=o},function(e,t,r){var n=r(37);e.exports=function(e){return Object(n(e))}},function(e,t,r){function n(e){return null==e?void 0===e?u:s:l&&l in Object(e)?o(e):a(e)}var i=r(73),o=r(662),a=r(663),s="[object Null]",u="[object Undefined]",l=i?i.toStringTag:void 0;e.exports=n},function(e,t,r){var n=r(6),i=r(25),o=r(24),a=r(46)("src"),s=r(285),u=(""+s).split("toString");r(13).inspectSource=function(e){return s.call(e)},(e.exports=function(e,t,r,s){var l="function"==typeof r;l&&(o(r,"name")||i(r,"name",t)),e[t]!==r&&(l&&(o(r,a)||i(r,a,e[t]?""+e[t]:u.join(String(t)))),e===n?e[t]=r:s?e[t]?e[t]=r:i(e,t,r):(delete e[t],i(e,t,r)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[a]||s.call(this)})},function(e,t,r){var n=r(0),i=r(7),o=r(37),a=/"/g,s=function(e,t,r,n){var i=String(o(e)),s="<"+t;return""!==r&&(s+=" "+r+'="'+String(n).replace(a,"&quot;")+'"'),s+">"+i+"</"+t+">"};e.exports=function(e,t){var r={};r[e]=t(s),n(n.P+n.F*i(function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}),"String",r)}},function(e,t){var r={}.hasOwnProperty;e.exports=function(e,t){return r.call(e,t)}},function(e,t,r){var n=r(16),i=r(45);e.exports=r(15)?function(e,t,r){return n.f(e,t,i(1,r))}:function(e,t,r){return e[t]=r,e}},function(e,t,r){var n=r(78),i=r(37);e.exports=function(e){return n(i(e))}},function(e,t,r){"use strict";var n=r(7);e.exports=function(e,t){return!!e&&n(function(){t?e.call(null,function(){},1):e.call(null)})}},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function(){function e(){n(this,e),this.init()}return i(e,[{key:"init",value:function(){this.BASE_URL="BaseURL",this.SEGMENT_BASE="SegmentBase",this.SEGMENT_TEMPLATE="SegmentTemplate",this.SEGMENT_LIST="SegmentList",this.SEGMENT_URL="SegmentURL",this.SEGMENT_TIMELINE="SegmentTimeline",this.SEGMENT_PROFILES="segmentProfiles",this.ADAPTATION_SET="AdaptationSet",this.REPRESENTATION="Representation",this.REPRESENTATION_INDEX="RepresentationIndex",this.SUB_REPRESENTATION="SubRepresentation",this.INITIALIZATION="Initialization",this.INITIALIZATION_MINUS="initialization",this.MPD="MPD",this.PERIOD="Period",this.ASSET_IDENTIFIER="AssetIdentifier",this.EVENT_STREAM="EventStream",this.ID="id",this.PROFILES="profiles",this.SERVICE_LOCATION="serviceLocation",this.RANGE="range",this.INDEX="index",this.MEDIA="media",this.BYTE_RANGE="byteRange",this.INDEX_RANGE="indexRange",this.MEDIA_RANGE="mediaRange",this.VALUE="value",this.CONTENT_TYPE="contentType",this.MIME_TYPE="mimeType",this.BITSTREAM_SWITCHING="BitstreamSwitching",this.BITSTREAM_SWITCHING_MINUS="bitstreamSwitching",this.CODECS="codecs",this.DEPENDENCY_ID="dependencyId",this.MEDIA_STREAM_STRUCTURE_ID="mediaStreamStructureId",this.METRICS="Metrics",this.METRICS_MINUS="metrics",this.REPORTING="Reporting",this.WIDTH="width",this.HEIGHT="height",this.SAR="sar",this.FRAMERATE="frameRate",this.AUDIO_SAMPLING_RATE="audioSamplingRate",this.MAXIMUM_SAP_PERIOD="maximumSAPPeriod",this.START_WITH_SAP="startWithSAP",this.MAX_PLAYOUT_RATE="maxPlayoutRate",this.CODING_DEPENDENCY="codingDependency",this.SCAN_TYPE="scanType",this.FRAME_PACKING="FramePacking",this.AUDIO_CHANNEL_CONFIGURATION="AudioChannelConfiguration",this.CONTENT_PROTECTION="ContentProtection",this.ESSENTIAL_PROPERTY="EssentialProperty",this.SUPPLEMENTAL_PROPERTY="SupplementalProperty",this.INBAND_EVENT_STREAM="InbandEventStream",this.ACCESSIBILITY="Accessibility",this.ROLE="Role",this.RATING="Rating",this.CONTENT_COMPONENT="ContentComponent",this.SUBSET="Subset",this.LANG="lang",this.VIEWPOINT="Viewpoint",this.ROLE_ASARRAY="Role_asArray",this.ACCESSIBILITY_ASARRAY="Accessibility_asArray",this.AUDIOCHANNELCONFIGURATION_ASARRAY="AudioChannelConfiguration_asArray",this.CONTENTPROTECTION_ASARRAY="ContentProtection_asArray",this.MAIN="main",this.DYNAMIC="dynamic",this.MEDIA_PRESENTATION_DURATION="mediaPresentationDuration",this.MINIMUM_UPDATE_PERIOD="minimumUpdatePeriod",this.CODEC_PRIVATE_DATA="codecPrivateData",this.BANDWITH="bandwidth",this.SOURCE_URL="sourceURL",this.TIMESCALE="timescale",this.DURATION="duration",this.START_NUMBER="startNumber",this.PRESENTATION_TIME_OFFSET="presentationTimeOffset",this.AVAILABILITY_START_TIME="availabilityStartTime",this.AVAILABILITY_END_TIME="availabilityEndTime",this.TIMESHIFT_BUFFER_DEPTH="timeShiftBufferDepth",this.MAX_SEGMENT_DURATION="maxSegmentDuration",this.PRESENTATION_TIME="presentationTime",this.MIN_BUFFER_TIME="minBufferTime",this.MAX_SUBSEGMENT_DURATION="maxSubsegmentDuration",this.START="start",this.AVAILABILITY_TIME_OFFSET="availabilityTimeOffset",this.AVAILABILITY_TIME_COMPLETE="availabilityTimeComplete",this.CENC_DEFAULT_KID="cenc:default_KID",this.DVB_PRIORITY="dvb:priority",this.DVB_WEIGHT="dvb:weight"}}]),e}(),a=new o;t.default=a,e.exports=t.default},function(e,t,r){var n=r(250),i="object"==typeof self&&self&&self.Object===Object&&self,o=n||i||Function("return this")();e.exports=o},function(e,t,r){var n=r(31);e.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,i){return e.call(t,r,n,i)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){var r=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:r)(e)}},function(e,t,r){var n=r(79),i=r(45),o=r(26),a=r(41),s=r(24),u=r(184),l=Object.getOwnPropertyDescriptor;t.f=r(15)?l:function(e,t){if(e=o(e),t=a(t,!0),u)try{return l(e,t)}catch(e){}if(s(e,t))return i(!n.f.call(e,t),e[t])}},function(e,t,r){var n=r(0),i=r(13),o=r(7);e.exports=function(e,t){var r=(i.Object||{})[e]||Object[e],a={};a[e]=t(r),n(n.S+n.F*o(function(){r(1)}),"Object",a)}},function(e,t,r){var n=r(30),i=r(78),o=r(20),a=r(11),s=r(200);e.exports=function(e,t){var r=1==e,u=2==e,l=3==e,c=4==e,d=6==e,f=5==e||d,g=t||s;return function(t,s,p){for(var h,y,m=o(t),v=i(m),b=n(s,p,3),A=a(v.length),_=0,E=r?g(t,A):u?g(t,0):void 0;A>_;_++)if((f||_ in v)&&(h=v[_],y=b(h,_,m),e))if(r)E[_]=y;else if(y)switch(e){case 3:return!0;case 5:return h;case 6:return _;case 2:E.push(h)}else if(c)return!1;return d?-1:l||c?c:E}}},function(e,t){var r={}.toString;e.exports=function(e){return r.call(e).slice(8,-1)}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,r){"use strict";if(r(15)){var n=r(47),i=r(6),o=r(7),a=r(0),s=r(101),u=r(149),l=r(30),c=r(66),d=r(45),f=r(25),g=r(67),p=r(32),h=r(11),y=r(211),m=r(49),v=r(41),b=r(24),A=r(80),_=r(9),E=r(20),T=r(141),S=r(50),I=r(52),w=r(51).f,C=r(143),D=r(46),M=r(10),O=r(35),B=r(91),R=r(81),P=r(145),k=r(64),L=r(94),N=r(65),x=r(144),j=r(202),U=r(16),F=r(33),Q=U.f,G=F.f,W=i.RangeError,H=i.TypeError,Y=i.Uint8Array,V=Array.prototype,q=u.ArrayBuffer,K=u.DataView,z=O(0),X=O(2),J=O(3),Z=O(4),$=O(5),ee=O(6),te=B(!0),re=B(!1),ne=P.values,ie=P.keys,oe=P.entries,ae=V.lastIndexOf,se=V.reduce,ue=V.reduceRight,le=V.join,ce=V.sort,de=V.slice,fe=V.toString,ge=V.toLocaleString,pe=M("iterator"),he=M("toStringTag"),ye=D("typed_constructor"),me=D("def_constructor"),ve=s.CONSTR,be=s.TYPED,Ae=s.VIEW,_e=O(1,function(e,t){return we(R(e,e[me]),t)}),Ee=o(function(){return 1===new Y(new Uint16Array([1]).buffer)[0]}),Te=!!Y&&!!Y.prototype.set&&o(function(){new Y(1).set({})}),Se=function(e,t){var r=p(e);if(r<0||r%t)throw W("Wrong offset!");return r},Ie=function(e){if(_(e)&&be in e)return e;throw H(e+" is not a typed array!")},we=function(e,t){if(!(_(e)&&ye in e))throw H("It is not a typed array constructor!");return new e(t)},Ce=function(e,t){return De(R(e,e[me]),t)},De=function(e,t){for(var r=0,n=t.length,i=we(e,n);n>r;)i[r]=t[r++];return i},Me=function(e,t,r){Q(e,t,{get:function(){return this._d[r]}})},Oe=function(e){var t,r,n,i,o,a,s=E(e),u=arguments.length,c=u>1?arguments[1]:void 0,d=void 0!==c,f=C(s);if(void 0!=f&&!T(f)){for(a=f.call(s),n=[],t=0;!(o=a.next()).done;t++)n.push(o.value);s=n}for(d&&u>2&&(c=l(c,arguments[2],2)),t=0,r=h(s.length),i=we(this,r);r>t;t++)i[t]=d?c(s[t],t):s[t];return i},Be=function(){for(var e=0,t=arguments.length,r=we(this,t);t>e;)r[e]=arguments[e++];return r},Re=!!Y&&o(function(){ge.call(new Y(1))}),Pe=function(){return ge.apply(Re?de.call(Ie(this)):Ie(this),arguments)},ke={copyWithin:function(e,t){return j.call(Ie(this),e,t,arguments.length>2?arguments[2]:void 0)},every:function(e){return Z(Ie(this),e,arguments.length>1?arguments[1]:void 0)},fill:function(e){return x.apply(Ie(this),arguments)},filter:function(e){return Ce(this,X(Ie(this),e,arguments.length>1?arguments[1]:void 0))},find:function(e){return $(Ie(this),e,arguments.length>1?arguments[1]:void 0)},findIndex:function(e){return ee(Ie(this),e,arguments.length>1?arguments[1]:void 0)},forEach:function(e){z(Ie(this),e,arguments.length>1?arguments[1]:void 0)},indexOf:function(e){return re(Ie(this),e,arguments.length>1?arguments[1]:void 0)},includes:function(e){return te(Ie(this),e,arguments.length>1?arguments[1]:void 0)},join:function(e){return le.apply(Ie(this),arguments)},lastIndexOf:function(e){return ae.apply(Ie(this),arguments)},map:function(e){return _e(Ie(this),e,arguments.length>1?arguments[1]:void 0)},reduce:function(e){return se.apply(Ie(this),arguments)},reduceRight:function(e){return ue.apply(Ie(this),arguments)},reverse:function(){for(var e,t=this,r=Ie(t).length,n=Math.floor(r/2),i=0;i<n;)e=t[i],t[i++]=t[--r],t[r]=e;return t},some:function(e){return J(Ie(this),e,arguments.length>1?arguments[1]:void 0)},sort:function(e){return ce.call(Ie(this),e)},subarray:function(e,t){var r=Ie(this),n=r.length,i=m(e,n);return new(R(r,r[me]))(r.buffer,r.byteOffset+i*r.BYTES_PER_ELEMENT,h((void 0===t?n:m(t,n))-i))}},Le=function(e,t){return Ce(this,de.call(Ie(this),e,t))},Ne=function(e){Ie(this);var t=Se(arguments[1],1),r=this.length,n=E(e),i=h(n.length),o=0;if(i+t>r)throw W("Wrong length!");for(;o<i;)this[t+o]=n[o++]},xe={entries:function(){return oe.call(Ie(this))},keys:function(){return ie.call(Ie(this))},values:function(){return ne.call(Ie(this))}},je=function(e,t){return _(e)&&e[be]&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},Ue=function(e,t){return je(e,t=v(t,!0))?d(2,e[t]):G(e,t)},Fe=function(e,t,r){return!(je(e,t=v(t,!0))&&_(r)&&b(r,"value"))||b(r,"get")||b(r,"set")||r.configurable||b(r,"writable")&&!r.writable||b(r,"enumerable")&&!r.enumerable?Q(e,t,r):(e[t]=r.value,e)};ve||(F.f=Ue,U.f=Fe),a(a.S+a.F*!ve,"Object",{getOwnPropertyDescriptor:Ue,defineProperty:Fe}),o(function(){fe.call({})})&&(fe=ge=function(){return le.call(this)});var Qe=g({},ke);g(Qe,xe),f(Qe,pe,xe.values),g(Qe,{slice:Le,set:Ne,constructor:function(){},toString:fe,toLocaleString:Pe}),Me(Qe,"buffer","b"),Me(Qe,"byteOffset","o"),Me(Qe,"byteLength","l"),Me(Qe,"length","e"),Q(Qe,he,{get:function(){return this[be]}}),e.exports=function(e,t,r,u){u=!!u;var l=e+(u?"Clamped":"")+"Array",d="get"+e,g="set"+e,p=i[l],m=p||{},v=p&&I(p),b=!p||!s.ABV,E={},T=p&&p.prototype,C=function(e,r){var n=e._d;return n.v[d](r*t+n.o,Ee)},D=function(e,r,n){var i=e._d;u&&(n=(n=Math.round(n))<0?0:n>255?255:255&n),i.v[g](r*t+i.o,n,Ee)},M=function(e,t){Q(e,t,{get:function(){return C(this,t)},set:function(e){return D(this,t,e)},enumerable:!0})};b?(p=r(function(e,r,n,i){c(e,p,l,"_d");var o,a,s,u,d=0,g=0;if(_(r)){if(!(r instanceof q||"ArrayBuffer"==(u=A(r))||"SharedArrayBuffer"==u))return be in r?De(p,r):Oe.call(p,r);o=r,g=Se(n,t);var m=r.byteLength;if(void 0===i){if(m%t)throw W("Wrong length!");if((a=m-g)<0)throw W("Wrong length!")}else if((a=h(i)*t)+g>m)throw W("Wrong length!");s=a/t}else s=y(r),a=s*t,o=new q(a);for(f(e,"_d",{b:o,o:g,l:a,e:s,v:new K(o)});d<s;)M(e,d++)}),T=p.prototype=S(Qe),f(T,"constructor",p)):o(function(){p(1)})&&o(function(){new p(-1)})&&L(function(e){new p,new p(null),new p(1.5),new p(e)},!0)||(p=r(function(e,r,n,i){c(e,p,l);var o;return _(r)?r instanceof q||"ArrayBuffer"==(o=A(r))||"SharedArrayBuffer"==o?void 0!==i?new m(r,Se(n,t),i):void 0!==n?new m(r,Se(n,t)):new m(r):be in r?De(p,r):Oe.call(p,r):new m(y(r))}),z(v!==Function.prototype?w(m).concat(w(v)):w(m),function(e){e in p||f(p,e,m[e])}),p.prototype=T,n||(T.constructor=p));var O=T[pe],B=!!O&&("values"==O.name||void 0==O.name),R=xe.values;f(p,ye,!0),f(T,be,l),f(T,Ae,!0),f(T,me,p),(u?new p(1)[he]==l:he in T)||Q(T,he,{get:function(){return l}}),E[l]=p,a(a.G+a.W+a.F*(p!=m),E),a(a.S,l,{BYTES_PER_ELEMENT:t}),a(a.S+a.F*o(function(){m.of.call(p,1)}),l,{from:Oe,of:Be}),"BYTES_PER_ELEMENT"in T||f(T,"BYTES_PER_ELEMENT",t),a(a.P,l,ke),N(l),a(a.P+a.F*Te,l,{set:Ne}),a(a.P+a.F*!B,l,xe),n||T.toString==fe||(T.toString=fe),a(a.P+a.F*o(function(){new p(1).slice()}),l,{slice:Le}),a(a.P+a.F*(o(function(){return[1,2].toLocaleString()!=new p([1,2]).toLocaleString()})||!o(function(){T.toLocaleString.call([1,2])})),l,{toLocaleString:Pe}),k[l]=B?O:R,n||B||f(T,pe,R)}}else e.exports=function(){}},function(e,t,r){"use strict";function n(e,t,r){var n=void 0,i=void 0,o=void 0;return n=void 0===e?a:e,i=function(e){var t=s.DEFAULT;return e!==s.DEFAULT&&e!==s.STRONG&&e!==s.WEAK||(t=e),t}(r),o=void 0===t?null:t,{quality:n,reason:o,priority:i}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(1),o=function(e){return e&&e.__esModule?e:{default:e}}(i),a=-1,s={DEFAULT:.5,STRONG:1,WEAK:0};n.__dashjs_factory_name="SwitchRequest";var u=o.default.getClassFactory(n);u.NO_CHANGE=a,u.PRIORITY=s,o.default.updateClassFactory(n.__dashjs_factory_name,u),t.default=u,e.exports=t.default},function(e,t){var r=Array.isArray;e.exports=r},function(e,t,r){var n=r(9);e.exports=function(e,t){if(!n(e))return e;var r,i;if(t&&"function"==typeof(r=e.toString)&&!n(i=r.call(e)))return i;if("function"==typeof(r=e.valueOf)&&!n(i=r.call(e)))return i;if(!t&&"function"==typeof(r=e.toString)&&!n(i=r.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t,r){var n=r(46)("meta"),i=r(9),o=r(24),a=r(16).f,s=0,u=Object.isExtensible||function(){return!0},l=!r(7)(function(){return u(Object.preventExtensions({}))}),c=function(e){a(e,n,{value:{i:"O"+ ++s,w:{}}})},d=function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,n)){if(!u(e))return"F";if(!t)return"E";c(e)}return e[n].i},f=function(e,t){if(!o(e,n)){if(!u(e))return!0;if(!t)return!1;c(e)}return e[n].w},g=function(e){return l&&p.NEED&&u(e)&&!o(e,n)&&c(e),e},p=e.exports={KEY:n,NEED:!1,fastKey:d,getWeak:f,onFreeze:g}},function(e,t,r){"use strict";function n(){function e(e){var t=e.indexOf("/"),r=e.lastIndexOf("/");return-1!==t?r===t+1?e:(-1!==e.indexOf("?")&&(e=e.substring(0,e.indexOf("?"))),e.substring(0,r+1)):""}function t(e){var t=e.match(g);return t?t[1]:""}function r(e){var t=e.match(c);return t?t[0]:""}function n(e){return!c.test(e)}function i(e){return n(e)&&"/"===e.charAt(0)}function o(e){return 0===e.indexOf("//")}function a(e){return d.test(e)}function s(e){return f.test(e)}function u(e,t){return l(e,t)}var l=void 0,c=/^[a-z][a-z0-9+\-.]*:/i,d=/^https?:\/\//i,f=/^https:\/\//i,g=/^([a-z][a-z0-9+\-.]*:\/\/[^\/]+)\/?/i,p=function(e,t){try{return new window.URL(e,t).toString()}catch(t){return e}},h=function(a,s){var u=e;if(!s)return a;if(!n(a))return a;i(a)&&(u=t),o(a)&&(u=r);var l=u(s);return[l,a].join("/"!==l.charAt(l.length-1)&&"/"!==a.charAt(0)?"/":"")};return function(){try{new window.URL("x","http://y"),l=p}catch(e){}finally{l=l||h}}(),{parseBaseUrl:e,parseOrigin:t,parseScheme:r,isRelative:n,isPathAbsolute:i,isSchemeRelative:o,isHTTPURL:a,isHTTPS:s,resolve:u}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(1),o=function(e){return e&&e.__esModule?e:{default:e}}(i);n.__dashjs_factory_name="URLUtils",t.default=o.default.getSingletonFactory(n),e.exports=t.default},function(e,t){function r(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}e.exports=r},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var r=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++r+n).toString(36))}},function(e,t){e.exports=!1},function(e,t,r){var n=r(186),i=r(128);e.exports=Object.keys||function(e){return n(e,i)}},function(e,t,r){var n=r(32),i=Math.max,o=Math.min;e.exports=function(e,t){return e=n(e),e<0?i(e+t,0):o(e,t)}},function(e,t,r){var n=r(8),i=r(187),o=r(128),a=r(127)("IE_PROTO"),s=function(){},u=function(){var e,t=r(125)("iframe"),n=o.length;for(t.style.display="none",r(129).appendChild(t),t.src="javascript:",e=t.contentWindow.document,e.open(),e.write("<script>document.F=Object<\/script>"),e.close(),u=e.F;n--;)delete u.prototype[o[n]];return u()};e.exports=Object.create||function(e,t){var r;return null!==e?(s.prototype=n(e),r=new s,s.prototype=null,r[a]=e):r=u(),void 0===t?r:i(r,t)}},function(e,t,r){var n=r(186),i=r(128).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,i)}},function(e,t,r){var n=r(24),i=r(20),o=r(127)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),n(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,r){var n=r(10)("unscopables"),i=Array.prototype;void 0==i[n]&&r(25)(i,n,{}),e.exports=function(e){i[n][e]=!0}},function(e,t,r){var n=r(9);e.exports=function(e,t){if(!n(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(){return F}function r(e){ge(e),Ne=Oe.getQualityFor(Re,Pe.getStreamInfo()),Ee.on(A.default.DATA_UPDATE_COMPLETED,re,this),Ee.on(A.default.INIT_FRAGMENT_LOADED,s,this),Ee.on(A.default.MEDIA_FRAGMENT_LOADED,d,this),Ee.on(A.default.QUALITY_CHANGE_REQUESTED,b,this),Ee.on(A.default.STREAM_COMPLETED,ne,this),Ee.on(A.default.PLAYBACK_PLAYING,Q,this),Ee.on(A.default.PLAYBACK_PROGRESS,M,this),Ee.on(A.default.PLAYBACK_TIME_UPDATED,M,this),Ee.on(A.default.PLAYBACK_RATE_CHANGED,ae,this),Ee.on(A.default.PLAYBACK_SEEKING,_,this),Ee.on(A.default.PLAYBACK_SEEKED,T,this),Ee.on(A.default.PLAYBACK_STALLED,B,this),Ee.on(A.default.WALLCLOCK_TIME_UPDATED,oe,this),Ee.on(A.default.CURRENT_TRACK_CHANGED,ie,this,v.default.EVENT_PRIORITY_HIGH),Ee.on(A.default.SOURCEBUFFER_REMOVE_COMPLETED,ee,this)}function n(e,t){if(!ze||!e||!Pe)return null;if(Fe)try{We=t&&t[Re]?(0,c.default)(_e).create(Fe,e,m.bind(this),t[Re]):(0,c.default)(_e).create(Fe,e,m.bind(this)),"function"==typeof We.getBuffer().initialize&&We.getBuffer().initialize(Re,Pe)}catch(e){Le.fatal("Caught error on create SourceBuffer: "+e),Ie.mediaSourceError("Error creating "+Re+" source buffer."),Ie.error(new O.default(R.default.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,R.default.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+Re))}else We=(0,f.default)(_e).create(m.bind(this));return te(Pe.getRepresentationInfo(Ne).MSETimeOffset),We}function i(){if(We&&He&&"function"==typeof He.discharge){var e=He.getAllBufferRanges();if(e.length>0){for(var t="Beginning "+Re+"PreBuffer discharge, adding buffer for:",r=0;r<e.length;r++)t+=" start: "+e.start(r)+", end: "+e.end(r)+";";Le.debug(t)}else Le.debug("PreBuffer discharge requested, but there were no media segments in the PreBuffer.");for(var n=He.discharge(),i=null,o=0;o<n.length;o++){var a=n[o],s=ze.extract(a.streamId,a.representationId);s&&(i!==s&&(We.append(s),i=s),We.append(a))}He.reset(),He=null}}function o(){return Pe&&we&&Pe.getStreamInfo()}function s(e){e.fragmentModel===Pe.getFragmentModel()&&(Le.info("Init fragment finished loading saving to",Re+"'s init cache"),ze.save(e.chunk),Le.debug("Append Init fragment",Re," with representationId:",e.chunk.representationId," and quality:",e.chunk.quality),g(e.chunk))}function l(e,t,r){var n=ze.extract(e,t);$e=!0===r&&r,n?(Le.info("Append Init fragment",Re," with representationId:",n.representationId," and quality:",n.quality),g(n)):Ee.trigger(A.default.INIT_REQUESTED,{sender:ke})}function d(e){if(e.fragmentModel===Pe.getFragmentModel()){var t=e.chunk,r=t.bytes,n=t.quality,i=Pe.getRepresentationInfo(n),o=De.getEventsFor(i.mediaInfo,Pe),a=De.getEventsFor(i,Pe);if(o&&o.length>0||a&&a.length>0){var s=Pe.getFragmentModel().getRequests({state:u.default.FRAGMENT_MODEL_EXECUTED,quality:n,index:t.index})[0],l=z(r,s,o,a);Pe.addInbandEvents(l)}if($e){et=t;var c=We&&We.getAllBufferRanges();c&&c.length>0&&Be.getTimeToStreamEnd()>N&&(Le.debug("Clearing buffer because track changed - "+(c.end(c.length-1)+x)),Z([{start:0,end:c.end(c.length-1)+x,force:!0}]))}else g(t)}}function g(e){We.append(e),e.mediaInfo.type===a.default.VIDEO&&Ee.trigger(A.default.VIDEO_CHUNK_RECEIVED,{chunk:e})}function h(e){if(e&&e.length>0)for(var t=0,r=e.length;t<r;t++)Le.debug("Buffered Range for type:",Re,":",e.start(t)," - ",e.end(t)," currentTime = ",Be.getTime())}function m(e){if(e.error){if(e.error.code===U&&(Ue=.8*me(),Le.warn("Quota exceeded for type: "+Re+", Critical Buffer: "+Ue),Ue>0)){var t=Math.max(.2*Ue,1),r=Ue-t;Se.setBufferToKeep(parseFloat(t).toFixed(5)),Se.setBufferAheadToKeep(parseFloat(r).toFixed(5))}return void(e.error.code!==U&&ve()||(Le.warn("Clearing playback buffer to overcome quota exceed situation for type: "+Re),Ee.trigger(A.default.QUOTA_EXCEEDED,{sender:ke,criticalBufferLevel:Ue}),S()))}(Ve=e.chunk)&&!isNaN(Ve.index)&&(Qe=Math.max(Ve.index,Qe),V());var n=We.getAllBufferRanges();if(Ve.segmentType===P.HTTPRequest.MEDIA_SEGMENT_TYPE)h(n),M();else if($e){var i=Be.getTime();Le.debug("AppendToBuffer seek target should be "+i),Pe.getScheduleController().setSeekTarget(i),De.setIndexHandlerTime(Pe,i)}var o={sender:ke,quality:Ve.quality,startTime:Ve.start,index:Ve.index,bufferedRanges:n};Ve&&!Ve.endFragment?Ee.trigger(A.default.BYTES_APPENDED,o):Ve&&Ee.trigger(A.default.BYTES_APPENDED_END_FRAGMENT,o)}function b(e){Ne!==e.newQuality&&Re===e.mediaType&&Pe.getStreamInfo().id===e.streamInfo.id&&(te(Pe.getRepresentationInfo(e.newQuality).MSETimeOffset),Ne=e.newQuality)}function _(){xe&&(Je=!0,xe=!1,Ge=Number.POSITIVE_INFINITY),Re!==a.default.FRAGMENTED_TEXT?S():M()}function T(){Xe=void 0}function S(){var e=I();e&&0!==e.length||M(),Z(e)}function I(){var e=[],t=We.getAllBufferRanges();if(!t||0===t.length)return e;var r=Be.getTime(),n=t.end(t.length-1)+x,i=Pe.getFragmentModel().getRequests({state:u.default.FRAGMENT_MODEL_EXECUTED,time:r,threshold:j})[0];if(i){var o={start:0,end:i.startTime-N},a=Pe.getFragmentModel().getRequests({state:u.default.FRAGMENT_MODEL_EXECUTED,time:i.startTime-i.duration/2,threshold:j})[0];a&&a.startTime!=i.startTime&&(o.end=a.startTime),o.start<o.end&&o.end>t.start(0)&&e.push(o);var s={start:i.startTime+i.duration+N,end:n},l=Pe.getFragmentModel().getRequests({state:u.default.FRAGMENT_MODEL_EXECUTED,time:i.startTime+i.duration+N,threshold:j})[0];l&&l.startTime!==i.startTime&&(s.start=l.startTime+l.duration+N),s.start<s.end&&s.start<n&&e.push(s)}else Le.debug("getAllRangesWithSafetyFactor for",Re,"- No request found in current time position, removing full buffer 0 -",n),e.push({start:0,end:n});return e}function C(){var e=Be.getTime();if(Xe){var t=We.getAllBufferRanges();t&&t.length&&(e=Math.max(t.start(0),Xe))}return e}function M(){(!$e||Re===a.default.FRAGMENTED_TEXT&&Me.isTextEnabled())&&(H(),Y())}function B(){q()}function Q(){q()}function G(e,t){var r=We.getAllBufferRanges(),n=0,i=0,o=null,a=null,s=0,u=void 0,l=void 0,c=t||.15;if(null!==r&&void 0!==r){for(l=0,u=r.length;l<u;l++)if(n=r.start(l),i=r.end(l),null===o)s=Math.abs(n-e),e>=n&&e<i?(o=n,a=i):s<=c&&(o=n,a=i);else{if(!((s=n-a)<=c))break;a=i}if(null!==o)return{start:o,end:a}}return null}function W(e,t){var r=void 0;return r=G(e,t),null===r?0:r.end-e}function H(){Be&&(je=W(C()||0),Ee.trigger(A.default.BUFFER_LEVEL_UPDATED,{sender:ke,bufferLevel:je}),q())}function Y(){o()&&(Te.addBufferState(Re,Ye,Pe.getScheduleController().getBufferTarget()),Te.addBufferLevel(Re,new Date,1e3*je))}function V(){Qe>=Ge-1&&!xe&&void 0===We.discharge&&(xe=!0,Le.debug("checkIfBufferingCompleted trigger BUFFERING_COMPLETED"),Ee.trigger(A.default.BUFFERING_COMPLETED,{sender:ke,streamInfo:Pe.getStreamInfo()}))}function q(){"audio"!==Re&&"video"!==Re||(Je&&!xe&&je>0&&Be&&Be.getTimeToStreamEnd()-je<N&&(Je=!1,xe=!0,Le.debug("checkIfSufficientBuffer trigger BUFFERING_COMPLETED"),Ee.trigger(A.default.BUFFERING_COMPLETED,{sender:ke,streamInfo:Pe.getStreamInfo()})),(!Se.getLowLatencyEnabled()&&je<N||0===je)&&!xe?K(L):(xe||je>=Se.getStableBufferTime())&&K(k))}function K(e){Ye===e||e===L&&0===Be.getTime()||Re===a.default.FRAGMENTED_TEXT&&!Me.isTextEnabled()||(Ye=e,Y(),Ee.trigger(A.default.BUFFER_LEVEL_STATE_CHANGED,{sender:ke,state:e,mediaType:Re,streamInfo:Pe.getStreamInfo()}),Ee.trigger(e===k?A.default.BUFFER_LOADED:A.default.BUFFER_EMPTY,{mediaType:Re}),Le.debug(e===k?"Got enough buffer to start for "+Re:"Waiting for more buffer before starting playback for "+Re))}function z(e,t,r,n){for(var i=Math.max(!t||isNaN(t.startTime)?0:t.startTime,0),o=[],a=[],s=r.concat(n),u=0,l=s.length;u<l;u++)o[s[u].schemeIdUri]=s[u];for(var c=(0,E.default)(_e).getInstance().parse(e),d=c.getBoxes("emsg"),u=0,l=d.length;u<l;u++){var f=De.getEvent(d[u],o,i);f&&a.push(f)}return a}function X(){We&&Re!==a.default.FRAGMENTED_TEXT&&(xe||Z(J()))}function J(){var e=[],t=We.getAllBufferRanges();if(!t||0===t.length)return e;var r=Be.getTime(),n={start:Math.max(0,r-Se.getBufferToKeep()),end:r+Se.getBufferAheadToKeep()},i=Pe.getFragmentModel().getRequests({state:u.default.FRAGMENT_MODEL_EXECUTED,time:r,threshold:j})[0];if(i)n.start=Math.min(i.startTime,n.start),n.end=Math.max(i.startTime+i.duration,n.end);else if(0===r&&Be.getIsDynamic())return[];if(t.start(0)<=n.start){for(var o={start:0,end:n.start},a=0;a<t.length&&t.end(a)<=n.start;a++)o.end=t.end(a);o.start<o.end&&e.push(o)}if(t.end(t.length-1)>=n.end){var s={start:n.end,end:t.end(t.length-1)+j};s.start<s.end&&e.push(s)}return e}function Z(e){e&&We&&0!==e.length&&(Ze.push.apply(Ze,e),Ke||$())}function $(){if(0===Ze.length||!We)return Le.debug("Nothing to prune, halt pruning"),Ze=[],void(Ke=!1);var e=We.getBuffer();if(!e||!e.buffered||0===e.buffered.length)return Le.debug("SourceBuffer is empty (or does not exist), halt pruning"),Ze=[],void(Ke=!1);var t=Ze.shift();Le.debug("Removing",Re,"buffer from:",t.start,"to",t.end),Ke=!0;var r=Be.getTime();r<t.end&&(xe=!1,Qe=0,$e||(Pe.getScheduleController().setSeekTarget(r),De.setIndexHandlerTime(Pe,r))),We.remove(t.start,t.end,t.force)}function ee(e){if(We===e.buffer){Le.debug("onRemoved buffer from:",e.from,"to",e.to);h(We.getAllBufferRanges()),0===Ze.length&&(Ke=!1),e.unintended&&(Le.warn("Detected unintended removal from:",e.from,"to",e.to,"setting index handler time to",e.from),De.setIndexHandlerTime(Pe,e.from)),Ke?$():($e?($e=!1,et&&g(et)):(Le.debug("onRemoved : call updateBufferLevel"),H()),Ee.trigger(A.default.BUFFER_CLEARED,{sender:ke,from:e.from,to:e.to,unintended:e.unintended,hasEnoughSpaceToAppend:ve()}))}}function te(e){We&&We.updateTimestampOffset&&We.updateTimestampOffset(e)}function re(e){e.sender.getStreamProcessor()!==Pe||e.error||te(e.currentRepresentation.MSETimeOffset)}function ne(e){e.fragmentModel===Pe.getFragmentModel()&&(Ge=e.request.index,V())}function ie(e){var t=We&&We.getAllBufferRanges();t&&e.newMediaInfo.type===Re&&e.newMediaInfo.streamInfo.id===Pe.getStreamInfo().id&&(Le.info("Track change asked"),Ce.getSwitchMode(Re)===y.default.TRACK_SWITCH_MODE_ALWAYS_REPLACE&&t&&t.length>0&&Be.getTimeToStreamEnd()>N&&(xe=!1,Ge=Number.POSITIVE_INFINITY))}function oe(){++qe*(Se.getWallclockTimeUpdateInterval()/1e3)>=Se.getBufferPruningInterval()&&(qe=0,X())}function ae(){q()}function se(){return Re}function ue(){return Pe}function le(e){Xe=e}function ce(){return We}function de(e){We=e}function fe(){return je}function ge(e,t){Fe=e,We&&t&&"function"==typeof We.discharge&&(He=We,n(t))}function pe(){return Fe}function he(){return xe}function ye(){return Ke}function me(){var e=We.getAllBufferRanges(),t=0,r=void 0,n=void 0;if(!e)return t;for(n=0,r=e.length;n<r;n++)t+=e.end(n)-e.start(n);return t}function ve(){return me()<Ue}function be(e,t){Ue=Number.POSITIVE_INFINITY,Ye=void 0,Ne=p.default.QUALITY_DEFAULT,Ge=Number.POSITIVE_INFINITY,Qe=0,Ve=null,xe=!1,Ke=!1,Je=!1,je=0,qe=0,Ze=[],We&&(e||We.abort(),We.reset(t),We=null),$e=!1}function Ae(e,t){Ee.off(A.default.DATA_UPDATE_COMPLETED,re,this),Ee.off(A.default.QUALITY_CHANGE_REQUESTED,b,this),Ee.off(A.default.INIT_FRAGMENT_LOADED,s,this),Ee.off(A.default.MEDIA_FRAGMENT_LOADED,d,this),Ee.off(A.default.STREAM_COMPLETED,ne,this),Ee.off(A.default.CURRENT_TRACK_CHANGED,ie,this),Ee.off(A.default.PLAYBACK_PLAYING,Q,this),Ee.off(A.default.PLAYBACK_PROGRESS,M,this),Ee.off(A.default.PLAYBACK_TIME_UPDATED,M,this),Ee.off(A.default.PLAYBACK_RATE_CHANGED,ae,this),Ee.off(A.default.PLAYBACK_SEEKING,_,this),Ee.off(A.default.PLAYBACK_SEEKED,T,this),Ee.off(A.default.PLAYBACK_STALLED,B,this),Ee.off(A.default.WALLCLOCK_TIME_UPDATED,oe,this),Ee.off(A.default.SOURCEBUFFER_REMOVE_COMPLETED,ee,this),be(e,t)}e=e||{};var _e=this.context,Ee=(0,v.default)(_e).getInstance(),Te=e.metricsModel,Se=e.mediaPlayerModel,Ie=e.errHandler,we=e.streamController,Ce=e.mediaController,De=e.adapter,Me=e.textController,Oe=e.abrController,Be=e.playbackController,Re=e.type,Pe=e.streamProcessor,ke=void 0,Le=void 0,Ne=void 0,xe=void 0,je=void 0,Ue=void 0,Fe=void 0,Qe=void 0,Ge=void 0,We=void 0,He=void 0,Ye=void 0,Ve=void 0,qe=void 0,Ke=void 0,ze=void 0,Xe=void 0,Je=void 0,Ze=void 0,$e=void 0,et=void 0;return ke={getBufferControllerType:t,initialize:r,createBuffer:n,dischargePreBuffer:i,getType:se,getStreamProcessor:ue,setSeekStartTime:le,getBuffer:ce,setBuffer:de,getBufferLevel:fe,getRangeAt:G,setMediaSource:ge,getMediaSource:pe,getIsBufferingCompleted:he,switchInitData:l,getIsPruningInProgress:ye,reset:Ae},function(){Le=(0,w.default)(_e).getInstance().getLogger(ke),ze=(0,D.default)(_e).getInstance(),be()}(),ke}Object.defineProperty(t,"__esModule",{value:!0});var o=r(2),a=n(o),s=r(103),u=n(s),l=r(222),c=n(l),d=r(522),f=n(d),g=r(109),p=n(g),h=r(161),y=n(h),m=r(3),v=n(m),b=r(5),A=n(b),_=r(84),E=n(_),T=r(1),S=n(T),I=r(4),w=n(I),C=r(162),D=n(C),M=r(12),O=n(M),B=r(17),R=n(B),P=r(19),k="bufferLoaded",L="bufferStalled",N=.5,x=.5,j=.01,U=22,F="BufferController";i.__dashjs_factory_name=F;var Q=S.default.getClassFactory(i);Q.BUFFER_LOADED=k,Q.BUFFER_EMPTY=L,S.default.updateClassFactory(i.__dashjs_factory_name,Q),t.default=Q,e.exports=t.default},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(){n(this,e),this.action=e.ACTION_DOWNLOAD,this.startTime=NaN,this.mediaType=null,this.mediaInfo=null,this.type=null,this.duration=NaN,this.timescale=NaN,this.range=null,this.url=null,this.serviceLocation=null,this.requestStartDate=null,this.firstByteDate=null,this.requestEndDate=null,this.quality=NaN,this.index=NaN,this.availabilityStartTime=null,this.availabilityEndTime=null,this.wallStartTime=null,this.bytesLoaded=NaN,this.bytesTotal=NaN,this.delayLoadingTime=NaN,this.responseType="arraybuffer",this.representationId=null};i.ACTION_DOWNLOAD="download",i.ACTION_COMPLETE="complete",t.default=i,e.exports=t.default},function(e,t,r){"use strict";function n(e){if(!(this instanceof n))return new n(e);l.call(this,e),c.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",i)}function i(){this.allowHalfOpen||this._writableState.ended||a.nextTick(o,this)}function o(e){e.end()}var a=r(107),s=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=n;var u=Object.create(r(85));u.inherits=r(71);var l=r(225),c=r(159);u.inherits(n,l);for(var d=s(c.prototype),f=0;f<d.length;f++){var g=d[f];n.prototype[g]||(n.prototype[g]=c.prototype[g])}Object.defineProperty(n.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(n.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),n.prototype._destroy=function(e,t){this.push(null),this.end(),a.nextTick(t,e)}},function(e,t,r){"use strict";function n(e,t){for(;e.length<t;)e="0"+e;return e}function i(e,t){return e.representation.startNumber+t}function o(e){return e?e.split("$$").join("$"):e}function a(e,t){if(!t||!e||-1===e.indexOf("$RepresentationID$"))return e;var r=t.toString();return e.split("$RepresentationID$").join(r)}function s(e,t,r){var i=void 0,o=void 0,a=void 0,s=void 0,u=void 0,l=void 0,c=t.length,d="%0".length;if(!e)return e;for(;;){if((i=e.indexOf("$"+t))<0)return e;if((o=e.indexOf("$",i+c))<0)return e;if((a=e.indexOf("%0",i+c))>i&&a<o)switch(s=e.charAt(o-1),u=parseInt(e.substring(a+d,o-1),10),s){case"d":case"i":case"u":l=n(r.toString(),u);break;case"x":l=n(r.toString(16),u);break;case"X":l=n(r.toString(16),u).toUpperCase();break;case"o":l=n(r.toString(8),u);break;default:return e}else l=r;e=e.substring(0,i)+l+e.substring(o+1)}}function u(e,t,r,n){var o=void 0,a=void 0,s=void 0,u=void 0;return a=r.segmentDuration,isNaN(a)&&(a=r.adaptation.period.duration),s=parseFloat((r.adaptation.period.start+n*a).toFixed(5)),u=parseFloat((s+a).toFixed(5)),o=new g.default,o.representation=r,o.duration=a,o.presentationStartTime=s,o.mediaStartTime=e.calcMediaTimeFromPresentationTime(o.presentationStartTime,r),o.availabilityStartTime=e.calcAvailabilityStartTimeFromPresentationTime(o.presentationStartTime,r.adaptation.period.mpd,t),o.availabilityEndTime=e.calcAvailabilityEndTimeFromPresentationTime(u,r.adaptation.period.mpd,t),o.wallStartTime=e.calcWallTimeForSegment(o,t),o.replacementNumber=i(o,n),o.availabilityIdx=n,o}function l(e,t,r,n,o,a,u,l,c,d){var f=n/a,p=Math.min(o/a,r.adaptation.period.mpd.maxSegmentDuration),h=void 0,y=void 0,m=void 0;return h=e.calcPresentationTimeFromMediaTime(f,r),y=h+p,m=new g.default,m.representation=r,m.duration=p,m.mediaStartTime=f,m.presentationStartTime=h,m.availabilityStartTime=r.adaptation.period.mpd.manifest.loadedTime,m.availabilityEndTime=e.calcAvailabilityEndTimeFromPresentationTime(y,r.adaptation.period.mpd,t),m.wallStartTime=e.calcWallTimeForSegment(m,t),m.replacementTime=d||n,m.replacementNumber=i(m,c),u=s(u,"Number",m.replacementNumber),u=s(u,"Time",m.replacementTime),m.media=u,m.mediaRange=l,m.availabilityIdx=c,m}function c(e,t){if(!t||!t.segments)return null;var r=t.segments.length,n=void 0,i=void 0;if(e<r&&(n=t.segments[e])&&n.availabilityIdx===e)return n;for(i=0;i<r;i++)if((n=t.segments[i])&&n.availabilityIdx===e)return n;return null}function d(e,t,r,n,i,o){var a=r.segmentDuration,s=r.adaptation.period.mpd.manifest.minBufferTime,u=r.segmentAvailabilityRange,l={start:e.calcPeriodRelativeTimeFromMpdRelativeTime(r,u?u.start:NaN),end:e.calcPeriodRelativeTimeFromMpdRelativeTime(r,u?u.end:NaN)},d=r.segments,f=2*a,g=o||Math.max(2*s,10*a),p=NaN,h=null,y=void 0,m=void 0;return l.start=Math.max(l.start,0),t&&!e.isTimeSyncCompleted()?(y=Math.floor(l.start/a),m=Math.floor(l.end/a),{start:y,end:m}):(d&&d.length>0?(h=c(i,r),p=h?e.calcPeriodRelativeTimeFromMpdRelativeTime(r,h.presentationStartTime):i>0?i*a:e.calcPeriodRelativeTimeFromMpdRelativeTime(r,n)):p=i>0?i*a:t?l.end:l.start,y=Math.floor(Math.max(p-f,l.start)/a),m=Math.floor(Math.min(y+g/a,l.end/a)),{start:y,end:m})}Object.defineProperty(t,"__esModule",{value:!0}),t.unescapeDollarsInTemplate=o,t.replaceIDForTemplate=a,t.replaceTokenForTemplate=s,t.getIndexBasedSegment=u,t.getTimeBasedSegment=l,t.getSegmentByIndex=c,t.decideSegmentListRangeForTemplate=d;var f=r(163),g=function(e){return e&&e.__esModule?e:{default:e}}(f)},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function(){function e(){n(this,e),this.init()}return i(e,[{key:"init",value:function(){this.CLEARKEY_KEYSTEM_STRING="org.w3.clearkey",this.WIDEVINE_KEYSTEM_STRING="com.widevine.alpha",this.PLAYREADY_KEYSTEM_STRING="com.microsoft.playready"}}]),e}(),a=new o;t.default=a,e.exports=t.default},function(e,t,r){function n(e,t){var r=o(e,t);return i(r)?r:void 0}var i=r(249),o=r(665);e.exports=n},function(e,t,r){var n=r(694),i=r(172),o=r(695),a=r(696),s=r(697),u=r(21),l=r(252),c=l(n),d=l(i),f=l(o),g=l(a),p=l(s),h=u;(n&&"[object DataView]"!=h(new n(new ArrayBuffer(1)))||i&&"[object Map]"!=h(new i)||o&&"[object Promise]"!=h(o.resolve())||a&&"[object Set]"!=h(new a)||s&&"[object WeakMap]"!=h(new s))&&(h=function(e){var t=u(e),r="[object Object]"==t?e.constructor:void 0,n=r?l(r):"";if(n)switch(n){case c:return"[object DataView]";case d:return"[object Map]";case f:return"[object Promise]";case g:return"[object Set]";case p:return"[object WeakMap]"}return t}),e.exports=h},function(e,t,r){var n=r(16).f,i=r(24),o=r(10)("toStringTag");e.exports=function(e,t,r){e&&!i(e=r?e:e.prototype,o)&&n(e,o,{configurable:!0,value:t})}},function(e,t,r){var n=r(0),i=r(37),o=r(7),a=r(131),s="["+a+"]",u="",l=RegExp("^"+s+s+"*"),c=RegExp(s+s+"*$"),d=function(e,t,r){var i={},s=o(function(){return!!a[e]()||u[e]()!=u}),l=i[e]=s?t(f):a[e];r&&(i[r]=l),n(n.P+n.F*s,"String",i)},f=d.trim=function(e,t){return e=String(i(e)),1&t&&(e=e.replace(l,"")),2&t&&(e=e.replace(c,"")),e};e.exports=d},function(e,t){e.exports={}},function(e,t,r){"use strict";var n=r(6),i=r(16),o=r(15),a=r(10)("species");e.exports=function(e){var t=n[e];o&&t&&!t[a]&&i.f(t,a,{configurable:!0,get:function(){return this}})}},function(e,t){e.exports=function(e,t,r,n){if(!(e instanceof t)||void 0!==n&&n in e)throw TypeError(r+": incorrect invocation!");return e}},function(e,t,r){var n=r(22);e.exports=function(e,t,r){for(var i in t)n(e,i,t[i],r);return e}},function(e,t,r){(function(t){e.exports=t.otvplayer=r(483)}).call(t,r(18))},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function(){function e(){n(this,e),this.init()}return i(e,[{key:"init",value:function(){this.TCP_CONNECTION="TcpList",this.HTTP_REQUEST="HttpList",this.TRACK_SWITCH="RepSwitchList",this.BUFFER_LEVEL="BufferLevel",this.BUFFER_STATE="BufferState",this.DVR_INFO="DVRInfo",this.DROPPED_FRAMES="DroppedFrames",this.SCHEDULING_INFO="SchedulingInfo",this.REQUESTS_QUEUE="RequestsQueue",this.MANIFEST_UPDATE="ManifestUpdate",this.MANIFEST_UPDATE_STREAM_INFO="ManifestUpdatePeriodInfo",this.MANIFEST_UPDATE_TRACK_INFO="ManifestUpdateRepresentationInfo",this.PLAY_LIST="PlayList",this.DVB_ERRORS="DVBErrors"}}]),e}(),a=new o;t.default=a,e.exports=t.default},function(e,t,r){"use strict";function n(e,t){if(typeof e!==t)throw u.default.BAD_ARGUMENT_ERROR}function i(e){if(null===e||isNaN(e)||e%1!=0)throw u.default.BAD_ARGUMENT_ERROR+" : argument is not an integer"}function o(e,t,r){if(e<t||e>r)throw u.default.BAD_ARGUMENT_ERROR+" : argument out of range"}function a(e){if("string"!=typeof e||e!==u.default.AUDIO&&e!==u.default.VIDEO)throw u.default.BAD_ARGUMENT_ERROR}Object.defineProperty(t,"__esModule",{value:!0}),t.checkParameterType=n,t.checkInteger=i,t.checkRange=o,t.checkIsVideoOrAudioType=a;var s=r(2),u=function(e){return e&&e.__esModule?e:{default:e}}(s)},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function(){function e(){n(this,e)}return i(e,null,[{key:"findCencContentProtection",value:function(e){for(var t=null,r=0;r<e.length;++r){var n=e[r];"urn:mpeg:dash:mp4protection:2011"===n.schemeIdUri.toLowerCase()&&"cenc"===n.value.toLowerCase()&&(t=n)}return t}},{key:"getPSSHData",value:function(e){var t=8,r=new DataView(e),n=r.getUint8(t);return t+=20,n>0&&(t+=4+16*r.getUint32(t)),t+=4,e.slice(t)}},{key:"getPSSHForKeySystem",value:function(t,r){var n=e.parsePSSHList(r);return n.hasOwnProperty(t.uuid.toLowerCase())?n[t.uuid.toLowerCase()]:null}},{key:"parseInitDataFromContentProtection",value:function(e,t){return"pssh"in e?t.decodeArray(e.pssh.__text).buffer:null}},{key:"parsePSSHList",value:function(e){if(null===e)return[];for(var t=new DataView(e.buffer||e),r={},n=0;;){var i=void 0,o=void 0,a=void 0,s=void 0,u=n;if(n>=t.buffer.byteLength)break;if(i=t.getUint32(n),o=n+i,n+=4,1886614376===t.getUint32(n))if(n+=4,0===(a=t.getUint8(n))||1===a){n++,n+=3,s="";var l=void 0,c=void 0;for(l=0;l<4;l++)c=t.getUint8(n+l).toString(16),s+=1===c.length?"0"+c:c;for(n+=4,s+="-",l=0;l<2;l++)c=t.getUint8(n+l).toString(16),s+=1===c.length?"0"+c:c;for(n+=2,s+="-",l=0;l<2;l++)c=t.getUint8(n+l).toString(16),s+=1===c.length?"0"+c:c;for(n+=2,s+="-",l=0;l<2;l++)c=t.getUint8(n+l).toString(16),s+=1===c.length?"0"+c:c;for(n+=2,s+="-",l=0;l<6;l++)c=t.getUint8(n+l).toString(16),s+=1===c.length?"0"+c:c;n+=6,s=s.toLowerCase(),t.getUint32(n),n+=4,r[s]=t.buffer.slice(u,o),n=o}else n=o;else n=o}return r}}]),e}();t.default=o,e.exports=t.default},function(e,t,r){var n=r(29),i=n.Symbol;e.exports=i},function(e,t,r){function n(e){return a(e)?i(e):o(e)}var i=r(256),o=r(258),a=r(77);e.exports=n},function(e,t){function r(e){return function(t){return e(t)}}e.exports=r},function(e,t,r){(function(e){var n=r(250),i="object"==typeof t&&t&&!t.nodeType&&t,o=i&&"object"==typeof e&&e&&!e.nodeType&&e,a=o&&o.exports===i,s=a&&n.process,u=function(){try{var e=o&&o.require&&o.require("util").types;return e||s&&s.binding&&s.binding("util")}catch(e){}}();e.exports=u}).call(t,r(174)(e))},function(e,t,r){function n(e){return null!=e&&o(e.length)&&!i(e)}var i=r(118),o=r(175);e.exports=n},function(e,t,r){var n=r(36);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,r){var n=r(36),i=r(10)("toStringTag"),o="Arguments"==n(function(){return arguments}()),a=function(e,t){try{return e[t]}catch(e){}};e.exports=function(e){var t,r,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=a(t=Object(e),i))?r:o?n(t):"Object"==(s=n(t))&&"function"==typeof t.callee?"Arguments":s}},function(e,t,r){var n=r(8),i=r(31),o=r(10)("species");e.exports=function(e,t){var r,a=n(e).constructor;return void 0===a||void 0==(r=n(a)[o])?t:i(r)}},function(e,t,r){"use strict";(function(e){function n(){return o.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function i(e,t){if(n()<t)throw new RangeError("Invalid typed array length");return o.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t),e.__proto__=o.prototype):(null===e&&(e=new o(t)),e.length=t),e}function o(e,t,r){if(!(o.TYPED_ARRAY_SUPPORT||this instanceof o))return new o(e,t,r);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return l(this,e)}return a(this,e,t,r)}function a(e,t,r,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?f(e,t,r,n):"string"==typeof t?c(e,t,r):g(e,t)}function s(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function u(e,t,r,n){return s(t),t<=0?i(e,t):void 0!==r?"string"==typeof n?i(e,t).fill(r,n):i(e,t).fill(r):i(e,t)}function l(e,t){if(s(t),e=i(e,t<0?0:0|p(t)),!o.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function c(e,t,r){if("string"==typeof r&&""!==r||(r="utf8"),!o.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|y(t,r);e=i(e,n);var a=e.write(t,r);return a!==n&&(e=e.slice(0,a)),e}function d(e,t){var r=t.length<0?0:0|p(t.length);e=i(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function f(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");return t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n),o.TYPED_ARRAY_SUPPORT?(e=t,e.__proto__=o.prototype):e=d(e,t),e}function g(e,t){if(o.isBuffer(t)){var r=0|p(t.length);return e=i(e,r),0===e.length?e:(t.copy(e,0,0,r),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||z(t.length)?i(e,0):d(e,t);if("Buffer"===t.type&&Z(t.data))return d(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function p(e){if(e>=n())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n().toString(16)+" bytes");return 0|e}function h(e){return+e!=e&&(e=0),o.alloc(+e)}function y(e,t){if(o.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return H(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return q(e).length;default:if(n)return H(e).length;t=(""+t).toLowerCase(),n=!0}}function m(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if(r>>>=0,t>>>=0,r<=t)return"";for(e||(e="utf8");;)switch(e){case"hex":return R(this,t,r);case"utf8":case"utf-8":return D(this,t,r);case"ascii":return O(this,t,r);case"latin1":case"binary":return B(this,t,r);case"base64":return C(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function v(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function b(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=o.from(t,n)),o.isBuffer(t))return 0===t.length?-1:A(e,t,r,n,i);if("number"==typeof t)return t&=255,o.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):A(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function A(e,t,r,n,i){function o(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}var a=1,s=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;a=2,s/=2,u/=2,r/=2}var l;if(i){var c=-1;for(l=r;l<s;l++)if(o(e,l)===o(t,-1===c?0:l-c)){if(-1===c&&(c=l),l-c+1===u)return c*a}else-1!==c&&(l-=l-c),c=-1}else for(r+u>s&&(r=s-u),l=r;l>=0;l--){for(var d=!0,f=0;f<u;f++)if(o(e,l+f)!==o(t,f)){d=!1;break}if(d)return l}return-1}function _(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var a=0;a<n;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[r+a]=s}return a}function E(e,t,r,n){return K(H(t,e.length-r),e,r,n)}function T(e,t,r,n){return K(Y(t),e,r,n)}function S(e,t,r,n){return T(e,t,r,n)}function I(e,t,r,n){return K(q(t),e,r,n)}function w(e,t,r,n){return K(V(t,e.length-r),e,r,n)}function C(e,t,r){return 0===t&&r===e.length?X.fromByteArray(e):X.fromByteArray(e.slice(t,r))}function D(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var o=e[i],a=null,s=o>239?4:o>223?3:o>191?2:1;if(i+s<=r){var u,l,c,d;switch(s){case 1:o<128&&(a=o);break;case 2:u=e[i+1],128==(192&u)&&(d=(31&o)<<6|63&u)>127&&(a=d);break;case 3:u=e[i+1],l=e[i+2],128==(192&u)&&128==(192&l)&&(d=(15&o)<<12|(63&u)<<6|63&l)>2047&&(d<55296||d>57343)&&(a=d);break;case 4:u=e[i+1],l=e[i+2],c=e[i+3],128==(192&u)&&128==(192&l)&&128==(192&c)&&(d=(15&o)<<18|(63&u)<<12|(63&l)<<6|63&c)>65535&&d<1114112&&(a=d)}}null===a?(a=65533,s=1):a>65535&&(a-=65536,n.push(a>>>10&1023|55296),a=56320|1023&a),n.push(a),i+=s}return M(n)}function M(e){var t=e.length;if(t<=$)return String.fromCharCode.apply(String,e);for(var r="",n=0;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=$));return r}function O(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function B(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function R(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=t;o<r;++o)i+=W(e[o]);return i}function P(e,t,r){for(var n=e.slice(t,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function k(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function L(e,t,r,n,i,a){if(!o.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<a)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function N(e,t,r,n){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-r,2);i<o;++i)e[r+i]=(t&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function x(e,t,r,n){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-r,4);i<o;++i)e[r+i]=t>>>8*(n?i:3-i)&255}function j(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function U(e,t,r,n,i){return i||j(e,t,r,4,3.4028234663852886e38,-3.4028234663852886e38),J.write(e,t,r,n,23,4),r+4}function F(e,t,r,n,i){return i||j(e,t,r,8,1.7976931348623157e308,-1.7976931348623157e308),J.write(e,t,r,n,52,8),r+8}function Q(e){if(e=G(e).replace(ee,""),e.length<2)return"";for(;e.length%4!=0;)e+="=";return e}function G(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function W(e){return e<16?"0"+e.toString(16):e.toString(16)}function H(e,t){t=t||1/0;for(var r,n=e.length,i=null,o=[],a=0;a<n;++a){if((r=e.charCodeAt(a))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function Y(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}function V(e,t){for(var r,n,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)r=e.charCodeAt(a),n=r>>8,i=r%256,o.push(i),o.push(n);return o}function q(e){return X.toByteArray(Q(e))}function K(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function z(e){return e!==e}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var X=r(479),J=r(480),Z=r(218);t.Buffer=o,t.SlowBuffer=h,t.INSPECT_MAX_BYTES=50,o.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=n(),o.poolSize=8192,o._augment=function(e){return e.__proto__=o.prototype,e},o.from=function(e,t,r){return a(null,e,t,r)},o.TYPED_ARRAY_SUPPORT&&(o.prototype.__proto__=Uint8Array.prototype,o.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&o[Symbol.species]===o&&Object.defineProperty(o,Symbol.species,{value:null,configurable:!0})),o.alloc=function(e,t,r){return u(null,e,t,r)},o.allocUnsafe=function(e){return l(null,e)},o.allocUnsafeSlow=function(e){return l(null,e)},o.isBuffer=function(e){return!(null==e||!e._isBuffer)},o.compare=function(e,t){if(!o.isBuffer(e)||!o.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,i=0,a=Math.min(r,n);i<a;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},o.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(e,t){if(!Z(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return o.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=o.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var a=e[r];if(!o.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(n,i),i+=a.length}return n},o.byteLength=y,o.prototype._isBuffer=!0,o.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)v(this,t,t+1);return this},o.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)v(this,t,t+3),v(this,t+1,t+2);return this},o.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)v(this,t,t+7),v(this,t+1,t+6),v(this,t+2,t+5),v(this,t+3,t+4);return this},o.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?D(this,0,e):m.apply(this,arguments)},o.prototype.equals=function(e){if(!o.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===o.compare(this,e)},o.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(e+=" ... ")),"<Buffer "+e+">"},o.prototype.compare=function(e,t,r,n,i){if(!o.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(t>>>=0,r>>>=0,n>>>=0,i>>>=0,this===e)return 0;for(var a=i-n,s=r-t,u=Math.min(a,s),l=this.slice(n,i),c=e.slice(t,r),d=0;d<u;++d)if(l[d]!==c[d]){a=l[d],s=c[d];break}return a<s?-1:s<a?1:0},o.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},o.prototype.indexOf=function(e,t,r){return b(this,e,t,r,!0)},o.prototype.lastIndexOf=function(e,t,r){return b(this,e,t,r,!1)},o.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return _(this,e,t,r);case"utf8":case"utf-8":return E(this,e,t,r);case"ascii":return T(this,e,t,r);case"latin1":case"binary":return S(this,e,t,r);case"base64":return I(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return w(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var $=4096;o.prototype.slice=function(e,t){var r=this.length;e=~~e,t=void 0===t?r:~~t,e<0?(e+=r)<0&&(e=0):e>r&&(e=r),t<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);var n;if(o.TYPED_ARRAY_SUPPORT)n=this.subarray(e,t),n.__proto__=o.prototype;else{var i=t-e;n=new o(i,void 0);for(var a=0;a<i;++a)n[a]=this[a+e]}return n},o.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||k(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n},o.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||k(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},o.prototype.readUInt8=function(e,t){return t||k(e,1,this.length),this[e]},o.prototype.readUInt16LE=function(e,t){return t||k(e,2,this.length),this[e]|this[e+1]<<8},o.prototype.readUInt16BE=function(e,t){return t||k(e,2,this.length),this[e]<<8|this[e+1]},o.prototype.readUInt32LE=function(e,t){return t||k(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},o.prototype.readUInt32BE=function(e,t){return t||k(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},o.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||k(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*t)),n},o.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||k(e,t,this.length);for(var n=t,i=1,o=this[e+--n];n>0&&(i*=256);)o+=this[e+--n]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},o.prototype.readInt8=function(e,t){return t||k(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},o.prototype.readInt16LE=function(e,t){t||k(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},o.prototype.readInt16BE=function(e,t){t||k(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},o.prototype.readInt32LE=function(e,t){return t||k(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},o.prototype.readInt32BE=function(e,t){return t||k(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},o.prototype.readFloatLE=function(e,t){return t||k(e,4,this.length),J.read(this,e,!0,23,4)},o.prototype.readFloatBE=function(e,t){return t||k(e,4,this.length),J.read(this,e,!1,23,4)},o.prototype.readDoubleLE=function(e,t){return t||k(e,8,this.length),J.read(this,e,!0,52,8)},o.prototype.readDoubleBE=function(e,t){return t||k(e,8,this.length),J.read(this,e,!1,52,8)},o.prototype.writeUIntLE=function(e,t,r,n){if(e=+e,t|=0,r|=0,!n){L(this,e,t,r,Math.pow(2,8*r)-1,0)}var i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},o.prototype.writeUIntBE=function(e,t,r,n){if(e=+e,t|=0,r|=0,!n){L(this,e,t,r,Math.pow(2,8*r)-1,0)}var i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},o.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||L(this,e,t,1,255,0),o.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},o.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||L(this,e,t,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):N(this,e,t,!0),t+2},o.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||L(this,e,t,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):N(this,e,t,!1),t+2},o.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||L(this,e,t,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):x(this,e,t,!0),t+4},o.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||L(this,e,t,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):x(this,e,t,!1),t+4},o.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);L(this,e,t,r,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<r&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+r},o.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);L(this,e,t,r,i-1,-i)}var o=r-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+r},o.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||L(this,e,t,1,127,-128),o.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},o.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||L(this,e,t,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):N(this,e,t,!0),t+2},o.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||L(this,e,t,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):N(this,e,t,!1),t+2},o.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||L(this,e,t,4,2147483647,-2147483648),o.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):x(this,e,t,!0),t+4},o.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||L(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):x(this,e,t,!1),t+4},o.prototype.writeFloatLE=function(e,t,r){return U(this,e,t,!0,r)},o.prototype.writeFloatBE=function(e,t,r){return U(this,e,t,!1,r)},o.prototype.writeDoubleLE=function(e,t,r){return F(this,e,t,!0,r)},o.prototype.writeDoubleBE=function(e,t,r){return F(this,e,t,!1,r)},o.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i,a=n-r;if(this===e&&r<t&&t<n)for(i=a-1;i>=0;--i)e[i+t]=this[i+r];else if(a<1e3||!o.TYPED_ARRAY_SUPPORT)for(i=0;i<a;++i)e[i+t]=this[i+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+a),t);return a},o.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!o.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0);var a;if("number"==typeof e)for(a=t;a<r;++a)this[a]=e;else{var s=o.isBuffer(e)?e:H(new o(e,n).toString()),u=s.length;for(a=0;a<r-t;++a)this[a+t]=s[a%u]}return this};var ee=/[^+\/0-9A-Za-z-_]/g}).call(t,r(18))},function(e,t){function r(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function i(e){if(c===setTimeout)return setTimeout(e,0);if((c===r||!c)&&setTimeout)return c=setTimeout,setTimeout(e,0);try{return c(e,0)}catch(t){try{return c.call(null,e,0)}catch(t){return c.call(this,e,0)}}}function o(e){if(d===clearTimeout)return clearTimeout(e);if((d===n||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{return d(e)}catch(t){try{return d.call(null,e)}catch(t){return d.call(this,e)}}}function a(){h&&g&&(h=!1,g.length?p=g.concat(p):y=-1,p.length&&s())}function s(){if(!h){var e=i(a);h=!0;for(var t=p.length;t;){for(g=p,p=[];++y<t;)g&&g[y].run();y=-1,t=p.length}g=null,h=!1,o(e)}}function u(e,t){this.fun=e,this.array=t}function l(){}var c,d,f=e.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:r}catch(e){c=r}try{d="function"==typeof clearTimeout?clearTimeout:n}catch(e){d=n}}();var g,p=[],h=!1,y=-1;f.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];p.push(new u(e,t)),1!==p.length||h||i(s)},u.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=l,f.addListener=l,f.once=l,f.off=l,f.removeListener=l,f.removeAllListeners=l,f.emit=l,f.prependListener=l,f.prependOnceListener=l,f.listeners=function(e){return[]},f.binding=function(e){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(e){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(){function e(e){if(!e)return null;void 0===e.fileStart&&(e.fileStart=0);var t=f.default.parseBuffer(e),r=(0,u.default)(d).create();return r.setData(t),r}function t(e,t,r){if(void 0===r&&(r=0),!t||r+8>=t.byteLength)return new p.default(0,!1);for(var n=t instanceof ArrayBuffer?new Uint8Array(t):t,a=void 0,s=0;r<n.byteLength;){var u=i(n,r),l=o(n,r+4);if(0===u)break;r+u<=n.byteLength&&(e.indexOf(l)>=0?a=new p.default(r,!0,u):s=r+u),r+=u}return a||new p.default(s,!1)}function r(t){if(!t||0===t.byteLength)return{sampleList:[],lastSequenceNumber:NaN,totalDuration:NaN,numSequences:NaN};var r=e(t),n=r.getBoxes("moof"),i=r.getBoxes("mfhd"),o=void 0,a=void 0,s=void 0,u=void 0,l=void 0,c=void 0,d=void 0,f=void 0,g=void 0,p=void 0,h=void 0,y=void 0,m=void 0,v=void 0,b=void 0,A=void 0,_=void 0;A=r.getBoxes("moof").length,b=i[i.length-1].sequence_number,s=0,c=[];var E=-1,T=-1;for(h=0;h<n.length;h++){var S=n[h],I=S.getChildBoxes("traf");for(g=0;g<I.length;g++){var w=I[g],C=w.getChildBox("tfhd"),D=w.getChildBox("tfdt");l=D.baseMediaDecodeTime;var M=w.getChildBoxes("trun"),O=w.getChildBoxes("subs");for(p=0;p<M.length;p++){var B=M[p];for(s=B.sample_count,v=(C.base_data_offset||0)+(B.data_offset||0),f=0;f<s;f++){d=B.samples[f],o=void 0!==d.sample_duration?d.sample_duration:C.default_sample_duration,u=void 0!==d.sample_size?d.sample_size:C.default_sample_size,a=void 0!==d.sample_composition_time_offset?d.sample_composition_time_offset:0;var R={dts:l,cts:l+a,duration:o,offset:S.offset+v,size:u,subSizes:[u]};if(O)for(y=0;y<O.length;y++){var P=O[y];if(E<P.entry_count-1&&f>T&&(E++,T+=P.entries[E].sample_delta),f==T){R.subSizes=[];var k=P.entries[E];for(m=0;m<k.subsample_count;m++)R.subSizes.push(k.subsamples[m].subsample_size)}}c.push(R),v+=u,l+=o}}_=l-D.baseMediaDecodeTime}}return{sampleList:c,lastSequenceNumber:b,totalDuration:_,numSequences:A}}function n(t){var r=e(t),n=r?r.getBox("mdhd"):void 0;return n?n.timescale:NaN}function i(e,t){return e[t+3]>>>0|e[t+2]<<8>>>0|e[t+1]<<16>>>0|e[t]<<24>>>0}function o(e,t){return String.fromCharCode(e[t++])+String.fromCharCode(e[t++])+String.fromCharCode(e[t++])+String.fromCharCode(e[t])}function s(t){var r=null,n=void 0,i=void 0,o=e(t);if(!o)return r;var a=o.getBox("ftyp"),s=o.getBox("moov");return l.debug("Searching for initialization."),s&&s.isComplete&&(n=a?a.offset:s.offset,i=s.offset+s.size-1,r=n+"-"+i,l.debug("Found the initialization.  Range: "+r)),r}var l=void 0,c=void 0,d=this.context;return c={parse:e,findLastTopIsoBoxCompleted:t,getMediaTimescaleFromMoov:n,getSamplesInfo:r,findInitRange:s},function(){l=(0,a.default)(d).getInstance().getLogger(c)}(),c}Object.defineProperty(t,"__esModule",{value:!0});var o=r(4),a=n(o),s=r(502),u=n(s),l=r(1),c=n(l),d=r(154),f=n(d),g=r(504),p=n(g);i.__dashjs_factory_name="BoxParser",t.default=c.default.getSingletonFactory(i),e.exports=t.default},function(e,t,r){(function(e){function r(e){return Array.isArray?Array.isArray(e):"[object Array]"===y(e)}function n(e){return"boolean"==typeof e}function i(e){return null===e}function o(e){return null==e}function a(e){return"number"==typeof e}function s(e){return"string"==typeof e}function u(e){return"symbol"==typeof e}function l(e){return void 0===e}function c(e){return"[object RegExp]"===y(e)}function d(e){return"object"==typeof e&&null!==e}function f(e){return"[object Date]"===y(e)}function g(e){return"[object Error]"===y(e)||e instanceof Error}function p(e){return"function"==typeof e}function h(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e}function y(e){return Object.prototype.toString.call(e)}t.isArray=r,t.isBoolean=n,t.isNull=i,t.isNullOrUndefined=o,t.isNumber=a,t.isString=s,t.isSymbol=u,t.isUndefined=l,t.isRegExp=c,t.isObject=d,t.isDate=f,t.isError=g,t.isFunction=p,t.isPrimitive=h,t.isBuffer=e.isBuffer}).call(t,r(82).Buffer)},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e){function t(e,r){var n=e.request,i=[],p=!0,m=!0,T=new Date,S=T,I=0,w=void 0;if(!f||!u||!a)throw new Error("config object is not correct or missing");var C=function(e){m=!1,n.requestStartDate=T,n.requestEndDate=new Date,n.firstByteDate=n.firstByteDate||T,n.checkExistenceOnly||u.addHttpRequest(n.mediaType,null,n.type,n.url,w.response?w.response.responseURL:null,n.serviceLocation||null,n.range||null,n.requestStartDate,n.firstByteDate,n.requestEndDate,w.response?w.response.status:null,n.duration,w.response&&w.response.getAllResponseHeaders?w.response.getAllResponseHeaders():w.response?w.response.responseHeaders:[],e?i:null)},D=function(){-1!==v.indexOf(w)&&(v.splice(v.indexOf(w),1),m&&(C(!1),r>0?(r--,A.push(setTimeout(function(){t(e,r)},d.getRetryIntervalForType(n.type)))):(a.downloadError(_[n.type],n.url,n),a.error(new y.default(E[n.type],n.url+" is not available",{request:n,response:w.response})),e.error&&e.error(n,"error",w.response.statusText),e.complete&&e.complete(n,w.response.statusText))))},M=function(t){var r=new Date;p&&(p=!1,(!t.lengthComputable||t.lengthComputable&&t.total!==t.loaded)&&(n.firstByteDate=r)),t.lengthComputable&&(n.bytesLoaded=t.loaded,n.bytesTotal=t.total),t.noTrace||(i.push({s:S,d:t.time?t.time:r.getTime()-S.getTime(),b:[t.loaded?t.loaded-I:0]}),S=r,I=t.loaded),e.progress&&t&&e.progress(t)},O=function(){w.response.status>=200&&w.response.status<=299&&(C(!0),e.success&&e.success(w.response.response,w.response.statusText,w.response.responseURL),e.complete&&e.complete(n,w.response.statusText))},B=function(){e.abort&&e.abort(n)},R=void 0;R=h&&window.fetch&&"arraybuffer"===n.responseType?(0,l.default)(o).create({requestModifier:f,boxParser:g}):(0,s.default)(o).create({requestModifier:f,boxParser:g});var P=f.modifyRequestURL(n.url),k=n.checkExistenceOnly?c.HTTPRequest.HEAD:c.HTTPRequest.GET,L=d.getXHRWithCredentialsForType(n.type);w={url:P,method:k,withCredentials:L,request:n,onload:O,onend:D,onerror:D,progress:M,onabort:B,loader:R};var N=(new Date).getTime();isNaN(n.delayLoadingTime)||N>=n.delayLoadingTime?(v.push(w),R.load(w)):function(){var e={httpRequest:w};b.push(e),e.delayTimeout=setTimeout(function(){if(-1!==b.indexOf(e)){b.splice(b.indexOf(e),1);try{T=new Date,S=T,v.push(e.httpRequest),R.load(e.httpRequest)}catch(t){e.httpRequest.onerror()}}},n.delayLoadingTime-N)}()}function r(e){e.request&&t(e,d.getRetryAttemptsForType(e.request.type))}function n(){A.forEach(function(e){return clearTimeout(e)}),A=[],b.forEach(function(e){return clearTimeout(e.delayTimeout)}),b=[],v.forEach(function(e){e.onloadend=e.onerror=e.onprogress=void 0,e.loader.abort(e),e.onabort()}),v=[]}e=e||{};var o=this.context,a=e.errHandler,u=e.metricsModel,d=e.mediaPlayerModel,f=e.requestModifier,g=e.boxParser,h=e.useFetch||!1,m=void 0,v=void 0,b=void 0,A=void 0,_=void 0,E=void 0;return m={load:r,abort:n},function(){var e,t;v=[],b=[],A=[],e={},i(e,c.HTTPRequest.MPD_TYPE,p.default.DOWNLOAD_ERROR_ID_MANIFEST),i(e,c.HTTPRequest.XLINK_EXPANSION_TYPE,p.default.DOWNLOAD_ERROR_ID_XLINK),i(e,c.HTTPRequest.INIT_SEGMENT_TYPE,p.default.DOWNLOAD_ERROR_ID_INITIALIZATION),i(e,c.HTTPRequest.MEDIA_SEGMENT_TYPE,p.default.DOWNLOAD_ERROR_ID_CONTENT),i(e,c.HTTPRequest.INDEX_SEGMENT_TYPE,p.default.DOWNLOAD_ERROR_ID_CONTENT),i(e,c.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,p.default.DOWNLOAD_ERROR_ID_CONTENT),i(e,c.HTTPRequest.OTHER_TYPE,p.default.DOWNLOAD_ERROR_ID_CONTENT),_=e,t={},i(t,c.HTTPRequest.MPD_TYPE,p.default.DOWNLOAD_ERROR_ID_MANIFEST_CODE),i(t,c.HTTPRequest.XLINK_EXPANSION_TYPE,p.default.DOWNLOAD_ERROR_ID_XLINK_CODE),i(t,c.HTTPRequest.INIT_SEGMENT_TYPE,p.default.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE),i(t,c.HTTPRequest.MEDIA_SEGMENT_TYPE,p.default.DOWNLOAD_ERROR_ID_CONTENT_CODE),i(t,c.HTTPRequest.INDEX_SEGMENT_TYPE,p.default.DOWNLOAD_ERROR_ID_CONTENT_CODE),i(t,c.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,p.default.DOWNLOAD_ERROR_ID_CONTENT_CODE),i(t,c.HTTPRequest.OTHER_TYPE,p.default.DOWNLOAD_ERROR_ID_CONTENT_CODE),E=t}(),m}Object.defineProperty(t,"__esModule",{value:!0});var a=r(235),s=n(a),u=r(548),l=n(u),c=r(19),d=r(1),f=n(d),g=r(17),p=n(g),h=r(12),y=n(h);o.__dashjs_factory_name="HTTPLoader";var m=f.default.getClassFactory(o);t.default=m,e.exports=t.default},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t,r){for(var n=!0;n;){var i=e,o=t,a=r;n=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=o,r=a,n=!0,s=l=void 0}},a=r(230),s=function(e){return e&&e.__esModule?e:{default:e}}(a),u=function(e){function t(){n(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.MEDIA_KEYERR_CODE=100,this.MEDIA_KEYERR_UNKNOWN_CODE=101,this.MEDIA_KEYERR_CLIENT_CODE=102,this.MEDIA_KEYERR_SERVICE_CODE=103,this.MEDIA_KEYERR_OUTPUT_CODE=104,this.MEDIA_KEYERR_HARDWARECHANGE_CODE=105,this.MEDIA_KEYERR_DOMAIN_CODE=106,this.MEDIA_KEY_MESSAGE_ERROR_CODE=107,this.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_CODE=108,this.SERVER_CERTIFICATE_UPDATED_ERROR_CODE=109,this.KEY_STATUS_CHANGED_EXPIRED_ERROR_CODE=110,this.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_CODE=111,this.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE=112,this.KEY_SESSION_CREATED_ERROR_CODE=113,this.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE=114,this.MEDIA_KEYERR_UNKNOWN_MESSAGE="An unspecified error occurred. This value is used for errors that don't match any of the other codes.",this.MEDIA_KEYERR_CLIENT_MESSAGE="The Key System could not be installed or updated.",this.MEDIA_KEYERR_SERVICE_MESSAGE="The message passed into update indicated an error from the license service.",this.MEDIA_KEYERR_OUTPUT_MESSAGE="There is no available output device with the required characteristics for the content protection system.",this.MEDIA_KEYERR_HARDWARECHANGE_MESSAGE="A hardware configuration change caused a content protection error.",this.MEDIA_KEYERR_DOMAIN_MESSAGE="An error occurred in a multi-device domain licensing configuration. The most common error is a failure to join the domain.",this.MEDIA_KEY_MESSAGE_ERROR_MESSAGE="Multiple key sessions were creates with a user-agent that does not support sessionIDs!! Unpredictable behavior ahead!",this.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_MESSAGE="DRM: Empty key message from CDM",this.SERVER_CERTIFICATE_UPDATED_ERROR_MESSAGE="Error updating server certificate -- ",this.KEY_STATUS_CHANGED_EXPIRED_ERROR_MESSAGE="DRM: KeyStatusChange error! -- License has expired",this.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_MESSAGE="DRM: No license server URL specified!",this.KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE="DRM: KeySystem Access Denied! -- ",this.KEY_SESSION_CREATED_ERROR_MESSAGE="DRM: unable to create session! --",this.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE="DRM: licenser error! --"}return i(t,e),t}(s.default),l=new u;t.default=l,e.exports=t.default},function(e,t,r){function n(e,t,r,n){var a=!r;r||(r={});for(var s=-1,u=t.length;++s<u;){var l=t[s],c=n?n(r[l],e[l],l,r,e):void 0;void 0===c&&(c=e[l]),a?o(r,l,c):i(r,l,c)}return r}var i=r(254),o=r(255);e.exports=n},function(e,t,r){(function(e){var n=r(29),i=r(257),o="object"==typeof t&&t&&!t.nodeType&&t,a=o&&"object"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===o,u=s?n.Buffer:void 0,l=u?u.isBuffer:void 0,c=l||i;e.exports=c}).call(t,r(174)(e))},function(e,t,r){var n=r(13),i=r(6),o=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:n.version,mode:r(47)?"pure":"global",copyright:" 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t,r){var n=r(26),i=r(11),o=r(49);e.exports=function(e){return function(t,r,a){var s,u=n(t),l=i(u.length),c=o(a,l);if(e&&r!=r){for(;l>c;)if((s=u[c++])!=s)return!0}else for(;l>c;c++)if((e||c in u)&&u[c]===r)return e||c||0;return!e&&-1}}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,r){var n=r(36);e.exports=Array.isArray||function(e){return"Array"==n(e)}},function(e,t,r){var n=r(10)("iterator"),i=!1;try{var o=[7][n]();o.return=function(){i=!0},Array.from(o,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var r=!1;try{var o=[7],a=o[n]();a.next=function(){return{done:r=!0}},o[n]=function(){return a},e(o)}catch(e){}return r}},function(e,t,r){"use strict";var n=r(8);e.exports=function(){var e=n(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,r){"use strict";var n=r(80),i=RegExp.prototype.exec;e.exports=function(e,t){var r=e.exec;if("function"==typeof r){var o=r.call(e,t);if("object"!=typeof o)throw new TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==n(e))throw new TypeError("RegExp#exec called on incompatible receiver");return i.call(e,t)}},function(e,t,r){"use strict";r(204);var n=r(22),i=r(25),o=r(7),a=r(37),s=r(10),u=r(146),l=s("species"),c=!o(function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}),d=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var r="ab".split(e);return 2===r.length&&"a"===r[0]&&"b"===r[1]}();e.exports=function(e,t,r){var f=s(e),g=!o(function(){var t={};return t[f]=function(){return 7},7!=""[e](t)}),p=g?!o(function(){var t=!1,r=/a/;return r.exec=function(){return t=!0,null},"split"===e&&(r.constructor={},r.constructor[l]=function(){return r}),r[f](""),!t}):void 0;if(!g||!p||"replace"===e&&!c||"split"===e&&!d){var h=/./[f],y=r(a,f,""[e],function(e,t,r,n,i){return t.exec===u?g&&!i?{done:!0,value:h.call(t,r,n)}:{done:!0,value:e.call(r,t,n)}:{done:!1}}),m=y[0],v=y[1];n(String.prototype,e,m),i(RegExp.prototype,f,2==t?function(e,t){return v.call(e,this,t)}:function(e){return v.call(e,this)})}}},function(e,t,r){var n=r(30),i=r(199),o=r(141),a=r(8),s=r(11),u=r(143),l={},c={},t=e.exports=function(e,t,r,d,f){var g,p,h,y,m=f?function(){return e}:u(e),v=n(r,d,t?2:1),b=0;if("function"!=typeof m)throw TypeError(e+" is not iterable!");if(o(m)){for(g=s(e.length);g>b;b++)if((y=t?v(a(p=e[b])[0],p[1]):v(e[b]))===l||y===c)return y}else for(h=m.call(e);!(p=h.next()).done;)if((y=i(h,v,p.value,t))===l||y===c)return y};t.BREAK=l,t.RETURN=c},function(e,t,r){var n=r(6),i=n.navigator;e.exports=i&&i.userAgent||""},function(e,t,r){"use strict";var n=r(6),i=r(0),o=r(22),a=r(67),s=r(42),u=r(98),l=r(66),c=r(9),d=r(7),f=r(94),g=r(62),p=r(132);e.exports=function(e,t,r,h,y,m){var v=n[e],b=v,A=y?"set":"add",_=b&&b.prototype,E={},T=function(e){var t=_[e];o(_,e,"delete"==e?function(e){return!(m&&!c(e))&&t.call(this,0===e?0:e)}:"has"==e?function(e){return!(m&&!c(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return m&&!c(e)?void 0:t.call(this,0===e?0:e)}:"add"==e?function(e){return t.call(this,0===e?0:e),this}:function(e,r){return t.call(this,0===e?0:e,r),this})};if("function"==typeof b&&(m||_.forEach&&!d(function(){(new b).entries().next()}))){var S=new b,I=S[A](m?{}:-0,1)!=S,w=d(function(){S.has(1)}),C=f(function(e){new b(e)}),D=!m&&d(function(){for(var e=new b,t=5;t--;)e[A](t,t);return!e.has(-0)});C||(b=t(function(t,r){l(t,b,e);var n=p(new v,t,b);return void 0!=r&&u(r,y,n[A],n),n}),b.prototype=_,_.constructor=b),(w||D)&&(T("delete"),T("has"),y&&T("get")),(D||I)&&T(A),m&&_.clear&&delete _.clear}else b=h.getConstructor(t,e,y,A),a(b.prototype,r),s.NEED=!0;return g(b,e),E[e]=b,i(i.G+i.W+i.F*(b!=v),E),m||h.setStrong(b,e,y),b}},function(e,t,r){for(var n,i=r(6),o=r(25),a=r(46),s=a("typed_array"),u=a("view"),l=!(!i.ArrayBuffer||!i.DataView),c=l,d=0,f="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");d<9;)(n=i[f[d++]])?(o(n.prototype,s,!0),o(n.prototype,u,!0)):c=!1;e.exports={ABV:l,CONSTR:c,TYPED:s,VIEW:u}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(497),o=r(614),a=n(o),s=r(633),u=n(s),l=r(648),c=n(l),d=r(4),f=n(d);dashjs.Protection=u.default,dashjs.MetricsReporting=a.default,dashjs.MediaPlayerFactory=c.default,dashjs.Debug=f.default,t.default=dashjs,t.MediaPlayer=i.MediaPlayer,t.Protection=u.default,t.MetricsReporting=a.default,t.MediaPlayerFactory=c.default,t.Debug=f.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(e){x=e}function r(){return x}function n(e){var t=function(e,t){return e.action===f.default.ACTION_COMPLETE&&e.action===t.action},r=function(e,t){return!isNaN(e.index)&&e.startTime===t.startTime&&e.adaptationIndex===t.adaptationIndex&&e.type===t.type},n=function(e,t){return isNaN(e.index)&&isNaN(t.index)&&e.quality===t.quality};return!!e&&function(i){var o=!1;return i.some(function(i){if(r(e,i)||n(e,i)||t(e,i))return o=!0}),o}(j)}function i(e){var t=!1,r=0,i=void 0;if(!(t=n(e)))for(r=0;r<U.length;r++)i=U[r],e.url===i.url&&e.startTime===i.startTime&&(t=!0);return t}function o(e){var t=e?e.state instanceof Array?e.state:[e.state]:[],r=[];return t.forEach(function(t){var n=T(t);r=r.concat(E(n,e))}),r}function s(e){return isNaN(e.duration)?.25:Math.min(e.duration/8,.5)}function l(e){j=j.filter(function(t){var r=s(t);return isNaN(t.startTime)||void 0!==e&&t.startTime>=e-r})}function c(e){j=j.filter(function(t){var r=s(t);return isNaN(t.startTime)||void 0!==e&&t.startTime+t.duration<e+r})}function d(e,t){t<=e+.5||(j=j.filter(function(r){var n=s(r);return isNaN(r.startTime)||r.startTime>=t-n||isNaN(r.duration)||r.startTime+r.duration<=e+n}))}function g(e,t){if(!e||0===e.length)return void l();for(var r=0,n=0,i=e.length;n<i;n++)d(r,e.start(n)),r=e.end(n);t>0&&d(r,t)}function v(){k.abort(),U=[]}function b(e){switch(e.action){case f.default.ACTION_COMPLETE:j.push(e),S(e,y),N.debug("executeRequest trigger STREAM_COMPLETED"),R.trigger(u.default.STREAM_COMPLETED,{request:e,fragmentModel:this});break;case f.default.ACTION_DOWNLOAD:S(e,h),U.push(e),A(e);break;default:N.warn("Unknown request action.")}}function A(e){R.trigger(u.default.FRAGMENT_LOADING_STARTED,{sender:L,request:e}),k.load(e)}function _(e,t,r){for(var n=e.length-1,i=n;i>=0;i--){var o=e[i],a=o.startTime,u=a+o.duration;if(r=isNaN(r)?s(o):r,!isNaN(a)&&!isNaN(u)&&t+r>=a&&t-r<u||isNaN(a)&&isNaN(t))return o}return null}function E(e,t){return t.hasOwnProperty("time")?[_(e,t.time,t.threshold)]:e.filter(function(e){for(var r in t)if("state"!==r&&t.hasOwnProperty(r)&&e[r]!=t[r])return!1;return!0})}function T(e){var t=void 0;switch(e){case h:t=U;break;case y:t=j;break;default:t=[]}return t}function S(e,t){P.addSchedulingInfo(e.mediaType,new Date,e.type,e.startTime,e.availabilityStartTime,e.duration,e.quality,e.range,t),P.addRequestsQueue(e.mediaType,U,j)}function I(e){e.sender===k&&(U.splice(U.indexOf(e.request),1),e.response&&!e.error&&j.push(e.request),S(e.request,e.error?m:y),R.trigger(u.default.FRAGMENT_LOADING_COMPLETED,{request:e.request,response:e.response,error:e.error,sender:this}))}function w(e){e.sender===k&&R.trigger(u.default.FRAGMENT_LOADING_PROGRESS,{request:e.request,response:e.response,error:e.error,sender:this})}function C(e){e.sender===k&&R.trigger(u.default.FRAGMENT_LOADING_ABANDONED,{streamProcessor:this.getStreamProcessor(),request:e.request,mediaType:e.mediaType})}function D(){j=[],U=[]}function M(){R.off(u.default.LOADING_COMPLETED,I,this),R.off(u.default.LOADING_DATA_PROGRESS,w,this),R.off(u.default.LOADING_ABANDONED,C,this),k&&k.reset(),D()}function O(e){j.push(e)}e=e||{};var B=this.context,R=(0,a.default)(B).getInstance(),P=e.metricsModel,k=e.fragmentLoader,L=void 0,N=void 0,x=void 0,j=void 0,U=void 0;return L={setStreamProcessor:t,getStreamProcessor:r,getRequests:o,isFragmentLoaded:n,isFragmentLoadedOrPending:i,removeExecutedRequestsBeforeTime:l,removeExecutedRequestsAfterTime:c,syncExecutedRequestsWithBufferedRange:g,abortRequests:v,executeRequest:b,reset:M,addExecutedRequest:O},function(){N=(0,p.default)(B).getInstance().getLogger(L),D(),R.on(u.default.LOADING_COMPLETED,I,L),R.on(u.default.LOADING_DATA_PROGRESS,w,L),R.on(u.default.LOADING_ABANDONED,C,L)}(),L}Object.defineProperty(t,"__esModule",{value:!0});var o=r(3),a=n(o),s=r(5),u=n(s),l=r(1),c=n(l),d=r(56),f=n(d),g=r(4),p=n(g),h="loading",y="executed",m="failed";i.__dashjs_factory_name="FragmentModel";var v=c.default.getClassFactory(i);v.FRAGMENT_MODEL_LOADING=h,v.FRAGMENT_MODEL_EXECUTED=y,v.FRAGMENT_MODEL_CANCELED="canceled",v.FRAGMENT_MODEL_FAILED=m,c.default.updateClassFactory(i.__dashjs_factory_name,v),t.default=v,e.exports=t.default},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function(){function e(){n(this,e)}return i(e,[{key:"extend",value:function(e,t){if(e){var r=!!t&&t.override,n=!!t&&t.publicOnly;for(var i in e)!e.hasOwnProperty(i)||this[i]&&!r||n&&-1===e[i].indexOf("public_")||(this[i]=e[i])}}}]),e}();t.default=o,e.exports=t.default},function(e,t,r){!function(e){e.ns_tt="http://www.w3.org/ns/ttml",e.ns_tts="http://www.w3.org/ns/ttml#styling",e.ns_ttp="http://www.w3.org/ns/ttml#parameter",e.ns_xml="http://www.w3.org/XML/1998/namespace",e.ns_itts="http://www.w3.org/ns/ttml/profile/imsc1#styling",e.ns_ittp="http://www.w3.org/ns/ttml/profile/imsc1#parameter",e.ns_smpte="http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt",e.ns_ebutts="urn:ebu:tt:style"}(t)},function(e,t,r){!function(e){var t=/#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})?/,r=/rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/,n=/rgba\(\s*(\d+),\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/,i={transparent:[0,0,0,0],black:[0,0,0,255],silver:[192,192,192,255],gray:[128,128,128,255],white:[255,255,255,255],maroon:[128,0,0,255],red:[255,0,0,255],purple:[128,0,128,255],fuchsia:[255,0,255,255],magenta:[255,0,255,255],green:[0,128,0,255],lime:[0,255,0,255],olive:[128,128,0,255],yellow:[255,255,0,255],navy:[0,0,128,255],blue:[0,0,255,255],teal:[0,128,128,255],aqua:[0,255,255,255],cyan:[0,255,255,255]};e.parseColor=function(e){var o,a=null,s=i[e.toLowerCase()];return void 0!==s?a=s:null!==(o=t.exec(e))?a=[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16),void 0!==o[4]?parseInt(o[4],16):255]:null!==(o=r.exec(e))?a=[parseInt(o[1]),parseInt(o[2]),parseInt(o[3]),255]:null!==(o=n.exec(e))&&(a=[parseInt(o[1]),parseInt(o[2]),parseInt(o[3]),parseInt(o[4])]),a};var o=/^((?:\+|\-)?\d*(?:\.\d+)?)(px|em|c|%|rh|rw)$/;e.parseLength=function(e){var t,r=null;return null!==(t=o.exec(e))&&(r={value:parseFloat(t[1]),unit:t[2]}),r},e.parseTextShadow=function(t){var r=t.split(","),n=[];for(var i in r){var o=r[i].split(" ");if(1===o.length&&"none"===o[0])return"none";if(o.length>1&&o.length<5){var a=[null,null,null,null],s=e.parseLength(o.shift());if(null===s)return null;if(a[0]=s,null===(s=e.parseLength(o.shift())))return null;if(a[1]=s,0===o.length){n.push(a);continue}if(s=e.parseLength(o[0]),null!==s&&(a[2]=s,o.shift()),0===o.length){n.push(a);continue}var u=e.parseColor(o[0]);if(null===u)return null;a[3]=u,n.push(a)}}return n},e.parsePosition=function(t){var r=t.split(" "),n=function(e){return"center"===e||"left"===e||"top"===e||"bottom"===e||"right"===e};if(r.length>4)return null;for(var i in r)if(!n(r[i])){var o=e.parseLength(r[i]);if(null===o)return null;r[i]=o}for(var a={h:{edge:"left",offset:{value:50,unit:"%"}},v:{edge:"top",offset:{value:50,unit:"%"}}},s=0;s<r.length;){var u=r[s++];if(n(u)){var l={value:0,unit:"%"};2!==r.length&&s<r.length&&!n(r[s])&&(l=r[s++]),"right"===u?(a.h.edge=u,a.h.offset=l):"bottom"===u?(a.v.edge=u,a.v.offset=l):"left"===u?a.h.offset=l:"top"===u&&(a.v.offset=l)}else{if(1!==r.length&&2!==r.length)return null;1===s?a.h.offset=u:a.v.offset=u}}return a},e.ComputedLength=function(e,t){this.rw=e,this.rh=t},e.ComputedLength.prototype.toUsedLength=function(e,t){return e*this.rw+t*this.rh},e.ComputedLength.prototype.isZero=function(){return 0===this.rw&&0===this.rh},e.toComputedLength=function(t,r,n,i,o,a){return"%"===r&&i?new e.ComputedLength(i.rw*t/100,i.rh*t/100):"em"===r&&n?new e.ComputedLength(n.rw*t,n.rh*t):"c"===r&&o?new e.ComputedLength(t*o.rw,t*o.rh):"px"===r&&a?new e.ComputedLength(t*a.rw,t*a.rh):"rh"===r?new e.ComputedLength(0,t/100):"rw"===r?new e.ComputedLength(t/100,0):null}}(t)},function(e,t,r){"use strict";(function(t){function r(e,r,n,i){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var o,a,s=arguments.length;switch(s){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick(function(){e.call(null,r)});case 3:return t.nextTick(function(){e.call(null,r,n)});case 4:return t.nextTick(function(){e.call(null,r,n,i)});default:for(o=new Array(s-1),a=0;a<o.length;)o[a++]=arguments[a];return t.nextTick(function(){e.apply(null,o)})}}void 0===t||!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?e.exports={nextTick:r}:e.exports=t}).call(t,r(83))},function(e,t,r){function n(e,t){for(var r in e)t[r]=e[r]}function i(e,t,r){return a(e,t,r)}var o=r(82),a=o.Buffer;a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?e.exports=o:(n(o,t),t.Buffer=i),n(a,i),i.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return a(e,t,r)},i.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=a(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},i.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return a(e)},i.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return o.SlowBuffer(e)}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(){function e(e,t){Ye[e]=(0,w.default)(ve).create(),Oe[e]=t,Be[e]=Be[e]||{},Be[e].state=N,Ke[e]=!1,Ae.on(v.default.LOADING_PROGRESS,me,this),e==u.default.VIDEO&&(Ae.on(v.default.QUALITY_CHANGE_RENDERED,l,this),Ve=(0,D.default)(ve).create(),he()),Ae.on(v.default.METRIC_ADDED,d,this),Ae.on(v.default.PERIOD_SWITCH_COMPLETED,r,this),qe=(0,O.default)(ve).create({mediaPlayerModel:Ge})}function t(e){delete Oe[e]}function r(){Te=(0,a.default)(ve).create({metricsModel:ze,dashMetrics:Xe,mediaPlayerModel:Ge,adapter:Fe}),Te.initialize()}function n(){Ie={video:!0,audio:!0},we={},Ce={},De={},Me={},Be={},Oe={},Ye={},Ke={},Pe=!1,Je=!0,ke=!1,void 0===Le&&(Le=!1),He=void 0,Ve=void 0,qe=void 0,clearTimeout(Re),Re=null}function i(){n(),Ae.off(v.default.LOADING_PROGRESS,me,this),Ae.off(v.default.QUALITY_CHANGE_RENDERED,l,this),Ae.off(v.default.METRIC_ADDED,d,this),Ae.off(v.default.PERIOD_SWITCH_COMPLETED,r,this),Te&&Te.reset()}function o(e){e&&(e.streamController&&(Se=e.streamController),e.domStorage&&(We=e.domStorage),e.mediaPlayerModel&&(Ge=e.mediaPlayerModel),e.metricsModel&&(ze=e.metricsModel),e.dashMetrics&&(Xe=e.dashMetrics),e.dashManifestModel&&(Ue=e.dashManifestModel),e.adapter&&(Fe=e.adapter),e.manifestModel&&(je=e.manifestModel),e.videoModel&&(Qe=e.videoModel))}function s(){if(!We||!We.hasOwnProperty("getSavedBitrateSettings"))throw new Error(u.default.MISSING_CONFIG_ERROR)}function l(e){e.mediaType===u.default.VIDEO&&(He=e.oldQuality,Ve.push(He,Qe.getPlaybackQuality()))}function d(e){e.metric!==c.default.HTTP_REQUEST||!e.value||e.value.type!==B.HTTPRequest.MEDIA_SEGMENT_TYPE||e.mediaType!==u.default.AUDIO&&e.mediaType!==u.default.VIDEO||qe.push(e.mediaType,e.value,Je),e.metric!==c.default.BUFFER_LEVEL||e.mediaType!==u.default.AUDIO&&e.mediaType!==u.default.VIDEO||ie(e.mediaType,.001*e.value.level)}function g(e,t){var r=void 0;return we[t]=we[t]||{},we[t].hasOwnProperty(e)||(we[t][e]=0),r=fe(we[t][e],e),r=ge(r,e,we[t][e]),r=ye(r,e)}function h(e){if(e&&Oe&&Oe[e]){var t=Oe[e].getStreamInfo();if(t&&t.id){var r=g(e,t.id),n=ne(Oe[e].getMediaInfo());return n[r]?n[r]:null}}return null}function m(e){s();var t=We.getSavedBitrateSettings(e);if(!De.hasOwnProperty(e))if(Me.hasOwnProperty(e)){var r=je.getValue(),n=Ue.getAdaptationForType(r,0,e).Representation;if(Array.isArray(n)){var i=Math.max(Math.round(n.length*Me[e])-1,0);De[e]=n[i].bandwidth}else De[e]=0}else isNaN(t)?De[e]=e===u.default.VIDEO?x:j:De[e]=t;return De[e]}function b(e,t){(0,k.checkIsVideoOrAudioType)(e),(0,k.checkParameterType)(t,"number"),De[e]=t}function A(e){return Me.hasOwnProperty(e)?Me[e]:null}function _(e,t){Me[e]=t}function T(e){return De.hasOwnProperty("max")&&De.max.hasOwnProperty(e)?De.max[e]:NaN}function I(e){return De.hasOwnProperty("min")&&De.min.hasOwnProperty(e)?De.min[e]:NaN}function C(e,t){(0,k.checkParameterType)(t,"number"),(0,k.checkIsVideoOrAudioType)(e),De.max=De.max||{},De.max[e]=t}function M(e,t){(0,k.checkParameterType)(t,"number"),(0,k.checkIsVideoOrAudioType)(e),De.min=De.min||{},De.min[e]=t}function R(e){var t=T(e);return t?re(Oe[e].getMediaInfo(),t):void 0}function F(e){var t=I(e);if(t){var r=Oe[e].getMediaInfo(),n=ne(r),i=re(r,t);return n[i]&&i<n.length-1&&n[i].bitrate<1e3*t&&i++,i}}function Q(e){return Me.hasOwnProperty("max")&&Me.max.hasOwnProperty(e)?Me.max[e]:1}function G(e,t){Me.max=Me.max||{},Me.max[e]=t}function W(e){return Ie[e]}function H(e,t){(0,k.checkParameterType)(t,"boolean"),(0,k.checkIsVideoOrAudioType)(e),Ie[e]=t}function Y(){return Pe}function V(e){(0,k.checkParameterType)(e,"boolean"),Pe=e}function q(){return ke}function K(e){(0,k.checkParameterType)(e,"boolean"),ke=e}function z(){return Je}function X(e){(0,k.checkParameterType)(e,"boolean"),Je=e}function J(e){if(e&&Oe&&Oe[e]){var t=Oe[e].getStreamInfo(),r=t?t.id:null,n=le(e),i=(0,E.default)(ve).create({abrController:_e,streamProcessor:Oe[e],currentValue:n,switchHistory:Ye[e],droppedFramesHistory:Ve,useBufferOccupancyABR:oe(e)});if(Ve){var o=Qe.getPlaybackQuality();o&&Ve.push(He,o)}if(W(e)){var a=F(e),s=g(e,r),u=Te.getMaxQuality(i),l=u.quality;if(void 0!==a&&l<a&&(l=a),l>s&&(l=s),Ye[e].push({oldValue:n,newValue:l}),l>S.default.NO_CHANGE&&l!=n)(Be[e].state===N||l>n)&&$(e,n,l,s,u.reason);else if(be.getLogToBrowserConsole()){var c=Xe.getCurrentBufferLevel(ze.getReadOnlyMetricsFor(e));Ee.debug("AbrController ("+e+") stay on "+n+"/"+s+" (buffer: "+c+")")}}}}function Z(e,t,r,n){var i=t.id,o=le(e);(0,k.checkInteger)(r);var a=g(e,i);r!==o&&r>=0&&r<=a&&$(e,o,r,a,n)}function $(e,t,r,n,i){if(e&&Oe[e]){var o=Oe[e].getStreamInfo(),a=o?o.id:null;if(be.getLogToBrowserConsole()){var s=Xe.getCurrentBufferLevel(ze.getReadOnlyMetricsFor(e));Ee.info("AbrController ("+e+") switch from "+t+" to "+r+"/"+n+" (buffer: "+s+") "+(i?JSON.stringify(i):"."))}ce(e,a,r),Ae.trigger(v.default.QUALITY_CHANGE_REQUESTED,{mediaType:e,streamInfo:o,oldQuality:t,newQuality:r,reason:i})}}function ee(e,t){Be[e].state=t}function te(e){return Be[e]?Be[e].state:null}function re(e,t,r){var n=e&&e.type?Oe[e.type].getRepresentationInfo():null;if(Je&&r&&n&&n.fragmentDuration){r/=1e3;var i=n.fragmentDuration;if(r>i)return 0;t*=1-r/i}for(var o=ne(e),a=o.length-1;a>=0;a--){if(1e3*t>=o[a].bitrate)return a}return U}function ne(e){var t=[];if(!e||!e.bitrateList)return t;for(var r=e.bitrateList,n=e.type,i=void 0,o=0,a=r.length;o<a;o++)i=new f.default,i.mediaType=n,i.qualityIndex=o,i.bitrate=r[o].bandwidth,i.width=r[o].width,i.height=r[o].height,i.scanType=r[o].scanType,t.push(i);return t}function ie(e,t){var r=Ge.getABRStrategy();if(r===u.default.ABR_STRATEGY_BOLA)return void(Ke[e]=!0);if(r===u.default.ABR_STRATEGY_THROUGHPUT)return void(Ke[e]=!1);var n=Ge.getStableBufferTime(),i=n,o=.5*n,a=Ke[e],s=t>(a?o:i);Ke[e]=s,s!==a&&(s?Ee.info("AbrController ("+e+") switching from throughput to buffer occupancy ABR rule (buffer: "+t.toFixed(3)+")."):Ee.info("AbrController ("+e+") switching from buffer occupancy to throughput ABR rule (buffer: "+t.toFixed(3)+")."))}function oe(e){return Ke[e]}function ae(){return qe}function se(e){var t=e.type,r=e.streamInfo.id,n=e.representationCount-1;return de(t,r,n),n}function ue(e){var t=e.id,r=le(u.default.AUDIO),n=le(u.default.VIDEO);return r===g(u.default.AUDIO,t)&&n===g(u.default.VIDEO,t)}function le(e){if(e&&Oe[e]){var t=Oe[e].getStreamInfo(),r=t?t.id:null;if(r)return Ce[r]=Ce[r]||{},Ce[r].hasOwnProperty(e)||(Ce[r][e]=U),Ce[r][e]}return U}function ce(e,t,r){Ce[t]=Ce[t]||{},Ce[t][e]=r}function de(e,t,r){we[t]=we[t]||{},we[t][e]=r}function fe(e,t){var r=e;if(!Oe[t])return r;var n=F(t);void 0!==n&&(r=Math.max(e,n));var i=R(t);return void 0!==i&&(r=Math.min(r,i)),r}function ge(e,t,r){var n=Q(t);return isNaN(n)||n>=1||n<0?e:Math.min(e,Math.round(r*n))}function pe(e){Le=e}function he(){if(Qe){var e=ke&&window.hasOwnProperty("devicePixelRatio"),t=e?window.devicePixelRatio:1;Ne=Qe.getClientWidth()*t,xe=Qe.getClientHeight()*t}}function ye(e,t){if(t!==u.default.VIDEO||!Pe||!Oe[t])return e;Le||he();var r=je.getValue(),n=Ue.getAdaptationForType(r,0,t).Representation,i=e;if(Ne>0&&xe>0){for(;i>0&&n[i]&&Ne<n[i].width&&Ne-n[i-1].width<n[i].width-Ne;)i-=1;n.length-2>=i&&n[i].width===n[i+1].width&&(i=Math.min(e,i+1))}return i}function me(e){var t=e.request.mediaType;if(W(t)){var r=Oe[t];if(!r)return;var n=(0,E.default)(ve).create({abrController:_e,streamProcessor:r,currentRequest:e.request,useBufferOccupancyABR:oe(t)}),i=Te.shouldAbandonFragment(n);if(i.quality>S.default.NO_CHANGE){var o=r.getFragmentModel();o.getRequests({state:p.default.FRAGMENT_MODEL_LOADING,index:e.request.index})[0]&&(o.abortRequests(),ee(t,L),Ye[t].reset(),Ye[t].push({oldValue:le(t,Se.getActiveStreamInfo()),newValue:i.quality,confidence:1,reason:i.reason}),Z(t,Se.getActiveStreamInfo(),i.quality,i.reason),clearTimeout(Re),Re=setTimeout(function(){ee(t,N),Re=null},Ge.getAbandonLoadTimeout()))}}}var ve=this.context,be=(0,P.default)(ve).getInstance(),Ae=(0,y.default)(ve).getInstance(),_e=void 0,Ee=void 0,Te=void 0,Se=void 0,Ie=void 0,we=void 0,Ce=void 0,De=void 0,Me=void 0,Oe=void 0,Be=void 0,Re=void 0,Pe=void 0,ke=void 0,Le=void 0,Ne=void 0,xe=void 0,je=void 0,Ue=void 0,Fe=void 0,Qe=void 0,Ge=void 0,We=void 0,He=void 0,Ye=void 0,Ve=void 0,qe=void 0,Ke=void 0,ze=void 0,Xe=void 0,Je=void 0;return _e={isPlayingAtTopQuality:ue,updateTopQualityIndex:se,getThroughputHistory:ae,getBitrateList:ne,getQualityForBitrate:re,getMaxAllowedBitrateFor:T,getTopBitrateInfoFor:h,getMinAllowedBitrateFor:I,setMaxAllowedBitrateFor:C,setMinAllowedBitrateFor:M,getMaxAllowedIndexFor:R,getMinAllowedIndexFor:F,getMaxAllowedRepresentationRatioFor:Q,setMaxAllowedRepresentationRatioFor:G,getInitialBitrateFor:m,setInitialBitrateFor:b,getInitialRepresentationRatioFor:A,setInitialRepresentationRatioFor:_,setAutoSwitchBitrateFor:H,getAutoSwitchBitrateFor:W,getUseDeadTimeLatency:z,setUseDeadTimeLatency:X,setLimitBitrateByPortal:V,getLimitBitrateByPortal:Y,getUsePixelRatioInLimitBitrateByPortal:q,setUsePixelRatioInLimitBitrateByPortal:K,getQualityFor:le,getAbandonmentStateFor:te,setPlaybackQuality:Z,checkPlaybackQuality:J,getTopQualityIndexFor:g,setElementSize:he,setWindowResizeEventCalled:pe,createAbrRulesCollection:r,registerStreamType:e,unRegisterStreamType:t,setConfig:o,reset:i},function(){Ee=be.getLogger(_e),n()}(),_e}Object.defineProperty(t,"__esModule",{value:!0});var o=r(231),a=n(o),s=r(2),u=n(s),l=r(69),c=n(l),d=r(232),f=n(d),g=r(103),p=n(g),h=r(3),y=n(h),m=r(5),v=n(m),b=r(1),A=n(b),_=r(529),E=n(_),T=r(39),S=n(T),I=r(530),w=n(I),C=r(531),D=n(C),M=r(532),O=n(M),B=r(19),R=r(4),P=n(R),k=r(70),L="abandonload",N="allowload",x=1e3,j=100,U=0;i.__dashjs_factory_name="AbrController";var F=A.default.getSingletonFactory(i);F.ABANDON_LOAD=L,F.QUALITY_DEFAULT=U,A.default.updateSingletonFactory(i.__dashjs_factory_name,F),t.default=F,e.exports=t.default},function(e,t,r){"use strict";function n(){function e(e){return e}function t(e){return e}return{modifyRequestURL:e,modifyRequestHeader:t}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(1),o=function(e){return e&&e.__esModule?e:{default:e}}(i);n.__dashjs_factory_name="RequestModifier",t.default=o.default.getSingletonFactory(n),e.exports=t.default},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function(){function e(t,r){n(this,e),this._test=t,this._converter=r}return i(e,[{key:"test",get:function(){return this._test}},{key:"converter",get:function(){return this._converter}}]),e}();t.default=o,e.exports=t.default},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t,r){for(var n=!0;n;){var i=e,o=t,a=r;n=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=o,r=a,n=!0,s=l=void 0}},a=r(104),s=function(e){return e&&e.__esModule?e:{default:e}}(a),u=function(e){function t(){n(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.METRICS_INITIALISATION_COMPLETE="internal_metricsReportingInitialized",this.BECAME_REPORTING_PLAYER="internal_becameReportingPlayer"}return i(t,e),t}(s.default),l=new u;t.default=l,e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(){function e(e){e&&(e.debug&&(_=e.debug,T=_.getLogger(b)),e.BASE64&&(w=e.BASE64))}function t(){I=[];var e=void 0;e=(0,p.default)(m).getInstance({BASE64:w}),I.push(e),e=(0,f.default)(m).getInstance({BASE64:w}),I.push(e),e=(0,u.default)(m).getInstance({BASE64:w}),I.push(e),C=e,e=(0,c.default)(m).getInstance({BASE64:w,debug:_}),I.push(e),D=e}function r(){return I}function n(e){for(var t=0;t<I.length;t++)if(I[t].systemString===e)return I[t];return null}function i(e){return e===C||e===D}function o(e,t){if(e.byteLength===t.byteLength){for(var r=new Uint8Array(e),n=new Uint8Array(t),i=0;i<r.length;i++)if(r[i]!==n[i])return!1;return!0}return!1}function s(e){var t=void 0,r=void 0,n=void 0,i=void 0,o=[];if(e)for(n=0;n<I.length;++n)for(r=I[n],i=0;i<e.length;++i)if(t=e[i],t.schemeIdUri.toLowerCase()===r.schemeIdURI){var a=r.getInitData(t);a?o.push({ks:I[n],initData:a,cdmData:r.getCDMData(),sessionId:r.getSessionId(t)}):this.isClearKey(r)&&o.push({ks:r,initData:null})}return o}function l(e,t){for(var r=[],n=a.default.parsePSSHList(e),i=void 0,o=void 0,s=void 0,u=0;u<I.length;++u)i=I[u],o=i.systemString,s=!t||o in t,i.uuid in n&&s&&r.push({ks:i,initData:n[i.uuid],cdmData:i.getCDMData(),sessionId:i.getSessionId()});return r}function d(e,t,r){if("license-release"===r||"individualization-request"===r)return null;var n=null;return t&&t.hasOwnProperty("drmtoday")?n=(0,y.default)(m).getInstance({BASE64:w}):e.systemString===S.default.WIDEVINE_KEYSTEM_STRING?n=(0,A.default)(m).getInstance():e.systemString===S.default.PLAYREADY_KEYSTEM_STRING?n=(0,v.default)(m).getInstance():e.systemString===S.default.CLEARKEY_KEYSTEM_STRING&&(n=(0,E.default)(m).getInstance()),n}function g(e,t,r){try{return e.getClearKeysFromProtectionData(t,r)}catch(e){return T.error("Failed to retrieve clearkeys from ProtectionData"),null}}function h(e){for(var t=0;t<I.length;t++){var r=I[t];r.hasOwnProperty("init")&&r.init(function(t){var r=null;return e&&(r=t in e?e[t]:null),r}(r.systemString))}}var m=this.context,b=void 0,_=void 0,T=void 0,I=void 0,w=void 0,C=void 0,D=void 0;return b={initialize:t,setProtectionData:h,isClearKey:i,initDataEquals:o,getKeySystems:r,getKeySystemBySystemString:n,getSupportedKeySystemsFromContentProtection:s,getSupportedKeySystems:l,getLicenseServer:d,processClearKeyLicenseRequest:g,setConfig:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(72),a=n(o),s=r(636),u=n(s),l=r(637),c=n(l),d=r(638),f=n(d),g=r(639),p=n(g),h=r(640),y=n(h),m=r(641),v=n(m),b=r(642),A=n(b),_=r(643),E=n(_),T=r(59),S=n(T);i.__dashjs_factory_name="ProtectionKeyController",t.default=dashjs.FactoryMaker.getSingletonFactory(i),e.exports=t.default},function(e,t,r){function n(e,t,r,P,k,L){var N,x=t&I,j=t&w,U=t&C;if(r&&(N=k?r(e,P,k,L):r(e)),void 0!==N)return N;if(!E(e))return e;var F=b(e);if(F){if(N=y(e),!x)return c(e,N)}else{var Q=h(e),G=Q==M||Q==O;if(A(e))return l(e,x);if(Q==B||Q==D||G&&!k){if(N=j||G?{}:v(e),!x)return j?f(e,u(N,e)):d(e,s(N,e))}else{if(!R[Q])return k?e:{};N=m(e,Q,x)}}L||(L=new i);var W=L.get(e);if(W)return W;if(L.set(e,N),T(e))return e.forEach(function(i){N.add(n(i,t,r,i,e,L))}),N;if(_(e))return e.forEach(function(i,o){N.set(o,n(i,t,r,o,e,L))}),N;var H=U?j?p:g:j?keysIn:S,Y=F?void 0:H(e);return o(Y||e,function(i,o){Y&&(o=i,i=e[o]),a(N,o,n(i,t,r,o,e,L))}),N}var i=r(171),o=r(678),a=r(254),s=r(680),u=r(686),l=r(689),c=r(260),d=r(690),f=r(692),g=r(264),p=r(693),h=r(61),y=r(698),m=r(699),v=r(704),b=r(40),A=r(89),_=r(267),E=r(44),T=r(268),S=r(74),I=1,w=2,C=4,D="[object Arguments]",M="[object Function]",O="[object GeneratorFunction]",B="[object Object]",R={};R[D]=R["[object Array]"]=R["[object ArrayBuffer]"]=R["[object DataView]"]=R["[object Boolean]"]=R["[object Date]"]=R["[object Float32Array]"]=R["[object Float64Array]"]=R["[object Int8Array]"]=R["[object Int16Array]"]=R["[object Int32Array]"]=R["[object Map]"]=R["[object Number]"]=R[B]=R["[object RegExp]"]=R["[object Set]"]=R["[object String]"]=R["[object Symbol]"]=R["[object Uint8Array]"]=R["[object Uint8ClampedArray]"]=R["[object Uint16Array]"]=R["[object Uint32Array]"]=!0,R["[object Error]"]=R[M]=R["[object WeakMap]"]=!1,e.exports=n},function(e,t,r){function n(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}var i=r(652),o=r(653),a=r(654),s=r(655),u=r(656);n.prototype.clear=i,n.prototype.delete=o,n.prototype.get=a,n.prototype.has=s,n.prototype.set=u,e.exports=n},function(e,t,r){function n(e,t){for(var r=e.length;r--;)if(i(e[r][0],t))return r;return-1}var i=r(117);e.exports=n},function(e,t){function r(e,t){return e===t||e!==e&&t!==t}e.exports=r},function(e,t,r){function n(e){if(!o(e))return!1;var t=i(e);return t==s||t==u||t==a||t==l}var i=r(21),o=r(44),a="[object AsyncFunction]",s="[object Function]",u="[object GeneratorFunction]",l="[object Proxy]";e.exports=n},function(e,t,r){var n=r(60),i=n(Object,"create");e.exports=i},function(e,t,r){function n(e,t){var r=e.__data__;return i(t)?r["string"==typeof t?"string":"hash"]:r.map}var i=r(674);e.exports=n},function(e,t,r){var n=r(684),i=r(75),o=r(76),a=o&&o.isTypedArray,s=a?i(a):n;e.exports=s},function(e,t){function r(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}var n=Object.prototype;e.exports=r},function(e,t,r){function n(e){return function(t,r){return"string"==typeof t&&"string"==typeof r||(t=i(t),r=i(r)),e(t,r)}}var i=r(180);e.exports=n},function(e,t,r){function n(e){var t=i(e),r=t%1;return t===t?r?t-r:t:0}var i=r(273);e.exports=n},function(e,t,r){var n=r(9),i=r(6).document,o=n(i)&&n(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},function(e,t,r){t.f=r(10)},function(e,t,r){var n=r(90)("keys"),i=r(46);e.exports=function(e){return n[e]||(n[e]=i(e))}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,r){var n=r(6).document;e.exports=n&&n.documentElement},function(e,t,r){var n=r(9),i=r(8),o=function(e,t){if(i(e),!n(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,n){try{n=r(30)(Function.call,r(33).f(Object.prototype,"__proto__").set,2),n(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,r){return o(e,r),t?e.__proto__=r:n(e,r),e}}({},!1):void 0),check:o}},function(e,t){e.exports="\t\n\v\f\r \u2028\u2029\ufeff"},function(e,t,r){var n=r(9),i=r(130).set;e.exports=function(e,t,r){var o,a=t.constructor;return a!==r&&"function"==typeof a&&(o=a.prototype)!==r.prototype&&n(o)&&i&&i(e,o),e}},function(e,t,r){"use strict";var n=r(32),i=r(37);e.exports=function(e){var t=String(i(this)),r="",o=n(e);if(o<0||o==1/0)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(t+=t))1&o&&(r+=t);return r}},function(e,t){e.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},function(e,t){var r=Math.expm1;e.exports=!r||r(10)>22025.465794806718||r(10)<22025.465794806718||-2e-17!=r(-2e-17)?function(e){return 0==(e=+e)?e:e>-1e-6&&e<1e-6?e+e*e/2:Math.exp(e)-1}:r},function(e,t,r){var n=r(32),i=r(37);e.exports=function(e){return function(t,r){var o,a,s=String(i(t)),u=n(r),l=s.length;return u<0||u>=l?e?"":void 0:(o=s.charCodeAt(u),o<55296||o>56319||u+1===l||(a=s.charCodeAt(u+1))<56320||a>57343?e?s.charAt(u):o:e?s.slice(u,u+2):a-56320+(o-55296<<10)+65536)}}},function(e,t,r){"use strict";var n=r(47),i=r(0),o=r(22),a=r(25),s=r(64),u=r(198),l=r(62),c=r(52),d=r(10)("iterator"),f=!([].keys&&"next"in[].keys()),g=function(){return this};e.exports=function(e,t,r,p,h,y,m){u(r,t,p);var v,b,A,_=function(e){if(!f&&e in I)return I[e];switch(e){case"keys":case"values":return function(){return new r(this,e)}}return function(){return new r(this,e)}},E=t+" Iterator",T="values"==h,S=!1,I=e.prototype,w=I[d]||I["@@iterator"]||h&&I[h],C=w||_(h),D=h?T?_("entries"):C:void 0,M="Array"==t?I.entries||w:w;if(M&&(A=c(M.call(new e)))!==Object.prototype&&A.next&&(l(A,E,!0),n||"function"==typeof A[d]||a(A,d,g)),T&&w&&"values"!==w.name&&(S=!0,C=function(){return w.call(this)}),n&&!m||!f&&!S&&I[d]||a(I,d,C),s[t]=C,s[E]=g,h)if(v={values:T?C:_("values"),keys:y?C:_("keys"),entries:D},m)for(b in v)b in I||o(I,b,v[b]);else i(i.P+i.F*(f||S),t,v);return v}},function(e,t,r){var n=r(139),i=r(37);e.exports=function(e,t,r){if(n(t))throw TypeError("String#"+r+" doesn't accept regex!");return String(i(e))}},function(e,t,r){var n=r(9),i=r(36),o=r(10)("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==i(e))}},function(e,t,r){var n=r(10)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(r){try{return t[n]=!1,!"/./"[e](t)}catch(e){}}return!0}},function(e,t,r){var n=r(64),i=r(10)("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(n.Array===e||o[i]===e)}},function(e,t,r){"use strict";var n=r(16),i=r(45);e.exports=function(e,t,r){t in e?n.f(e,t,i(0,r)):e[t]=r}},function(e,t,r){var n=r(80),i=r(10)("iterator"),o=r(64);e.exports=r(13).getIteratorMethod=function(e){if(void 0!=e)return e[i]||e["@@iterator"]||o[n(e)]}},function(e,t,r){"use strict";var n=r(20),i=r(49),o=r(11);e.exports=function(e){for(var t=n(this),r=o(t.length),a=arguments.length,s=i(a>1?arguments[1]:void 0,r),u=a>2?arguments[2]:void 0,l=void 0===u?r:i(u,r);l>s;)t[s++]=e;return t}},function(e,t,r){"use strict";var n=r(53),i=r(203),o=r(64),a=r(26);e.exports=r(137)(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,r=this._i++;return!e||r>=e.length?(this._t=void 0,i(1)):"keys"==t?i(0,r):"values"==t?i(0,e[r]):i(0,[r,e[r]])},"values"),o.Arguments=o.Array,n("keys"),n("values"),n("entries")},function(e,t,r){"use strict";var n=r(95),i=RegExp.prototype.exec,o=String.prototype.replace,a=i,s=function(){var e=/a/,t=/b*/g;return i.call(e,"a"),i.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),u=void 0!==/()??/.exec("")[1];(s||u)&&(a=function(e){var t,r,a,l,c=this;return u&&(r=new RegExp("^"+c.source+"$(?!\\s)",n.call(c))),s&&(t=c.lastIndex),a=i.call(c,e),s&&a&&(c.lastIndex=c.global?a.index+a[0].length:t),u&&a&&a.length>1&&o.call(a[0],r,function(){for(l=1;l<arguments.length-2;l++)void 0===arguments[l]&&(a[l]=void 0)}),a}),e.exports=a},function(e,t,r){"use strict";var n=r(136)(!0);e.exports=function(e,t,r){return t+(r?n(e,t).length:1)}},function(e,t,r){var n,i,o,a=r(30),s=r(192),u=r(129),l=r(125),c=r(6),d=c.process,f=c.setImmediate,g=c.clearImmediate,p=c.MessageChannel,h=c.Dispatch,y=0,m={},v=function(){var e=+this;if(m.hasOwnProperty(e)){var t=m[e];delete m[e],t()}},b=function(e){v.call(e.data)};f&&g||(f=function(e){for(var t=[],r=1;arguments.length>r;)t.push(arguments[r++]);return m[++y]=function(){s("function"==typeof e?e:Function(e),t)},n(y),y},g=function(e){delete m[e]},"process"==r(36)(d)?n=function(e){d.nextTick(a(v,e,1))}:h&&h.now?n=function(e){h.now(a(v,e,1))}:p?(i=new p,o=i.port2,i.port1.onmessage=b,n=a(o.postMessage,o,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(n=function(e){c.postMessage(e+"","*")},c.addEventListener("message",b,!1)):n="onreadystatechange"in l("script")?function(e){u.appendChild(l("script")).onreadystatechange=function(){u.removeChild(this),v.call(e)}}:function(e){setTimeout(a(v,e,1),0)}),e.exports={set:f,clear:g}},function(e,t,r){"use strict";function n(e,t,r){var n,i,o,a=new Array(r),s=8*r-t-1,u=(1<<s)-1,l=u>>1,c=23===t?j(2,-24)-j(2,-77):0,d=0,f=e<0||0===e&&1/e<0?1:0;for(e=x(e),e!=e||e===L?(i=e!=e?1:0,n=u):(n=U(F(e)/Q),e*(o=j(2,-n))<1&&(n--,o*=2),e+=n+l>=1?c/o:c*j(2,1-l),e*o>=2&&(n++,o/=2),n+l>=u?(i=0,n=u):n+l>=1?(i=(e*o-1)*j(2,t),n+=l):(i=e*j(2,l-1)*j(2,t),n=0));t>=8;a[d++]=255&i,i/=256,t-=8);for(n=n<<t|i,s+=t;s>0;a[d++]=255&n,n/=256,s-=8);return a[--d]|=128*f,a}function i(e,t,r){var n,i=8*r-t-1,o=(1<<i)-1,a=o>>1,s=i-7,u=r-1,l=e[u--],c=127&l;for(l>>=7;s>0;c=256*c+e[u],u--,s-=8);for(n=c&(1<<-s)-1,c>>=-s,s+=t;s>0;n=256*n+e[u],u--,s-=8);if(0===c)c=1-a;else{if(c===o)return n?NaN:l?-L:L;n+=j(2,t),c-=a}return(l?-1:1)*n*j(2,c-t)}function o(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]}function a(e){return[255&e]}function s(e){return[255&e,e>>8&255]}function u(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]}function l(e){return n(e,52,8)}function c(e){return n(e,23,4)}function d(e,t,r){w(e[M],t,{get:function(){return this[r]}})}function f(e,t,r,n){var i=+r,o=S(i);if(o+t>e[W])throw k(O);var a=e[G]._b,s=o+e[H],u=a.slice(s,s+t);return n?u:u.reverse()}function g(e,t,r,n,i,o){var a=+r,s=S(a);if(s+t>e[W])throw k(O);for(var u=e[G]._b,l=s+e[H],c=n(+i),d=0;d<t;d++)u[l+d]=c[o?d:t-d-1]}var p=r(6),h=r(15),y=r(47),m=r(101),v=r(25),b=r(67),A=r(7),_=r(66),E=r(32),T=r(11),S=r(211),I=r(51).f,w=r(16).f,C=r(144),D=r(62),M="prototype",O="Wrong index!",B=p.ArrayBuffer,R=p.DataView,P=p.Math,k=p.RangeError,L=p.Infinity,N=B,x=P.abs,j=P.pow,U=P.floor,F=P.log,Q=P.LN2,G=h?"_b":"buffer",W=h?"_l":"byteLength",H=h?"_o":"byteOffset";if(m.ABV){if(!A(function(){B(1)})||!A(function(){new B(-1)})||A(function(){return new B,new B(1.5),new B(NaN),"ArrayBuffer"!=B.name})){B=function(e){return _(this,B),new N(S(e))};for(var Y,V=B[M]=N[M],q=I(N),K=0;q.length>K;)(Y=q[K++])in B||v(B,Y,N[Y]);y||(V.constructor=B)}var z=new R(new B(2)),X=R[M].setInt8;z.setInt8(0,2147483648),z.setInt8(1,2147483649),!z.getInt8(0)&&z.getInt8(1)||b(R[M],{setInt8:function(e,t){X.call(this,e,t<<24>>24)},setUint8:function(e,t){X.call(this,e,t<<24>>24)}},!0)}else B=function(e){_(this,B,"ArrayBuffer");var t=S(e);this._b=C.call(new Array(t),0),this[W]=t},R=function(e,t,r){_(this,R,"DataView"),_(e,B,"DataView");var n=e[W],i=E(t);if(i<0||i>n)throw k("Wrong offset!");if(r=void 0===r?n-i:T(r),i+r>n)throw k("Wrong length!");this[G]=e,this[H]=i,this[W]=r},h&&(d(B,"byteLength","_l"),d(R,"buffer","_b"),d(R,"byteLength","_l"),d(R,"byteOffset","_o")),b(R[M],{getInt8:function(e){return f(this,1,e)[0]<<24>>24},getUint8:function(e){return f(this,1,e)[0]},getInt16:function(e){var t=f(this,2,e,arguments[1]);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=f(this,2,e,arguments[1]);return t[1]<<8|t[0]},getInt32:function(e){return o(f(this,4,e,arguments[1]))},getUint32:function(e){return o(f(this,4,e,arguments[1]))>>>0},getFloat32:function(e){return i(f(this,4,e,arguments[1]),23,4)},getFloat64:function(e){return i(f(this,8,e,arguments[1]),52,8)},setInt8:function(e,t){g(this,1,e,a,t)},setUint8:function(e,t){g(this,1,e,a,t)},setInt16:function(e,t){g(this,2,e,s,t,arguments[2])},setUint16:function(e,t){g(this,2,e,s,t,arguments[2])},setInt32:function(e,t){g(this,4,e,u,t,arguments[2])},setUint32:function(e,t){g(this,4,e,u,t,arguments[2])},setFloat32:function(e,t){g(this,4,e,c,t,arguments[2])},setFloat64:function(e,t){g(this,8,e,l,t,arguments[2])}});D(B,"ArrayBuffer"),D(R,"DataView"),v(R[M],m.VIEW,!0),t.ArrayBuffer=B,t.DataView=R},function(e,t){var r=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,r){e.exports=!r(216)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(){function e(e){e&&(e.errHandler&&(C=e.errHandler),e.dashManifestModel&&(D=e.dashManifestModel),e.manifestModel&&(M=e.manifestModel),e.mediaController&&(O=e.mediaController),e.videoModel&&(B=e.videoModel),e.streamController&&(R=e.streamController),e.textTracks&&(P=e.textTracks),e.vttParser&&(k=e.vttParser),e.ttmlParser&&(L=e.ttmlParser),w.setConfig({errHandler:C,dashManifestModel:D,manifestModel:M,mediaController:O,videoModel:B,streamController:R,textTracks:P,vttParser:k,ttmlParser:L}))}function t(){return w}function r(){return F}function n(e){w.addEmbeddedTrack(e)}function i(e){(0,_.checkParameterType)(e,"string"),x=e}function o(){return x}function s(e){var t=this,r=e.tracks,n=e.index;r.some(function(e,r){if(e.lang===x)return t.setTextTrack(r),n=r,!0}),U||this.setTextTrack(-1),j=n,N.trigger(A.default.TEXT_TRACKS_ADDED,{enabled:g(),index:n,tracks:r})}function u(e){(0,_.checkParameterType)(e,"boolean"),(U=e)||this.setTextTrack(-1)}function l(){return U}function d(e){(0,_.checkParameterType)(e,"boolean"),g()!==e&&(e&&this.setTextTrack(j),e||(j=this.getCurrentTrackIdx(),this.setTextTrack(-1)))}function g(){var e=!0;return F&&!Q&&(e=!1),e}function h(e){(0,_.checkParameterType)(e,"boolean"),Q=e}function m(e){var t=w.getConfig(),r=t.fragmentModel,n=t.fragmentedTracks,i=t.videoModel,o=void 0,s=void 0;F=-1===e;var u=P.getCurrentTrackIdx();if(u!==e){P.setModeForTrackIdx(u,a.default.TEXT_HIDDEN),P.setCurrentTrackIdx(e),P.setModeForTrackIdx(e,a.default.TEXT_SHOWING);var l=P.getCurrentTrackInfo();if(l&&l.isFragmented&&!l.isEmbedded)for(var c=0;c<n.length;c++){var d=n[c];if(l.lang===d.lang&&l.index===d.index&&(d.id?l.label===d.id:l.label===d.index)){var f=O.getCurrentTrackFor(a.default.FRAGMENTED_TEXT,R.getActiveStreamInfo());if(d!==f)r.abortRequests(),r.removeExecutedRequestsBeforeTime(),w.remove(),P.deleteCuesFromTrackIdx(u),O.setTrack(d),w.setCurrentFragmentedTrackIdx(c);else if(-1===u){for(var g=R.getActiveStreamProcessors(),p=0;p<g.length;p++)if(g[p].getType()===a.default.FRAGMENTED_TEXT){s=g[p];break}s.getIndexHandler().setCurrentTime(i.getTime()),s.getScheduleController().start()}}}else if(l&&!l.isFragmented){for(var g=R.getActiveStreamProcessors(),c=0;c<g.length;c++)if(g[c].getType()===a.default.TEXT){s=g[c],o=s.getMediaInfoArr();break}if(s&&o)for(var c=0;c<o.length;c++)if(o[c].index===l.index&&o[c].lang===l.lang){s.selectMediaInfo(o[c]);break}}}}function b(){return P.getCurrentTrackIdx()}function E(){F=!1}function T(){E(),w.resetEmbedded(),w.reset()}var S=this.context,I=void 0,w=void 0,C=void 0,D=void 0,M=void 0,O=void 0,B=void 0,R=void 0,P=void 0,k=void 0,L=void 0,N=void 0,x=void 0,j=void 0,U=void 0,F=void 0,Q=void 0;return I={setConfig:e,getTextSourceBuffer:t,getAllTracksAreDisabled:r,addEmbeddedTrack:n,getTextDefaultLanguage:o,setTextDefaultLanguage:i,setTextDefaultEnabled:u,getTextDefaultEnabled:l,enableText:d,isTextEnabled:g,setTextTrack:m,getCurrentTrackIdx:b,enableForcedTextStreaming:h,reset:T},function(){x="",j=-1,U=!0,Q=!1,P=(0,f.default)(S).getInstance(),k=(0,p.default)(S).getInstance(),L=(0,y.default)(S).getInstance(),w=(0,c.default)(S).getInstance(),N=(0,v.default)(S).getInstance(),P.initialize(),N.on(A.default.TEXT_TRACKS_QUEUE_INITIALIZED,s,I),E()}(),I}Object.defineProperty(t,"__esModule",{value:!0});var o=r(2),a=n(o),s=r(1),u=n(s),l=r(500),c=n(l),d=r(155),f=n(d),g=r(520),p=n(g),h=r(521),y=n(h),m=r(3),v=n(m),b=r(5),A=n(b),_=r(70);i.__dashjs_factory_name="TextController",t.default=u.default.getSingletonFactory(i),e.exports=t.default},function(e,t,r){/*! codem-isoboxer v0.3.6 https://github.com/madebyhiro/codem-isoboxer/blob/master/LICENSE.txt */
var n={};n.parseBuffer=function(e){return new i(e).parse()},n.addBoxProcessor=function(e,t){"string"==typeof e&&"function"==typeof t&&(o.prototype._boxProcessors[e]=t)},n.createFile=function(){return new i},n.createBox=function(e,t,r){var n=o.create(e);return t&&t.append(n,r),n},n.createFullBox=function(e,t,r){var i=n.createBox(e,t,r);return i.version=0,i.flags=0,i},n.Utils={},n.Utils.dataViewToString=function(e,t){var r=t||"utf-8";if("undefined"!=typeof TextDecoder)return new TextDecoder(r).decode(e);var n=[],i=0;if("utf-8"===r)for(;i<e.byteLength;){var o=e.getUint8(i++);o<128||(o<224?(o=(31&o)<<6,o|=63&e.getUint8(i++)):o<240?(o=(15&o)<<12,o|=(63&e.getUint8(i++))<<6,o|=63&e.getUint8(i++)):(o=(7&o)<<18,o|=(63&e.getUint8(i++))<<12,o|=(63&e.getUint8(i++))<<6,o|=63&e.getUint8(i++))),n.push(String.fromCharCode(o))}else for(;i<e.byteLength;)n.push(String.fromCharCode(e.getUint8(i++)));return n.join("")},n.Utils.utf8ToByteArray=function(e){var t,r;if("undefined"!=typeof TextEncoder)t=(new TextEncoder).encode(e);else for(t=[],r=0;r<e.length;++r){var n=e.charCodeAt(r);n<128?t.push(n):n<2048?(t.push(192|n>>6),t.push(128|63&n)):n<65536?(t.push(224|n>>12),t.push(128|63&n>>6),t.push(128|63&n)):(t.push(240|n>>18),t.push(128|63&n>>12),t.push(128|63&n>>6),t.push(128|63&n))}return t},n.Utils.appendBox=function(e,t,r){if(t._offset=e._cursor.offset,t._root=e._root?e._root:e,t._raw=e._raw,t._parent=e,-1!==r){if(void 0===r||null===r)return void e.boxes.push(t);var n,i=-1;if("number"==typeof r)i=r;else{if("string"==typeof r)n=r;else{if("object"!=typeof r||!r.type)return void e.boxes.push(t);n=r.type}for(var o=0;o<e.boxes.length;o++)if(n===e.boxes[o].type){i=o+1;break}}e.boxes.splice(i,0,t)}},t.parseBuffer=n.parseBuffer,t.addBoxProcessor=n.addBoxProcessor,t.createFile=n.createFile,t.createBox=n.createBox,t.createFullBox=n.createFullBox,t.Utils=n.Utils,n.Cursor=function(e){this.offset=void 0===e?0:e};var i=function(e){this._cursor=new n.Cursor,this.boxes=[],e&&(this._raw=new DataView(e))};i.prototype.fetch=function(e){var t=this.fetchAll(e,!0);return t.length?t[0]:null},i.prototype.fetchAll=function(e,t){var r=[];return i._sweep.call(this,e,r,t),r},i.prototype.parse=function(){for(this._cursor.offset=0,this.boxes=[];this._cursor.offset<this._raw.byteLength;){var e=o.parse(this);if(void 0===e.type)break;this.boxes.push(e)}return this},i._sweep=function(e,t,r){this.type&&this.type==e&&t.push(this);for(var n in this.boxes){if(t.length&&r)return;i._sweep.call(this.boxes[n],e,t,r)}},i.prototype.write=function(){var e,t=0;for(e=0;e<this.boxes.length;e++)t+=this.boxes[e].getLength(!1);var r=new Uint8Array(t);for(this._rawo=new DataView(r.buffer),this.bytes=r,this._cursor.offset=0,e=0;e<this.boxes.length;e++)this.boxes[e].write();return r.buffer},i.prototype.append=function(e,t){n.Utils.appendBox(this,e,t)};var o=function(){this._cursor=new n.Cursor};o.parse=function(e){var t=new o;return t._offset=e._cursor.offset,t._root=e._root?e._root:e,t._raw=e._raw,t._parent=e,t._parseBox(),e._cursor.offset=t._raw.byteOffset+t._raw.byteLength,t},o.create=function(e){var t=new o;return t.type=e,t.boxes=[],t},o.prototype._boxContainers=["dinf","edts","mdia","meco","mfra","minf","moof","moov","mvex","stbl","strk","traf","trak","tref","udta","vttc","sinf","schi","encv","enca"],o.prototype._boxProcessors={},o.prototype._procField=function(e,t,r){this._parsing?this[e]=this._readField(t,r):this._writeField(t,r,this[e])},o.prototype._procFieldArray=function(e,t,r,n){var i;if(this._parsing)for(this[e]=[],i=0;i<t;i++)this[e][i]=this._readField(r,n);else for(i=0;i<this[e].length;i++)this._writeField(r,n,this[e][i])},o.prototype._procFullBox=function(){this._procField("version","uint",8),this._procField("flags","uint",24)},o.prototype._procEntries=function(e,t,r){var n;if(this._parsing)for(this[e]=[],n=0;n<t;n++)this[e].push({}),r.call(this,this[e][n]);else for(n=0;n<t;n++)r.call(this,this[e][n])},o.prototype._procSubEntries=function(e,t,r,n){var i;if(this._parsing)for(e[t]=[],i=0;i<r;i++)e[t].push({}),n.call(this,e[t][i]);else for(i=0;i<r;i++)n.call(this,e[t][i])},o.prototype._procEntryField=function(e,t,r,n){this._parsing?e[t]=this._readField(r,n):this._writeField(r,n,e[t])},o.prototype._procSubBoxes=function(e,t){var r;if(this._parsing)for(this[e]=[],r=0;r<t;r++)this[e].push(o.parse(this));else for(r=0;r<t;r++)this._rawo?this[e][r].write():this.size+=this[e][r].getLength()},o.prototype._readField=function(e,t){switch(e){case"uint":return this._readUint(t);case"int":return this._readInt(t);case"template":return this._readTemplate(t);case"string":return-1===t?this._readTerminatedString():this._readString(t);case"data":return this._readData(t);case"utf8":return this._readUTF8String();default:return-1}},o.prototype._readInt=function(e){var t=null,r=this._cursor.offset-this._raw.byteOffset;switch(e){case 8:t=this._raw.getInt8(r);break;case 16:t=this._raw.getInt16(r);break;case 32:t=this._raw.getInt32(r);break;case 64:var n=this._raw.getInt32(r),i=this._raw.getInt32(r+4);t=n*Math.pow(2,32)+i}return this._cursor.offset+=e>>3,t},o.prototype._readUint=function(e){var t,r,n=null,i=this._cursor.offset-this._raw.byteOffset;switch(e){case 8:n=this._raw.getUint8(i);break;case 16:n=this._raw.getUint16(i);break;case 24:t=this._raw.getUint16(i),r=this._raw.getUint8(i+2),n=(t<<8)+r;break;case 32:n=this._raw.getUint32(i);break;case 64:t=this._raw.getUint32(i),r=this._raw.getUint32(i+4),n=t*Math.pow(2,32)+r}return this._cursor.offset+=e>>3,n},o.prototype._readString=function(e){for(var t="",r=0;r<e;r++){var n=this._readUint(8);t+=String.fromCharCode(n)}return t},o.prototype._readTemplate=function(e){return this._readUint(e/2)+this._readUint(e/2)/Math.pow(2,e/2)},o.prototype._readTerminatedString=function(){for(var e="";this._cursor.offset-this._offset<this._raw.byteLength;){var t=this._readUint(8);if(0===t)break;e+=String.fromCharCode(t)}return e},o.prototype._readData=function(e){var t=e>0?e:this._raw.byteLength-(this._cursor.offset-this._offset);if(t>0){var r=new Uint8Array(this._raw.buffer,this._cursor.offset,t);return this._cursor.offset+=t,r}return null},o.prototype._readUTF8String=function(){var e=this._raw.byteLength-(this._cursor.offset-this._offset),t=null;return e>0&&(t=new DataView(this._raw.buffer,this._cursor.offset,e),this._cursor.offset+=e),t?n.Utils.dataViewToString(t):t},o.prototype._parseBox=function(){if(this._parsing=!0,this._cursor.offset=this._offset,this._offset+8>this._raw.buffer.byteLength)return void(this._root._incomplete=!0);switch(this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this.size){case 0:this._raw=new DataView(this._raw.buffer,this._offset,this._raw.byteLength-this._cursor.offset+8);break;case 1:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.largesize);break;default:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.size)}this._incomplete||(this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==this._boxContainers.indexOf(this.type)?this._parseContainerBox():this._data=this._readData())},o.prototype._parseFullBox=function(){this.version=this._readUint(8),this.flags=this._readUint(24)},o.prototype._parseContainerBox=function(){for(this.boxes=[];this._cursor.offset-this._raw.byteOffset<this._raw.byteLength;)this.boxes.push(o.parse(this))},o.prototype.append=function(e,t){n.Utils.appendBox(this,e,t)},o.prototype.getLength=function(){if(this._parsing=!1,this._rawo=null,this.size=0,this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==this._boxContainers.indexOf(this.type))for(var e=0;e<this.boxes.length;e++)this.size+=this.boxes[e].getLength();return this._data&&this._writeData(this._data),this.size},o.prototype.write=function(){switch(this._parsing=!1,this._cursor.offset=this._parent._cursor.offset,this.size){case 0:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.parent._rawo.byteLength-this._cursor.offset);break;case 1:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.largesize);break;default:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.size)}if(this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==this._boxContainers.indexOf(this.type))for(var e=0;e<this.boxes.length;e++)this.boxes[e].write();return this._data&&this._writeData(this._data),this._parent._cursor.offset+=this.size,this.size},o.prototype._writeInt=function(e,t){if(this._rawo){var r=this._cursor.offset-this._rawo.byteOffset;switch(e){case 8:this._rawo.setInt8(r,t);break;case 16:this._rawo.setInt16(r,t);break;case 32:this._rawo.setInt32(r,t);break;case 64:var n=Math.floor(t/Math.pow(2,32)),i=t-n*Math.pow(2,32);this._rawo.setUint32(r,n),this._rawo.setUint32(r+4,i)}this._cursor.offset+=e>>3}else this.size+=e>>3},o.prototype._writeUint=function(e,t){if(this._rawo){var r,n,i=this._cursor.offset-this._rawo.byteOffset;switch(e){case 8:this._rawo.setUint8(i,t);break;case 16:this._rawo.setUint16(i,t);break;case 24:r=(16776960&t)>>8,n=255&t,this._rawo.setUint16(i,r),this._rawo.setUint8(i+2,n);break;case 32:this._rawo.setUint32(i,t);break;case 64:r=Math.floor(t/Math.pow(2,32)),n=t-r*Math.pow(2,32),this._rawo.setUint32(i,r),this._rawo.setUint32(i+4,n)}this._cursor.offset+=e>>3}else this.size+=e>>3},o.prototype._writeString=function(e,t){for(var r=0;r<e;r++)this._writeUint(8,t.charCodeAt(r))},o.prototype._writeTerminatedString=function(e){if(0!==e.length){for(var t=0;t<e.length;t++)this._writeUint(8,e.charCodeAt(t));this._writeUint(8,0)}},o.prototype._writeTemplate=function(e,t){var r=Math.floor(t),n=(t-r)*Math.pow(2,e/2);this._writeUint(e/2,r),this._writeUint(e/2,n)},o.prototype._writeData=function(e){var t;if(e)if(this._rawo){if(e instanceof Array){for(var r=this._cursor.offset-this._rawo.byteOffset,t=0;t<e.length;t++)this._rawo.setInt8(r+t,e[t]);this._cursor.offset+=e.length}e instanceof Uint8Array&&(this._root.bytes.set(e,this._cursor.offset),this._cursor.offset+=e.length)}else this.size+=e.length},o.prototype._writeUTF8String=function(e){var t=n.Utils.utf8ToByteArray(e);if(this._rawo)for(var r=new DataView(this._rawo.buffer,this._cursor.offset,t.length),i=0;i<t.length;i++)r.setUint8(i,t[i]);else this.size+=t.length},o.prototype._writeField=function(e,t,r){switch(e){case"uint":this._writeUint(t,r);break;case"int":this._writeInt(t,r);break;case"template":this._writeTemplate(t,r);break;case"string":-1==t?this._writeTerminatedString(r):this._writeString(t,r);break;case"data":this._writeData(r);break;case"utf8":this._writeUTF8String(r)}},o.prototype._boxProcessors.avc1=o.prototype._boxProcessors.encv=function(){this._procFieldArray("reserved1",6,"uint",8),this._procField("data_reference_index","uint",16),this._procField("pre_defined1","uint",16),this._procField("reserved2","uint",16),this._procFieldArray("pre_defined2",3,"uint",32),this._procField("width","uint",16),this._procField("height","uint",16),this._procField("horizresolution","template",32),this._procField("vertresolution","template",32),this._procField("reserved3","uint",32),this._procField("frame_count","uint",16),this._procFieldArray("compressorname",32,"uint",8),this._procField("depth","uint",16),this._procField("pre_defined3","int",16),this._procField("config","data",-1)},o.prototype._boxProcessors.dref=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procSubBoxes("entries",this.entry_count)},o.prototype._boxProcessors.elst=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(e){this._procEntryField(e,"segment_duration","uint",1===this.version?64:32),this._procEntryField(e,"media_time","int",1===this.version?64:32),this._procEntryField(e,"media_rate_integer","int",16),this._procEntryField(e,"media_rate_fraction","int",16)})},o.prototype._boxProcessors.emsg=function(){this._procFullBox(),1==this.version?(this._procField("timescale","uint",32),this._procField("presentation_time","uint",64),this._procField("event_duration","uint",32),this._procField("id","uint",32),this._procField("scheme_id_uri","string",-1),this._procField("value","string",-1)):(this._procField("scheme_id_uri","string",-1),this._procField("value","string",-1),this._procField("timescale","uint",32),this._procField("presentation_time_delta","uint",32),this._procField("event_duration","uint",32),this._procField("id","uint",32)),this._procField("message_data","data",-1)},o.prototype._boxProcessors.free=o.prototype._boxProcessors.skip=function(){this._procField("data","data",-1)},o.prototype._boxProcessors.frma=function(){this._procField("data_format","uint",32)},o.prototype._boxProcessors.ftyp=o.prototype._boxProcessors.styp=function(){this._procField("major_brand","string",4),this._procField("minor_version","uint",32);var e=-1;this._parsing&&(e=(this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset))/4),this._procFieldArray("compatible_brands",e,"string",4)},o.prototype._boxProcessors.hdlr=function(){this._procFullBox(),this._procField("pre_defined","uint",32),this._procField("handler_type","string",4),this._procFieldArray("reserved",3,"uint",32),this._procField("name","string",-1)},o.prototype._boxProcessors.mdat=function(){this._procField("data","data",-1)},o.prototype._boxProcessors.mdhd=function(){this._procFullBox(),this._procField("creation_time","uint",1==this.version?64:32),this._procField("modification_time","uint",1==this.version?64:32),this._procField("timescale","uint",32),this._procField("duration","uint",1==this.version?64:32),this._parsing||"string"!=typeof this.language||(this.language=this.language.charCodeAt(0)-96<<10|this.language.charCodeAt(1)-96<<5|this.language.charCodeAt(2)-96),this._procField("language","uint",16),this._parsing&&(this.language=String.fromCharCode(96+(this.language>>10&31),96+(this.language>>5&31),96+(31&this.language))),this._procField("pre_defined","uint",16)},o.prototype._boxProcessors.mehd=function(){this._procFullBox(),this._procField("fragment_duration","uint",1==this.version?64:32)},o.prototype._boxProcessors.mfhd=function(){this._procFullBox(),this._procField("sequence_number","uint",32)},o.prototype._boxProcessors.mfro=function(){this._procFullBox(),this._procField("mfra_size","uint",32)},o.prototype._boxProcessors.mp4a=o.prototype._boxProcessors.enca=function(){this._procFieldArray("reserved1",6,"uint",8),this._procField("data_reference_index","uint",16),this._procFieldArray("reserved2",2,"uint",32),this._procField("channelcount","uint",16),this._procField("samplesize","uint",16),this._procField("pre_defined","uint",16),this._procField("reserved3","uint",16),this._procField("samplerate","template",32),this._procField("esds","data",-1)},o.prototype._boxProcessors.mvhd=function(){this._procFullBox(),this._procField("creation_time","uint",1==this.version?64:32),this._procField("modification_time","uint",1==this.version?64:32),this._procField("timescale","uint",32),this._procField("duration","uint",1==this.version?64:32),this._procField("rate","template",32),this._procField("volume","template",16),this._procField("reserved1","uint",16),this._procFieldArray("reserved2",2,"uint",32),this._procFieldArray("matrix",9,"template",32),this._procFieldArray("pre_defined",6,"uint",32),this._procField("next_track_ID","uint",32)},o.prototype._boxProcessors.payl=function(){this._procField("cue_text","utf8")},o.prototype._boxProcessors.pssh=function(){this._procFullBox(),this._procFieldArray("SystemID",16,"uint",8),this._procField("DataSize","uint",32),this._procFieldArray("Data",this.DataSize,"uint",8)},o.prototype._boxProcessors.schm=function(){this._procFullBox(),this._procField("scheme_type","uint",32),this._procField("scheme_version","uint",32),1&this.flags&&this._procField("scheme_uri","string",-1)},o.prototype._boxProcessors.sdtp=function(){this._procFullBox();var e=-1;this._parsing&&(e=this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset)),this._procFieldArray("sample_dependency_table",e,"uint",8)},o.prototype._boxProcessors.sidx=function(){this._procFullBox(),this._procField("reference_ID","uint",32),this._procField("timescale","uint",32),this._procField("earliest_presentation_time","uint",1==this.version?64:32),this._procField("first_offset","uint",1==this.version?64:32),this._procField("reserved","uint",16),this._procField("reference_count","uint",16),this._procEntries("references",this.reference_count,function(e){this._parsing||(e.reference=(1&e.reference_type)<<31,e.reference|=2147483647&e.referenced_size,e.sap=(1&e.starts_with_SAP)<<31,e.sap|=(3&e.SAP_type)<<28,e.sap|=268435455&e.SAP_delta_time),this._procEntryField(e,"reference","uint",32),this._procEntryField(e,"subsegment_duration","uint",32),this._procEntryField(e,"sap","uint",32),this._parsing&&(e.reference_type=e.reference>>31&1,e.referenced_size=2147483647&e.reference,e.starts_with_SAP=e.sap>>31&1,e.SAP_type=e.sap>>28&7,e.SAP_delta_time=268435455&e.sap)})},o.prototype._boxProcessors.smhd=function(){this._procFullBox(),this._procField("balance","uint",16),this._procField("reserved","uint",16)},o.prototype._boxProcessors.ssix=function(){this._procFullBox(),this._procField("subsegment_count","uint",32),this._procEntries("subsegments",this.subsegment_count,function(e){this._procEntryField(e,"ranges_count","uint",32),this._procSubEntries(e,"ranges",e.ranges_count,function(e){this._procEntryField(e,"level","uint",8),this._procEntryField(e,"range_size","uint",24)})})},o.prototype._boxProcessors.stsd=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procSubBoxes("entries",this.entry_count)},o.prototype._boxProcessors.subs=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(e){this._procEntryField(e,"sample_delta","uint",32),this._procEntryField(e,"subsample_count","uint",16),this._procSubEntries(e,"subsamples",e.subsample_count,function(e){this._procEntryField(e,"subsample_size","uint",1===this.version?32:16),this._procEntryField(e,"subsample_priority","uint",8),this._procEntryField(e,"discardable","uint",8),this._procEntryField(e,"codec_specific_parameters","uint",32)})})},o.prototype._boxProcessors.tenc=function(){this._procFullBox(),this._procField("default_IsEncrypted","uint",24),this._procField("default_IV_size","uint",8),this._procFieldArray("default_KID",16,"uint",8)},o.prototype._boxProcessors.tfdt=function(){this._procFullBox(),this._procField("baseMediaDecodeTime","uint",1==this.version?64:32)},o.prototype._boxProcessors.tfhd=function(){this._procFullBox(),this._procField("track_ID","uint",32),1&this.flags&&this._procField("base_data_offset","uint",64),2&this.flags&&this._procField("sample_description_offset","uint",32),8&this.flags&&this._procField("default_sample_duration","uint",32),16&this.flags&&this._procField("default_sample_size","uint",32),32&this.flags&&this._procField("default_sample_flags","uint",32)},o.prototype._boxProcessors.tfra=function(){this._procFullBox(),this._procField("track_ID","uint",32),this._parsing||(this.reserved=0,this.reserved|=(48&this.length_size_of_traf_num)<<4,this.reserved|=(12&this.length_size_of_trun_num)<<2,this.reserved|=3&this.length_size_of_sample_num),this._procField("reserved","uint",32),this._parsing&&(this.length_size_of_traf_num=(48&this.reserved)>>4,this.length_size_of_trun_num=(12&this.reserved)>>2,this.length_size_of_sample_num=3&this.reserved),this._procField("number_of_entry","uint",32),this._procEntries("entries",this.number_of_entry,function(e){this._procEntryField(e,"time","uint",1===this.version?64:32),this._procEntryField(e,"moof_offset","uint",1===this.version?64:32),this._procEntryField(e,"traf_number","uint",8*(this.length_size_of_traf_num+1)),this._procEntryField(e,"trun_number","uint",8*(this.length_size_of_trun_num+1)),this._procEntryField(e,"sample_number","uint",8*(this.length_size_of_sample_num+1))})},o.prototype._boxProcessors.tkhd=function(){this._procFullBox(),this._procField("creation_time","uint",1==this.version?64:32),this._procField("modification_time","uint",1==this.version?64:32),this._procField("track_ID","uint",32),this._procField("reserved1","uint",32),this._procField("duration","uint",1==this.version?64:32),this._procFieldArray("reserved2",2,"uint",32),this._procField("layer","uint",16),this._procField("alternate_group","uint",16),this._procField("volume","template",16),this._procField("reserved3","uint",16),this._procFieldArray("matrix",9,"template",32),this._procField("width","template",32),this._procField("height","template",32)},o.prototype._boxProcessors.trex=function(){this._procFullBox(),this._procField("track_ID","uint",32),this._procField("default_sample_description_index","uint",32),this._procField("default_sample_duration","uint",32),this._procField("default_sample_size","uint",32),this._procField("default_sample_flags","uint",32)},o.prototype._boxProcessors.trun=function(){this._procFullBox(),this._procField("sample_count","uint",32),1&this.flags&&this._procField("data_offset","int",32),4&this.flags&&this._procField("first_sample_flags","uint",32),this._procEntries("samples",this.sample_count,function(e){256&this.flags&&this._procEntryField(e,"sample_duration","uint",32),512&this.flags&&this._procEntryField(e,"sample_size","uint",32),1024&this.flags&&this._procEntryField(e,"sample_flags","uint",32),2048&this.flags&&this._procEntryField(e,"sample_composition_time_offset",1===this.version?"int":"uint",32)})},o.prototype._boxProcessors["url "]=o.prototype._boxProcessors["urn "]=function(){this._procFullBox(),"urn "===this.type&&this._procField("name","string",-1),this._procField("location","string",-1)},o.prototype._boxProcessors.vlab=function(){this._procField("source_label","utf8")},o.prototype._boxProcessors.vmhd=function(){this._procFullBox(),this._procField("graphicsmode","uint",16),this._procFieldArray("opcolor",3,"uint",16)},o.prototype._boxProcessors.vttC=function(){this._procField("config","utf8")},o.prototype._boxProcessors.vtte=function(){}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(){function e(){"undefined"!=typeof window&&"undefined"!=typeof navigator&&(P=window.VTTCue||window.TextTrackCue,L=[],N=[],x=-1,j=0,U=0,F=0,Q=0,G=null,W=null,Y=!1,q=2147483647,V=null,void 0!==document.fullscreenElement?H="fullscreenElement":void 0!==document.webkitIsFullScreen?H="webkitIsFullScreen":document.msFullscreenElement?H="msFullscreenElement":document.mozFullScreen&&(H="mozFullScreen"))}function t(e){var t=L[e].kind,r=void 0!==L[e].label?L[e].label:L[e].lang,n=L[e].lang,i=L[e].isTTML,o=L[e].isEmbedded,a=k.addTextTrack(t,r,n);return a.isEmbedded=o,a.isTTML=i,a}function r(e){Y=e,G&&!document[H]&&(G.style.zIndex=e?q:null)}function n(e,r){if(L.length===r)return void R.error("Trying to add too many tracks.");if(L.push(e),L.length===r){L.sort(function(e,t){return e.index-t.index}),G=k.getTTMLRenderingDiv();for(var n=-1,i=0;i<L.length;i++){var o=t.call(this,i);N.push(o),L[i].defaultTrack&&(o.default=!0,n=i);var s=f(i);s&&(s.mode=a.default.TEXT_SHOWING,G&&(L[i].isTTML||L[i].isEmbedded)?s.renderingType="html":s.renderingType="default"),this.addCaptions(i,0,L[i].captionData),O.trigger(c.default.TEXT_TRACK_ADDED)}if(m.call(this,n),n>=0)for(var u=0;u<L.length;u++){var l=f(u);l&&(l.mode=u===n?a.default.TEXT_SHOWING:a.default.TEXT_HIDDEN)}O.trigger(c.default.TEXT_TRACKS_QUEUE_INITIALIZED,{index:x,tracks:L})}}function i(e,t,r,n,i,o){var a=e/t,s=r/n,u=0,l=0;a>s?(l=t,u=l/n*r):(u=e,l=u/r*n);var c=0,d=0,f=0,g=0;return u/l>i?(g=l,f=l*i):(f=u,g=u/i),c=(e-f)/2,d=(t-g)/2,o?{x:c+.1*f,y:d+.1*g,w:.8*f,h:.8*g}:{x:c,y:d,w:f,h:g}}function o(e,t){var r=k.getClientWidth(),n=k.getClientHeight(),o=k.getVideoWidth(),a=k.getVideoHeight(),s=k.getVideoRelativeOffsetTop(),u=k.getVideoRelativeOffsetLeft(),l=o/a,d=!1;e.isFromCEA608&&(l=3.5/3,d=!0);var f=i.call(this,r,n,o,a,l,d),g=f.w,p=f.h,h=f.x,y=f.y;if(g!=F||p!=Q||h!=j||y!=U||t){if(j=h+u,U=y+s,F=g,Q=p,G){var m=G.style;m.left=j+"px",m.top=U+"px",m.width=F+"px",m.height=Q+"px",m.zIndex=H&&document[H]||Y?q:null,O.trigger(c.default.CAPTION_CONTAINER_RESIZE,{})}var v=e.activeCues;if(v)for(var b=v.length,A=0;A<b;++A){var _=v[A];_.scaleCue(_)}}}function s(e){var t=F,r=Q,n=void 0,i=void 0,o=void 0,a=void 0,s=void 0;if(e.cellResolution){var u=[t/e.cellResolution[0],r/e.cellResolution[1]];if(e.linePadding)for(n in e.linePadding)if(e.linePadding.hasOwnProperty(n)){var c=e.linePadding[n];i=(c*u[0]).toString();for(var d=document.getElementsByClassName("spanPadding"),f=0;f<d.length;f++)d[f].style.cssText=d[f].style.cssText.replace(/(padding-left\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+i),d[f].style.cssText=d[f].style.cssText.replace(/(padding-right\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+i)}if(e.fontSize){for(n in e.fontSize)if(e.fontSize.hasOwnProperty(n)){"%"===e.fontSize[n][0]?o=e.fontSize[n][1]/100:"c"===e.fontSize[n][0]&&(o=e.fontSize[n][1]),i=(o*u[1]).toString(),s="defaultFontSize"!==n?document.getElementsByClassName(n):document.getElementsByClassName("paragraph");for(var g=0;g<s.length;g++)s[g].style.cssText=s[g].style.cssText.replace(/(font-size\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+i)}if(e.lineHeight)for(n in e.lineHeight)if(e.lineHeight.hasOwnProperty(n)){"%"===e.lineHeight[n][0]?a=e.lineHeight[n][1]/100:"c"===e.fontSize[n][0]&&(a=e.lineHeight[n][1]),i=(a*u[1]).toString(),s=document.getElementsByClassName(n);for(var p=0;p<s.length;p++)s[p].style.cssText=s[p].style.cssText.replace(/(line-height\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+i)}}}if(e.isd){var h=document.getElementById(e.cueID);h&&G.removeChild(h),l(e)}}function l(e){if(G){var t=document.createElement("div");G.appendChild(t),V=(0,h.renderHTML)(e.isd,t,function(t){var r=/^(urn:)(mpeg:[a-z0-9][a-z0-9-]{0,31}:)(subs:)([0-9]+)$/,n=/^#(.*)$/;if(r.test(t)){var i=r.exec(t),o=parseInt(i[4],10)-1,a=btoa(e.images[o]),s="data:image/png;base64,"+a;return s}if(n.test(t)){var i=n.exec(t),o=i[1],s="data:image/png;base64,"+e.embeddedImages[o];return s}return null},G.clientHeight,G.clientWidth,!1,function(e){R.info("renderCaption :",e)},V,!0),t.id=e.cueID,O.trigger(c.default.CAPTION_RENDERED,{captionDiv:t,currentTrackIdx:x})}}function d(e,t,r){var n=f(e),i=this;if(n&&r&&0!==r.length)for(var o=0;o<r.length;o++){var u=void 0,c=r[o];n.cellResolution=c.cellResolution,n.isFromCEA608=c.isFromCEA608,"html"===c.type&&G?(u=new P(c.start-t,c.end-t,""),u.cueHTMLElement=c.cueHTMLElement,u.isd=c.isd,u.images=c.images,u.embeddedImages=c.embeddedImages,u.cueID=c.cueID,u.scaleCue=s.bind(i),u.cellResolution=c.cellResolution,u.lineHeight=c.lineHeight,u.linePadding=c.linePadding,u.fontSize=c.fontSize,G.style.left=j+"px",G.style.top=U+"px",G.style.width=F+"px",G.style.height=Q+"px",u.onenter=function(){n.mode===a.default.TEXT_SHOWING&&(this.isd?(l(this),R.debug("Cue enter id:"+this.cueID)):(G.appendChild(this.cueHTMLElement),s.call(i,this)))},u.onexit=function(){if(G)for(var e=G.childNodes,t=0;t<e.length;++t)e[t].id===this.cueID&&(R.debug("Cue exit id:"+e[t].id),G.removeChild(e[t]))}):c.data&&(u=new P(c.start-t,c.end-t,c.data),c.styles&&(void 0!==c.styles.align&&"align"in u&&(u.align=c.styles.align),void 0!==c.styles.line&&"line"in u&&(u.line=c.styles.line),void 0!==c.styles.position&&"position"in u&&(u.position=c.styles.position),void 0!==c.styles.size&&"size"in u&&(u.size=c.styles.size)));try{u?n.addCue(u):R.error("impossible to display subtitles.")}catch(e){throw b(n),n.addCue(u),e}}}function f(e){return e>=0&&L[e]?k.getTextTrack(L[e].kind,L[e].label,L[e].lang,L[e].isTTML,L[e].isEmbedded):null}function g(){return x}function y(e){for(var t=-1,r=0;r<L.length;r++)if(L[r].label===e){t=r;break}return t}function m(e){if(e!==x){x=e;var t=f(x);v.call(this,t),W&&(clearInterval(W),W=null),t&&"html"===t.renderingType&&(o.call(this,t,!0),W=setInterval(o.bind(this,t),500))}}function v(e){I.call(this),e&&"html"===e.renderingType?T.call(this):S.call(this)}function b(e){if(e.cues)for(var t=e.cues,r=t.length-1,n=r;n>=0;n--)e.removeCue(t[n])}function A(e){var t=f(e);t&&b(t)}function _(){for(var e=N?N.length:0,t=0;t<e;t++){var r=f(t);r&&(b.call(this,r),r.mode="disabled")}N=[],L=[],W&&(clearInterval(W),W=null),x=-1,I.call(this)}function E(e){k.removeChild(N[e]),N.splice(e,1)}function T(){var e=document.getElementById("native-cue-style");if(!e){e=document.createElement("style"),e.id="native-cue-style",document.head.appendChild(e);var t=e.sheet,r=k.getElement();try{r&&(r.id?t.insertRule("#"+r.id+"::cue {background: transparent}",0):0!==r.classList.length?t.insertRule("."+r.className+"::cue {background: transparent}",0):t.insertRule("video::cue {background: transparent}",0))}catch(e){R.info(""+e.message)}}}function S(){var e=document.getElementById("native-cue-style");e&&document.head.removeChild(e)}function I(){if(G)for(;G.firstChild;)G.removeChild(G.firstChild)}function w(e){e&&e.videoModel&&(k=e.videoModel)}function C(e,t){var r=f(e);r&&r.mode!==t&&(r.mode=t)}function D(){return L[x]}var M=this.context,O=(0,u.default)(M).getInstance(),B=void 0,R=void 0,P=void 0,k=void 0,L=void 0,N=void 0,x=void 0,j=void 0,U=void 0,F=void 0,Q=void 0,G=void 0,W=void 0,H=void 0,Y=void 0,V=void 0,q=void 0;return B={initialize:e,displayCConTop:r,addTextTrack:n,addCaptions:d,getCurrentTrackIdx:g,setCurrentTrackIdx:m,getTrackIdxForId:y,getCurrentTrackInfo:D,setModeForTrackIdx:C,deleteCuesFromTrackIdx:A,deleteAllTextTracks:_,deleteTextTrack:E,setConfig:w},function(){R=(0,p.default)(M).getInstance().getLogger(B)}(),B}Object.defineProperty(t,"__esModule",{value:!0});var o=r(2),a=n(o),s=r(3),u=n(s),l=r(5),c=n(l),d=r(1),f=n(d),g=r(4),p=n(g),h=r(224);i.__dashjs_factory_name="TextTracks",t.default=f.default.getSingletonFactory(i),e.exports=t.default},function(e,t,r){!function(e,t,r){function n(e,t,r,n,i,o,a,s){this.name=t,this.ns=e,this.qname=e+" "+t,this.inherit=i,this.animatable=o,this.initial=r,this.applies=n,this.parse=a,this.compute=s}e.all=[new n(t.ns_tts,"backgroundColor","transparent",["body","div","p","region","span"],!1,!0,r.parseColor,null),new n(t.ns_tts,"color","white",["span"],!0,!0,r.parseColor,null),new n(t.ns_tts,"direction","ltr",["p","span"],!0,!0,function(e){return e},null),new n(t.ns_tts,"display","auto",["body","div","p","region","span"],!1,!0,function(e){return e},null),new n(t.ns_tts,"displayAlign","before",["region"],!1,!0,function(e){return e},null),new n(t.ns_tts,"extent","auto",["tt","region"],!1,!0,function(e){if("auto"===e)return e;var t=e.split(" ");if(2!==t.length)return null;var n=r.parseLength(t[0]),i=r.parseLength(t[1]);return i&&n?{h:i,w:n}:null},function(e,t,n,i,o){var a,s;if("auto"===i)a=new r.ComputedLength(0,1);else if(null===(a=r.toComputedLength(i.h.value,i.h.unit,null,e.dimensions.h,null,e.pxLength.h)))return null;if("auto"===i)s=new r.ComputedLength(1,0);else if(null===(s=r.toComputedLength(i.w.value,i.w.unit,null,e.dimensions.w,null,e.pxLength.w)))return null;return{h:a,w:s}}),new n(t.ns_tts,"fontFamily","default",["span"],!0,!0,function(e){var t=e.split(","),r=[];for(var n in t)"'"!==t[n].charAt(0)&&'"'!==t[n].charAt(0)&&"default"===t[n]?r.push("monospaceSerif"):r.push(t[n]);return r},null),new n(t.ns_tts,"shear","0%",["p"],!0,!0,r.parseLength,function(e,t,r,n){return"%"!==n.unit?null:Math.abs(n.value)>100?100*Math.sign(n.value):n.value}),new n(t.ns_tts,"fontSize","1c",["span"],!0,!0,r.parseLength,function(t,n,i,o,a){return r.toComputedLength(o.value,o.unit,null!==n?n.styleAttrs[e.byName.fontSize.qname]:t.cellLength.h,null!==n?n.styleAttrs[e.byName.fontSize.qname]:t.cellLength.h,t.cellLength.h,t.pxLength.h)}),new n(t.ns_tts,"fontStyle","normal",["span"],!0,!0,function(e){return e},null),new n(t.ns_tts,"fontWeight","normal",["span"],!0,!0,function(e){return e},null),new n(t.ns_tts,"lineHeight","normal",["p"],!0,!0,function(e){return"normal"===e?e:r.parseLength(e)},function(t,n,i,o,a){var s;if("normal"===o)s=o;else if(null===(s=r.toComputedLength(o.value,o.unit,i.styleAttrs[e.byName.fontSize.qname],i.styleAttrs[e.byName.fontSize.qname],t.cellLength.h,t.pxLength.h)))return null;return s}),new n(t.ns_tts,"opacity",1,["region"],!1,!0,parseFloat,null),new n(t.ns_tts,"origin","auto",["region"],!1,!0,function(e){if("auto"===e)return e;var t=e.split(" ");if(2!==t.length)return null;var n=r.parseLength(t[0]),i=r.parseLength(t[1]);return i&&n?{h:i,w:n}:null},function(e,t,n,i,o){var a,s;if("auto"===i)a=new r.ComputedLength(0,0);else if(null===(a=r.toComputedLength(i.h.value,i.h.unit,null,e.dimensions.h,null,e.pxLength.h)))return null;if("auto"===i)s=new r.ComputedLength(0,0);else if(null===(s=r.toComputedLength(i.w.value,i.w.unit,null,e.dimensions.w,null,e.pxLength.w)))return null;return{h:a,w:s}}),new n(t.ns_tts,"overflow","hidden",["region"],!1,!0,function(e){return e},null),new n(t.ns_tts,"padding","0px",["region"],!1,!0,function(e){var t=e.split(" ");if(t.length>4)return null;var n=[];for(var i in t){var o=r.parseLength(t[i]);if(!o)return null;n.push(o)}return n},function(t,n,i,o,a){var s;if(1===o.length)s=[o[0],o[0],o[0],o[0]];else if(2===o.length)s=[o[0],o[1],o[0],o[1]];else if(3===o.length)s=[o[0],o[1],o[2],o[1]];else{if(4!==o.length)return null;s=[o[0],o[1],o[2],o[3]]}var u=i.styleAttrs[e.byName.writingMode.qname];if("lrtb"===u||"lr"===u)s=[s[0],s[3],s[2],s[1]];else if("rltb"===u||"rl"===u)s=[s[0],s[1],s[2],s[3]];else if("tblr"===u)s=[s[3],s[0],s[1],s[2]];else{if("tbrl"!==u&&"tb"!==u)return null;s=[s[3],s[2],s[1],s[0]]}var l=[];for(var c in s)if(0===s[c].value)l[c]=new r.ComputedLength(0,0);else if(l[c]=r.toComputedLength(s[c].value,s[c].unit,i.styleAttrs[e.byName.fontSize.qname],"0"===c||"2"===c?i.styleAttrs[e.byName.extent.qname].h:i.styleAttrs[e.byName.extent.qname].w,"0"===c||"2"===c?t.cellLength.h:t.cellLength.w,"0"===c||"2"===c?t.pxLength.h:t.pxLength.w),null===l[c])return null;return l}),new n(t.ns_tts,"position","top left",["region"],!1,!0,function(e){return r.parsePosition(e)},function(t,n,i,o){var a,s;return null===(a=r.toComputedLength(o.v.offset.value,o.v.offset.unit,null,new r.ComputedLength(-i.styleAttrs[e.byName.extent.qname].h.rw,t.dimensions.h.rh-i.styleAttrs[e.byName.extent.qname].h.rh),null,t.pxLength.h))?null:("bottom"===o.v.edge&&(a=new r.ComputedLength(-a.rw-i.styleAttrs[e.byName.extent.qname].h.rw,t.dimensions.h.rh-a.rh-i.styleAttrs[e.byName.extent.qname].h.rh)),s=r.toComputedLength(o.h.offset.value,o.h.offset.unit,null,new r.ComputedLength(t.dimensions.w.rw-i.styleAttrs[e.byName.extent.qname].w.rw,-i.styleAttrs[e.byName.extent.qname].w.rh),null,t.pxLength.w),null===a?null:("right"===o.h.edge&&(s=new r.ComputedLength(t.dimensions.w.rw-s.rw-i.styleAttrs[e.byName.extent.qname].w.rw,-s.rh-i.styleAttrs[e.byName.extent.qname].w.rh)),{h:a,w:s}))}),new n(t.ns_tts,"ruby","none",["span"],!1,!0,function(e){return e},null),new n(t.ns_tts,"rubyAlign","center",["span"],!0,!0,function(e){return"center"!==e&&"spaceAround"!==e?null:e},null),new n(t.ns_tts,"rubyPosition","outside",["span"],!0,!0,function(e){return e},null),new n(t.ns_tts,"rubyReserve","none",["p"],!0,!0,function(e){var t=e.split(" "),n=[null,null];if(0===t.length||t.length>2)return null;if("none"!==t[0]&&"both"!==t[0]&&"after"!==t[0]&&"before"!==t[0]&&"outside"!==t[0])return null;if(n[0]=t[0],2===t.length&&"none"!==t[0]){var i=r.parseLength(t[1]);if(!i)return null;n[1]=i}return n},function(t,n,i,o,a){if("none"===o[0])return o;var s=null;return s=null===o[1]?new r.ComputedLength(.5*i.styleAttrs[e.byName.fontSize.qname].rw,.5*i.styleAttrs[e.byName.fontSize.qname].rh):r.toComputedLength(o[1].value,o[1].unit,i.styleAttrs[e.byName.fontSize.qname],i.styleAttrs[e.byName.fontSize.qname],t.cellLength.h,t.pxLength.h),null===s?null:[o[0],s]}),new n(t.ns_tts,"showBackground","always",["region"],!1,!0,function(e){return e},null),new n(t.ns_tts,"textAlign","start",["p"],!0,!0,function(e){return e},function(e,t,r,n,i){return"left"===n?"start":"right"===n?"end":n}),new n(t.ns_tts,"textCombine","none",["span"],!0,!0,function(e){var t=e.split(" ");return 1!==t.length||"none"!==t[0]&&"all"!==t[0]?null:[t[0]]},null),new n(t.ns_tts,"textDecoration","none",["span"],!0,!0,function(e){return e.split(" ")},null),new n(t.ns_tts,"textEmphasis","none",["span"],!0,!0,function(e){var t=e.split(" "),n={style:null,symbol:null,color:null,position:null};for(var i in t)if("none"===t[i]||"auto"===t[i])n.style=t[i];else if("filled"===t[i]||"open"===t[i])n.style=t[i];else if("circle"===t[i]||"dot"===t[i]||"sesame"===t[i])n.symbol=t[i];else if("current"===t[i])n.color=t[i];else if("outside"===t[i]||"before"===t[i]||"after"===t[i])n.position=t[i];else if(n.color=r.parseColor(t[i]),null===n.color)return null;return null==n.style&&null==n.symbol?n.style="auto":(n.symbol=n.symbol||"circle",n.style=n.style||"filled"),n.position=n.position||"outside",n.color=n.color||"current",n},null),new n(t.ns_tts,"textOutline","none",["span"],!0,!0,function(e){if("none"===e)return e;var t={},n=e.split(" ");if(0===n.length||n.length>2)return null;var i=r.parseColor(n[0]);if(t.color=i,null!==i&&n.shift(),1!==n.length)return null;var o=r.parseLength(n[0]);return o?(t.thickness=o,t):null},function(t,n,i,o,a){if("none"===o)return o;var s={};return null===o.color?s.color=i.styleAttrs[e.byName.color.qname]:s.color=o.color,s.thickness=r.toComputedLength(o.thickness.value,o.thickness.unit,i.styleAttrs[e.byName.fontSize.qname],i.styleAttrs[e.byName.fontSize.qname],t.cellLength.h,t.pxLength.h),null===s.thickness?null:s}),new n(t.ns_tts,"textShadow","none",["span"],!0,!0,r.parseTextShadow,function(t,n,i,o){if("none"===o)return o;var a=[];for(var s in o){var u={};if(u.x_off=r.toComputedLength(o[s][0].value,o[s][0].unit,null,i.styleAttrs[e.byName.fontSize.qname],null,t.pxLength.w),null===u.x_off)return null;if(u.y_off=r.toComputedLength(o[s][1].value,o[s][1].unit,null,i.styleAttrs[e.byName.fontSize.qname],null,t.pxLength.h),null===u.y_off)return null;if(null===o[s][2])u.b_radius=0;else if(u.b_radius=r.toComputedLength(o[s][2].value,o[s][2].unit,null,i.styleAttrs[e.byName.fontSize.qname],null,t.pxLength.h),null===u.b_radius)return null;null===o[s][3]?u.color=i.styleAttrs[e.byName.color.qname]:u.color=o[s][3],a.push(u)}return a}),new n(t.ns_tts,"unicodeBidi","normal",["span","p"],!1,!0,function(e){return e},null),new n(t.ns_tts,"visibility","visible",["body","div","p","region","span"],!0,!0,function(e){return e},null),new n(t.ns_tts,"wrapOption","wrap",["span"],!0,!0,function(e){return e},null),new n(t.ns_tts,"writingMode","lrtb",["region"],!1,!0,function(e){return e},null),new n(t.ns_tts,"zIndex","auto",["region"],!1,!0,function(e){var t;return"auto"===e?t=e:(t=parseInt(e),isNaN(t)&&(t=null)),t},null),new n(t.ns_ebutts,"linePadding","0c",["p"],!0,!1,r.parseLength,function(e,t,n,i,o){return r.toComputedLength(i.value,i.unit,null,null,e.cellLength.w,null)}),new n(t.ns_ebutts,"multiRowAlign","auto",["p"],!0,!1,function(e){return e},null),new n(t.ns_smpte,"backgroundImage",null,["div"],!1,!1,function(e){return e},null),new n(t.ns_itts,"forcedDisplay","false",["body","div","p","region","span"],!0,!0,function(e){return"true"===e},null),new n(t.ns_itts,"fillLineGap","false",["p"],!0,!0,function(e){return"true"===e},null)],e.byQName={};for(var i in e.all)e.byQName[e.all[i].qname]=e.all[i];e.byName={};for(var o in e.all)e.byName[e.all[o].name]=e.all[o]}(t,"undefined"==typeof imscNames?r(105):imscNames,"undefined"==typeof imscUtils?r(106):imscUtils)},function(e,t,r){"use strict";function n(e){console&&console.warn}function i(){i.init.call(this)}function o(e){return void 0===e._maxListeners?i.defaultMaxListeners:e._maxListeners}function a(e,t,r,i){var a,s,u;if("function"!=typeof r)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof r);if(s=e._events,void 0===s?(s=e._events=Object.create(null),e._eventsCount=0):(void 0!==s.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),s=e._events),u=s[t]),void 0===u)u=s[t]=r,++e._eventsCount;else if("function"==typeof u?u=s[t]=i?[r,u]:[u,r]:i?u.unshift(r):u.push(r),(a=o(e))>0&&u.length>a&&!u.warned){u.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+u.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=u.length,n(l)}return e}function s(){for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,y(this.listener,this.target,e))}function u(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=s.bind(n);return i.listener=r,n.wrapFn=i,i}function l(e,t,r){var n=e._events;if(void 0===n)return[];var i=n[t];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?g(i):d(i,i.length)}function c(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function d(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function f(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function g(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}var p,h="object"==typeof Reflect?Reflect:null,y=h&&"function"==typeof h.apply?h.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};p=h&&"function"==typeof h.ownKeys?h.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var m=Number.isNaN||function(e){return e!==e};e.exports=i,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._eventsCount=0,i.prototype._maxListeners=void 0;var v=10;Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return v},set:function(e){if("number"!=typeof e||e<0||m(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");v=e}}),i.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},i.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||m(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},i.prototype.getMaxListeners=function(){return o(this)},i.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n="error"===e,i=this._events;if(void 0!==i)n=n&&void 0===i.error;else if(!n)return!1;if(n){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var s=i[e];if(void 0===s)return!1;if("function"==typeof s)y(s,this,t);else for(var u=s.length,l=d(s,u),r=0;r<u;++r)y(l[r],this,t);return!0},i.prototype.addListener=function(e,t){return a(this,e,t,!1)},i.prototype.on=i.prototype.addListener,i.prototype.prependListener=function(e,t){return a(this,e,t,!0)},i.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.on(e,u(this,e,t)),this},i.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.prependListener(e,u(this,e,t)),this},i.prototype.removeListener=function(e,t){var r,n,i,o,a;if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);if(void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===t||r[o].listener===t){a=r[o].listener,i=o;break}if(i<0)return this;0===i?r.shift():f(r,i),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,a||t)}return this},i.prototype.off=i.prototype.removeListener,i.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var i,o=Object.keys(r);for(n=0;n<o.length;++n)"removeListener"!==(i=o[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},i.prototype.listeners=function(e){return l(this,e,!0)},i.prototype.rawListeners=function(e){return l(this,e,!1)},i.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):c.call(e,t)},i.prototype.listenerCount=c,i.prototype.eventNames=function(){return this._eventsCount>0?p(this._events):[]}},function(e,t,r){t=e.exports=r(225),t.Stream=t,t.Readable=t,t.Writable=r(159),t.Duplex=r(57),t.Transform=r(228),t.PassThrough=r(513)},function(e,t,r){"use strict";(function(t,n,i){function o(e){var t=this;this.next=null,this.entry=null,this.finish=function(){C(t,e)}}function a(e){return k.from(e)}function s(e){return k.isBuffer(e)||e instanceof L}function u(){}function l(e,t){M=M||r(57),e=e||{};var n=t instanceof M;this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var i=e.highWaterMark,a=e.writableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:n&&(a||0===a)?a:s,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var u=!1===e.decodeStrings;this.decodeStrings=!u,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){v(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function c(e){if(M=M||r(57),!(x.call(c,this)||this instanceof M))return new c(e);this._writableState=new l(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),P.call(this)}function d(e,t){var r=new Error("write after end");e.emit("error",r),D.nextTick(t,r)}function f(e,t,r,n){var i=!0,o=!1;return null===r?o=new TypeError("May not write null values to stream"):"string"==typeof r||void 0===r||t.objectMode||(o=new TypeError("Invalid non-string/buffer chunk")),o&&(e.emit("error",o),D.nextTick(n,o),i=!1),i}function g(e,t,r){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=k.from(t,r)),t}function p(e,t,r,n,i,o){if(!r){var a=g(t,n,i);n!==a&&(r=!0,i="buffer",n=a)}var s=t.objectMode?1:n.length;t.length+=s;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else h(e,t,!1,s,n,i,o);return u}function h(e,t,r,n,i,o,a){t.writelen=n,t.writecb=a,t.writing=!0,t.sync=!0,r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function y(e,t,r,n,i){--t.pendingcb,r?(D.nextTick(i,n),D.nextTick(I,e,t),e._writableState.errorEmitted=!0,e.emit("error",n)):(i(n),e._writableState.errorEmitted=!0,e.emit("error",n),I(e,t))}function m(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function v(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if(m(r),t)y(e,r,n,t,i);else{var o=E(r);o||r.corked||r.bufferProcessing||!r.bufferedRequest||_(e,r),n?O(b,e,r,o,i):b(e,r,o,i)}}function b(e,t,r,n){r||A(e,t),t.pendingcb--,n(),I(e,t)}function A(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function _(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),a=t.corkedRequestsFree;a.entry=r;for(var s=0,u=!0;r;)i[s]=r,r.isBuf||(u=!1),r=r.next,s+=1;i.allBuffers=u,h(e,t,!0,t.length,i,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new o(t),t.bufferedRequestCount=0}else{for(;r;){var l=r.chunk,c=r.encoding,d=r.callback;if(h(e,t,!1,t.objectMode?1:l.length,l,c,d),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function E(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function T(e,t){e._final(function(r){t.pendingcb--,r&&e.emit("error",r),t.prefinished=!0,e.emit("prefinish"),I(e,t)})}function S(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,D.nextTick(T,e,t)):(t.prefinished=!0,e.emit("prefinish")))}function I(e,t){var r=E(t);return r&&(S(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),r}function w(e,t,r){t.ending=!0,I(e,t),r&&(t.finished?D.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}function C(e,t,r){var n=e.entry;for(e.entry=null;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}var D=r(107);e.exports=c;var M,O=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?n:D.nextTick;c.WritableState=l;var B=Object.create(r(85));B.inherits=r(71);var R={deprecate:r(512)},P=r(226),k=r(108).Buffer,L=i.Uint8Array||function(){},N=r(227);B.inherits(c,P),l.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(l.prototype,"buffer",{get:R.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}();var x;"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(x=Function.prototype[Symbol.hasInstance],Object.defineProperty(c,Symbol.hasInstance,{value:function(e){return!!x.call(this,e)||this===c&&(e&&e._writableState instanceof l)}})):x=function(e){return e instanceof this},c.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},c.prototype.write=function(e,t,r){var n=this._writableState,i=!1,o=!n.objectMode&&s(e);return o&&!k.isBuffer(e)&&(e=a(e)),"function"==typeof t&&(r=t,t=null),o?t="buffer":t||(t=n.defaultEncoding),"function"!=typeof r&&(r=u),n.ended?d(this,r):(o||f(this,n,e,r))&&(n.pendingcb++,i=p(this,n,o,e,t,r)),i},c.prototype.cork=function(){this._writableState.corked++},c.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||_(this,e))},c.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),c.prototype._write=function(e,t,r){r(new Error("_write() is not implemented"))},c.prototype._writev=null,c.prototype.end=function(e,t,r){var n=this._writableState;"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!==e&&void 0!==e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||n.finished||w(this,n,r)},Object.defineProperty(c.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),c.prototype.destroy=N.destroy,c.prototype._undestroy=N.undestroy,c.prototype._destroy=function(e,t){this.end(),t(e)}}).call(t,r(83),r(220).setImmediate,r(18))},function(e,t,r){"use strict";function n(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}function i(e){var t=n(e);if("string"!=typeof t&&(v.isEncoding===b||!b(e)))throw new Error("Unknown encoding: "+e);return t||e}function o(e){this.encoding=i(e);var t;switch(this.encoding){case"utf16le":this.text=f,this.end=g,t=4;break;case"utf8":this.fillLast=l,t=4;break;case"base64":this.text=p,this.end=h,t=3;break;default:return this.write=y,void(this.end=m)}this.lastNeed=0,this.lastTotal=0,this.lastChar=v.allocUnsafe(t)}function a(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function s(e,t,r){var n=t.length-1;if(n<r)return 0;var i=a(t[n]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--n<r||-2===i?0:(i=a(t[n]))>=0?(i>0&&(e.lastNeed=i-2),i):--n<r||-2===i?0:(i=a(t[n]),i>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0)}function u(e,t,r){if(128!=(192&t[0]))return e.lastNeed=0,"";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,""}}function l(e){var t=this.lastTotal-this.lastNeed,r=u(this,e,t);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function c(e,t){var r=s(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)}function d(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t}function f(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function g(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function p(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function h(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function y(e){return e.toString(this.encoding)}function m(e){return e&&e.length?this.write(e):""}var v=r(108).Buffer,b=v.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};t.StringDecoder=o,o.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},o.prototype.end=d,o.prototype.text=c,o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(){function e(e,t){var n=l(e),i=r(e,t),u=[];if(e===a.default.FRAGMENTED_TEXT)return void o(i[0]);n||(n=U.getSavedMediaSettings(e),s(e,n)),i&&0!==i.length&&(n&&i.forEach(function(e){w(n,e)&&u.push(e)}),o(0===u.length?M(i):u.length>1?M(u):u[0]))}function t(e){if(e){var t=e.type;if(_(t)){var r=e.streamInfo.id;L[r]||(L[r]=O());for(var i=L[r][t].list,a=0,s=i.length;a<s;++a)if(E(i[a],e))return;i.push(e);var u=l(t);u&&w(u,e)&&!n(t,e.streamInfo)&&o(e)}}}function r(e,t){if(!e||!t)return[];var r=t.id;return L[r]&&L[r][e]?L[r][e].list:[]}function n(e,t){return!e||!t||t&&!L[t.id]?null:L[t.id][e].current}function i(e){if(!e)return!1;var t=e.type,r=e.streamInfo.id;return L[r]&&L[r][t]&&E(L[r][t].current,e)}function o(e){if(e){var t=e.type,r=e.streamInfo,i=r.id,o=n(t,r);if(L[i]&&L[i][t]&&!E(e,o)){L[i][t].current=e,L[i][t].current&&R.trigger(u.default.CURRENT_TRACK_CHANGED,{oldMediaInfo:o,newMediaInfo:e,switchMode:j[t]});var a=I(e);a&&L[i][t].storeLastSettings&&(a.roles&&(a.role=a.roles[0],delete a.roles),a.accessibility&&(a.accessibility=a.accessibility[0]),a.audioChannelConfiguration&&(a.audioChannelConfiguration=a.audioChannelConfiguration[0]),U.setSavedMediaSettings(t,a))}}}function s(e,t){e&&t&&(N[e]=t)}function l(e){return e?N[e]:null}function d(e,t){if(-1===F.indexOf(t))return void k.warn("Track switch mode is not supported: "+t);j[e]=t}function f(e){return j[e]}function g(e){if(-1===Q.indexOf(e))return void k.warn("Track selection mode is not supported: "+e);x=e}function A(){return x||b}function _(e){return e===a.default.AUDIO||e===a.default.VIDEO||e===a.default.TEXT||e===a.default.FRAGMENTED_TEXT||e===a.default.IMAGE}function E(e,t){if(!e&&!t)return!0;if(!e||!t)return!1;var r=e.id===t.id,n=e.viewpoint===t.viewpoint,i=e.lang===t.lang,o=e.roles.toString()===t.roles.toString(),a=e.accessibility.toString()===t.accessibility.toString(),s=e.audioChannelConfiguration.toString()===t.audioChannelConfiguration.toString();return r&&n&&i&&o&&a&&s}function T(e){e&&e.domStorage&&(U=e.domStorage)}function S(){L={},D(),C()}function I(e){var t={lang:e.lang,viewpoint:e.viewpoint,roles:e.roles,accessibility:e.accessibility,audioChannelConfiguration:e.audioChannelConfiguration};return t.lang||t.viewpoint||t.role&&t.role.length>0||t.accessibility&&t.accessibility.length>0||t.audioChannelConfiguration&&t.audioChannelConfiguration.length>0?t:null}function w(e,t){var r=!e.lang||e.lang===t.lang,n=!e.viewpoint||e.viewpoint===t.viewpoint,i=!e.role||!!t.roles.filter(function(t){return t===e.role})[0],o=!e.accessibility||!!t.accessibility.filter(function(t){return t===e.accessibility})[0],a=!e.audioChannelConfiguration||!!t.audioChannelConfiguration.filter(function(t){return t===e.audioChannelConfiguration})[0];return r&&n&&i&&o&&a}function C(){j={audio:y,video:h}}function D(){N={audio:null,video:null}}function M(e){var t=A(),r=[],n=function(e){var t=0,r=[],n=void 0;return e.forEach(function(e){n=Math.max.apply(Math,e.bitrateList.map(function(e){return e.bandwidth})),n>t?(t=n,r=[e]):n===t&&r.push(e)}),r},i=function(e){var t=0,r=[],n=void 0;return e.forEach(function(e){n=e.representationCount,n>t?(t=n,r=[e]):n===t&&r.push(e)}),r};switch(t){case m:r=n(e),r.length>1&&(r=i(r));break;case v:r=i(e),r.length>1&&(r=n(e));break;default:k.warn("Track selection mode is not supported: "+t)}return r[0]}function O(){return{audio:{list:[],storeLastSettings:!0,current:null},video:{list:[],storeLastSettings:!0,current:null},text:{list:[],storeLastSettings:!0,current:null},fragmentedText:{list:[],storeLastSettings:!0,current:null},image:{list:[],storeLastSettings:!0,current:null}}}var B=this.context,R=(0,c.default)(B).getInstance(),P=void 0,k=void 0,L=void 0,N=void 0,x=void 0,j=void 0,U=void 0,F=[y,h],Q=[m,v];return P={checkInitialMediaSettingsForType:e,addTrack:t,getTracksFor:r,getCurrentTrackFor:n,isCurrentTrack:i,setTrack:o,setInitialSettings:s,getInitialSettings:l,setSwitchMode:d,getSwitchMode:f,setSelectionModeForInitialTrack:g,getSelectionModeForInitialTrack:A,isMultiTrackSupportedByType:_,isTracksEqual:E,setConfig:T,reset:S},function(){k=(0,p.default)(B).getInstance().getLogger(P),S()}(),P}Object.defineProperty(t,"__esModule",{value:!0});var o=r(2),a=n(o),s=r(5),u=n(s),l=r(3),c=n(l),d=r(1),f=n(d),g=r(4),p=n(g),h="neverReplace",y="alwaysReplace",m="highestBitrate",v="widestRange",b=m;i.__dashjs_factory_name="MediaController";var A=f.default.getSingletonFactory(i);A.TRACK_SWITCH_MODE_NEVER_REPLACE=h,A.TRACK_SWITCH_MODE_ALWAYS_REPLACE=y,A.TRACK_SELECTION_MODE_HIGHEST_BITRATE=m,A.TRACK_SELECTION_MODE_WIDEST_RANGE=v,A.DEFAULT_INIT_TRACK_SELECTION_MODE=b,f.default.updateSingletonFactory(i.__dashjs_factory_name,A),t.default=A,e.exports=t.default},function(e,t,r){"use strict";function n(){function e(e){var t=e.streamId,r=e.representationId;n[t]=n[t]||{},n[t][r]=e}function t(e,t){return n&&n[e]&&n[e][t]?n[e][t]:null}function r(){n={}}var n={};return{save:e,extract:t,reset:r}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(1),o=function(e){return e&&e.__esModule?e:{default:e}}(i);n.__dashjs_factory_name="InitCache",t.default=o.default.getSingletonFactory(n),e.exports=t.default},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(){n(this,e),this.indexRange=null,this.index=null,this.mediaRange=null,this.media=null,this.duration=NaN,this.replacementTime=null,this.replacementNumber=NaN,this.mediaStartTime=NaN,this.presentationStartTime=NaN,this.availabilityStartTime=NaN,this.availabilityEndTime=NaN,this.availabilityIdx=NaN,this.wallStartTime=NaN,this.representation=null};t.default=i,e.exports=t.default},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(28),a=function(e){return e&&e.__esModule?e:{default:e}}(o),s=function(){function e(){n(this,e),this.id=null,this.index=-1,this.adaptation=null,this.segmentInfoType=null,this.initialization=null,this.codecs=null,this.codecPrivateData=null,this.segmentDuration=NaN,this.timescale=1,this.startNumber=1,this.indexRange=null,this.range=null,this.presentationTimeOffset=0,this.MSETimeOffset=NaN,this.segmentAvailabilityRange=null,this.availableSegmentsNumber=0,this.bandwidth=NaN,this.width=NaN,this.height=NaN,this.scanType=null,this.maxPlayoutRate=NaN,this.availabilityTimeOffset=0,this.availabilityTimeComplete=!0}return i(e,null,[{key:"hasInitialization",value:function(e){return null!==e.initialization||null!==e.range}},{key:"hasSegments",value:function(e){return e.segmentInfoType!==a.default.BASE_URL&&e.segmentInfoType!==a.default.SEGMENT_BASE&&!e.indexRange}}]),e}();t.default=s,e.exports=t.default},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(t,r,i,o,a){n(this,e),this.initDataTypes=["cenc"],t&&t.length&&(this.audioCapabilities=t),r&&r.length&&(this.videoCapabilities=r),this.distinctiveIdentifier=i,this.persistentState=o,this.sessionTypes=a};t.default=i,e.exports=t.default},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(t,r){n(this,e),this.keyID=t,this.key=r};t.default=i,e.exports=t.default},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function(){function e(t,r){if(n(this,e),r&&"persistent"!==r&&"temporary"!==r)throw new Error("Invalid ClearKey key set type!  Must be one of 'persistent' or 'temporary'");this.keyPairs=t,this.type=r}return i(e,[{key:"toJWK",value:function(){var e=void 0,t=this.keyPairs.length,r={keys:[]};for(e=0;e<t;e++){var n={kty:"oct",alg:"A128KW",kid:this.keyPairs[e].keyID,k:this.keyPairs[e].key};r.keys.push(n)}this.type&&(r.type=this.type);var i=JSON.stringify(r),o=i.length,a=new ArrayBuffer(o),s=new Uint8Array(a);for(e=0;e<o;e++)s[e]=i.charCodeAt(e);return a}}]),e}();t.default=o,e.exports=t.default},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(t,r){n(this,e),this.initData=t,this.initDataType=r};t.default=i,e.exports=t.default},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(t,r,i,o){n(this,e),this.sessionToken=t,this.message=r,this.defaultURL=i,this.messageType=o||"license-request"};t.default=i,e.exports=t.default},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(t,r){n(this,e),this.keySystem=t,this.ksConfiguration=r};t.default=i,e.exports=t.default},function(e,t,r){function n(e){var t=this.__data__=new i(e);this.size=t.size}var i=r(115),o=r(657),a=r(658),s=r(659),u=r(660),l=r(661);n.prototype.clear=o,n.prototype.delete=a,n.prototype.get=s,n.prototype.has=u,n.prototype.set=l,e.exports=n},function(e,t,r){var n=r(60),i=r(29),o=n(i,"Map");e.exports=o},function(e,t,r){var n=r(682),i=r(14),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,u=n(function(){return arguments}())?n:function(e){return i(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=u},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t){function r(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=n}var n=9007199254740991;e.exports=r},function(e,t,r){function n(e){return a(e)?i(e,!0):o(e)}var i=r(256),o=r(687),a=r(77);e.exports=n},function(e,t,r){var n=r(691),i=r(261),o=Object.prototype,a=o.propertyIsEnumerable,s=Object.getOwnPropertySymbols,u=s?function(e){return null==e?[]:(e=Object(e),n(s(e),function(t){return a.call(e,t)}))}:i;e.exports=u},function(e,t,r){var n=r(259),i=n(Object.getPrototypeOf,Object);e.exports=i},function(e,t,r){function n(e){var t=new e.constructor(e.byteLength);return new i(t).set(new i(e)),t}var i=r(266);e.exports=n},function(e,t,r){function n(e){if("number"==typeof e)return e;if(o(e))return a;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(s,"");var r=l.test(e);return r||c.test(e)?d(e.slice(2),r?2:8):u.test(e)?a:+e}var i=r(44),o=r(181),a=NaN,s=/^\s+|\s+$/g,u=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,c=/^0o[0-7]+$/i,d=parseInt;e.exports=n},function(e,t,r){function n(e){return"symbol"==typeof e||o(e)&&i(e)==a}var i=r(21),o=r(14),a="[object Symbol]";e.exports=n},function(e,t,r){function n(e){if(!a(e)||i(e)!=s)return!1;var t=o(e);if(null===t)return!0;var r=d.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&c.call(r)==f}var i=r(21),o=r(178),a=r(14),s="[object Object]",u=Function.prototype,l=Object.prototype,c=u.toString,d=l.hasOwnProperty,f=c.call(Object);e.exports=n},function(e,t,r){function n(e,t,r,a,s){return e===t||(null==e||null==t||!o(e)&&!o(t)?e!==e&&t!==t:i(e,t,r,a,n,s))}var i=r(725),o=r(14);e.exports=n},function(e,t,r){e.exports=!r(15)&&!r(7)(function(){return 7!=Object.defineProperty(r(125)("div"),"a",{get:function(){return 7}}).a})},function(e,t,r){var n=r(6),i=r(13),o=r(47),a=r(126),s=r(16).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=o?{}:n.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},function(e,t,r){var n=r(24),i=r(26),o=r(91)(!1),a=r(127)("IE_PROTO");e.exports=function(e,t){var r,s=i(e),u=0,l=[];for(r in s)r!=a&&n(s,r)&&l.push(r);for(;t.length>u;)n(s,r=t[u++])&&(~o(l,r)||l.push(r));return l}},function(e,t,r){var n=r(16),i=r(8),o=r(48);e.exports=r(15)?Object.defineProperties:function(e,t){i(e);for(var r,a=o(t),s=a.length,u=0;s>u;)n.f(e,r=a[u++],t[r]);return e}},function(e,t,r){var n=r(26),i=r(51).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(e){try{return i(e)}catch(e){return a.slice()}};e.exports.f=function(e){return a&&"[object Window]"==o.call(e)?s(e):i(n(e))}},function(e,t,r){"use strict";var n=r(15),i=r(48),o=r(92),a=r(79),s=r(20),u=r(78),l=Object.assign;e.exports=!l||r(7)(function(){var e={},t={},r=Symbol(),n="abcdefghijklmnopqrst";return e[r]=7,n.split("").forEach(function(e){t[e]=e}),7!=l({},e)[r]||Object.keys(l({},t)).join("")!=n})?function(e,t){for(var r=s(e),l=arguments.length,c=1,d=o.f,f=a.f;l>c;)for(var g,p=u(arguments[c++]),h=d?i(p).concat(d(p)):i(p),y=h.length,m=0;y>m;)g=h[m++],n&&!f.call(p,g)||(r[g]=p[g]);return r}:l},function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},function(e,t,r){"use strict";var n=r(31),i=r(9),o=r(192),a=[].slice,s={},u=function(e,t,r){if(!(t in s)){for(var n=[],i=0;i<t;i++)n[i]="a["+i+"]";s[t]=Function("F,a","return new F("+n.join(",")+")")}return s[t](e,r)};e.exports=Function.bind||function(e){var t=n(this),r=a.call(arguments,1),s=function(){var n=r.concat(a.call(arguments));return this instanceof s?u(t,n.length,n):o(t,n,e)};return i(t.prototype)&&(s.prototype=t.prototype),s}},function(e,t){e.exports=function(e,t,r){var n=void 0===r;switch(t.length){case 0:return n?e():e.call(r);case 1:return n?e(t[0]):e.call(r,t[0]);case 2:return n?e(t[0],t[1]):e.call(r,t[0],t[1]);case 3:return n?e(t[0],t[1],t[2]):e.call(r,t[0],t[1],t[2]);case 4:return n?e(t[0],t[1],t[2],t[3]):e.call(r,t[0],t[1],t[2],t[3])}return e.apply(r,t)}},function(e,t,r){var n=r(6).parseInt,i=r(63).trim,o=r(131),a=/^[-+]?0[xX]/;e.exports=8!==n(o+"08")||22!==n(o+"0x16")?function(e,t){var r=i(String(e),3);return n(r,t>>>0||(a.test(r)?16:10))}:n},function(e,t,r){var n=r(6).parseFloat,i=r(63).trim;e.exports=1/n(r(131)+"-0")!=-1/0?function(e){var t=i(String(e),3),r=n(t);return 0===r&&"-"==t.charAt(0)?-0:r}:n},function(e,t,r){var n=r(36);e.exports=function(e,t){if("number"!=typeof e&&"Number"!=n(e))throw TypeError(t);return+e}},function(e,t,r){var n=r(9),i=Math.floor;e.exports=function(e){return!n(e)&&isFinite(e)&&i(e)===e}},function(e,t){e.exports=Math.log1p||function(e){return(e=+e)>-1e-8&&e<1e-8?e-e*e/2:Math.log(1+e)}},function(e,t,r){"use strict";var n=r(50),i=r(45),o=r(62),a={};r(25)(a,r(10)("iterator"),function(){return this}),e.exports=function(e,t,r){e.prototype=n(a,{next:i(1,r)}),o(e,t+" Iterator")}},function(e,t,r){var n=r(8);e.exports=function(e,t,r,i){try{return i?t(n(r)[0],r[1]):t(r)}catch(t){var o=e.return;throw void 0!==o&&n(o.call(e)),t}}},function(e,t,r){var n=r(375);e.exports=function(e,t){return new(n(e))(t)}},function(e,t,r){var n=r(31),i=r(20),o=r(78),a=r(11);e.exports=function(e,t,r,s,u){n(t);var l=i(e),c=o(l),d=a(l.length),f=u?d-1:0,g=u?-1:1;if(r<2)for(;;){if(f in c){s=c[f],f+=g;break}if(f+=g,u?f<0:d<=f)throw TypeError("Reduce of empty array with no initial value")}for(;u?f>=0:d>f;f+=g)f in c&&(s=t(s,c[f],f,l));return s}},function(e,t,r){"use strict";var n=r(20),i=r(49),o=r(11);e.exports=[].copyWithin||function(e,t){var r=n(this),a=o(r.length),s=i(e,a),u=i(t,a),l=arguments.length>2?arguments[2]:void 0,c=Math.min((void 0===l?a:i(l,a))-u,a-s),d=1;for(u<s&&s<u+c&&(d=-1,u+=c-1,s+=c-1);c-- >0;)u in r?r[s]=r[u]:delete r[s],s+=d,u+=d;return r}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,r){"use strict";var n=r(146);r(0)({target:"RegExp",proto:!0,forced:n!==/./.exec},{exec:n})},function(e,t,r){r(15)&&"g"!=/./g.flags&&r(16).f(RegExp.prototype,"flags",{configurable:!0,get:r(95)})},function(e,t,r){"use strict";var n,i,o,a,s=r(47),u=r(6),l=r(30),c=r(80),d=r(0),f=r(9),g=r(31),p=r(66),h=r(98),y=r(81),m=r(148).set,v=r(395)(),b=r(207),A=r(396),_=r(99),E=r(208),T=u.TypeError,S=u.process,I=S&&S.versions,w=I&&I.v8||"",C=u.Promise,D="process"==c(S),M=function(){},O=i=b.f,B=!!function(){try{var e=C.resolve(1),t=(e.constructor={})[r(10)("species")]=function(e){e(M,M)};return(D||"function"==typeof PromiseRejectionEvent)&&e.then(M)instanceof t&&0!==w.indexOf("6.6")&&-1===_.indexOf("Chrome/66")}catch(e){}}(),R=function(e){var t;return!(!f(e)||"function"!=typeof(t=e.then))&&t},P=function(e,t){if(!e._n){e._n=!0;var r=e._c;v(function(){for(var n=e._v,i=1==e._s,o=0;r.length>o;)!function(t){var r,o,a,s=i?t.ok:t.fail,u=t.resolve,l=t.reject,c=t.domain;try{s?(i||(2==e._h&&N(e),e._h=1),!0===s?r=n:(c&&c.enter(),r=s(n),c&&(c.exit(),a=!0)),r===t.promise?l(T("Promise-chain cycle")):(o=R(r))?o.call(r,u,l):u(r)):l(n)}catch(e){c&&!a&&c.exit(),l(e)}}(r[o++]);e._c=[],e._n=!1,t&&!e._h&&k(e)})}},k=function(e){m.call(u,function(){var t,r,n,i=e._v,o=L(e);if(o&&(t=A(function(){D?S.emit("unhandledRejection",i,e):(r=u.onunhandledrejection)?r({promise:e,reason:i}):(n=u.console)&&n.error&&n.error("Unhandled promise rejection",i)}),e._h=D||L(e)?2:1),e._a=void 0,o&&t.e)throw t.v})},L=function(e){return 1!==e._h&&0===(e._a||e._c).length},N=function(e){m.call(u,function(){var t;D?S.emit("rejectionHandled",e):(t=u.onrejectionhandled)&&t({promise:e,reason:e._v})})},x=function(e){var t=this;t._d||(t._d=!0,t=t._w||t,t._v=e,t._s=2,t._a||(t._a=t._c.slice()),P(t,!0))},j=function(e){var t,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===e)throw T("Promise can't be resolved itself");(t=R(e))?v(function(){var n={_w:r,_d:!1};try{t.call(e,l(j,n,1),l(x,n,1))}catch(e){x.call(n,e)}}):(r._v=e,r._s=1,P(r,!1))}catch(e){x.call({_w:r,_d:!1},e)}}};B||(C=function(e){p(this,C,"Promise","_h"),g(e),n.call(this);try{e(l(j,this,1),l(x,this,1))}catch(e){x.call(this,e)}},n=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},n.prototype=r(67)(C.prototype,{then:function(e,t){var r=O(y(this,C));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=D?S.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&P(this,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),o=function(){var e=new n;this.promise=e,this.resolve=l(j,e,1),this.reject=l(x,e,1)},b.f=O=function(e){return e===C||e===a?new o(e):i(e)}),d(d.G+d.W+d.F*!B,{Promise:C}),r(62)(C,"Promise"),r(65)("Promise"),a=r(13).Promise,d(d.S+d.F*!B,"Promise",{reject:function(e){var t=O(this);return(0,t.reject)(e),t.promise}}),d(d.S+d.F*(s||!B),"Promise",{resolve:function(e){return E(s&&this===a?C:this,e)}}),d(d.S+d.F*!(B&&r(94)(function(e){C.all(e).catch(M)})),"Promise",{all:function(e){var t=this,r=O(t),n=r.resolve,i=r.reject,o=A(function(){var r=[],o=0,a=1;h(e,!1,function(e){var s=o++,u=!1;r.push(void 0),a++,t.resolve(e).then(function(e){u||(u=!0,r[s]=e,--a||n(r))},i)}),--a||n(r)});return o.e&&i(o.v),r.promise},race:function(e){var t=this,r=O(t),n=r.reject,i=A(function(){h(e,!1,function(e){t.resolve(e).then(r.resolve,n)})});return i.e&&n(i.v),r.promise}})},function(e,t,r){"use strict";function n(e){var t,r;this.promise=new e(function(e,n){if(void 0!==t||void 0!==r)throw TypeError("Bad Promise constructor");t=e,r=n}),this.resolve=i(t),this.reject=i(r)}var i=r(31);e.exports.f=function(e){return new n(e)}},function(e,t,r){var n=r(8),i=r(9),o=r(207);e.exports=function(e,t){if(n(e),i(t)&&t.constructor===e)return t;var r=o.f(e);return(0,r.resolve)(t),r.promise}},function(e,t,r){"use strict";var n=r(16).f,i=r(50),o=r(67),a=r(30),s=r(66),u=r(98),l=r(137),c=r(203),d=r(65),f=r(15),g=r(42).fastKey,p=r(54),h=f?"_s":"size",y=function(e,t){var r,n=g(t);if("F"!==n)return e._i[n];for(r=e._f;r;r=r.n)if(r.k==t)return r};e.exports={getConstructor:function(e,t,r,l){var c=e(function(e,n){s(e,c,t,"_i"),e._t=t,e._i=i(null),e._f=void 0,e._l=void 0,e[h]=0,void 0!=n&&u(n,r,e[l],e)});return o(c.prototype,{clear:function(){for(var e=p(this,t),r=e._i,n=e._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete r[n.i];e._f=e._l=void 0,e[h]=0},delete:function(e){var r=p(this,t),n=y(r,e);if(n){var i=n.n,o=n.p;delete r._i[n.i],n.r=!0,o&&(o.n=i),i&&(i.p=o),r._f==n&&(r._f=i),r._l==n&&(r._l=o),r[h]--}return!!n},forEach:function(e){p(this,t);for(var r,n=a(e,arguments.length>1?arguments[1]:void 0,3);r=r?r.n:this._f;)for(n(r.v,r.k,this);r&&r.r;)r=r.p},has:function(e){return!!y(p(this,t),e)}}),f&&n(c.prototype,"size",{get:function(){return p(this,t)[h]}}),c},def:function(e,t,r){var n,i,o=y(e,t);return o?o.v=r:(e._l=o={i:i=g(t,!0),k:t,v:r,p:n=e._l,n:void 0,r:!1},e._f||(e._f=o),n&&(n.n=o),e[h]++,"F"!==i&&(e._i[i]=o)),e},getEntry:y,setStrong:function(e,t,r){l(e,t,function(e,r){this._t=p(e,t),this._k=r,this._l=void 0},function(){for(var e=this,t=e._k,r=e._l;r&&r.r;)r=r.p;return e._t&&(e._l=r=r?r.n:e._t._f)?"keys"==t?c(0,r.k):"values"==t?c(0,r.v):c(0,[r.k,r.v]):(e._t=void 0,c(1))},r?"entries":"values",!r,!0),d(t)}}},function(e,t,r){"use strict";var n=r(67),i=r(42).getWeak,o=r(8),a=r(9),s=r(66),u=r(98),l=r(35),c=r(24),d=r(54),f=l(5),g=l(6),p=0,h=function(e){return e._l||(e._l=new y)},y=function(){this.a=[]},m=function(e,t){return f(e.a,function(e){return e[0]===t})};y.prototype={get:function(e){var t=m(this,e);if(t)return t[1]},has:function(e){return!!m(this,e)},set:function(e,t){var r=m(this,e);r?r[1]=t:this.a.push([e,t])},delete:function(e){var t=g(this.a,function(t){return t[0]===e});return~t&&this.a.splice(t,1),!!~t}},e.exports={getConstructor:function(e,t,r,o){var l=e(function(e,n){s(e,l,t,"_i"),e._t=t,e._i=p++,e._l=void 0,void 0!=n&&u(n,r,e[o],e)});return n(l.prototype,{delete:function(e){if(!a(e))return!1;var r=i(e);return!0===r?h(d(this,t)).delete(e):r&&c(r,this._i)&&delete r[this._i]},has:function(e){if(!a(e))return!1;var r=i(e);return!0===r?h(d(this,t)).has(e):r&&c(r,this._i)}}),l},def:function(e,t,r){var n=i(o(t),!0);return!0===n?h(e).set(t,r):n[e._i]=r,e},ufstore:h}},function(e,t,r){var n=r(32),i=r(11);e.exports=function(e){if(void 0===e)return 0;var t=n(e),r=i(t);if(t!==r)throw RangeError("Wrong length!");return r}},function(e,t,r){var n=r(51),i=r(92),o=r(8),a=r(6).Reflect;e.exports=a&&a.ownKeys||function(e){var t=n.f(o(e)),r=i.f;return r?t.concat(r(e)):t}},function(e,t,r){var n=r(11),i=r(133),o=r(37);e.exports=function(e,t,r,a){var s=String(o(e)),u=s.length,l=void 0===r?" ":String(r),c=n(t);if(c<=u||""==l)return s;var d=c-u,f=i.call(l,Math.ceil(d/l.length));return f.length>d&&(f=f.slice(0,d)),a?f+s:s+f}},function(e,t,r){var n=r(15),i=r(48),o=r(26),a=r(79).f;e.exports=function(e){return function(t){for(var r,s=o(t),u=i(s),l=u.length,c=0,d=[];l>c;)r=u[c++],n&&!a.call(s,r)||d.push(e?[r,s[r]]:s[r]);return d}}},function(e,t){var r=e.exports={version:"2.6.11"};"number"==typeof __e&&(__e=r)},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,r){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function i(e){var t=e;try{var r=String.fromCharCode.apply(String,n(new Uint8Array(e))),i=JSON.parse(r);t=Uint8Array.from(atob(i.license[0]),function(e){return e.charCodeAt(0)})}catch(e){}return t}function o(e){return'{"challenge":"'+btoa(String.fromCharCode.apply(String,n(new Uint8Array(e))))+'"}'}Object.defineProperty(t,"__esModule",{value:!0}),t.unpackageLicense=i,t.packagePayload=o},function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},function(e,t,r){(function(t){var r;r="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},e.exports=r}).call(t,r(18))},function(e,t,r){(function(e){function n(e,t){this._id=e,this._clearFn=t}var i=void 0!==e&&e||"undefined"!=typeof self&&self||window,o=Function.prototype.apply;t.setTimeout=function(){return new n(o.call(setTimeout,i,arguments),clearTimeout)},t.setInterval=function(){return new n(o.call(setInterval,i,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},n.prototype.unref=n.prototype.ref=function(){},n.prototype.close=function(){this._clearFn.call(i,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},r(493),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(t,r(18))},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(){function e(e){e&&(e.capabilities&&(dn=e.capabilities),e.streamController&&(fn=e.streamController),e.playbackController&&(gn=e.playbackController),e.mediaPlayerModel&&(ln=e.mediaPlayerModel),e.abrController&&(en=e.abrController),e.mediaController&&(rn=e.mediaController))}function t(e,t,r){if(dn||(dn=(0,E.default)(Wr).getInstance()),cn=(0,A.default)(Wr).getInstance(),!dn.supportsMediaSource())return cn.capabilityError("mediasource"),void cn.error(new ye.default(V.default.CAPABILITY_MEDIASOURCE_ERROR_CODE,V.default.CAPABILITY_MEDIASOURCE_ERROR_MESSAGE));Xr||(Xr=!0,tn=(0,le.default)(Wr).getInstance(),en||(en=(0,j.default)(Wr).getInstance()),gn||(gn=(0,c.default)(Wr).getInstance()),rn||(rn=(0,p.default)(Wr).getInstance()),sn=(0,ne.default)(Wr).getInstance(),hn=(0,oe.default)(Wr).getInstance({mediaController:rn,timelineConverter:tn,adapter:sn,errHandler:cn}),yn=(0,R.default)(Wr).getInstance(),pn=(0,se.default)(Wr).getInstance({manifestModel:yn,dashManifestModel:hn}),un=(0,N.default)(Wr).getInstance(),vn=(0,D.default)(Wr).getInstance(),An=(0,G.default)(Wr).getInstance({mediaPlayerModel:ln}),sn.setConfig({dashManifestModel:hn}),un.setConfig({adapter:sn}),lt(),xe(void 0===r||r),e&&er(e),t&&Er(t),qr.info("[dash.js "+s()+"] MediaPlayer has been initialized"))}function r(){Er(null),er(null),zr=null,nn&&(nn.reset(),nn=null),on&&(on.reset(),on=null)}function n(){return!!Kr&&!!mn.getElement()}function i(e,t,r){Hr.on(e,t,r)}function o(e,t,r){Hr.off(e,t,r)}function s(){return(0,te.getVersionString)()}function l(){return Yr}function d(){if(mn.getElement()||Jr)return!1;if(!Kr)throw Ur;Lr()}function g(){if(!Zr)throw xr;(!$r||m()&&Zr)&&gn.play()}function h(){if(!Zr)throw xr;gn.pause()}function m(){if(!Zr)throw xr;return gn.isPaused()}function b(e){if(!Zr)throw xr;if((0,me.checkParameterType)(e,"number"),isNaN(e))throw a.default.BAD_ARGUMENT_ERROR;var t=gn.getIsDynamic()?$(e):e;gn.seek(t)}function _(){if(!Zr)throw xr;return gn.isSeeking()}function T(){if(!Zr)throw xr;return gn.getIsDynamic()}function I(e){Jt().playbackRate=e}function C(){return Jt().playbackRate}function M(e){ln.setCatchUpPlaybackRate(e)}function B(){return ln.getCatchUpPlaybackRate()}function P(e){if("number"!=typeof e||isNaN(e)||e<0||e>.5)throw Qr;ln.setLowLatencyMinDrift(e)}function L(){return ln.getLowLatencyMinDrift()}function x(e){if("number"!=typeof e||isNaN(e)||e<0)throw Gr;ln.setLowLatencyMaxDriftBeforeSeeking(e)}function U(){return ln.getLowLatencyMaxDriftBeforeSeeking()}function Q(e){(0,me.checkParameterType)(e,"boolean"),Jt().muted=e}function W(){return Jt().muted}function Y(e){if("number"!=typeof e||isNaN(e)||e<0||e>1)throw a.default.BAD_ARGUMENT_ERROR;Jt().volume=e}function q(){return Jt().volume}function z(e){var t=[a.default.VIDEO,a.default.AUDIO,a.default.FRAGMENTED_TEXT];if(e){if(-1!==t.indexOf(e)){var r=Ut().getCurrentBufferLevel(Ft(e));return r||NaN}return qr.warn("getBufferLength requested for invalid type"),NaN}var r=t.map(function(e){return or(e).length>0?Ut().getCurrentBufferLevel(Ft(e)):Number.MAX_VALUE}).reduce(function(e,t){return Math.min(e,t)});return r===Number.MAX_VALUE?NaN:r}function J(){var e=Pr();return e?e.manifestInfo.DVRWindowSize:0}function $(e){var t=Pr();if(!t)return 0;var r=gn.getLiveDelay(),n=t.range.start+e;return n>t.range.end-r&&(n=t.range.end-r),n}function re(e){if(!Zr)throw xr;var t=Jt().currentTime;if(void 0!==e)t=fn.getTimeRelativeToStreamId(t,e);else if(gn.getIsDynamic()){var r=Pr();t=null===r?0:ie()-(r.range.end-r.time)}return t}function ie(){if(!Zr)throw xr;var e=Jt().duration;if(gn.getIsDynamic()){var t=Pr(),r=void 0;if(!t)return 0;r=t.range.end-t.range.start,e=r<t.manifestInfo.DVRWindowSize?r:t.manifestInfo.DVRWindowSize}return e}function ae(){if(!Zr)throw xr;return re()<0?NaN:kr(re())}function ue(){if(!Zr)throw xr;return kr(ie())}function de(e,t){en.setMaxAllowedBitrateFor(e,t)}function ge(e,t){en.setMinAllowedBitrateFor(e,t)}function he(e){return en.getMaxAllowedBitrateFor(e)}function ve(e){if(!Jr)throw Nr;return en.getTopBitrateInfoFor(e)}function be(e){return en.getMinAllowedBitrateFor(e)}function Ae(e,t){en.setMaxAllowedRepresentationRatioFor(e,t)}function _e(e){return en.getMaxAllowedRepresentationRatioFor(e)}function Ee(e){if(!Jr)throw Nr;if(e===a.default.IMAGE){var t=wr();if(!t)return-1;var r=t.getThumbnailController();return r?r.getCurrentTrackIndex():-1}return en.getQualityFor(e,fn.getActiveStreamInfo())}function Te(e,t){if(!Jr)throw Nr;if(e===a.default.IMAGE){var r=wr();if(!r)return;var n=r.getThumbnailController();n&&n.setTrackByIndex(t)}en.setPlaybackQuality(e,fn.getActiveStreamInfo(),t)}function Se(){en.setElementSize(),en.setWindowResizeEventCalled(!0)}function Ie(){return en.getLimitBitrateByPortal()}function we(e){en.setLimitBitrateByPortal(e)}function Ce(){return en.getUsePixelRatioInLimitBitrateByPortal()}function De(e){en.setUsePixelRatioInLimitBitrateByPortal(e)}function Me(e,t){en.setInitialBitrateFor(e,t)}function Oe(e){if(!Jr)throw Nr;return en.getInitialBitrateFor(e)}function Be(e,t){en.setInitialRepresentationRatioFor(e,t)}function Re(e){return en.getInitialRepresentationRatioFor(e)}function Pe(e){return en.getAutoSwitchBitrateFor(e)}function ke(e,t){en.setAutoSwitchBitrateFor(e,t)}function Le(){return en.getUseDeadTimeLatency()}function Ne(e){en.setUseDeadTimeLatency(e)}function xe(e){(0,me.checkParameterType)(e,"boolean"),$r=e}function je(){return $r}function Ue(e){ln.setLiveDelayFragmentCount(e)}function Fe(e){ln.setLiveDelay(e)}function Qe(){return ln.getLiveDelay()}function Ge(){if(!Xr)throw Fr;return Zr?gn.getCurrentLiveLatency():NaN}function We(e){ln.setUseSuggestedPresentationDelay(e)}function He(e,t){ln.setLastBitrateCachingInfo(e,t)}function Ye(e,t){ln.setLastMediaSettingsCachingInfo(e,t)}function Ve(e){ln.setScheduleWhilePaused(e)}function qe(){return ln.getScheduleWhilePaused()}function Ke(e){ln.setFastSwitchEnabled(e)}function ze(){return ln.getFastSwitchEnabled()}function Xe(e){ln.setABRStrategy(e)}function Je(){return ln.getABRStrategy()}function Ze(e){ln.setUseDefaultABRRules(e)}function $e(e,t,r){ln.addABRCustomRule(e,t,r)}function et(e){ln.removeABRCustomRule(e)}function tt(){ln.removeABRCustomRule()}function rt(e){ln.setMovingAverageMethod(e)}function nt(){return ln.getMovingAverageMethod()}function it(){return ln.getLowLatencyEnabled()}function ot(e){ln.setLowLatencyEnabled(e)}function at(e,t){ln.addUTCTimingSource(e,t)}function st(e,t){ln.removeUTCTimingSource(e,t)}function ut(){ln.clearDefaultUTCTimingSources()}function lt(){ln.restoreDefaultUTCTimingSources()}function ct(e){ln.setUseManifestDateHeaderTimeSource(e)}function dt(e){ln.setBufferToKeep(e)}function ft(e){ln.setBufferAheadToKeep(e)}function gt(e){ln.setBufferPruningInterval(e)}function pt(e){ln.setStableBufferTime(e)}function ht(){return ln.getStableBufferTime()}function yt(e){ln.setBufferTimeAtTopQuality(e)}function mt(){return ln.getBufferTimeAtTopQuality()}function vt(e){ln.setBufferTimeAtTopQualityLongForm(e)}function bt(){return ln.getBufferTimeAtTopQualityLongForm()}function At(e){ln.setLongFormContentDurationThreshold(e)}function _t(e){ln.setSegmentOverlapToleranceTime(e)}function Et(e,t){ln.setCacheLoadThresholdForType(e,t)}function Tt(e){ln.setBandwidthSafetyFactor(e)}function St(){return ln.getBandwidthSafetyFactor()}function It(e){var t=en.getThroughputHistory();return t?t.getAverageThroughput(e):0}function wt(e){ln.setAbandonLoadTimeout(e)}function Ct(e){ln.setRetryAttemptsForType(ce.HTTPRequest.MEDIA_SEGMENT_TYPE,e)}function Dt(e){ln.setRetryIntervalForType(ce.HTTPRequest.MEDIA_SEGMENT_TYPE,e)}function Mt(e){ln.setRetryAttemptsForType(ce.HTTPRequest.MPD_TYPE,e)}function Ot(e){ln.setRetryIntervalForType(ce.HTTPRequest.MPD_TYPE,e)}function Bt(e,t){ln.setXHRWithCredentialsForType(e,t)}function Rt(e){return ln.getXHRWithCredentialsForType(e)}function Pt(e){ln.setJumpGaps(e)}function kt(){return ln.getJumpGaps()}function Lt(e){ln.setSmallGapLimit(e)}function Nt(){return ln.getSmallGapLimit()}function xt(e){ln.setManifestUpdateRetryInterval(e)}function jt(){return ln.getManifestUpdateRetryInterval()}function Ut(){return pn}function Ft(e){return un.getReadOnlyMetricsFor(e)}function Qt(e){void 0===vn&&(vn=(0,D.default)(Wr).getInstance()),vn.setTextDefaultLanguage(e)}function Gt(){return void 0===vn&&(vn=(0,D.default)(Wr).getInstance()),vn.getTextDefaultLanguage()}function Wt(e){void 0===vn&&(vn=(0,D.default)(Wr).getInstance()),vn.setTextDefaultEnabled(e)}function Ht(){return void 0===vn&&(vn=(0,D.default)(Wr).getInstance()),vn.getTextDefaultEnabled()}function Yt(e){void 0===vn&&(vn=(0,D.default)(Wr).getInstance()),vn.enableText(e)}function Vt(e){void 0===vn&&(vn=(0,D.default)(Wr).getInstance()),vn.enableForcedTextStreaming(e)}function qt(){return void 0===vn&&(vn=(0,D.default)(Wr).getInstance()),vn.isTextEnabled()}function Kt(e){if(!Zr)throw xr;void 0===vn&&(vn=(0,D.default)(Wr).getInstance()),vn.setTextTrack(e)}function zt(){var e=NaN;return vn&&(e=vn.getCurrentTrackIdx()),e}function Xt(e){var t=(0,S.default)(Wr).getInstance();t.setConfig({videoModel:mn}),t.initialize(),t.displayCConTop(e)}function Jt(){if(!mn.getElement())throw jr;return mn.getElement()}function Zt(){return mn?mn.getVideoContainer():null}function $t(e){if(!mn.getElement())throw jr;mn.setVideoContainer(e)}function er(e){if(!Xr)throw Fr;mn.setElement(e),e&&(Or(),Br(),Rr(),fn&&fn.switchToVideoElement()),Zr&&Cr(),Lr()}function tr(){return mn?mn.getTTMLRenderingDiv():null}function rr(e){if(!mn.getElement())throw jr;mn.setTTMLRenderingDiv(e)}function nr(e){if(!Jr)throw Nr;var t=wr();return t?t.getBitrateListFor(e):[]}function ir(e){if(!Jr)throw Nr;return sn.getStreamsInfo(e)}function or(e){if(!Jr)throw Nr;var t=fn.getActiveStreamInfo();return rn.getTracksFor(e,t)}function ar(e,t,r){if(!Jr)throw Nr;return r=r||sn.getStreamsInfo(t,1)[0],r?sn.getAllMediaInfoForType(r,e,t):[]}function sr(e){if(!Jr)throw Nr;var t=fn.getActiveStreamInfo();return rn.getCurrentTrackFor(e,t)}function ur(e,t){if(!Xr)throw Fr;rn.setInitialSettings(e,t)}function lr(e){if(!Xr)throw Fr;return rn.getInitialSettings(e)}function cr(e){if(!Jr)throw Nr;rn.setTrack(e)}function dr(e){if(!Xr)throw Fr;return rn.getSwitchMode(e)}function fr(e,t){if(!Xr)throw Fr;rn.setSwitchMode(e,t)}function gr(e){if(!Xr)throw Fr;rn.setSelectionModeForInitialTrack(e)}function pr(){if(!Xr)throw Fr;return rn.getSelectionModeForInitialTrack()}function hr(){return Or()}function yr(e){nn=e}function mr(e){zr=e,fn&&fn.setProtectionData(zr)}function vr(e,t){if(e<0)return null;var r=gn.getIsDynamic()?$(e):e,n=fn.getStreamForTime(r);if(null===n)return null;var i=n.getThumbnailController();if(!i)return null;var o=fn.getTimeRelativeToStreamId(r,n.getId());return i.get(o,t)}function br(e){ln.setKeepProtectionMediaKeys(e)}function Ar(e,t){var r=Mr(),n=this,i=function e(i){i.error?t(null,i.error):t(i.manifest),Hr.off(X.default.INTERNAL_MANIFEST_LOADED,e,n),r.reset()};Hr.on(X.default.INTERNAL_MANIFEST_LOADED,i,n),bn.initialize(e),r.load(e)}function _r(){if(!Kr)throw Ur;return Kr}function Er(e){if(!Xr)throw Fr;"string"==typeof e&&bn.initialize(e),Kr=e,(Jr||Zr)&&Cr(),n()&&Lr()}function Tr(e,t,r){var n=!(arguments.length<=3||void 0===arguments[3])&&arguments[3],i=new Date(1e3*e),o=i.toLocaleDateString(t),a=i.toLocaleTimeString(t,{hour12:r});return n?a+" "+o:a}function Sr(e){e=Math.max(e,0);var t=Math.floor(e/3600),r=Math.floor(e%3600/60),n=Math.floor(e%3600%60);return(0===t?"":t<10?"0"+t.toString()+":":t.toString()+":")+(r<10?"0"+r.toString():r.toString())+":"+(n<10?"0"+n.toString():n.toString())}function Ir(e,t,r){ee.default.extend(e,t,r,Wr)}function wr(){if(!Jr)throw Nr;var e=fn.getActiveStreamInfo();return e?fn.getStreamById(e.id):null}function Cr(){Zr=!1,Jr=!1,sn.reset(),fn.reset(),gn.reset(),en.reset(),rn.reset(),vn.reset(),nn&&(ln.getKeepProtectionMediaKeys()?nn.stop():(nn.reset(),nn=null,Or()))}function Dr(){var e=Mr();fn||(fn=(0,f.default)(Wr).getInstance()),rn.setConfig({domStorage:An}),fn.setConfig({capabilities:dn,manifestLoader:e,manifestModel:yn,dashManifestModel:hn,mediaPlayerModel:ln,protectionController:nn,adapter:sn,metricsModel:un,dashMetrics:pn,errHandler:cn,timelineConverter:tn,videoModel:mn,playbackController:gn,domStorage:An,abrController:en,mediaController:rn,textController:vn}),gn.setConfig({streamController:fn,metricsModel:un,dashMetrics:pn,manifestModel:yn,mediaPlayerModel:ln,dashManifestModel:hn,adapter:sn,videoModel:mn,timelineConverter:tn,uriFragmentModel:bn}),en.setConfig({streamController:fn,domStorage:An,mediaPlayerModel:ln,metricsModel:un,dashMetrics:pn,dashManifestModel:hn,manifestModel:yn,videoModel:mn,adapter:sn}),en.createAbrRulesCollection(),vn.setConfig({errHandler:cn,manifestModel:yn,dashManifestModel:hn,mediaController:rn,streamController:fn,videoModel:mn}),fn.initialize($r,zr)}function Mr(){return(0,v.default)(Wr).create({errHandler:cn,metricsModel:un,mediaPlayerModel:ln,requestModifier:(0,w.default)(Wr).getInstance(),mssHandler:an})}function Or(){if(nn)return nn;var e=dashjs.Protection;if("function"==typeof e){var t=e(Wr).create();return X.default.extend(e.events),Z.default.extend(e.events,{publicOnly:!0}),V.default.extend(e.errors),dn||(dn=(0,E.default)(Wr).getInstance()),nn=t.createProtectionSystem({debug:Yr,errHandler:cn,videoModel:mn,capabilities:dn,eventBus:Hr,events:X.default,BASE64:fe.default,constants:a.default})}return null}function Br(){if(!on){var e=dashjs.MetricsReporting;if("function"==typeof e){var t=e(Wr).create();on=t.createMetricsReporting({debug:Yr,eventBus:Hr,mediaElement:Jt(),dashManifestModel:hn,metricsModel:un,events:X.default,constants:a.default,metricsConstants:u.default})}}}function Rr(){if(!an){var e=dashjs.MssHandler;"function"==typeof e&&(V.default.extend(e.errors),an=e(Wr).create({eventBus:Hr,mediaPlayerModel:ln,metricsModel:un,playbackController:gn,protectionController:nn,baseURLController:(0,y.default)(Wr).getInstance(),errHandler:cn,events:X.default,constants:a.default,debug:Yr,initSegmentType:ce.HTTPRequest.INIT_SEGMENT_TYPE,BASE64:fe.default,ISOBoxer:pe.default}))}}function Pr(){var e=un.getReadOnlyMetricsFor(a.default.VIDEO)||un.getReadOnlyMetricsFor(a.default.AUDIO);return pn.getCurrentDVRInfo(e)}function kr(e){var t=Pr(),r=void 0;return t?(r=t.manifestInfo.availableFrom.getTime()/1e3,e+(r+t.range.start)):0}function Lr(){!Jr&&Kr&&(Jr=!0,qr.info("Streaming Initialized"),Dr(),"string"==typeof Kr?fn.load(Kr):fn.loadWithManifest(Kr)),!Zr&&n()&&(Zr=!0,qr.info("Playback Initialized"))}var Nr="You must first call initialize() and set a source before calling this method",xr="You must first call initialize() and set a valid source and view before calling this method",jr="You must first call attachView() to set the video element before calling this method",Ur="You must first call attachSource() with a valid source before calling this method",Fr="MediaPlayer not initialized!",Qr="Playback minimum drift has an invalid value! Use a number from 0 to 0.5",Gr="Playback maximum drift has an invalid value! Use a number greater or equal to 0",Wr=this.context,Hr=(0,K.default)(Wr).getInstance(),Yr=(0,H.default)(Wr).getInstance(),Vr=void 0,qr=void 0,Kr=void 0,zr=void 0,Xr=void 0,Jr=void 0,Zr=void 0,$r=void 0,en=void 0,tn=void 0,rn=void 0,nn=void 0,on=void 0,an=void 0,sn=void 0,un=void 0,ln=void 0,cn=void 0,dn=void 0,fn=void 0,gn=void 0,pn=void 0,hn=void 0,yn=void 0,mn=void 0,vn=void 0,bn=void 0,An=void 0;return Vr={initialize:t,setConfig:e,on:i,off:o,extend:Ir,attachView:er,attachSource:Er,isReady:n,preload:d,play:g,isPaused:m,pause:h,isSeeking:_,isDynamic:T,seek:b,setPlaybackRate:I,getPlaybackRate:C,setMute:Q,isMuted:W,setVolume:Y,getVolume:q,time:re,duration:ie,timeAsUTC:ae,durationAsUTC:ue,getActiveStream:wr,getDVRWindowSize:J,getDVRSeekOffset:$,convertToTimeCode:Sr,formatUTC:Tr,getVersion:s,getDebug:l,getBufferLength:z,getVideoContainer:Zt,getTTMLRenderingDiv:tr,getVideoElement:Jt,getSource:_r,setLiveDelayFragmentCount:Ue,setLiveDelay:Fe,getLiveDelay:Qe,getCurrentLiveLatency:Ge,useSuggestedPresentationDelay:We,enableLastBitrateCaching:He,enableLastMediaSettingsCaching:Ye,setMaxAllowedBitrateFor:de,getMaxAllowedBitrateFor:he,getTopBitrateInfoFor:ve,setMinAllowedBitrateFor:ge,getMinAllowedBitrateFor:be,setMaxAllowedRepresentationRatioFor:Ae,getMaxAllowedRepresentationRatioFor:_e,setAutoPlay:xe,getAutoPlay:je,setScheduleWhilePaused:Ve,getScheduleWhilePaused:qe,getDashMetrics:Ut,getMetricsFor:Ft,getQualityFor:Ee,setQualityFor:Te,updatePortalSize:Se,getLimitBitrateByPortal:Ie,setLimitBitrateByPortal:we,getUsePixelRatioInLimitBitrateByPortal:Ce,setUsePixelRatioInLimitBitrateByPortal:De,setTextDefaultLanguage:Qt,getTextDefaultLanguage:Gt,setTextDefaultEnabled:Wt,getTextDefaultEnabled:Ht,enableText:Yt,enableForcedTextStreaming:Vt,isTextEnabled:qt,setTextTrack:Kt,getBitrateInfoListFor:nr,setInitialBitrateFor:Me,getInitialBitrateFor:Oe,setInitialRepresentationRatioFor:Be,getInitialRepresentationRatioFor:Re,getStreamsFromManifest:ir,getTracksFor:or,getTracksForTypeFromManifest:ar,getCurrentTrackFor:sr,setInitialMediaSettingsFor:ur,getInitialMediaSettingsFor:lr,setCurrentTrack:cr,getTrackSwitchModeFor:dr,setTrackSwitchModeFor:fr,setSelectionModeForInitialTrack:gr,getSelectionModeForInitialTrack:pr,setFastSwitchEnabled:Ke,getFastSwitchEnabled:ze,setMovingAverageMethod:rt,getMovingAverageMethod:nt,getAutoSwitchQualityFor:Pe,setAutoSwitchQualityFor:ke,setABRStrategy:Xe,getABRStrategy:Je,useDefaultABRRules:Ze,addABRCustomRule:$e,removeABRCustomRule:et,removeAllABRCustomRule:tt,setBandwidthSafetyFactor:Tt,getBandwidthSafetyFactor:St,getAverageThroughput:It,setAbandonLoadTimeout:wt,retrieveManifest:Ar,addUTCTimingSource:at,removeUTCTimingSource:st,clearDefaultUTCTimingSources:ut,restoreDefaultUTCTimingSources:lt,setBufferToKeep:dt,setBufferAheadToKeep:ft,setBufferPruningInterval:gt,setStableBufferTime:pt,getStableBufferTime:ht,setBufferTimeAtTopQuality:yt,getBufferTimeAtTopQuality:mt,setBufferTimeAtTopQualityLongForm:vt,getBufferTimeAtTopQualityLongForm:bt,setFragmentLoaderRetryAttempts:Ct,setFragmentLoaderRetryInterval:Dt,setManifestLoaderRetryAttempts:Mt,setManifestLoaderRetryInterval:Ot,setXHRWithCredentialsForType:Bt,getXHRWithCredentialsForType:Rt,setJumpGaps:Pt,getJumpGaps:kt,setSmallGapLimit:Lt,getSmallGapLimit:Nt,setLowLatencyEnabled:ot,getLowLatencyEnabled:it,setCatchUpPlaybackRate:M,getCatchUpPlaybackRate:B,setLowLatencyMinDrift:P,getLowLatencyMinDrift:L,setLowLatencyMaxDriftBeforeSeeking:x,getLowLatencyMaxDriftBeforeSeeking:U,setManifestUpdateRetryInterval:xt,getManifestUpdateRetryInterval:jt,setLongFormContentDurationThreshold:At,setSegmentOverlapToleranceTime:_t,setCacheLoadThresholdForType:Et,getProtectionController:hr,attachProtectionController:yr,setProtectionData:mr,enableManifestDateHeaderTimeSource:ct,displayCaptionsOnTop:Xt,attachVideoContainer:$t,attachTTMLRenderingDiv:rr,getCurrentTextTrackIndex:zt,getUseDeadTimeLatencyForAbr:Le,setUseDeadTimeLatencyForAbr:Ne,getThumbnail:vr,keepProtectionMediaKeys:br,reset:r},function(){qr=Yr.getLogger(Vr),Xr=!1,Zr=!1,Jr=!1,$r=!0,nn=null,zr=null,sn=null,X.default.extend(Z.default),ln=(0,k.default)(Wr).getInstance(),mn=(0,F.default)(Wr).getInstance(),bn=(0,O.default)(Wr).getInstance()}(),Vr}Object.defineProperty(t,"__esModule",{value:!0});var o=r(2),a=n(o),s=r(69),u=n(s),l=r(498),c=n(l),d=r(533),f=n(d),g=r(161),p=n(g),h=r(237),y=n(h),m=r(569),v=n(m),b=r(581),A=n(b),_=r(582),E=n(_),T=r(155),S=n(T),I=r(110),w=n(I),C=r(153),D=n(C),M=r(583),O=n(M),B=r(585),R=n(B),P=r(586),k=n(P),L=r(587),N=n(L),x=r(109),j=n(x),U=r(598),F=n(U),Q=r(599),G=n(Q),W=r(4),H=n(W),Y=r(17),V=n(Y),q=r(3),K=n(q),z=r(5),X=n(z),J=r(236),Z=n(J),$=r(1),ee=n($),te=r(244),re=r(600),ne=n(re),ie=r(605),oe=n(ie),ae=r(610),se=n(ae),ue=r(612),le=n(ue),ce=r(19),de=r(613),fe=n(de),ge=r(154),pe=n(ge),he=r(12),ye=n(he),me=r(70);i.__dashjs_factory_name="MediaPlayer";var ve=ee.default.getClassFactory(i);ve.events=Z.default,ve.errors=V.default,ee.default.updateClassFactory(i.__dashjs_factory_name,ve),t.default=ve,e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t,r,n){function i(t){if(M){if("function"==typeof M.removeEventListener&&(M.removeEventListener("updateend",E,!1),M.removeEventListener("error",T,!1),M.removeEventListener("abort",T,!1)),clearInterval(B),!t){try{M.getClassName&&"TextSourceBuffer"===M.getClassName()||e.removeSourceBuffer(M)}catch(e){D.error("Failed to remove source buffer from media source.")}M=null}O=!1}P=[],k=null}function o(){return M}function s(){try{return M.buffered}catch(e){return D.error("getAllBufferRanges exception: "+e.message),null}}function l(e){if(!e)return void k({chunk:e,error:new u.default(v.default.APPEND_ERROR_CODE,v.default.APPEND_ERROR_MESSAGE)});P.push(e),O||S(M,p.bind(this))}function d(e){M.timestampOffset===e||isNaN(e)||S(M,function(){M.timestampOffset=e})}function g(t,r,n){var i=this;S(M,function(){try{t>=0&&r>t&&(n||"ended"!==e.readyState)&&M.remove(t,r),S(M,function(){w.trigger(f.default.SOURCEBUFFER_REMOVE_COMPLETED,{buffer:i,from:t,to:r,unintended:!1})})}catch(e){w.trigger(f.default.SOURCEBUFFER_REMOVE_COMPLETED,{buffer:i,from:t,to:r,unintended:!1,error:new u.default(e.code,e.message)})}})}function p(){var e=this,t=this;P.length>0&&function(){O=!0;var r=P[0];P.splice(0,1);var n=[],i=function(){var e=s();h(t,n,e,r),P.length>0?p.call(this):(O=!1,k&&k({chunk:r}))};try{0===r.bytes.length?i.call(e):(n=s(),M.appendBuffer?M.appendBuffer(r.bytes):M.append(r.bytes,r),S(M,i.bind(e)))}catch(e){D.fatal('SourceBuffer append failed "'+e+'"'),P.length>0?p():O=!1,k&&k({chunk:r,error:new u.default(e.code,e.message)})}}()}function h(e,t,r,n){t&&t.length>0&&t.length<r.length&&m(t,n)&&w.trigger(f.default.SOURCEBUFFER_REMOVE_COMPLETED,{buffer:e,from:r.end(r.length-2),to:r.start(r.length-1),unintended:!0})}function m(e,t){for(var r=0;r<e.length;r++){var n=Math.round(e.start(r)),i=Math.round(e.end(r));if(i===t.start||n===t.end||t.start>=n&&t.end<=i)return!0}return!1}function b(){try{"open"===e.readyState?M.abort():M.setTextTrack&&"ended"===e.readyState&&M.abort()}catch(e){D.error('SourceBuffer append abort failed: "'+e+'"')}P=[]}function A(){if(R.length>0){var e=R.shift();M.updating?S(M,e):(e(),A())}}function _(){M.updating||A()}function E(){M.updating||A()}function T(){D.error("SourceBufferSink error",t.type)}function S(e,t){R.push(t),e.updating||A()}var I=this.context,w=(0,c.default)(I).getInstance(),C=void 0,D=void 0,M=void 0,O=void 0,B=void 0,R=[],P=[],k=r;return C={getAllBufferRanges:s,getBuffer:o,append:l,remove:g,abort:b,reset:i,updateTimestampOffset:d},function(){D=(0,a.default)(I).getInstance().getLogger(C),O=!1;var r=t.codec;try{if(r.match(/application\/mp4;\s*codecs="(stpp|wvtt).*"/i))throw new Error("not really supported");if(M=n||e.addSourceBuffer(r),"function"==typeof M.addEventListener)try{M.addEventListener("updateend",E,!1),M.addEventListener("error",T,!1),M.addEventListener("abort",T,!1)}catch(e){B=setInterval(_,50)}else B=setInterval(_,50)}catch(e){if(!t.isText&&-1===r.indexOf('codecs="stpp')&&-1===r.indexOf('codecs="wvtt'))throw e;var i=(0,y.default)(I).getInstance();M=i.getTextSourceBuffer()}}(),C}Object.defineProperty(t,"__esModule",{value:!0});var o=r(4),a=n(o),s=r(12),u=n(s),l=r(3),c=n(l),d=r(5),f=n(d),g=r(1),p=n(g),h=r(153),y=n(h),m=r(17),v=n(m);i.__dashjs_factory_name="SourceBufferSink";var b=p.default.getClassFactory(i);t.default=b,e.exports=t.default},function(e,t,r){"use strict";function n(){function e(e,t){var r=0;for(r=0;r<this.customTimeRangeArray.length&&e>this.customTimeRangeArray[r].start;r++);for(this.customTimeRangeArray.splice(r,0,{start:e,end:t}),r=0;r<this.customTimeRangeArray.length-1;r++)this.mergeRanges(r,r+1)&&r--;this.length=this.customTimeRangeArray.length}function t(){this.customTimeRangeArray=[],this.length=0}function r(e,t){for(var r=0;r<this.customTimeRangeArray.length;r++)if(e<=this.customTimeRangeArray[r].start&&t>=this.customTimeRangeArray[r].end)this.customTimeRangeArray.splice(r,1),r--;else{if(e>this.customTimeRangeArray[r].start&&t<this.customTimeRangeArray[r].end){this.customTimeRangeArray.splice(r+1,0,{start:t,end:this.customTimeRangeArray[r].end}),this.customTimeRangeArray[r].end=e;break}e>this.customTimeRangeArray[r].start&&e<this.customTimeRangeArray[r].end?this.customTimeRangeArray[r].end=e:t>this.customTimeRangeArray[r].start&&t<this.customTimeRangeArray[r].end&&(this.customTimeRangeArray[r].start=t)}this.length=this.customTimeRangeArray.length}function n(e,t){var r=this.customTimeRangeArray[e],n=this.customTimeRangeArray[t];return r.start<=n.start&&n.start<=r.end&&r.end<=n.end?(r.end=n.end,this.customTimeRangeArray.splice(t,1),!0):n.start<=r.start&&r.start<=n.end&&n.end<=r.end?(r.start=n.start,this.customTimeRangeArray.splice(t,1),!0):n.start<=r.start&&r.start<=n.end&&r.end<=n.end?(this.customTimeRangeArray.splice(e,1),!0):r.start<=n.start&&n.start<=r.end&&n.end<=r.end&&(this.customTimeRangeArray.splice(t,1),!0)}function i(e){return(0,a.checkInteger)(e),e>=this.customTimeRangeArray.length||e<0?NaN:this.customTimeRangeArray[e].start}function o(e){return(0,a.checkInteger)(e),e>=this.customTimeRangeArray.length||e<0?NaN:this.customTimeRangeArray[e].end}return{customTimeRangeArray:[],length:0,add:e,clear:t,remove:r,mergeRanges:n,start:i,end:o}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(1),o=function(e){return e&&e.__esModule?e:{default:e}}(i),a=r(70);n.__dashjs_factory_name="CustomTimeRanges",t.default=o.default.getClassFactory(n),e.exports=t.default},function(e,t,r){t.generateISD=r(505).generateISD,t.fromXML=r(506).fromXML,t.renderHTML=r(518).render},function(e,t,r){"use strict";(function(t,n){function i(e){return x.from(e)}function o(e){return x.isBuffer(e)||e instanceof j}function a(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?k(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}function s(e,t){P=P||r(57),e=e||{};var n=t instanceof P;this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var i=e.highWaterMark,o=e.readableHighWaterMark,a=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:n&&(o||0===o)?o:a,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new W,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(G||(G=r(160).StringDecoder),this.decoder=new G(e.encoding),this.encoding=e.encoding)}function u(e){if(P=P||r(57),!(this instanceof u))return new u(e);this._readableState=new s(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),N.call(this)}function l(e,t,r,n,o){var a=e._readableState;if(null===t)a.reading=!1,h(e,a);else{var s;o||(s=d(a,t)),s?e.emit("error",s):a.objectMode||t&&t.length>0?("string"==typeof t||a.objectMode||Object.getPrototypeOf(t)===x.prototype||(t=i(t)),n?a.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):c(e,a,t,!0):a.ended?e.emit("error",new Error("stream.push() after EOF")):(a.reading=!1,a.decoder&&!r?(t=a.decoder.write(t),a.objectMode||0!==t.length?c(e,a,t,!1):v(e,a)):c(e,a,t,!1))):n||(a.reading=!1)}return f(a)}function c(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&y(e)),v(e,t)}function d(e,t){var r;return o(t)||"string"==typeof t||void 0===t||e.objectMode||(r=new TypeError("Invalid non-string/buffer chunk")),r}function f(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}function g(e){return e>=V?e=V:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function p(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=g(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function h(e,t){if(!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,y(e)}}function y(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(Q("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?R.nextTick(m,e):m(e))}function m(e){Q("emit readable"),e.emit("readable"),S(e)}function v(e,t){t.readingMore||(t.readingMore=!0,R.nextTick(b,e,t))}function b(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(Q("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}function A(e){return function(){var t=e._readableState;Q("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&L(e,"data")&&(t.flowing=!0,S(e))}}function _(e){Q("readable nexttick read 0"),e.read(0)}function E(e,t){t.resumeScheduled||(t.resumeScheduled=!0,R.nextTick(T,e,t))}function T(e,t){t.reading||(Q("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),S(e),t.flowing&&!t.reading&&e.read(0)}function S(e){var t=e._readableState;for(Q("flow",t.flowing);t.flowing&&null!==e.read(););}function I(e,t){if(0===t.length)return null;var r;return t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):r=w(e,t.buffer,t.decoder),r}function w(e,t,r){var n;return e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):n=e===t.head.data.length?t.shift():r?C(e,t):D(e,t),n}function C(e,t){var r=t.head,n=1,i=r.data;for(e-=i.length;r=r.next;){var o=r.data,a=e>o.length?o.length:e;if(a===o.length?i+=o:i+=o.slice(0,e),0===(e-=a)){a===o.length?(++n,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(a));break}++n}return t.length-=n,i}function D(e,t){var r=x.allocUnsafe(e),n=t.head,i=1;for(n.data.copy(r),e-=n.data.length;n=n.next;){var o=n.data,a=e>o.length?o.length:e;if(o.copy(r,r.length-e,0,a),0===(e-=a)){a===o.length?(++i,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(a));break}++i}return t.length-=i,r}function M(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,R.nextTick(O,t,e))}function O(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function B(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}var R=r(107);e.exports=u;var P,k=r(218);u.ReadableState=s;var L=(r(157).EventEmitter,function(e,t){return e.listeners(t).length}),N=r(226),x=r(108).Buffer,j=t.Uint8Array||function(){},U=Object.create(r(85));U.inherits=r(71);var F=r(509),Q=void 0;Q=F&&F.debuglog?F.debuglog("stream"):function(){};var G,W=r(510),H=r(227);U.inherits(u,N);var Y=["error","close","destroy","pause","resume"];Object.defineProperty(u.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),u.prototype.destroy=H.destroy,u.prototype._undestroy=H.undestroy,u.prototype._destroy=function(e,t){this.push(null),t(e)},u.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&(t=t||n.defaultEncoding,t!==n.encoding&&(e=x.from(e,t),t=""),r=!0),l(this,e,t,!1,r)},u.prototype.unshift=function(e){return l(this,e,null,!0,!1)},u.prototype.isPaused=function(){return!1===this._readableState.flowing},u.prototype.setEncoding=function(e){return G||(G=r(160).StringDecoder),this._readableState.decoder=new G(e),this._readableState.encoding=e,this};var V=8388608;u.prototype.read=function(e){Q("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return Q("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?M(this):y(this),null;if(0===(e=p(e,t))&&t.ended)return 0===t.length&&M(this),null;var n=t.needReadable;Q("need readable",n),(0===t.length||t.length-e<t.highWaterMark)&&(n=!0,Q("length less than watermark",n)),t.ended||t.reading?(n=!1,Q("reading or ended",n)):n&&(Q("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=p(r,t)));var i;return i=e>0?I(e,t):null,null===i?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&M(this)),null!==i&&this.emit("data",i),i},u.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},u.prototype.pipe=function(e,t){function r(e,t){Q("onunpipe"),e===f&&t&&!1===t.hasUnpiped&&(t.hasUnpiped=!0,o())}function i(){Q("onend"),e.end()}function o(){Q("cleanup"),e.removeListener("close",l),e.removeListener("finish",c),e.removeListener("drain",y),e.removeListener("error",u),e.removeListener("unpipe",r),f.removeListener("end",i),f.removeListener("end",d),f.removeListener("data",s),m=!0,!g.awaitDrain||e._writableState&&!e._writableState.needDrain||y()}function s(t){Q("ondata"),v=!1,!1!==e.write(t)||v||((1===g.pipesCount&&g.pipes===e||g.pipesCount>1&&-1!==B(g.pipes,e))&&!m&&(Q("false write response, pause",f._readableState.awaitDrain),f._readableState.awaitDrain++,v=!0),f.pause())}function u(t){Q("onerror",t),d(),e.removeListener("error",u),0===L(e,"error")&&e.emit("error",t)}function l(){e.removeListener("finish",c),d()}function c(){Q("onfinish"),e.removeListener("close",l),d()}function d(){Q("unpipe"),f.unpipe(e)}var f=this,g=this._readableState;switch(g.pipesCount){case 0:g.pipes=e;break;case 1:g.pipes=[g.pipes,e];break;default:g.pipes.push(e)}g.pipesCount+=1,Q("pipe count=%d opts=%j",g.pipesCount,t);var p=(!t||!1!==t.end)&&e!==n.stdout&&e!==n.stderr,h=p?i:d;g.endEmitted?R.nextTick(h):f.once("end",h),e.on("unpipe",r);var y=A(f);e.on("drain",y);var m=!1,v=!1;return f.on("data",s),a(e,"error",u),e.once("close",l),e.once("finish",c),e.emit("pipe",f),g.flowing||(Q("pipe resume"),f.resume()),e},u.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r),this);if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,r);return this}var a=B(t.pipes,e);return-1===a?this:(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r),this)},u.prototype.on=function(e,t){var r=N.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var n=this._readableState;n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&y(this):R.nextTick(_,this))}return r},u.prototype.addListener=u.prototype.on,u.prototype.resume=function(){var e=this._readableState;return e.flowing||(Q("resume"),e.flowing=!0,E(this,e)),this},u.prototype.pause=function(){return Q("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(Q("pause"),this._readableState.flowing=!1,this.emit("pause")),this},u.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;e.on("end",function(){if(Q("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(i){if(Q("wrapped data"),r.decoder&&(i=r.decoder.write(i)),(!r.objectMode||null!==i&&void 0!==i)&&(r.objectMode||i&&i.length)){t.push(i)||(n=!0,e.pause())}});for(var i in e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<Y.length;o++)e.on(Y[o],this.emit.bind(this,Y[o]));return this._read=function(t){Q("wrapped _read",t),n&&(n=!1,e.resume())},this},Object.defineProperty(u.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),u._fromList=I}).call(t,r(18),r(83))},function(e,t,r){e.exports=r(157).EventEmitter},function(e,t,r){"use strict";function n(e,t){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||a.nextTick(o,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!t&&e?(a.nextTick(o,r,e),r._writableState&&(r._writableState.errorEmitted=!0)):t&&t(e)}),this)}function i(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function o(e,t){e.emit("error",t)}var a=r(107);e.exports={destroy:n,undestroy:i}},function(e,t,r){"use strict";function n(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function i(e){if(!(this instanceof i))return new i(e);s.call(this,e),this._transformState={afterTransform:n.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",o)}function o(){var e=this;"function"==typeof this._flush?this._flush(function(t,r){a(e,t,r)}):a(this,null,null)}function a(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}e.exports=i;var s=r(57),u=Object.create(r(85));u.inherits=r(71),u.inherits(i,s),i.prototype.push=function(e,t){return this._transformState.needTransform=!1,s.prototype.push.call(this,e,t)},i.prototype._transform=function(e,t,r){throw new Error("_transform() is not implemented")},i.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},i.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},i.prototype._destroy=function(e,t){var r=this;s.prototype._destroy.call(this,e,function(e){t(e),r.emit("close")})}},function(e,t,r){"use strict";!function(e){var t={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},r=function(e){var r=e;return t.hasOwnProperty(e)&&(r=t[e]),String.fromCharCode(r)},n={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},i={17:2,18:4,21:6,22:8,23:10,19:13,20:15},o={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},a={25:2,26:4,29:6,30:8,31:10,27:13,28:15},s=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],u={verboseFilter:{DATA:3,DEBUG:3,INFO:2,WARNING:2,TEXT:1,ERROR:0},time:null,verboseLevel:0,setTime:function(e){this.time=e},log:function(e,t){this.verboseFilter[e];this.verboseLevel}},l=function(e){for(var t=[],r=0;r<e.length;r++)t.push(e[r].toString(16));return t},c=function(e,t,r,n,i){this.foreground=e||"white",this.underline=t||!1,this.italics=r||!1,this.background=n||"black",this.flash=i||!1};c.prototype={reset:function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},setStyles:function(e){for(var t=["foreground","underline","italics","background","flash"],r=0;r<t.length;r++){var n=t[r];e.hasOwnProperty(n)&&(this[n]=e[n])}},isDefault:function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash},equals:function(e){return this.foreground===e.foreground&&this.underline===e.underline&&this.italics===e.italics&&this.background===e.background&&this.flash===e.flash},copy:function(e){this.foreground=e.foreground,this.underline=e.underline,this.italics=e.italics,this.background=e.background,this.flash=e.flash},toString:function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}};var d=function(e,t,r,n,i,o){this.uchar=e||" ",this.penState=new c(t,r,n,i,o)};d.prototype={reset:function(){this.uchar=" ",this.penState.reset()},setChar:function(e,t){this.uchar=e,this.penState.copy(t)},setPenState:function(e){this.penState.copy(e)},equals:function(e){return this.uchar===e.uchar&&this.penState.equals(e.penState)},copy:function(e){this.uchar=e.uchar,this.penState.copy(e.penState)},isEmpty:function(){return" "===this.uchar&&this.penState.isDefault()}};var f=function(){this.chars=[];for(var e=0;e<32;e++)this.chars.push(new d);this.pos=0,this.currPenState=new c};f.prototype={equals:function(e){for(var t=!0,r=0;r<32;r++)if(!this.chars[r].equals(e.chars[r])){t=!1;break}return t},copy:function(e){for(var t=0;t<32;t++)this.chars[t].copy(e.chars[t])},isEmpty:function(){for(var e=!0,t=0;t<32;t++)if(!this.chars[t].isEmpty()){e=!1;break}return e},setCursor:function(e){this.pos!==e&&(this.pos=e),this.pos<0?(u.log("ERROR","Negative cursor position "+this.pos),this.pos=0):this.pos>32&&(u.log("ERROR","Too large cursor position "+this.pos),this.pos=32)},moveCursor:function(e){var t=this.pos+e;if(e>1)for(var r=this.pos+1;r<t+1;r++)this.chars[r].setPenState(this.currPenState);this.setCursor(t)},backSpace:function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},insertChar:function(e){e>=144&&this.backSpace();var t=r(e);if(this.pos>=32)return void u.log("ERROR","Cannot insert "+e.toString(16)+" ("+t+") at position "+this.pos+". Skipping it!");this.chars[this.pos].setChar(t,this.currPenState),this.moveCursor(1)},clearFromPos:function(e){var t;for(t=e;t<32;t++)this.chars[t].reset()},clear:function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},clearToEndOfRow:function(){this.clearFromPos(this.pos)},getTextString:function(){for(var e=[],t=!0,r=0;r<32;r++){var n=this.chars[r].uchar;" "!==n&&(t=!1),e.push(n)}return t?"":e.join("")},setPenStyles:function(e){this.currPenState.setStyles(e),this.chars[this.pos].setPenState(this.currPenState)}};var g=function(){this.rows=[];for(var e=0;e<15;e++)this.rows.push(new f);this.currRow=14,this.nrRollUpRows=null,this.reset()};g.prototype={reset:function(){for(var e=0;e<15;e++)this.rows[e].clear();this.currRow=14},equals:function(e){for(var t=!0,r=0;r<15;r++)if(!this.rows[r].equals(e.rows[r])){t=!1;break}return t},copy:function(e){for(var t=0;t<15;t++)this.rows[t].copy(e.rows[t])},isEmpty:function(){for(var e=!0,t=0;t<15;t++)if(!this.rows[t].isEmpty()){e=!1;break}return e},backSpace:function(){this.rows[this.currRow].backSpace()},clearToEndOfRow:function(){this.rows[this.currRow].clearToEndOfRow()},insertChar:function(e){this.rows[this.currRow].insertChar(e)},setPen:function(e){this.rows[this.currRow].setPenStyles(e)},moveCursor:function(e){this.rows[this.currRow].moveCursor(e)},setCursor:function(e){u.log("INFO","setCursor: "+e),this.rows[this.currRow].setCursor(e)},setPAC:function(e){u.log("INFO","pacData = "+JSON.stringify(e));var t=e.row-1;this.nrRollUpRows&&t<this.nrRollUpRows-1&&(t=this.nrRollUpRows-1),this.currRow=t;var r=this.rows[this.currRow];if(null!==e.indent){var n=e.indent,i=Math.max(n-1,0);r.setCursor(e.indent),e.color=r.chars[i].penState.foreground}var o={foreground:e.color,underline:e.underline,italics:e.italics,background:"black",flash:!1};this.setPen(o)},setBkgData:function(e){u.log("INFO","bkgData = "+JSON.stringify(e)),this.backSpace(),this.setPen(e),this.insertChar(32)},setRollUpRows:function(e){this.nrRollUpRows=e},rollUp:function(){if(null===this.nrRollUpRows)return void u.log("DEBUG","roll_up but nrRollUpRows not set yet");u.log("TEXT",this.getDisplayText());var e=this.currRow+1-this.nrRollUpRows,t=this.rows.splice(e,1)[0];t.clear(),this.rows.splice(this.currRow,0,t),u.log("INFO","Rolling up")},getDisplayText:function(e){e=e||!1;for(var t=[],r="",n=-1,i=0;i<15;i++){var o=this.rows[i].getTextString();o&&(n=i+1,e?t.push("Row "+n+': "'+o+'"'):t.push(o.trim()))}return t.length>0&&(r=e?"["+t.join(" | ")+"]":t.join("\n")),r},getTextAndFormat:function(){return this.rows}};var p=function(e,t){this.chNr=e,this.outputFilter=t,this.mode=null,this.verbose=0,this.displayedMemory=new g,this.nonDisplayedMemory=new g,this.lastOutputScreen=new g,this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null};p.prototype={modes:["MODE_ROLL-UP","MODE_POP-ON","MODE_PAINT-ON","MODE_TEXT"],reset:function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.lastCueEndTime=null},getHandler:function(){return this.outputFilter},setHandler:function(e){this.outputFilter=e},setPAC:function(e){this.writeScreen.setPAC(e)},setBkgData:function(e){this.writeScreen.setBkgData(e)},setMode:function(e){e!==this.mode&&(this.mode=e,u.log("INFO","MODE="+e),"MODE_POP-ON"==this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=e)},insertChars:function(e){for(var t=0;t<e.length;t++)this.writeScreen.insertChar(e[t]);var r=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";u.log("INFO",r+": "+this.writeScreen.getDisplayText(!0)),"MODE_PAINT-ON"!==this.mode&&"MODE_ROLL-UP"!==this.mode||(u.log("TEXT","DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},cc_RCL:function(){u.log("INFO","RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},cc_BS:function(){u.log("INFO","BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},cc_AOF:function(){},cc_AON:function(){},cc_DER:function(){u.log("INFO","DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},cc_RU:function(e){u.log("INFO","RU("+e+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(e)},cc_FON:function(){u.log("INFO","FON - Flash On"),this.writeScreen.setPen({flash:!0})},cc_RDC:function(){u.log("INFO","RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},cc_TR:function(){u.log("INFO","TR"),this.setMode("MODE_TEXT")},cc_RTD:function(){u.log("INFO","RTD"),this.setMode("MODE_TEXT")},cc_EDM:function(){u.log("INFO","EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate()},cc_CR:function(){u.log("CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate()},cc_ENM:function(){u.log("INFO","ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},cc_EOC:function(){if(u.log("INFO","EOC - End Of Caption"),"MODE_POP-ON"===this.mode){var e=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=e,this.writeScreen=this.nonDisplayedMemory,u.log("TEXT","DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate()},cc_TO:function(e){u.log("INFO","TO("+e+") - Tab Offset"),this.writeScreen.moveCursor(e)},cc_MIDROW:function(e){var t={flash:!1};if(t.underline=e%2==1,t.italics=e>=46,t.italics)t.foreground="white";else{var r=Math.floor(e/2)-16,n=["white","green","blue","cyan","red","yellow","magenta"];t.foreground=n[r]}u.log("INFO","MIDROW: "+JSON.stringify(t)),this.writeScreen.setPen(t)},outputDataUpdate:function(){var e=u.time;null!==e&&this.outputFilter&&(this.outputFilter.updateData&&this.outputFilter.updateData(e,this.displayedMemory),null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.lastOutputScreen),this.cueStartTime=this.displayedMemory.isEmpty()?null:e):this.cueStartTime=e,this.lastOutputScreen.copy(this.displayedMemory))},cueSplitAtTime:function(e){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.displayedMemory),this.cueStartTime=e))}};var h=function(e,t,r){this.field=e||1,this.outputs=[t,r],this.channels=[new p(1,t),new p(2,r)],this.currChNr=-1,this.lastCmdA=null,this.lastCmdB=null,this.bufferedData=[],this.startTime=null,this.lastTime=null,this.dataCounters={padding:0,char:0,cmd:0,other:0}};h.prototype={getHandler:function(e){return this.channels[e].getHandler()},setHandler:function(e,t){this.channels[e].setHandler(t)},addData:function(e,t){var r,n,i,o=!1;this.lastTime=e,u.setTime(e);for(var a=0;a<t.length;a+=2)if(n=127&t[a],i=127&t[a+1],n>=16&&n<=31&&n===this.lastCmdA&&i===this.lastCmdB)this.lastCmdA=null,this.lastCmdB=null,u.log("DEBUG","Repeated command ("+l([n,i])+") is dropped");else if(0!==n||0!==i){if(u.log("DATA","["+l([t[a],t[a+1]])+"] -> ("+l([n,i])+")"),r=this.parseCmd(n,i),r||(r=this.parseMidrow(n,i)),r||(r=this.parsePAC(n,i)),r||(r=this.parseBackgroundAttributes(n,i)),!r&&(o=this.parseChars(n,i)))if(this.currChNr&&this.currChNr>=0){var s=this.channels[this.currChNr-1];s.insertChars(o)}else u.log("WARNING","No channel found yet. TEXT-MODE?");r?this.dataCounters.cmd+=2:o?this.dataCounters.char+=2:(this.dataCounters.other+=2,u.log("WARNING","Couldn't parse cleaned data "+l([n,i])+" orig: "+l([t[a],t[a+1]])))}else this.dataCounters.padding+=2},parseCmd:function(e,t){var r=null,n=(20===e||21===e||28===e||29===e)&&32<=t&&t<=47,i=(23===e||31===e)&&33<=t&&t<=35;if(!n&&!i)return!1;r=20===e||21===e||23===e?1:2;var o=this.channels[r-1];return 20===e||21===e||28===e||29===e?32===t?o.cc_RCL():33===t?o.cc_BS():34===t?o.cc_AOF():35===t?o.cc_AON():36===t?o.cc_DER():37===t?o.cc_RU(2):38===t?o.cc_RU(3):39===t?o.cc_RU(4):40===t?o.cc_FON():41===t?o.cc_RDC():42===t?o.cc_TR():43===t?o.cc_RTD():44===t?o.cc_EDM():45===t?o.cc_CR():46===t?o.cc_ENM():47===t&&o.cc_EOC():o.cc_TO(t-32),this.lastCmdA=e,this.lastCmdB=t,this.currChNr=r,!0},parseMidrow:function(e,t){var r=null;if((17===e||25===e)&&32<=t&&t<=47){if((r=17===e?1:2)!==this.currChNr)return u.log("ERROR","Mismatch channel in midrow parsing"),!1;var n=this.channels[r-1];return n.insertChars([32]),n.cc_MIDROW(t),u.log("DEBUG","MIDROW ("+l([e,t])+")"),this.lastCmdA=e,this.lastCmdB=t,!0}return!1},parsePAC:function(e,t){var r=null,s=null,u=(17<=e&&e<=23||25<=e&&e<=31)&&64<=t&&t<=127,l=(16===e||24===e)&&64<=t&&t<=95;if(!u&&!l)return!1;r=e<=23?1:2,s=64<=t&&t<=95?1===r?n[e]:o[e]:1===r?i[e]:a[e];var c=this.interpretPAC(s,t);return this.channels[r-1].setPAC(c),this.lastCmdA=e,this.lastCmdB=t,this.currChNr=r,!0},interpretPAC:function(e,t){var r=t,n={color:null,italics:!1,indent:null,underline:!1,row:e};return r=t>95?t-96:t-64,n.underline=1==(1&r),r<=13?n.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(r/2)]:r<=15?(n.italics=!0,n.color="white"):n.indent=4*Math.floor((r-16)/2),n},parseChars:function(e,t){var n=null,i=null,o=null;if(e>=25?(n=2,o=e-8):(n=1,o=e),17<=o&&o<=19){var a=t;a=17===o?t+80:18===o?t+112:t+144,u.log("INFO","Special char '"+r(a)+"' in channel "+n),i=[a],this.lastCmdA=e,this.lastCmdB=t}else 32<=e&&e<=127&&(i=0===t?[e]:[e,t],this.lastCmdA=null,this.lastCmdB=null);if(i){var s=l(i);u.log("DEBUG","Char codes =  "+s.join(","))}return i},parseBackgroundAttributes:function(e,t){var r,n,i,o,a=(16===e||24===e)&&32<=t&&t<=47,u=(23===e||31===e)&&45<=t&&t<=47;return!(!a&&!u)&&(r={},16===e||24===e?(n=Math.floor((t-32)/2),r.background=s[n],t%2==1&&(r.background=r.background+"_semi")):45===t?r.background="transparent":(r.foreground="black",47===t&&(r.underline=!0)),i=e<24?1:2,o=this.channels[i-1],o.setBkgData(r),this.lastCmdA=e,this.lastCmdB=t,!0)},reset:function(){for(var e=0;e<this.channels.length;e++)this.channels[e]&&this.channels[e].reset();this.lastCmdA=null,this.lastCmdB=null},cueSplitAtTime:function(e){for(var t=0;t<this.channels.length;t++)this.channels[t]&&this.channels[t].cueSplitAtTime(e)}};var y=function(e,t,r){for(var n=0,i=t,o=[];i<t+r;){if(n=e.getUint32(i),6===(31&e.getUint8(i+4)))for(var a=i+5,s=-1;a<i+4+n-1;){s=0;for(var u=255;255===u;)u=e.getUint8(a),s+=u,a++;var l=0;for(u=255;255===u;)u=e.getUint8(a),l+=u,a++;(function(e,t,r,n){if(4!==e||t<8)return null;var i=r.getUint8(n),o=r.getUint16(n+1),a=r.getUint32(n+3),s=r.getUint8(n+7);return 181==i&&49==o&&1195456820==a&&3==s})(s,l,e,a)&&o.push([a,l]),a+=l}i+=n+4}return o},m=function(e,t){var r=t[0],n=[[],[]];r+=8;var i=31&e.getUint8(r);r+=2;for(var o=0;o<i;o++){var a=e.getUint8(r),s=4&a,u=3&a;r++;var l=e.getUint8(r);r++;var c=e.getUint8(r);r++,s&&(127&l)+(127&c)!=0&&(0===u?(n[0].push(l),n[0].push(c)):1===u&&(n[1].push(l),n[1].push(c)))}return n};e.logger=u,e.PenState=c,e.CaptionScreen=g,e.Cea608Parser=h,e.findCea608Nalus=y,e.extractCea608DataFromRange=m}(t)},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function(){function e(){n(this,e)}return i(e,[{key:"extend",value:function(e,t){if(e){var r=!!t&&t.override,n=!!t&&t.publicOnly;for(var i in e)!e.hasOwnProperty(i)||this[i]&&!r||n&&-1===e[i].indexOf("public_")||(this[i]=e[i])}}}]),e}();t.default=o,e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(){m=[],v=[],d.getUseDefaultABRRules()&&(m.push((0,y.default)(l).create({metricsModel:g,dashMetrics:h,mediaPlayerModel:d})),m.push((0,a.default)(l).create({metricsModel:g,dashMetrics:h})),m.push((0,u.default)(l).create({metricsModel:g,dashMetrics:h})),m.push((0,p.default)(l).create()),m.push((0,f.default)(l).create()),v.push((0,c.default)(l).create({metricsModel:g,dashMetrics:h,mediaPlayerModel:d}))),d.getABRCustomRules().forEach(function(e){e.type===_&&m.push(e.rule(l).create()),e.type===E&&v.push(e.rule(l).create())})}function r(e){return e.filter(function(e){return e.quality>A.default.NO_CHANGE})}function n(e){var t={},r=void 0,n=void 0,i=void 0,o=void 0,a=void 0;if(0!==e.length){for(t[A.default.PRIORITY.STRONG]=A.default.NO_CHANGE,t[A.default.PRIORITY.WEAK]=A.default.NO_CHANGE,t[A.default.PRIORITY.DEFAULT]=A.default.NO_CHANGE,r=0,n=e.length;r<n;r+=1)i=e[r],i.quality!==A.default.NO_CHANGE&&(t[i.priority]=t[i.priority]>A.default.NO_CHANGE?Math.min(t[i.priority],i.quality):i.quality);return t[A.default.PRIORITY.WEAK]!==A.default.NO_CHANGE&&(o=t[A.default.PRIORITY.WEAK]),t[A.default.PRIORITY.DEFAULT]!==A.default.NO_CHANGE&&(o=t[A.default.PRIORITY.DEFAULT]),t[A.default.PRIORITY.STRONG]!==A.default.NO_CHANGE&&(o=t[A.default.PRIORITY.STRONG]),o!==A.default.NO_CHANGE&&(a=o),(0,A.default)(l).create(a)}}function i(e){return n(r(m.map(function(t){return t.getMaxIndex(e)})))||(0,A.default)(l).create()}function o(e){return n(r(v.map(function(t){return t.shouldAbandon(e)})))||(0,A.default)(l).create()}function s(){[m,v].forEach(function(e){e&&e.length&&e.forEach(function(e){return e.reset&&e.reset()})}),m=[],v=[]}e=e||{};var l=this.context,d=e.mediaPlayerModel,g=e.metricsModel,h=e.dashMetrics,m=void 0,v=void 0;return{initialize:t,reset:s,getMaxQuality:i,shouldAbandonFragment:o}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(523),a=n(o),s=r(524),u=n(s),l=r(525),c=n(l),d=r(526),f=n(d),g=r(527),p=n(g),h=r(528),y=n(h),m=r(1),v=n(m),b=r(39),A=n(b),_="qualitySwitchRules",E="abandonFragmentRules";i.__dashjs_factory_name="ABRRulesCollection";var T=v.default.getClassFactory(i);T.QUALITY_SWITCH_RULES=_,T.ABANDON_FRAGMENT_RULES=E,v.default.updateSingletonFactory(i.__dashjs_factory_name,T),t.default=T,e.exports=t.default},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(){n(this,e),this.mediaType=null,this.bitrate=null,this.width=null,this.height=null,this.scanType=null,this.qualityIndex=NaN};t.default=i,e.exports=t.default},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(){n(this,e),this.start=null,this.mstart=null,this.starttype=null,this.trace=[]};i.INITIAL_PLAYOUT_START_REASON="initial_playout",i.SEEK_START_REASON="seek",i.RESUME_FROM_PAUSE_START_REASON="resume",i.METRICS_COLLECTION_START_REASON="metrics_collection_start";var o=function e(){n(this,e),this.representationid=null,this.subreplevel=null,this.start=null,this.mstart=null,this.duration=null,this.playbackspeed=null,this.stopreason=null};o.REPRESENTATION_SWITCH_STOP_REASON="representation_switch",o.REBUFFERING_REASON="rebuffering",o.USER_REQUEST_STOP_REASON="user_request",o.END_OF_PERIOD_STOP_REASON="end_of_period",o.END_OF_CONTENT_STOP_REASON="end_of_content",o.METRICS_COLLECTION_STOP_REASON="metrics_collection_end",o.FAILURE_STOP_REASON="failure",t.PlayList=i,t.PlayListTrace=o},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(){function e(){E=(0,y.default)(g).getInstance(),S=(0,a.default)(g).getInstance(),M=(0,I.default)(g).create({errHandler:b,metricsModel:w,mediaPlayerModel:D,requestModifier:S})}function t(e){e.baseURLController&&(O=e.baseURLController),e.metricsModel&&(w=e.metricsModel),e.mediaPlayerModel&&(D=e.mediaPlayerModel),e.errHandler&&(b=e.errHandler)}function r(){if(!O||!O.hasOwnProperty("resolve"))throw new Error("setConfig function has to be called previously")}function n(e,t){r();var i=null,o=O.resolve(e.path),a=t||{init:!0,url:o?o.url:void 0,range:{start:0,end:1500},searching:!1,bytesLoaded:0,bytesToLoad:1500};v.debug("Start searching for initialization.");var s=l(a),u=function(t){a.bytesLoaded=a.range.end,i=E.findInitRange(t),i?(e.range=i,h.trigger(f.default.INITIALIZATION_LOADED,{representation:e})):(a.range.end=a.bytesLoaded+a.bytesToLoad,n(e,a))},c=function(){h.trigger(f.default.INITIALIZATION_LOADED,{representation:e})};M.load({request:s,success:u,error:c}),v.debug("Perform init search: "+a.url)}function i(e,t,n,o,a){if(r(),n&&(void 0===n.start||void 0===n.end)){var u=n?n.toString().split("-"):null;n=u?{start:parseFloat(u[0]),end:parseFloat(u[1])}:null}a=a||d;var c=null,f=null,g=!!n,p=O.resolve(e.path),h={init:!1,url:p?p.url:void 0,range:g?n:{start:0,end:1500},searching:!g,bytesLoaded:o?o.bytesLoaded:0,bytesToLoad:1500},y=l(h),m=function(r){var n=h.bytesToLoad,o=r.byteLength;if(h.bytesLoaded=h.range.end-h.range.start,c=E.parse(r),(f=c.getBox("sidx"))&&f.isComplete){var u=f.references,l=void 0,d=void 0;null!==u&&void 0!==u&&u.length>0&&(l=1===u[0].reference_type),l?function(){v.debug("Initiate multiple SIDX load."),h.range.end=h.range.start+f.size;var r=void 0,n=void 0,o=void 0,s=void 0,l=void 0,c=[],d=0,g=(f.offset||h.range.start)+f.size,p=function(r){r?(c=c.concat(r),++d>=n&&a(c,e,t)):a(null,e,t)};for(r=0,n=u.length;r<n;r++)o=g,s=g+u[r].referenced_size-1,g+=u[r].referenced_size,l={start:o,end:s},i(e,null,l,h,p)}():(v.debug("Parsing segments from SIDX."),d=s(f,h),a(d,e,t))}else{if(f)h.range.start=f.offset||h.range.start,h.range.end=h.range.start+(f.size||n);else{if(o<h.bytesLoaded)return void a(null,e,t);var g=c.getLastBox();g&&g.size?(h.range.start=g.offset+g.size,h.range.end=h.range.start+n):h.range.end+=n}i(e,t,h.range,h,a)}},b=function(){a(null,e,t)};M.load({request:y,success:m,error:b}),v.debug("Perform SIDX load: "+h.url)}function o(){M.abort(),M=null,b=null,E=null,S=null}function s(e,t){for(var r=e.references,n=r.length,i=e.timescale,o=e.earliest_presentation_time,a=t.range.start+e.offset+e.first_offset+e.size,s=[],l=void 0,c=void 0,d=void 0,f=void 0,g=0;g<n;g++)d=r[g].subsegment_duration,f=r[g].referenced_size,l=new u.default,l.duration=d,l.startTime=o,l.timescale=i,c=a+f-1,l.mediaRange=a+"-"+c,s.push(l),o+=d,a+=f;return s}function l(e){if(e.url){var t=new T.default;return t.type=e.init?_.HTTPRequest.INIT_SEGMENT_TYPE:_.HTTPRequest.MEDIA_SEGMENT_TYPE,t.url=e.url,t.range=e.range.start+"-"+e.range.end,t}}function d(e,t,r){e?h.trigger(f.default.SEGMENTS_LOADED,{segments:e,representation:t,mediaType:r}):h.trigger(f.default.SEGMENTS_LOADED,{segments:null,representation:t,mediaType:r,error:new c.default(C.default.SEGMENT_BASE_LOADER_ERROR_CODE,C.default.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})}var g=this.context,h=(0,p.default)(g).getInstance(),m=void 0,v=void 0,b=void 0,E=void 0,S=void 0,w=void 0,D=void 0,M=void 0,O=void 0;return m={setConfig:t,initialize:e,loadInitialization:n,loadSegments:i,reset:o},function(){v=(0,A.default)(g).getInstance().getLogger(m)}(),m}Object.defineProperty(t,"__esModule",{value:!0});var o=r(110),a=n(o),s=r(163),u=n(s),l=r(12),c=n(l),d=r(5),f=n(d),g=r(3),p=n(g),h=r(84),y=n(h),m=r(1),v=n(m),b=r(4),A=n(b),_=r(19),E=r(56),T=n(E),S=r(86),I=n(S),w=r(17),C=n(w);i.__dashjs_factory_name="SegmentBaseLoader",t.default=v.default.getSingletonFactory(i),e.exports=t.default},function(e,t,r){"use strict";function n(e){function t(e){var t=new Date,r=e.request,i=new XMLHttpRequest;i.open(e.method,e.url,!0),r.responseType&&(i.responseType=r.responseType),r.range&&i.setRequestHeader("Range","bytes="+r.range),r.requestStartDate||(r.requestStartDate=t),n&&(i=n.modifyRequestHeader(i)),i.withCredentials=e.withCredentials,i.onload=e.onload,i.onloadend=e.onend,i.onerror=e.onerror,i.onprogress=e.progress,i.onabort=e.onabort,i.send(),e.response=i}function r(e){var t=e.response;t.onloadend=t.onerror=t.onprogress=void 0,t.abort()}e=e||{};var n=e.requestModifier;return{load:t,abort:r}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(1),o=function(e){return e&&e.__esModule?e:{default:e}}(i);n.__dashjs_factory_name="XHRLoader";var a=o.default.getClassFactory(n);t.default=a,e.exports=t.default},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t,r){for(var n=!0;n;){var i=e,o=t,a=r;n=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=o,r=a,n=!0,s=l=void 0}},a=r(104),s=function(e){return e&&e.__esModule?e:{default:e}}(a),u=function(e){function t(){n(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.AST_IN_FUTURE="astInFuture",this.BUFFER_EMPTY="bufferStalled",this.BUFFER_LOADED="bufferLoaded",this.BUFFER_LEVEL_STATE_CHANGED="bufferStateChanged",this.ERROR="error",this.FRAGMENT_LOADING_COMPLETED="fragmentLoadingCompleted",this.FRAGMENT_LOADING_PROGRESS="fragmentLoadingProgress",this.FRAGMENT_LOADING_STARTED="fragmentLoadingStarted",this.FRAGMENT_LOADING_ABANDONED="fragmentLoadingAbandoned",this.LOG="log",this.MANIFEST_LOADED="manifestLoaded",this.METRICS_CHANGED="metricsChanged",this.METRIC_CHANGED="metricChanged",this.METRIC_ADDED="metricAdded",this.METRIC_UPDATED="metricUpdated",this.PERIOD_SWITCH_COMPLETED="periodSwitchCompleted",this.PERIOD_SWITCH_STARTED="periodSwitchStarted",this.QUALITY_CHANGE_REQUESTED="qualityChangeRequested",this.QUALITY_CHANGE_RENDERED="qualityChangeRendered",this.TRACK_CHANGE_RENDERED="trackChangeRendered",this.SOURCE_INITIALIZED="sourceInitialized",this.STREAM_INITIALIZED="streamInitialized",this.STREAM_TEARDOWN_COMPLETE="streamTeardownComplete",this.TEXT_TRACKS_ADDED="allTextTracksAdded",this.TEXT_TRACK_ADDED="textTrackAdded",this.TTML_PARSED="ttmlParsed",this.TTML_TO_PARSE="ttmlToParse",this.CAPTION_RENDERED="captionRendered",this.CAPTION_CONTAINER_RESIZE="captionContainerResize",this.CAN_PLAY="canPlay",this.PLAYBACK_ENDED="playbackEnded",this.PLAYBACK_ERROR="playbackError",this.PLAYBACK_NOT_ALLOWED="playbackNotAllowed",this.PLAYBACK_METADATA_LOADED="playbackMetaDataLoaded",this.PLAYBACK_PAUSED="playbackPaused",this.PLAYBACK_PLAYING="playbackPlaying",this.PLAYBACK_PROGRESS="playbackProgress",this.PLAYBACK_RATE_CHANGED="playbackRateChanged",this.PLAYBACK_SEEKED="playbackSeeked",this.PLAYBACK_SEEKING="playbackSeeking",this.PLAYBACK_SEEK_ASKED="playbackSeekAsked",this.PLAYBACK_STALLED="playbackStalled",this.PLAYBACK_STARTED="playbackStarted",this.PLAYBACK_TIME_UPDATED="playbackTimeUpdated",this.PLAYBACK_WAITING="playbackWaiting",this.MANIFEST_VALIDITY_CHANGED="manifestValidityChanged"}return i(t,e),t}(s.default),l=new u;t.default=l,e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(){function e(e){h.invalidateSelectedIndexes(e.entry)}function t(e){e.baseURLTreeModel&&(h=e.baseURLTreeModel),e.baseURLSelector&&(m=e.baseURLSelector),e.dashManifestModel&&(l=e.dashManifestModel)}function r(e){h.update(e),m.chooseSelectorFromManifest(e)}function n(e){var t=h.getForPath(e),r=t.reduce(function(e,t){var r=m.select(t);return r?(p.isRelative(r.url)?e.url=p.resolve(r.url,e.url):(e.url=r.url,e.serviceLocation=r.serviceLocation),e.availabilityTimeOffset=r.availabilityTimeOffset,e.availabilityTimeComplete=r.availabilityTimeComplete,e):new f.default},new f.default);if(!p.isRelative(r.url))return r}function i(){h.reset(),m.reset()}function o(e){h.setConfig({dashManifestModel:l}),m.setConfig({dashManifestModel:l}),r(e)}var s=void 0,l=void 0,d=this.context,g=(0,y.default)(d).getInstance(),p=(0,c.default)(d).getInstance(),h=void 0,m=void 0;return s={reset:i,initialize:o,resolve:n,setConfig:t},function(){h=(0,a.default)(d).create(),m=(0,u.default)(d).create(),g.on(v.default.SERVICE_LOCATION_BLACKLIST_CHANGED,e,s)}(),s}Object.defineProperty(t,"__esModule",{value:!0});var o=r(562),a=n(o),s=r(564),u=n(s),l=r(43),c=n(l),d=r(239),f=n(d),g=r(1),p=n(g),h=r(3),y=n(h),m=r(5),v=n(m);i.__dashjs_factory_name="BaseURLController",t.default=p.default.getSingletonFactory(i),e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(){function e(e,t){return(0,u.default)(e,t)}return{areEqual:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(1),a=n(o),s=r(563),u=n(s);i.__dashjs_factory_name="ObjectUtils",t.default=a.default.getSingletonFactory(i),e.exports=t.default},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(t,r,i,o){n(this,e),this.url=t||"",this.serviceLocation=r||t||"",this.dvb_priority=i||1,this.dvb_weight=o||1,this.availabilityTimeOffset=0,this.availabilityTimeComplete=!0};i.DEFAULT_DVB_PRIORITY=1,i.DEFAULT_DVB_WEIGHT=1,t.default=i,e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t,r){for(var n=!0;n;){var i=e,o=t,a=r;n=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=o,r=a,n=!0,s=l=void 0}},s=r(2),u=n(s),l=r(56),c=n(l),d=function(e){function t(e,r){i(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.url=e||null,this.type=r||null,this.mediaType=u.default.STREAM,this.responseType=""}return o(t,e),t}(c.default);t.default=d,e.exports=t.default},function(e,t,r){"use strict";function n(e){function t(e){var t=e.localName;return null==t&&(t=e.baseName),null!=t&&""!=t||(t=e.nodeName),t}function r(e){return e.prefix}function n(e){return"string"==typeof e?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"):e}function i(e,t,r,n){for(var i=0;i<e.length;i++){var o=e[i];if("string"==typeof o){if(o==n)break}else if(o instanceof RegExp){if(o.test(n))break}else if("function"==typeof o&&o(t,r,n))break}return i!=e.length}function o(t,r,n){switch(e.arrayAccessForm){case"property":t[r]instanceof Array?t[r+"_asArray"]=t[r]:t[r+"_asArray"]=[t[r]]}!(t[r]instanceof Array)&&e.arrayAccessFormPaths.length>0&&i(e.arrayAccessFormPaths,t,r,n)&&(t[r]=[t[r]])}function a(e){var t=e.split(/[-T:+Z]/g),r=new Date(t[0],t[1]-1,t[2]),n=t[5].split(".");if(r.setHours(t[3],t[4],n[0]),n.length>1&&r.setMilliseconds(n[1]),t[6]&&t[7]){var i=60*t[6]+Number(t[7]);i=0+("-"==(/\d\d-\d\d:\d\d$/.test(e)?"-":"+")?-1*i:i),r.setMinutes(r.getMinutes()-i-r.getTimezoneOffset())}else-1!==e.indexOf("Z",e.length-1)&&(r=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds())));return r}function s(t,r,n){if(e.datetimeAccessFormPaths.length>0){var o=n.split(".#")[0];return i(e.datetimeAccessFormPaths,t,r,o)?a(t):t}return t}function u(t,r,n,o){return!(r==E.ELEMENT_NODE&&e.xmlElementsFilter.length>0)||i(e.xmlElementsFilter,t,n,o)}function l(n,i){if(n.nodeType==E.DOCUMENT_NODE){for(var a=new Object,c=n.childNodes,d=0;d<c.length;d++){var f=c[d];if(f.nodeType==E.ELEMENT_NODE)if(e.ignoreRoot)a=l(f);else{a={};var g=t(f);a[g]=l(f)}}return a}if(n.nodeType==E.ELEMENT_NODE){var a=new Object;a.__cnt=0;for(var p=[],c=n.childNodes,d=0;d<c.length;d++){var f=c[d],g=t(f);if(f.nodeType!=E.COMMENT_NODE){var h=i+"."+g;if(u(a,f.nodeType,g,h))if(a.__cnt++,null==a[g]){var y=l(f,h);if("#text"!=g||/[^\s]/.test(y)){var m={};m[g]=y,p.push(m)}a[g]=y,o(a,g,h)}else{null!=a[g]&&(a[g]instanceof Array||(a[g]=[a[g]],o(a,g,h)));var y=l(f,h);if("#text"!=g||/[^\s]/.test(y)){var m={};m[g]=y,p.push(m)}a[g][a[g].length]=y}}}a.__children=p;for(var v=t(n),b=0;b<n.attributes.length;b++){var A=n.attributes[b];a.__cnt++;for(var _=A.value,T=0,S=e.matchers.length;T<S;T++){var I=e.matchers[T];I.test(A,v)&&(_=I.converter(A.value))}a[e.attributePrefix+A.name]=_}var w=r(n);return null!=w&&""!=w&&(a.__cnt++,a.__prefix=w),null!=a["#text"]&&(a.__text=a["#text"],a.__text instanceof Array&&(a.__text=a.__text.join("\n")),e.stripWhitespaces&&(a.__text=a.__text.trim()),delete a["#text"],"property"==e.arrayAccessForm&&delete a["#text_asArray"],a.__text=s(a.__text,g,i+"."+g)),null!=a["#cdata-section"]&&(a.__cdata=a["#cdata-section"],delete a["#cdata-section"],"property"==e.arrayAccessForm&&delete a["#cdata-section_asArray"]),0==a.__cnt&&"text"==e.emptyNodeForm?a="":1==a.__cnt&&null!=a.__text?a=a.__text:1!=a.__cnt||null==a.__cdata||e.keepCData?a.__cnt>1&&null!=a.__text&&e.skipEmptyTextNodesForObj&&(e.stripWhitespaces&&""==a.__text||""==a.__text.trim())&&delete a.__text:a=a.__cdata,delete a.__cnt,!e.enableToStringFunc||null==a.__text&&null==a.__cdata||(a.toString=function(){return(null!=this.__text?this.__text:"")+(null!=this.__cdata?this.__cdata:"")}),a}if(n.nodeType==E.TEXT_NODE||n.nodeType==E.CDATA_SECTION_NODE)return n.nodeValue}function c(t,r,i,o){var a="<"+(null!=t&&null!=t.__prefix?t.__prefix+":":"")+r;if(null!=i)for(var s=0;s<i.length;s++){var u=i[s],l=t[u];e.escapeMode&&(l=n(l)),a+=" "+u.substr(e.attributePrefix.length)+"=",e.useDoubleQuotes?a+='"'+l+'"':a+="'"+l+"'"}return a+=o?"/>":">"}function d(e,t){return"</"+(null!=e.__prefix?e.__prefix+":":"")+t+">"}function f(e,t){return-1!==e.indexOf(t,e.length-t.length)}function g(t,r){return!!("property"==e.arrayAccessForm&&f(r.toString(),"_asArray")||0==r.toString().indexOf(e.attributePrefix)||0==r.toString().indexOf("__")||t[r]instanceof Function)}function p(e){var t=0;if(e instanceof Object)for(var r in e)g(e,r)||t++;return t}function h(t,r,n){return 0==e.jsonPropertiesFilter.length||""==n||i(e.jsonPropertiesFilter,t,r,n)}function y(t){var r=[];if(t instanceof Object)for(var n in t)-1==n.toString().indexOf("__")&&0==n.toString().indexOf(e.attributePrefix)&&r.push(n);return r}function m(t){var r="";return null!=t.__cdata&&(r+="<![CDATA["+t.__cdata+"]]>"),null!=t.__text&&(e.escapeMode?r+=n(t.__text):r+=t.__text),r}function v(t){var r="";return t instanceof Object?r+=m(t):null!=t&&(e.escapeMode?r+=n(t):r+=t),r}function b(e,t){return""===e?t:e+"."+t}function A(e,t,r,n){var i="";if(0==e.length)i+=c(e,t,r,!0);else for(var o=0;o<e.length;o++)i+=c(e[o],t,y(e[o]),!1),i+=_(e[o],b(n,t)),i+=d(e[o],t);return i}function _(e,t){var r="";if(p(e)>0)for(var n in e)if(!g(e,n)&&(""==t||h(e,n,b(t,n)))){var i=e[n],o=y(i);if(null==i||void 0==i)r+=c(i,n,o,!0);else if(i instanceof Object)if(i instanceof Array)r+=A(i,n,o,t);else if(i instanceof Date)r+=c(i,n,o,!1),r+=i.toISOString(),r+=d(i,n);else{var a=p(i);a>0||null!=i.__text||null!=i.__cdata?(r+=c(i,n,o,!1),r+=_(i,b(t,n)),r+=d(i,n)):r+=c(i,n,o,!0)}else r+=c(i,n,o,!1),r+=v(i),r+=d(i,n)}return r+=v(e)}e=e||{},function(){void 0===e.escapeMode&&(e.escapeMode=!0),void 0===e.attributePrefix&&(e.attributePrefix="_"),e.arrayAccessForm=e.arrayAccessForm||"none",e.emptyNodeForm=e.emptyNodeForm||"text",void 0===e.enableToStringFunc&&(e.enableToStringFunc=!0),e.arrayAccessFormPaths=e.arrayAccessFormPaths||[],void 0===e.skipEmptyTextNodesForObj&&(e.skipEmptyTextNodesForObj=!0),void 0===e.stripWhitespaces&&(e.stripWhitespaces=!0),e.datetimeAccessFormPaths=e.datetimeAccessFormPaths||[],void 0===e.useDoubleQuotes&&(e.useDoubleQuotes=!1),e.xmlElementsFilter=e.xmlElementsFilter||[],e.jsonPropertiesFilter=e.jsonPropertiesFilter||[],void 0===e.keepCData&&(e.keepCData=!1),void 0===e.ignoreRoot&&(e.ignoreRoot=!1)}();var E={ELEMENT_NODE:1,TEXT_NODE:3,CDATA_SECTION_NODE:4,COMMENT_NODE:8,DOCUMENT_NODE:9};this.parseXmlString=function(e){window.ActiveXObject||window;if(void 0===e)return null;var t;if(window.DOMParser){var r=new window.DOMParser;try{t=r.parseFromString(e,"text/xml"),t.getElementsByTagNameNS("*","parsererror").length>0&&(t=null)}catch(e){t=null}}else 0==e.indexOf("<?")&&(e=e.substr(e.indexOf("?>")+2)),t=new ActiveXObject("Microsoft.XMLDOM"),t.async="false",t.loadXML(e);return t},this.asArray=function(e){return void 0===e||null==e?[]:e instanceof Array?e:[e]},this.toXmlDateTime=function(e){return e instanceof Date?e.toISOString():"number"==typeof e?new Date(e).toISOString():null},this.asDateTime=function(e){return"string"==typeof e?a(e):e},this.xml2json=function(e){return l(e)},this.xml_str2json=function(e){var t=this.parseXmlString(e);return null!=t?this.xml2json(t):null},this.json2xml_str=function(e){return _(e,"")},this.json2xml=function(e){var t=this.json2xml_str(e);return this.parseXmlString(t)},this.getVersion=function(){return"1.2.0"}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,e.exports=t.default},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(579),a=function(e){return e&&e.__esModule?e:{default:e}}(o),s=function(){function e(t,r,i){var o=this;n(this,e),this._name=t||"",this._properties=[],this._children=i||[],Array.isArray(r)&&r.forEach(function(e){o._properties.push(new a.default(e))})}return i(e,[{key:"name",get:function(){return this._name}},{key:"children",get:function(){return this._children}},{key:"properties",get:function(){return this._properties}}]),e}();t.default=s,e.exports=t.default},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(){n(this,e),this.schemeIdUri="",this.value=""};t.default=i,e.exports=t.default},function(e,t,r){"use strict";function n(){return i}Object.defineProperty(t,"__esModule",{value:!0}),t.getVersionString=n;var i="2.9.2-nmp-9"},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(){n(this,e),this.duration=NaN,this.presentationTime=NaN,this.id=NaN,this.messageData="",this.eventStream=null,this.presentationTimeDelta=NaN};t.default=i,e.exports=t.default},function(e,t,r){"use strict";function n(e){function t(e,t){var r=void 0;try{r=i[e.schemeIdUri](a).create({metricsConstants:u}),r.initialize(e,t)}catch(t){r=null,s.error("ReportingFactory: could not create Reporting with schemeIdUri "+e.schemeIdUri+" ("+t.message+")")}return r}function r(e,t){i[e]=t}function n(e){delete i[e]}e=e||{};var i={"urn:dvb:dash:reporting:2014":o.default},a=this.context,s=e.debug,u=e.metricsConstants;return{create:t,register:r,unregister:n}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(621),o=function(e){return e&&e.__esModule?e:{default:e}}(i);n.__dashjs_factory_name="ReportingFactory",t.default=dashjs.FactoryMaker.getSingletonFactory(n),e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(t,r){var n,a=t.match(o);if(a){try{n=l[a[1]](s).create({eventBus:e.eventBus,metricsConstants:e.metricsConstants}),n.initialize(a[1],r,a[3],a[5])}catch(e){n=null,i.error("MetricsHandlerFactory: Could not create handler for type "+a[1]+" with args "+a[3]+", "+a[5]+" ("+e.message+")")}return n}}function r(e,t){l[e]=t}function n(e){delete l[e]}e=e||{};var i=e.debug,o=/([a-zA-Z]*)(\(([0-9]*)(\,\s*([a-zA-Z]*))?\))?/,s=this.context,l={BufferLevel:a.default,DVBErrors:u.default,HttpList:c.default,PlayList:f.default,RepSwitchList:f.default,TcpList:f.default};return{create:t,register:r,unregister:n}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(625),a=n(o),s=r(626),u=n(s),l=r(627),c=n(l),d=r(628),f=n(d);i.__dashjs_factory_name="MetricsHandlerFactory",t.default=dashjs.FactoryMaker.getSingletonFactory(i),e.exports=t.default},function(e,t,r){"use strict";function n(){return{reconstructFullMetricName:function(e,t,r){var n=e;return t&&(n+="("+t,r&&r.length&&(n+=","+r),n+=")"),n},validateN:function(e){if(!e)throw new Error("missing n");if(isNaN(e))throw new Error("n is NaN");if(e<0)throw new Error("n must be positive");return e}}}Object.defineProperty(t,"__esModule",{value:!0}),n.__dashjs_factory_name="HandlerHelpers",t.default=dashjs.FactoryMaker.getSingletonFactory(n),e.exports=t.default},function(e,t,r){function n(e){return!(!a(e)||o(e))&&(i(e)?p:l).test(s(e))}var i=r(118),o=r(664),a=r(44),s=r(252),u=/[\\^$.*+?()[\]{}|]/g,l=/^\[object .+?Constructor\]$/,c=Function.prototype,d=Object.prototype,f=c.toString,g=d.hasOwnProperty,p=RegExp("^"+f.call(g).replace(u,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=n},function(e,t,r){(function(t){var r="object"==typeof t&&t&&t.Object===Object&&t;e.exports=r}).call(t,r(18))},function(e,t,r){var n=r(29),i=n["__core-js_shared__"];e.exports=i},function(e,t){function r(e){if(null!=e){try{return i.call(e)}catch(e){}try{return e+""}catch(e){}}return""}var n=Function.prototype,i=n.toString;e.exports=r},function(e,t,r){function n(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}var i=r(666),o=r(673),a=r(675),s=r(676),u=r(677);n.prototype.clear=i,n.prototype.delete=o,n.prototype.get=a,n.prototype.has=s,n.prototype.set=u,e.exports=n},function(e,t,r){function n(e,t,r){var n=e[t];s.call(e,t)&&o(n,r)&&(void 0!==r||t in e)||i(e,t,r)}var i=r(255),o=r(117),a=Object.prototype,s=a.hasOwnProperty;e.exports=n},function(e,t,r){function n(e,t,r){"__proto__"==t&&i?i(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var i=r(679);e.exports=n},function(e,t,r){function n(e,t){var r=a(e),n=!r&&o(e),c=!r&&!n&&s(e),f=!r&&!n&&!c&&l(e),g=r||n||c||f,p=g?i(e.length,String):[],h=p.length;for(var y in e)!t&&!d.call(e,y)||g&&("length"==y||c&&("offset"==y||"parent"==y)||f&&("buffer"==y||"byteLength"==y||"byteOffset"==y)||u(y,h))||p.push(y);return p}var i=r(681),o=r(173),a=r(40),s=r(89),u=r(683),l=r(121),c=Object.prototype,d=c.hasOwnProperty;e.exports=n},function(e,t){function r(){return!1}e.exports=r},function(e,t,r){function n(e){if(!i(e))return o(e);var t=[];for(var r in Object(e))s.call(e,r)&&"constructor"!=r&&t.push(r);return t}var i=r(122),o=r(685),a=Object.prototype,s=a.hasOwnProperty;e.exports=n},function(e,t){function r(e,t){return function(r){return e(t(r))}}e.exports=r},function(e,t){function r(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}e.exports=r},function(e,t){function r(){return[]}e.exports=r},function(e,t,r){var n=r(263),i=r(178),o=r(177),a=r(261),s=Object.getOwnPropertySymbols,u=s?function(e){for(var t=[];e;)n(t,o(e)),e=i(e);return t}:a;e.exports=u},function(e,t){function r(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}e.exports=r},function(e,t,r){function n(e){return i(e,a,o)}var i=r(265),o=r(177),a=r(74);e.exports=n},function(e,t,r){function n(e,t,r){var n=t(e);return o(e)?n:i(n,r(e))}var i=r(263),o=r(40);e.exports=n},function(e,t,r){var n=r(29),i=n.Uint8Array;e.exports=i},function(e,t,r){var n=r(706),i=r(75),o=r(76),a=o&&o.isMap,s=a?i(a):n;e.exports=s},function(e,t,r){var n=r(707),i=r(75),o=r(76),a=o&&o.isSet,s=a?i(a):n;e.exports=s},function(e,t,r){function n(e,t,r,n,l,c){var d=r&s,f=e.length,g=t.length;if(f!=g&&!(d&&g>f))return!1;var p=c.get(e);if(p&&c.get(t))return p==t;var h=-1,y=!0,m=r&u?new i:void 0;for(c.set(e,t),c.set(t,e);++h<f;){var v=e[h],b=t[h];if(n)var A=d?n(b,v,h,t,e,c):n(v,b,h,e,t,c);if(void 0!==A){if(A)continue;y=!1;break}if(m){if(!o(t,function(e,t){if(!a(m,t)&&(v===e||l(v,e,r,n,c)))return m.push(t)})){y=!1;break}}else if(v!==b&&!l(v,b,r,n,c)){y=!1;break}}return c.delete(e),c.delete(t),y}var i=r(726),o=r(729),a=r(730),s=1,u=2;e.exports=n},function(e,t){function r(e){var t=-1,r=Array(e.size);return e.forEach(function(e,n){r[++t]=[n,e]}),r}e.exports=r},function(e,t){function r(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=e}),r}e.exports=r},function(e,t,r){function n(e){return"number"==typeof e&&e==i(e)}var i=r(124);e.exports=n},function(e,t,r){function n(e){if(!e)return 0===e?e:0;if((e=i(e))===o||e===-o){return(e<0?-1:1)*a}return e===e?e:0}var i=r(180),o=1/0,a=1.7976931348623157e308;e.exports=n},function(e,t,r){function n(e,t,r,n){var u=r.length,l=u,c=!n;if(null==e)return!l;for(e=Object(e);u--;){var d=r[u];if(c&&d[2]?d[1]!==e[d[0]]:!(d[0]in e))return!1}for(;++u<l;){d=r[u];var f=d[0],g=e[f],p=d[1];if(c&&d[2]){if(void 0===g&&!(f in e))return!1}else{var h=new i;if(n)var y=n(g,p,f,e,t,h);if(!(void 0===y?o(p,g,a|s,n,h):y))return!1}}return!0}var i=r(171),o=r(183),a=1,s=2;e.exports=n},function(e,t,r){function n(e){for(var t=o(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,i(a)]}return t}var i=r(737),o=r(74);e.exports=n},function(e,t,r){function n(e){return"number"==typeof e||o(e)&&i(e)==a}var i=r(21),o=r(14),a="[object Number]";e.exports=n},function(e,t,r){function n(e){return"string"==typeof e||!o(e)&&a(e)&&i(e)==s}var i=r(21),o=r(40),a=r(14),s="[object String]";e.exports=n},function(e,t){function r(e,t){for(var r=-1,n=null==e?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}e.exports=r},function(e,t){function r(e,t,r){return e===e&&(void 0!==r&&(e=e<=r?e:r),void 0!==t&&(e=e>=t?e:t)),e}e.exports=r},function(e,t,r){r(281),r(467),e.exports=r(468)},function(e,t,r){"use strict";r(282);var n=function(e){return e&&e.__esModule?e:{default:e}}(r(454));n.default._babelPolyfill&&"undefined"!=typeof console&&console.warn,n.default._babelPolyfill=!0},function(e,t,r){"use strict";r(283),r(426),r(428),r(431),r(433),r(435),r(437),r(439),r(441),r(443),r(445),r(447),r(449),r(453)},function(e,t,r){r(284),r(287),r(288),r(289),r(290),r(291),r(292),r(293),r(294),r(295),r(296),r(297),r(298),r(299),r(300),r(301),r(302),r(303),r(304),r(305),r(306),r(307),r(308),r(309),r(310),r(311),r(312),r(313),r(314),r(315),r(316),r(317),r(318),r(319),r(320),r(321),r(322),r(323),r(324),r(325),r(326),r(327),r(328),r(330),r(331),r(332),r(333),r(334),r(335),r(336),r(337),r(338),r(339),r(340),r(341),r(342),r(343),r(344),r(345),r(346),r(347),r(348),r(349),r(350),r(351),r(352),r(353),r(354),r(355),r(356),r(357),r(358),r(359),r(360),r(361),r(362),r(363),r(365),r(366),r(368),r(369),r(370),r(371),r(372),r(373),r(374),r(376),r(377),r(378),r(379),r(380),r(381),r(382),r(383),r(384),r(385),r(386),r(387),r(388),r(145),r(389),r(204),r(390),r(205),r(391),r(392),r(393),r(394),r(206),r(397),r(398),r(399),r(400),r(401),r(402),r(403),r(404),r(405),r(406),r(407),r(408),r(409),r(410),r(411),r(412),r(413),r(414),r(415),r(416),r(417),r(418),r(419),r(420),r(421),r(422),r(423),r(424),r(425),e.exports=r(13)},function(e,t,r){"use strict";var n=r(6),i=r(24),o=r(15),a=r(0),s=r(22),u=r(42).KEY,l=r(7),c=r(90),d=r(62),f=r(46),g=r(10),p=r(126),h=r(185),y=r(286),m=r(93),v=r(8),b=r(9),A=r(20),_=r(26),E=r(41),T=r(45),S=r(50),I=r(188),w=r(33),C=r(92),D=r(16),M=r(48),O=w.f,B=D.f,R=I.f,P=n.Symbol,k=n.JSON,L=k&&k.stringify,N=g("_hidden"),x=g("toPrimitive"),j={}.propertyIsEnumerable,U=c("symbol-registry"),F=c("symbols"),Q=c("op-symbols"),G=Object.prototype,W="function"==typeof P&&!!C.f,H=n.QObject,Y=!H||!H.prototype||!H.prototype.findChild,V=o&&l(function(){return 7!=S(B({},"a",{get:function(){return B(this,"a",{value:7}).a}})).a})?function(e,t,r){var n=O(G,t);n&&delete G[t],B(e,t,r),n&&e!==G&&B(G,t,n)}:B,q=function(e){var t=F[e]=S(P.prototype);return t._k=e,t},K=W&&"symbol"==typeof P.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof P},z=function(e,t,r){return e===G&&z(Q,t,r),v(e),t=E(t,!0),v(r),i(F,t)?(r.enumerable?(i(e,N)&&e[N][t]&&(e[N][t]=!1),r=S(r,{enumerable:T(0,!1)})):(i(e,N)||B(e,N,T(1,{})),e[N][t]=!0),V(e,t,r)):B(e,t,r)},X=function(e,t){v(e);for(var r,n=y(t=_(t)),i=0,o=n.length;o>i;)z(e,r=n[i++],t[r]);return e},J=function(e,t){return void 0===t?S(e):X(S(e),t)},Z=function(e){var t=j.call(this,e=E(e,!0));return!(this===G&&i(F,e)&&!i(Q,e))&&(!(t||!i(this,e)||!i(F,e)||i(this,N)&&this[N][e])||t)},$=function(e,t){if(e=_(e),t=E(t,!0),e!==G||!i(F,t)||i(Q,t)){var r=O(e,t);return!r||!i(F,t)||i(e,N)&&e[N][t]||(r.enumerable=!0),r}},ee=function(e){for(var t,r=R(_(e)),n=[],o=0;r.length>o;)i(F,t=r[o++])||t==N||t==u||n.push(t);return n},te=function(e){for(var t,r=e===G,n=R(r?Q:_(e)),o=[],a=0;n.length>a;)!i(F,t=n[a++])||r&&!i(G,t)||o.push(F[t]);return o};W||(P=function(){if(this instanceof P)throw TypeError("Symbol is not a constructor!");var e=f(arguments.length>0?arguments[0]:void 0),t=function(r){this===G&&t.call(Q,r),i(this,N)&&i(this[N],e)&&(this[N][e]=!1),V(this,e,T(1,r))};return o&&Y&&V(G,e,{configurable:!0,set:t}),q(e)},s(P.prototype,"toString",function(){return this._k}),w.f=$,D.f=z,r(51).f=I.f=ee,r(79).f=Z,C.f=te,o&&!r(47)&&s(G,"propertyIsEnumerable",Z,!0),p.f=function(e){return q(g(e))}),a(a.G+a.W+a.F*!W,{Symbol:P});for(var re="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ne=0;re.length>ne;)g(re[ne++]);for(var ie=M(g.store),oe=0;ie.length>oe;)h(ie[oe++]);a(a.S+a.F*!W,"Symbol",{for:function(e){return i(U,e+="")?U[e]:U[e]=P(e)},keyFor:function(e){if(!K(e))throw TypeError(e+" is not a symbol!");for(var t in U)if(U[t]===e)return t},useSetter:function(){Y=!0},useSimple:function(){Y=!1}}),a(a.S+a.F*!W,"Object",{create:J,defineProperty:z,defineProperties:X,getOwnPropertyDescriptor:$,getOwnPropertyNames:ee,getOwnPropertySymbols:te});var ae=l(function(){C.f(1)});a(a.S+a.F*ae,"Object",{getOwnPropertySymbols:function(e){return C.f(A(e))}}),k&&a(a.S+a.F*(!W||l(function(){var e=P();return"[null]"!=L([e])||"{}"!=L({a:e})||"{}"!=L(Object(e))})),"JSON",{stringify:function(e){for(var t,r,n=[e],i=1;arguments.length>i;)n.push(arguments[i++]);if(r=t=n[1],(b(t)||void 0!==e)&&!K(e))return m(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!K(t))return t}),n[1]=t,L.apply(k,n)}}),P.prototype[x]||r(25)(P.prototype,x,P.prototype.valueOf),d(P,"Symbol"),d(Math,"Math",!0),d(n.JSON,"JSON",!0)},function(e,t,r){e.exports=r(90)("native-function-to-string",Function.toString)},function(e,t,r){var n=r(48),i=r(92),o=r(79);e.exports=function(e){var t=n(e),r=i.f;if(r)for(var a,s=r(e),u=o.f,l=0;s.length>l;)u.call(e,a=s[l++])&&t.push(a);return t}},function(e,t,r){var n=r(0);n(n.S,"Object",{create:r(50)})},function(e,t,r){var n=r(0);n(n.S+n.F*!r(15),"Object",{defineProperty:r(16).f})},function(e,t,r){var n=r(0);n(n.S+n.F*!r(15),"Object",{defineProperties:r(187)})},function(e,t,r){var n=r(26),i=r(33).f;r(34)("getOwnPropertyDescriptor",function(){return function(e,t){return i(n(e),t)}})},function(e,t,r){var n=r(20),i=r(52);r(34)("getPrototypeOf",function(){return function(e){return i(n(e))}})},function(e,t,r){var n=r(20),i=r(48);r(34)("keys",function(){return function(e){return i(n(e))}})},function(e,t,r){r(34)("getOwnPropertyNames",function(){return r(188).f})},function(e,t,r){var n=r(9),i=r(42).onFreeze;r(34)("freeze",function(e){return function(t){return e&&n(t)?e(i(t)):t}})},function(e,t,r){var n=r(9),i=r(42).onFreeze;r(34)("seal",function(e){return function(t){return e&&n(t)?e(i(t)):t}})},function(e,t,r){var n=r(9),i=r(42).onFreeze;r(34)("preventExtensions",function(e){return function(t){return e&&n(t)?e(i(t)):t}})},function(e,t,r){var n=r(9);r(34)("isFrozen",function(e){return function(t){return!n(t)||!!e&&e(t)}})},function(e,t,r){var n=r(9);r(34)("isSealed",function(e){return function(t){return!n(t)||!!e&&e(t)}})},function(e,t,r){var n=r(9);r(34)("isExtensible",function(e){return function(t){return!!n(t)&&(!e||e(t))}})},function(e,t,r){var n=r(0);n(n.S+n.F,"Object",{assign:r(189)})},function(e,t,r){var n=r(0);n(n.S,"Object",{is:r(190)})},function(e,t,r){var n=r(0);n(n.S,"Object",{setPrototypeOf:r(130).set})},function(e,t,r){"use strict";var n=r(80),i={};i[r(10)("toStringTag")]="z",i+""!="[object z]"&&r(22)(Object.prototype,"toString",function(){return"[object "+n(this)+"]"},!0)},function(e,t,r){var n=r(0);n(n.P,"Function",{bind:r(191)})},function(e,t,r){var n=r(16).f,i=Function.prototype,o=/^\s*function ([^ (]*)/;"name"in i||r(15)&&n(i,"name",{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(e){return""}}})},function(e,t,r){"use strict";var n=r(9),i=r(52),o=r(10)("hasInstance"),a=Function.prototype;o in a||r(16).f(a,o,{value:function(e){if("function"!=typeof this||!n(e))return!1;if(!n(this.prototype))return e instanceof this;for(;e=i(e);)if(this.prototype===e)return!0;return!1}})},function(e,t,r){var n=r(0),i=r(193);n(n.G+n.F*(parseInt!=i),{parseInt:i})},function(e,t,r){var n=r(0),i=r(194);n(n.G+n.F*(parseFloat!=i),{parseFloat:i})},function(e,t,r){"use strict";var n=r(6),i=r(24),o=r(36),a=r(132),s=r(41),u=r(7),l=r(51).f,c=r(33).f,d=r(16).f,f=r(63).trim,g=n.Number,p=g,h=g.prototype,y="Number"==o(r(50)(h)),m="trim"in String.prototype,v=function(e){var t=s(e,!1);if("string"==typeof t&&t.length>2){t=m?t.trim():f(t,3);var r,n,i,o=t.charCodeAt(0);if(43===o||45===o){if(88===(r=t.charCodeAt(2))||120===r)return NaN}else if(48===o){switch(t.charCodeAt(1)){case 66:case 98:n=2,i=49;break;case 79:case 111:n=8,i=55;break;default:return+t}for(var a,u=t.slice(2),l=0,c=u.length;l<c;l++)if((a=u.charCodeAt(l))<48||a>i)return NaN;return parseInt(u,n)}}return+t};if(!g(" 0o1")||!g("0b1")||g("+0x1")){g=function(e){var t=arguments.length<1?0:e,r=this;return r instanceof g&&(y?u(function(){h.valueOf.call(r)}):"Number"!=o(r))?a(new p(v(t)),r,g):v(t)};for(var b,A=r(15)?l(p):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),_=0;A.length>_;_++)i(p,b=A[_])&&!i(g,b)&&d(g,b,c(p,b));g.prototype=h,h.constructor=g,r(22)(n,"Number",g)}},function(e,t,r){"use strict";var n=r(0),i=r(32),o=r(195),a=r(133),s=1..toFixed,u=Math.floor,l=[0,0,0,0,0,0],c="Number.toFixed: incorrect invocation!",d=function(e,t){for(var r=-1,n=t;++r<6;)n+=e*l[r],l[r]=n%1e7,n=u(n/1e7)},f=function(e){for(var t=6,r=0;--t>=0;)r+=l[t],l[t]=u(r/e),r=r%e*1e7},g=function(){for(var e=6,t="";--e>=0;)if(""!==t||0===e||0!==l[e]){var r=String(l[e]);t=""===t?r:t+a.call("0",7-r.length)+r}return t},p=function(e,t,r){return 0===t?r:t%2==1?p(e,t-1,r*e):p(e*e,t/2,r)},h=function(e){for(var t=0,r=e;r>=4096;)t+=12,r/=4096;for(;r>=2;)t+=1,r/=2;return t};n(n.P+n.F*(!!s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!r(7)(function(){s.call({})})),"Number",{toFixed:function(e){var t,r,n,s,u=o(this,c),l=i(e),y="",m="0";if(l<0||l>20)throw RangeError(c);if(u!=u)return"NaN";if(u<=-1e21||u>=1e21)return String(u);if(u<0&&(y="-",u=-u),u>1e-21)if(t=h(u*p(2,69,1))-69,r=t<0?u*p(2,-t,1):u/p(2,t,1),r*=4503599627370496,(t=52-t)>0){for(d(0,r),n=l;n>=7;)d(1e7,0),n-=7;for(d(p(10,n,1),0),n=t-1;n>=23;)f(1<<23),n-=23;f(1<<n),d(1,1),f(2),m=g()}else d(0,r),d(1<<-t,0),m=g()+a.call("0",l);return l>0?(s=m.length,m=y+(s<=l?"0."+a.call("0",l-s)+m:m.slice(0,s-l)+"."+m.slice(s-l))):m=y+m,m}})},function(e,t,r){"use strict";var n=r(0),i=r(7),o=r(195),a=1..toPrecision;n(n.P+n.F*(i(function(){return"1"!==a.call(1,void 0)})||!i(function(){a.call({})})),"Number",{toPrecision:function(e){var t=o(this,"Number#toPrecision: incorrect invocation!");return void 0===e?a.call(t):a.call(t,e)}})},function(e,t,r){var n=r(0);n(n.S,"Number",{EPSILON:Math.pow(2,-52)})},function(e,t,r){var n=r(0),i=r(6).isFinite;n(n.S,"Number",{isFinite:function(e){return"number"==typeof e&&i(e)}})},function(e,t,r){var n=r(0);n(n.S,"Number",{isInteger:r(196)})},function(e,t,r){var n=r(0);n(n.S,"Number",{isNaN:function(e){return e!=e}})},function(e,t,r){var n=r(0),i=r(196),o=Math.abs;n(n.S,"Number",{isSafeInteger:function(e){return i(e)&&o(e)<=9007199254740991}})},function(e,t,r){var n=r(0);n(n.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(e,t,r){var n=r(0);n(n.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(e,t,r){var n=r(0),i=r(194);n(n.S+n.F*(Number.parseFloat!=i),"Number",{parseFloat:i})},function(e,t,r){var n=r(0),i=r(193);n(n.S+n.F*(Number.parseInt!=i),"Number",{parseInt:i})},function(e,t,r){var n=r(0),i=r(197),o=Math.sqrt,a=Math.acosh;n(n.S+n.F*!(a&&710==Math.floor(a(Number.MAX_VALUE))&&a(1/0)==1/0),"Math",{acosh:function(e){return(e=+e)<1?NaN:e>94906265.62425156?Math.log(e)+Math.LN2:i(e-1+o(e-1)*o(e+1))}})},function(e,t,r){function n(e){return isFinite(e=+e)&&0!=e?e<0?-n(-e):Math.log(e+Math.sqrt(e*e+1)):e}var i=r(0),o=Math.asinh;i(i.S+i.F*!(o&&1/o(0)>0),"Math",{asinh:n})},function(e,t,r){var n=r(0),i=Math.atanh;n(n.S+n.F*!(i&&1/i(-0)<0),"Math",{atanh:function(e){return 0==(e=+e)?e:Math.log((1+e)/(1-e))/2}})},function(e,t,r){var n=r(0),i=r(134);n(n.S,"Math",{cbrt:function(e){return i(e=+e)*Math.pow(Math.abs(e),1/3)}})},function(e,t,r){var n=r(0);n(n.S,"Math",{clz32:function(e){return(e>>>=0)?31-Math.floor(Math.log(e+.5)*Math.LOG2E):32}})},function(e,t,r){var n=r(0),i=Math.exp;n(n.S,"Math",{cosh:function(e){return(i(e=+e)+i(-e))/2}})},function(e,t,r){var n=r(0),i=r(135);n(n.S+n.F*(i!=Math.expm1),"Math",{expm1:i})},function(e,t,r){var n=r(0);n(n.S,"Math",{fround:r(329)})},function(e,t,r){var n=r(134),i=Math.pow,o=i(2,-52),a=i(2,-23),s=i(2,127)*(2-a),u=i(2,-126),l=function(e){return e+1/o-1/o};e.exports=Math.fround||function(e){var t,r,i=Math.abs(e),c=n(e);return i<u?c*l(i/u/a)*u*a:(t=(1+a/o)*i,r=t-(t-i),r>s||r!=r?c*(1/0):c*r)}},function(e,t,r){var n=r(0),i=Math.abs;n(n.S,"Math",{hypot:function(e,t){for(var r,n,o=0,a=0,s=arguments.length,u=0;a<s;)r=i(arguments[a++]),u<r?(n=u/r,o=o*n*n+1,u=r):r>0?(n=r/u,o+=n*n):o+=r;return u===1/0?1/0:u*Math.sqrt(o)}})},function(e,t,r){var n=r(0),i=Math.imul;n(n.S+n.F*r(7)(function(){return-5!=i(4294967295,5)||2!=i.length}),"Math",{imul:function(e,t){var r=+e,n=+t,i=65535&r,o=65535&n;return 0|i*o+((65535&r>>>16)*o+i*(65535&n>>>16)<<16>>>0)}})},function(e,t,r){var n=r(0);n(n.S,"Math",{log10:function(e){return Math.log(e)*Math.LOG10E}})},function(e,t,r){var n=r(0);n(n.S,"Math",{log1p:r(197)})},function(e,t,r){var n=r(0);n(n.S,"Math",{log2:function(e){return Math.log(e)/Math.LN2}})},function(e,t,r){var n=r(0);n(n.S,"Math",{sign:r(134)})},function(e,t,r){var n=r(0),i=r(135),o=Math.exp;n(n.S+n.F*r(7)(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(e){return Math.abs(e=+e)<1?(i(e)-i(-e))/2:(o(e-1)-o(-e-1))*(Math.E/2)}})},function(e,t,r){var n=r(0),i=r(135),o=Math.exp;n(n.S,"Math",{tanh:function(e){var t=i(e=+e),r=i(-e);return t==1/0?1:r==1/0?-1:(t-r)/(o(e)+o(-e))}})},function(e,t,r){var n=r(0);n(n.S,"Math",{trunc:function(e){return(e>0?Math.floor:Math.ceil)(e)}})},function(e,t,r){var n=r(0),i=r(49),o=String.fromCharCode,a=String.fromCodePoint;n(n.S+n.F*(!!a&&1!=a.length),"String",{fromCodePoint:function(e){for(var t,r=[],n=arguments.length,a=0;n>a;){if(t=+arguments[a++],i(t,1114111)!==t)throw RangeError(t+" is not a valid code point");r.push(t<65536?o(t):o(55296+((t-=65536)>>10),t%1024+56320))}return r.join("")}})},function(e,t,r){var n=r(0),i=r(26),o=r(11);n(n.S,"String",{raw:function(e){for(var t=i(e.raw),r=o(t.length),n=arguments.length,a=[],s=0;r>s;)a.push(String(t[s++])),s<n&&a.push(String(arguments[s]));return a.join("")}})},function(e,t,r){"use strict";r(63)("trim",function(e){return function(){return e(this,3)}})},function(e,t,r){"use strict";var n=r(136)(!0);r(137)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,r=this._i;return r>=t.length?{value:void 0,done:!0}:(e=n(t,r),this._i+=e.length,{value:e,done:!1})})},function(e,t,r){"use strict";var n=r(0),i=r(136)(!1);n(n.P,"String",{codePointAt:function(e){return i(this,e)}})},function(e,t,r){"use strict";var n=r(0),i=r(11),o=r(138),a="".endsWith;n(n.P+n.F*r(140)("endsWith"),"String",{endsWith:function(e){var t=o(this,e,"endsWith"),r=arguments.length>1?arguments[1]:void 0,n=i(t.length),s=void 0===r?n:Math.min(i(r),n),u=String(e);return a?a.call(t,u,s):t.slice(s-u.length,s)===u}})},function(e,t,r){"use strict";var n=r(0),i=r(138);n(n.P+n.F*r(140)("includes"),"String",{includes:function(e){return!!~i(this,e,"includes").indexOf(e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,r){var n=r(0);n(n.P,"String",{repeat:r(133)})},function(e,t,r){"use strict";var n=r(0),i=r(11),o=r(138),a="".startsWith;n(n.P+n.F*r(140)("startsWith"),"String",{startsWith:function(e){var t=o(this,e,"startsWith"),r=i(Math.min(arguments.length>1?arguments[1]:void 0,t.length)),n=String(e);return a?a.call(t,n,r):t.slice(r,r+n.length)===n}})},function(e,t,r){"use strict";r(23)("anchor",function(e){return function(t){return e(this,"a","name",t)}})},function(e,t,r){"use strict";r(23)("big",function(e){return function(){return e(this,"big","","")}})},function(e,t,r){"use strict";r(23)("blink",function(e){return function(){return e(this,"blink","","")}})},function(e,t,r){"use strict";r(23)("bold",function(e){return function(){return e(this,"b","","")}})},function(e,t,r){"use strict";r(23)("fixed",function(e){return function(){return e(this,"tt","","")}})},function(e,t,r){"use strict";r(23)("fontcolor",function(e){return function(t){return e(this,"font","color",t)}})},function(e,t,r){"use strict";r(23)("fontsize",function(e){return function(t){return e(this,"font","size",t)}})},function(e,t,r){"use strict";r(23)("italics",function(e){return function(){return e(this,"i","","")}})},function(e,t,r){"use strict";r(23)("link",function(e){return function(t){return e(this,"a","href",t)}})},function(e,t,r){"use strict";r(23)("small",function(e){return function(){return e(this,"small","","")}})},function(e,t,r){"use strict";r(23)("strike",function(e){return function(){return e(this,"strike","","")}})},function(e,t,r){"use strict";r(23)("sub",function(e){return function(){return e(this,"sub","","")}})},function(e,t,r){"use strict";r(23)("sup",function(e){return function(){return e(this,"sup","","")}})},function(e,t,r){var n=r(0);n(n.S,"Date",{now:function(){return(new Date).getTime()}})},function(e,t,r){"use strict";var n=r(0),i=r(20),o=r(41);n(n.P+n.F*r(7)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(e){var t=i(this),r=o(t);return"number"!=typeof r||isFinite(r)?t.toISOString():null}})},function(e,t,r){var n=r(0),i=r(364);n(n.P+n.F*(Date.prototype.toISOString!==i),"Date",{toISOString:i})},function(e,t,r){"use strict";var n=r(7),i=Date.prototype.getTime,o=Date.prototype.toISOString,a=function(e){return e>9?e:"0"+e};e.exports=n(function(){return"0385-07-25T07:06:39.999Z"!=o.call(new Date(-5e13-1))})||!n(function(){o.call(new Date(NaN))})?function(){if(!isFinite(i.call(this)))throw RangeError("Invalid time value");var e=this,t=e.getUTCFullYear(),r=e.getUTCMilliseconds(),n=t<0?"-":t>9999?"+":"";return n+("00000"+Math.abs(t)).slice(n?-6:-4)+"-"+a(e.getUTCMonth()+1)+"-"+a(e.getUTCDate())+"T"+a(e.getUTCHours())+":"+a(e.getUTCMinutes())+":"+a(e.getUTCSeconds())+"."+(r>99?r:"0"+a(r))+"Z"}:o},function(e,t,r){var n=Date.prototype,i=n.toString,o=n.getTime;new Date(NaN)+""!="Invalid Date"&&r(22)(n,"toString",function(){var e=o.call(this);return e===e?i.call(this):"Invalid Date"})},function(e,t,r){var n=r(10)("toPrimitive"),i=Date.prototype;n in i||r(25)(i,n,r(367))},function(e,t,r){"use strict";var n=r(8),i=r(41);e.exports=function(e){if("string"!==e&&"number"!==e&&"default"!==e)throw TypeError("Incorrect hint");return i(n(this),"number"!=e)}},function(e,t,r){var n=r(0);n(n.S,"Array",{isArray:r(93)})},function(e,t,r){"use strict";var n=r(30),i=r(0),o=r(20),a=r(199),s=r(141),u=r(11),l=r(142),c=r(143);i(i.S+i.F*!r(94)(function(e){Array.from(e)}),"Array",{from:function(e){var t,r,i,d,f=o(e),g="function"==typeof this?this:Array,p=arguments.length,h=p>1?arguments[1]:void 0,y=void 0!==h,m=0,v=c(f);if(y&&(h=n(h,p>2?arguments[2]:void 0,2)),void 0==v||g==Array&&s(v))for(t=u(f.length),r=new g(t);t>m;m++)l(r,m,y?h(f[m],m):f[m]);else for(d=v.call(f),r=new g;!(i=d.next()).done;m++)l(r,m,y?a(d,h,[i.value,m],!0):i.value);return r.length=m,r}})},function(e,t,r){"use strict";var n=r(0),i=r(142);n(n.S+n.F*r(7)(function(){function e(){}return!(Array.of.call(e)instanceof e)}),"Array",{of:function(){for(var e=0,t=arguments.length,r=new("function"==typeof this?this:Array)(t);t>e;)i(r,e,arguments[e++]);return r.length=t,r}})},function(e,t,r){"use strict";var n=r(0),i=r(26),o=[].join;n(n.P+n.F*(r(78)!=Object||!r(27)(o)),"Array",{join:function(e){return o.call(i(this),void 0===e?",":e)}})},function(e,t,r){"use strict";var n=r(0),i=r(129),o=r(36),a=r(49),s=r(11),u=[].slice;n(n.P+n.F*r(7)(function(){i&&u.call(i)}),"Array",{slice:function(e,t){var r=s(this.length),n=o(this);if(t=void 0===t?r:t,"Array"==n)return u.call(this,e,t);for(var i=a(e,r),l=a(t,r),c=s(l-i),d=new Array(c),f=0;f<c;f++)d[f]="String"==n?this.charAt(i+f):this[i+f];return d}})},function(e,t,r){"use strict";var n=r(0),i=r(31),o=r(20),a=r(7),s=[].sort,u=[1,2,3];n(n.P+n.F*(a(function(){u.sort(void 0)})||!a(function(){u.sort(null)})||!r(27)(s)),"Array",{sort:function(e){return void 0===e?s.call(o(this)):s.call(o(this),i(e))}})},function(e,t,r){"use strict";var n=r(0),i=r(35)(0),o=r(27)([].forEach,!0);n(n.P+n.F*!o,"Array",{forEach:function(e){return i(this,e,arguments[1])}})},function(e,t,r){var n=r(9),i=r(93),o=r(10)("species");e.exports=function(e){var t;return i(e)&&(t=e.constructor,"function"!=typeof t||t!==Array&&!i(t.prototype)||(t=void 0),n(t)&&null===(t=t[o])&&(t=void 0)),void 0===t?Array:t}},function(e,t,r){"use strict";var n=r(0),i=r(35)(1);n(n.P+n.F*!r(27)([].map,!0),"Array",{map:function(e){return i(this,e,arguments[1])}})},function(e,t,r){"use strict";var n=r(0),i=r(35)(2);n(n.P+n.F*!r(27)([].filter,!0),"Array",{filter:function(e){return i(this,e,arguments[1])}})},function(e,t,r){"use strict";var n=r(0),i=r(35)(3);n(n.P+n.F*!r(27)([].some,!0),"Array",{some:function(e){return i(this,e,arguments[1])}})},function(e,t,r){"use strict";var n=r(0),i=r(35)(4);n(n.P+n.F*!r(27)([].every,!0),"Array",{every:function(e){return i(this,e,arguments[1])}})},function(e,t,r){"use strict";var n=r(0),i=r(201);n(n.P+n.F*!r(27)([].reduce,!0),"Array",{reduce:function(e){return i(this,e,arguments.length,arguments[1],!1)}})},function(e,t,r){"use strict";var n=r(0),i=r(201);n(n.P+n.F*!r(27)([].reduceRight,!0),"Array",{reduceRight:function(e){return i(this,e,arguments.length,arguments[1],!0)}})},function(e,t,r){"use strict";var n=r(0),i=r(91)(!1),o=[].indexOf,a=!!o&&1/[1].indexOf(1,-0)<0;n(n.P+n.F*(a||!r(27)(o)),"Array",{indexOf:function(e){return a?o.apply(this,arguments)||0:i(this,e,arguments[1])}})},function(e,t,r){"use strict";var n=r(0),i=r(26),o=r(32),a=r(11),s=[].lastIndexOf,u=!!s&&1/[1].lastIndexOf(1,-0)<0;n(n.P+n.F*(u||!r(27)(s)),"Array",{lastIndexOf:function(e){if(u)return s.apply(this,arguments)||0;var t=i(this),r=a(t.length),n=r-1;for(arguments.length>1&&(n=Math.min(n,o(arguments[1]))),n<0&&(n=r+n);n>=0;n--)if(n in t&&t[n]===e)return n||0;return-1}})},function(e,t,r){var n=r(0);n(n.P,"Array",{copyWithin:r(202)}),r(53)("copyWithin")},function(e,t,r){var n=r(0);n(n.P,"Array",{fill:r(144)}),r(53)("fill")},function(e,t,r){"use strict";var n=r(0),i=r(35)(5),o=!0;"find"in[]&&Array(1).find(function(){o=!1}),n(n.P+n.F*o,"Array",{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),r(53)("find")},function(e,t,r){"use strict";var n=r(0),i=r(35)(6),o="findIndex",a=!0;o in[]&&Array(1)[o](function(){a=!1}),n(n.P+n.F*a,"Array",{findIndex:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),r(53)(o)},function(e,t,r){r(65)("Array")},function(e,t,r){var n=r(6),i=r(132),o=r(16).f,a=r(51).f,s=r(139),u=r(95),l=n.RegExp,c=l,d=l.prototype,f=/a/g,g=/a/g,p=new l(f)!==f;if(r(15)&&(!p||r(7)(function(){return g[r(10)("match")]=!1,l(f)!=f||l(g)==g||"/a/i"!=l(f,"i")}))){l=function(e,t){var r=this instanceof l,n=s(e),o=void 0===t;return!r&&n&&e.constructor===l&&o?e:i(p?new c(n&&!o?e.source:e,t):c((n=e instanceof l)?e.source:e,n&&o?u.call(e):t),r?this:d,l)};for(var h=a(c),y=0;h.length>y;)!function(e){e in l||o(l,e,{configurable:!0,get:function(){return c[e]},set:function(t){c[e]=t}})}(h[y++]);d.constructor=l,l.prototype=d,r(22)(n,"RegExp",l)}r(65)("RegExp")},function(e,t,r){"use strict";r(205);var n=r(8),i=r(95),o=r(15),a=/./.toString,s=function(e){r(22)(RegExp.prototype,"toString",e,!0)};r(7)(function(){return"/a/b"!=a.call({source:"a",flags:"b"})})?s(function(){var e=n(this);return"/".concat(e.source,"/","flags"in e?e.flags:!o&&e instanceof RegExp?i.call(e):void 0)}):"toString"!=a.name&&s(function(){return a.call(this)})},function(e,t,r){"use strict";var n=r(8),i=r(11),o=r(147),a=r(96);r(97)("match",1,function(e,t,r,s){return[function(r){var n=e(this),i=void 0==r?void 0:r[t];return void 0!==i?i.call(r,n):new RegExp(r)[t](String(n))},function(e){var t=s(r,e,this);if(t.done)return t.value;var u=n(e),l=String(this);if(!u.global)return a(u,l);var c=u.unicode;u.lastIndex=0;for(var d,f=[],g=0;null!==(d=a(u,l));){var p=String(d[0]);f[g]=p,""===p&&(u.lastIndex=o(l,i(u.lastIndex),c)),g++}return 0===g?null:f}]})},function(e,t,r){"use strict";var n=r(8),i=r(20),o=r(11),a=r(32),s=r(147),u=r(96),l=Math.max,c=Math.min,d=Math.floor,f=/\$([$&`']|\d\d?|<[^>]*>)/g,g=/\$([$&`']|\d\d?)/g,p=function(e){return void 0===e?e:String(e)};r(97)("replace",2,function(e,t,r,h){function y(e,t,n,o,a,s){var u=n+e.length,l=o.length,c=g;return void 0!==a&&(a=i(a),c=f),r.call(s,c,function(r,i){var s;switch(i.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,n);case"'":return t.slice(u);case"<":s=a[i.slice(1,-1)];break;default:var c=+i;if(0===c)return r;if(c>l){var f=d(c/10);return 0===f?r:f<=l?void 0===o[f-1]?i.charAt(1):o[f-1]+i.charAt(1):r}s=o[c-1]}return void 0===s?"":s})}return[function(n,i){var o=e(this),a=void 0==n?void 0:n[t];return void 0!==a?a.call(n,o,i):r.call(String(o),n,i)},function(e,t){var i=h(r,e,this,t);if(i.done)return i.value;var d=n(e),f=String(this),g="function"==typeof t;g||(t=String(t));var m=d.global;if(m){var v=d.unicode;d.lastIndex=0}for(var b=[];;){var A=u(d,f);if(null===A)break;if(b.push(A),!m)break;""===String(A[0])&&(d.lastIndex=s(f,o(d.lastIndex),v))}for(var _="",E=0,T=0;T<b.length;T++){A=b[T];for(var S=String(A[0]),I=l(c(a(A.index),f.length),0),w=[],C=1;C<A.length;C++)w.push(p(A[C]));var D=A.groups;if(g){var M=[S].concat(w,I,f);void 0!==D&&M.push(D);var O=String(t.apply(void 0,M))}else O=y(S,f,I,w,D,t);I>=E&&(_+=f.slice(E,I)+O,E=I+S.length)}return _+f.slice(E)}]})},function(e,t,r){"use strict";var n=r(8),i=r(190),o=r(96);r(97)("search",1,function(e,t,r,a){return[function(r){var n=e(this),i=void 0==r?void 0:r[t];return void 0!==i?i.call(r,n):new RegExp(r)[t](String(n))},function(e){var t=a(r,e,this);if(t.done)return t.value;var s=n(e),u=String(this),l=s.lastIndex;i(l,0)||(s.lastIndex=0);var c=o(s,u);return i(s.lastIndex,l)||(s.lastIndex=l),null===c?-1:c.index}]})},function(e,t,r){"use strict";var n=r(139),i=r(8),o=r(81),a=r(147),s=r(11),u=r(96),l=r(146),c=r(7),d=Math.min,f=[].push,g="length",p=!c(function(){RegExp(4294967295,"y")});r(97)("split",2,function(e,t,r,c){var h;return h="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1)[g]||2!="ab".split(/(?:ab)*/)[g]||4!=".".split(/(.?)(.?)/)[g]||".".split(/()()/)[g]>1||"".split(/.?/)[g]?function(e,t){var i=String(this);if(void 0===e&&0===t)return[];if(!n(e))return r.call(i,e,t);for(var o,a,s,u=[],c=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),d=0,p=void 0===t?4294967295:t>>>0,h=new RegExp(e.source,c+"g");(o=l.call(h,i))&&!((a=h.lastIndex)>d&&(u.push(i.slice(d,o.index)),o[g]>1&&o.index<i[g]&&f.apply(u,o.slice(1)),s=o[0][g],d=a,u[g]>=p));)h.lastIndex===o.index&&h.lastIndex++;return d===i[g]?!s&&h.test("")||u.push(""):u.push(i.slice(d)),u[g]>p?u.slice(0,p):u}:"0".split(void 0,0)[g]?function(e,t){return void 0===e&&0===t?[]:r.call(this,e,t)}:r,[function(r,n){var i=e(this),o=void 0==r?void 0:r[t];return void 0!==o?o.call(r,i,n):h.call(String(i),r,n)},function(e,t){var n=c(h,e,this,t,h!==r);if(n.done)return n.value;var l=i(e),f=String(this),g=o(l,RegExp),y=l.unicode,m=(l.ignoreCase?"i":"")+(l.multiline?"m":"")+(l.unicode?"u":"")+(p?"y":"g"),v=new g(p?l:"^(?:"+l.source+")",m),b=void 0===t?4294967295:t>>>0;if(0===b)return[];if(0===f.length)return null===u(v,f)?[f]:[];for(var A=0,_=0,E=[];_<f.length;){v.lastIndex=p?_:0;var T,S=u(v,p?f:f.slice(_));if(null===S||(T=d(s(v.lastIndex+(p?0:_)),f.length))===A)_=a(f,_,y);else{if(E.push(f.slice(A,_)),E.length===b)return E;for(var I=1;I<=S.length-1;I++)if(E.push(S[I]),E.length===b)return E;_=A=T}}return E.push(f.slice(A)),E}]})},function(e,t,r){var n=r(6),i=r(148).set,o=n.MutationObserver||n.WebKitMutationObserver,a=n.process,s=n.Promise,u="process"==r(36)(a);e.exports=function(){var e,t,r,l=function(){var n,i;for(u&&(n=a.domain)&&n.exit();e;){i=e.fn,e=e.next;try{i()}catch(n){throw e?r():t=void 0,n}}t=void 0,n&&n.enter()};if(u)r=function(){a.nextTick(l)};else if(!o||n.navigator&&n.navigator.standalone)if(s&&s.resolve){var c=s.resolve(void 0);r=function(){c.then(l)}}else r=function(){i.call(n,l)};else{var d=!0,f=document.createTextNode("");new o(l).observe(f,{characterData:!0}),r=function(){f.data=d=!d}}return function(n){var i={fn:n,next:void 0};t&&(t.next=i),e||(e=i,r()),t=i}}},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,r){"use strict";var n=r(209),i=r(54);e.exports=r(100)("Map",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{get:function(e){var t=n.getEntry(i(this,"Map"),e);return t&&t.v},set:function(e,t){return n.def(i(this,"Map"),0===e?0:e,t)}},n,!0)},function(e,t,r){"use strict";var n=r(209),i=r(54);e.exports=r(100)("Set",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return n.def(i(this,"Set"),e=0===e?0:e,e)}},n)},function(e,t,r){"use strict";var n,i=r(6),o=r(35)(0),a=r(22),s=r(42),u=r(189),l=r(210),c=r(9),d=r(54),f=r(54),g=!i.ActiveXObject&&"ActiveXObject"in i,p=s.getWeak,h=Object.isExtensible,y=l.ufstore,m=function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},v={get:function(e){if(c(e)){var t=p(e);return!0===t?y(d(this,"WeakMap")).get(e):t?t[this._i]:void 0}},set:function(e,t){return l.def(d(this,"WeakMap"),e,t)}},b=e.exports=r(100)("WeakMap",m,v,l,!0,!0);f&&g&&(n=l.getConstructor(m,"WeakMap"),u(n.prototype,v),s.NEED=!0,o(["delete","has","get","set"],function(e){var t=b.prototype,r=t[e];a(t,e,function(t,i){if(c(t)&&!h(t)){this._f||(this._f=new n);var o=this._f[e](t,i);return"set"==e?this:o}return r.call(this,t,i)})}))},function(e,t,r){"use strict";var n=r(210),i=r(54);r(100)("WeakSet",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return n.def(i(this,"WeakSet"),e,!0)}},n,!1,!0)},function(e,t,r){"use strict";var n=r(0),i=r(101),o=r(149),a=r(8),s=r(49),u=r(11),l=r(9),c=r(6).ArrayBuffer,d=r(81),f=o.ArrayBuffer,g=o.DataView,p=i.ABV&&c.isView,h=f.prototype.slice,y=i.VIEW;n(n.G+n.W+n.F*(c!==f),{ArrayBuffer:f}),n(n.S+n.F*!i.CONSTR,"ArrayBuffer",{isView:function(e){return p&&p(e)||l(e)&&y in e}}),n(n.P+n.U+n.F*r(7)(function(){return!new f(2).slice(1,void 0).byteLength}),"ArrayBuffer",{slice:function(e,t){if(void 0!==h&&void 0===t)return h.call(a(this),e);for(var r=a(this).byteLength,n=s(e,r),i=s(void 0===t?r:t,r),o=new(d(this,f))(u(i-n)),l=new g(this),c=new g(o),p=0;n<i;)c.setUint8(p++,l.getUint8(n++));return o}}),r(65)("ArrayBuffer")},function(e,t,r){var n=r(0);n(n.G+n.W+n.F*!r(101).ABV,{DataView:r(149).DataView})},function(e,t,r){r(38)("Int8",1,function(e){return function(t,r,n){return e(this,t,r,n)}})},function(e,t,r){r(38)("Uint8",1,function(e){return function(t,r,n){return e(this,t,r,n)}})},function(e,t,r){r(38)("Uint8",1,function(e){return function(t,r,n){return e(this,t,r,n)}},!0)},function(e,t,r){r(38)("Int16",2,function(e){return function(t,r,n){return e(this,t,r,n)}})},function(e,t,r){r(38)("Uint16",2,function(e){return function(t,r,n){return e(this,t,r,n)}})},function(e,t,r){r(38)("Int32",4,function(e){return function(t,r,n){return e(this,t,r,n)}})},function(e,t,r){r(38)("Uint32",4,function(e){return function(t,r,n){return e(this,t,r,n)}})},function(e,t,r){r(38)("Float32",4,function(e){return function(t,r,n){return e(this,t,r,n)}})},function(e,t,r){r(38)("Float64",8,function(e){return function(t,r,n){return e(this,t,r,n)}})},function(e,t,r){var n=r(0),i=r(31),o=r(8),a=(r(6).Reflect||{}).apply,s=Function.apply;n(n.S+n.F*!r(7)(function(){a(function(){})}),"Reflect",{apply:function(e,t,r){var n=i(e),u=o(r);return a?a(n,t,u):s.call(n,t,u)}})},function(e,t,r){var n=r(0),i=r(50),o=r(31),a=r(8),s=r(9),u=r(7),l=r(191),c=(r(6).Reflect||{}).construct,d=u(function(){function e(){}return!(c(function(){},[],e)instanceof e)}),f=!u(function(){c(function(){})});n(n.S+n.F*(d||f),"Reflect",{construct:function(e,t){o(e),a(t);var r=arguments.length<3?e:o(arguments[2]);if(f&&!d)return c(e,t,r);if(e==r){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var n=[null];return n.push.apply(n,t),new(l.apply(e,n))}var u=r.prototype,g=i(s(u)?u:Object.prototype),p=Function.apply.call(e,g,t);return s(p)?p:g}})},function(e,t,r){var n=r(16),i=r(0),o=r(8),a=r(41);i(i.S+i.F*r(7)(function(){Reflect.defineProperty(n.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(e,t,r){o(e),t=a(t,!0),o(r);try{return n.f(e,t,r),!0}catch(e){return!1}}})},function(e,t,r){var n=r(0),i=r(33).f,o=r(8);n(n.S,"Reflect",{deleteProperty:function(e,t){var r=i(o(e),t);return!(r&&!r.configurable)&&delete e[t]}})},function(e,t,r){"use strict";var n=r(0),i=r(8),o=function(e){this._t=i(e),this._i=0;var t,r=this._k=[];for(t in e)r.push(t)};r(198)(o,"Object",function(){var e,t=this,r=t._k;do{if(t._i>=r.length)return{value:void 0,done:!0}}while(!((e=r[t._i++])in t._t));return{value:e,done:!1}}),n(n.S,"Reflect",{enumerate:function(e){return new o(e)}})},function(e,t,r){function n(e,t){var r,s,c=arguments.length<3?e:arguments[2];return l(e)===c?e[t]:(r=i.f(e,t))?a(r,"value")?r.value:void 0!==r.get?r.get.call(c):void 0:u(s=o(e))?n(s,t,c):void 0}var i=r(33),o=r(52),a=r(24),s=r(0),u=r(9),l=r(8);s(s.S,"Reflect",{get:n})},function(e,t,r){var n=r(33),i=r(0),o=r(8);i(i.S,"Reflect",{getOwnPropertyDescriptor:function(e,t){return n.f(o(e),t)}})},function(e,t,r){var n=r(0),i=r(52),o=r(8);n(n.S,"Reflect",{getPrototypeOf:function(e){return i(o(e))}})},function(e,t,r){var n=r(0);n(n.S,"Reflect",{has:function(e,t){return t in e}})},function(e,t,r){var n=r(0),i=r(8),o=Object.isExtensible;n(n.S,"Reflect",{isExtensible:function(e){return i(e),!o||o(e)}})},function(e,t,r){var n=r(0);n(n.S,"Reflect",{ownKeys:r(212)})},function(e,t,r){var n=r(0),i=r(8),o=Object.preventExtensions;n(n.S,"Reflect",{preventExtensions:function(e){i(e);try{return o&&o(e),!0}catch(e){return!1}}})},function(e,t,r){function n(e,t,r){var u,f,g=arguments.length<4?e:arguments[3],p=o.f(c(e),t);if(!p){if(d(f=a(e)))return n(f,t,r,g);p=l(0)}if(s(p,"value")){if(!1===p.writable||!d(g))return!1;if(u=o.f(g,t)){if(u.get||u.set||!1===u.writable)return!1;u.value=r,i.f(g,t,u)}else i.f(g,t,l(0,r));return!0}return void 0!==p.set&&(p.set.call(g,r),!0)}var i=r(16),o=r(33),a=r(52),s=r(24),u=r(0),l=r(45),c=r(8),d=r(9);u(u.S,"Reflect",{set:n})},function(e,t,r){var n=r(0),i=r(130);i&&n(n.S,"Reflect",{setPrototypeOf:function(e,t){i.check(e,t);try{return i.set(e,t),!0}catch(e){return!1}}})},function(e,t,r){r(427),e.exports=r(13).Array.includes},function(e,t,r){"use strict";var n=r(0),i=r(91)(!0);n(n.P,"Array",{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),r(53)("includes")},function(e,t,r){r(429),e.exports=r(13).Array.flatMap},function(e,t,r){"use strict";var n=r(0),i=r(430),o=r(20),a=r(11),s=r(31),u=r(200);n(n.P,"Array",{flatMap:function(e){var t,r,n=o(this);return s(e),t=a(n.length),r=u(n,0),i(r,n,n,t,0,1,e,arguments[1]),r}}),r(53)("flatMap")},function(e,t,r){"use strict";function n(e,t,r,l,c,d,f,g){for(var p,h,y=c,m=0,v=!!f&&s(f,g,3);m<l;){if(m in r){if(p=v?v(r[m],m,t):r[m],h=!1,o(p)&&(h=p[u],h=void 0!==h?!!h:i(p)),h&&d>0)y=n(e,t,p,a(p.length),y,d-1)-1;else{if(y>=9007199254740991)throw TypeError();e[y]=p}y++}m++}return y}var i=r(93),o=r(9),a=r(11),s=r(30),u=r(10)("isConcatSpreadable");e.exports=n},function(e,t,r){r(432),e.exports=r(13).String.padStart},function(e,t,r){"use strict";var n=r(0),i=r(213),o=r(99),a=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o);n(n.P+n.F*a,"String",{padStart:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0,!0)}})},function(e,t,r){r(434),e.exports=r(13).String.padEnd},function(e,t,r){"use strict";var n=r(0),i=r(213),o=r(99),a=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o);n(n.P+n.F*a,"String",{padEnd:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0,!1)}})},function(e,t,r){r(436),e.exports=r(13).String.trimLeft},function(e,t,r){"use strict";r(63)("trimLeft",function(e){return function(){return e(this,1)}},"trimStart")},function(e,t,r){r(438),e.exports=r(13).String.trimRight},function(e,t,r){"use strict";r(63)("trimRight",function(e){return function(){return e(this,2)}},"trimEnd")},function(e,t,r){r(440),e.exports=r(126).f("asyncIterator")},function(e,t,r){r(185)("asyncIterator")},function(e,t,r){r(442),e.exports=r(13).Object.getOwnPropertyDescriptors},function(e,t,r){var n=r(0),i=r(212),o=r(26),a=r(33),s=r(142);n(n.S,"Object",{getOwnPropertyDescriptors:function(e){for(var t,r,n=o(e),u=a.f,l=i(n),c={},d=0;l.length>d;)void 0!==(r=u(n,t=l[d++]))&&s(c,t,r);return c}})},function(e,t,r){r(444),e.exports=r(13).Object.values},function(e,t,r){var n=r(0),i=r(214)(!1);n(n.S,"Object",{values:function(e){return i(e)}})},function(e,t,r){r(446),e.exports=r(13).Object.entries},function(e,t,r){var n=r(0),i=r(214)(!0);n(n.S,"Object",{entries:function(e){return i(e)}})},function(e,t,r){"use strict";r(206),r(448),e.exports=r(13).Promise.finally},function(e,t,r){"use strict";var n=r(0),i=r(13),o=r(6),a=r(81),s=r(208);n(n.P+n.R,"Promise",{finally:function(e){var t=a(this,i.Promise||o.Promise),r="function"==typeof e;return this.then(r?function(r){return s(t,e()).then(function(){return r})}:e,r?function(r){return s(t,e()).then(function(){throw r})}:e)}})},function(e,t,r){r(450),r(451),r(452),e.exports=r(13)},function(e,t,r){var n=r(6),i=r(0),o=r(99),a=[].slice,s=/MSIE .\./.test(o),u=function(e){return function(t,r){var n=arguments.length>2,i=!!n&&a.call(arguments,2);return e(n?function(){("function"==typeof t?t:Function(t)).apply(this,i)}:t,r)}};i(i.G+i.B+i.F*s,{setTimeout:u(n.setTimeout),setInterval:u(n.setInterval)})},function(e,t,r){var n=r(0),i=r(148);n(n.G+n.B,{setImmediate:i.set,clearImmediate:i.clear})},function(e,t,r){for(var n=r(145),i=r(48),o=r(22),a=r(6),s=r(25),u=r(64),l=r(10),c=l("iterator"),d=l("toStringTag"),f=u.Array,g={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=i(g),h=0;h<p.length;h++){var y,m=p[h],v=g[m],b=a[m],A=b&&b.prototype;if(A&&(A[c]||s(A,c,f),A[d]||s(A,d,m),u[m]=f,v))for(y in n)A[y]||o(A,y,n[y],!0)}},function(e,t,r){var n=function(e){"use strict";function t(e,t,r,i){var o=t&&t.prototype instanceof n?t:n,a=Object.create(o.prototype),s=new f(i||[]);return a._invoke=u(e,r,s),a}function r(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}function n(){}function i(){}function o(){}function a(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function s(e){function t(n,i,o,a){var s=r(e[n],e,i);if("throw"!==s.type){var u=s.arg,l=u.value;return l&&"object"==typeof l&&m.call(l,"__await")?Promise.resolve(l.__await).then(function(e){t("next",e,o,a)},function(e){t("throw",e,o,a)}):Promise.resolve(l).then(function(e){u.value=e,o(u)},function(e){return t("throw",e,o,a)})}a(s.arg)}function n(e,r){function n(){return new Promise(function(n,i){t(e,r,n,i)})}return i=i?i.then(n,n):n()}var i;this._invoke=n}function u(e,t,n){var i=E;return function(o,a){if(i===S)throw new Error("Generator is already running");if(i===I){if("throw"===o)throw a;return p()}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=l(s,n);if(u){if(u===w)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===E)throw i=I,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=S;var c=r(e,t,n);if("normal"===c.type){if(i=n.done?I:T,c.arg===w)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=I,n.method="throw",n.arg=c.arg)}}}function l(e,t){var n=e.iterator[t.method];if(n===h){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=h,l(e,t),"throw"===t.method))return w;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return w}var i=r(n,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,w;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=h),t.delegate=null,w):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,w)}function c(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function d(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function f(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(c,this),this.reset(!0)}function g(e){if(e){var t=e[b];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(m.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=h,t.done=!0,t};return n.next=n}}return{next:p}}function p(){return{value:h,done:!0}}var h,y=Object.prototype,m=y.hasOwnProperty,v="function"==typeof Symbol?Symbol:{},b=v.iterator||"@@iterator",A=v.asyncIterator||"@@asyncIterator",_=v.toStringTag||"@@toStringTag";e.wrap=t;var E="suspendedStart",T="suspendedYield",S="executing",I="completed",w={},C={};C[b]=function(){return this};var D=Object.getPrototypeOf,M=D&&D(D(g([])));M&&M!==y&&m.call(M,b)&&(C=M);var O=o.prototype=n.prototype=Object.create(C);return i.prototype=O.constructor=o,o.constructor=i,o[_]=i.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===i||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,o):(e.__proto__=o,_ in e||(e[_]="GeneratorFunction")),e.prototype=Object.create(O),e},e.awrap=function(e){return{__await:e}},a(s.prototype),s.prototype[A]=function(){return this},e.AsyncIterator=s,e.async=function(r,n,i,o){var a=new s(t(r,n,i,o));return e.isGeneratorFunction(n)?a:a.next().then(function(e){return e.done?e.value:a.next()})},a(O),O[_]="Generator",O[b]=function(){return this},O.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=g,f.prototype={constructor:f,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=h,this.done=!1,this.delegate=null,this.method="next",this.arg=h,this.tryEntries.forEach(d),!e)for(var t in this)"t"===t.charAt(0)&&m.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=h)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){function t(t,n){return o.type="throw",o.arg=e,r.next=t,n&&(r.method="next",r.arg=h),!!n}if(this.done)throw e;for(var r=this,n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n],o=i.completion;if("root"===i.tryLoc)return t("end");if(i.tryLoc<=this.prev){var a=m.call(i,"catchLoc"),s=m.call(i,"finallyLoc");if(a&&s){if(this.prev<i.catchLoc)return t(i.catchLoc,!0);if(this.prev<i.finallyLoc)return t(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return t(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return t(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&m.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,w):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),w},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),d(r),w}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;d(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:g(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=h),w}},e}(e.exports);try{regeneratorRuntime=n}catch(e){Function("r","regeneratorRuntime = r")(n)}},function(e,t,r){r(455),e.exports=r(215).global},function(e,t,r){var n=r(456);n(n.G,{global:r(150)})},function(e,t,r){var n=r(150),i=r(215),o=r(457),a=r(459),s=r(466),u=function(e,t,r){var l,c,d,f=e&u.F,g=e&u.G,p=e&u.S,h=e&u.P,y=e&u.B,m=e&u.W,v=g?i:i[t]||(i[t]={}),b=v.prototype,A=g?n:p?n[t]:(n[t]||{}).prototype;g&&(r=t);for(l in r)(c=!f&&A&&void 0!==A[l])&&s(v,l)||(d=c?A[l]:r[l],v[l]=g&&"function"!=typeof A[l]?r[l]:y&&c?o(d,n):m&&A[l]==d?function(e){var t=function(t,r,n){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,r)}return new e(t,r,n)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(d):h&&"function"==typeof d?o(Function.call,d):d,h&&((v.virtual||(v.virtual={}))[l]=d,e&u.R&&b&&!b[l]&&a(b,l,d)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,e.exports=u},function(e,t,r){var n=r(458);e.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,i){return e.call(t,r,n,i)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,r){var n=r(460),i=r(465);e.exports=r(152)?function(e,t,r){return n.f(e,t,i(1,r))}:function(e,t,r){return e[t]=r,e}},function(e,t,r){var n=r(461),i=r(462),o=r(464),a=Object.defineProperty;t.f=r(152)?Object.defineProperty:function(e,t,r){if(n(e),t=o(t,!0),n(r),i)try{return a(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(e[t]=r.value),e}},function(e,t,r){var n=r(151);e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},function(e,t,r){e.exports=!r(152)&&!r(216)(function(){return 7!=Object.defineProperty(r(463)("div"),"a",{get:function(){return 7}}).a})},function(e,t,r){var n=r(151),i=r(150).document,o=n(i)&&n(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},function(e,t,r){var n=r(151);e.exports=function(e,t){if(!n(e))return e;var r,i;if(t&&"function"==typeof(r=e.toString)&&!n(i=r.call(e)))return i;if("function"==typeof(r=e.valueOf)&&!n(i=r.call(e)))return i;if(!t&&"function"==typeof(r=e.toString)&&!n(i=r.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var r={}.hasOwnProperty;e.exports=function(e,t){return r.call(e,t)}},function(e,t,r){var n,i;/**
 * @file Web Cryptography API shim
 * @author Artem S Vybornov <vybornov@gmail.com>
 * @license MIT
 */
!function(r,o){n=[],void 0!==(i=function(){return o(r)}.apply(t,n))&&(e.exports=i)}("undefined"!=typeof self?self:this,function(e){"use strict";function t(e){return btoa(e).replace(/\=+$/,"").replace(/\+/g,"-").replace(/\//g,"_")}function r(e){return e+="===",e=e.slice(0,-e.length%4),atob(e.replace(/-/g,"+").replace(/_/g,"/"))}function n(e){for(var t=new Uint8Array(e.length),r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}function i(e){return e instanceof ArrayBuffer&&(e=new Uint8Array(e)),String.fromCharCode.apply(String,e)}function o(e){var t={name:(e.name||e||"").toUpperCase().replace("V","v")};switch(t.name){case"SHA-1":case"SHA-256":case"SHA-384":case"SHA-512":break;case"AES-CBC":case"AES-GCM":case"AES-KW":e.length&&(t.length=e.length);break;case"HMAC":e.hash&&(t.hash=o(e.hash)),e.length&&(t.length=e.length);break;case"RSAES-PKCS1-v1_5":e.publicExponent&&(t.publicExponent=new Uint8Array(e.publicExponent)),e.modulusLength&&(t.modulusLength=e.modulusLength);break;case"RSASSA-PKCS1-v1_5":case"RSA-OAEP":e.hash&&(t.hash=o(e.hash)),e.publicExponent&&(t.publicExponent=new Uint8Array(e.publicExponent)),e.modulusLength&&(t.modulusLength=e.modulusLength);break;default:throw new SyntaxError("Bad algorithm name")}return t}function a(e){return{HMAC:{"SHA-1":"HS1","SHA-256":"HS256","SHA-384":"HS384","SHA-512":"HS512"},"RSASSA-PKCS1-v1_5":{"SHA-1":"RS1","SHA-256":"RS256","SHA-384":"RS384","SHA-512":"RS512"},"RSAES-PKCS1-v1_5":{"":"RSA1_5"},"RSA-OAEP":{"SHA-1":"RSA-OAEP","SHA-256":"RSA-OAEP-256"},"AES-KW":{128:"A128KW",192:"A192KW",256:"A256KW"},"AES-GCM":{128:"A128GCM",192:"A192GCM",256:"A256GCM"},"AES-CBC":{128:"A128CBC",192:"A192CBC",256:"A256CBC"}}[e.name][(e.hash||{}).name||e.length||""]}function s(e){(e instanceof ArrayBuffer||e instanceof Uint8Array)&&(e=JSON.parse(decodeURIComponent(escape(i(e)))));var t={kty:e.kty,alg:e.alg,ext:e.ext||e.extractable};switch(t.kty){case"oct":t.k=e.k;case"RSA":["n","e","d","p","q","dp","dq","qi","oth"].forEach(function(r){r in e&&(t[r]=e[r])});break;default:throw new TypeError("Unsupported key type")}return t}function u(e){var t=s(e);return _&&(t.extractable=t.ext,delete t.ext),n(unescape(encodeURIComponent(JSON.stringify(t)))).buffer}function l(e){var r=d(e),n=!1;r.length>2&&(n=!0,r.shift());var o={ext:!0};switch(r[0][0]){case"1.2.840.113549.1.1.1":var a=["n","e","d","p","q","dp","dq","qi"],s=d(r[1]);n&&s.shift();for(var u=0;u<s.length;u++)s[u][0]||(s[u]=s[u].subarray(1)),o[a[u]]=t(i(s[u]));o.kty="RSA";break;default:throw new TypeError("Unsupported key type")}return o}function c(e){var t,i=[["",null]],o=!1;switch(e.kty){case"RSA":for(var a=["n","e","d","p","q","dp","dq","qi"],s=[],u=0;u<a.length&&a[u]in e;u++){var l=s[u]=n(r(e[a[u]]));128&l[0]&&(s[u]=new Uint8Array(l.length+1),s[u].set(l,1))}s.length>2&&(o=!0,s.unshift(new Uint8Array([0]))),i[0][0]="1.2.840.113549.1.1.1",t=s;break;default:throw new TypeError("Unsupported key type")}return i.push(new Uint8Array(f(t)).buffer),o?i.unshift(new Uint8Array([0])):i[1]={tag:3,value:i[1]},new Uint8Array(f(i)).buffer}function d(e,t){if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),t||(t={pos:0,end:e.length}),t.end-t.pos<2||t.end>e.length)throw new RangeError("Malformed DER");var r=e[t.pos++],n=e[t.pos++];if(n>=128){if(n&=127,t.end-t.pos<n)throw new RangeError("Malformed DER");for(var o=0;n--;)o<<=8,o|=e[t.pos++];n=o}if(t.end-t.pos<n)throw new RangeError("Malformed DER");var a;switch(r){case 2:a=e.subarray(t.pos,t.pos+=n);break;case 3:if(e[t.pos++])throw new Error("Unsupported bit string");n--;case 4:a=new Uint8Array(e.subarray(t.pos,t.pos+=n)).buffer;break;case 5:a=null;break;case 6:var s=btoa(i(e.subarray(t.pos,t.pos+=n)));if(!(s in T))throw new Error("Unsupported OBJECT ID "+s);a=T[s];break;case 48:a=[];for(var u=t.pos+n;t.pos<u;)a.push(d(e,t));break;default:throw new Error("Unsupported DER tag 0x"+r.toString(16))}return a}function f(e,t){t||(t=[]);var r=0,i=0,o=t.length+2;if(t.push(0,0),e instanceof Uint8Array){r=2,i=e.length;for(var a=0;a<i;a++)t.push(e[a])}else if(e instanceof ArrayBuffer){r=4,i=e.byteLength,e=new Uint8Array(e);for(var a=0;a<i;a++)t.push(e[a])}else if(null===e)r=5,i=0;else if("string"==typeof e&&e in S){var s=n(atob(S[e]));r=6,i=s.length;for(var a=0;a<i;a++)t.push(s[a])}else if(e instanceof Array){for(var a=0;a<e.length;a++)f(e[a],t);r=48,i=t.length-o}else{if(!("object"==typeof e&&3===e.tag&&e.value instanceof ArrayBuffer))throw new Error("Unsupported DER value "+e);e=new Uint8Array(e.value),r=3,i=e.byteLength,t.push(0);for(var a=0;a<i;a++)t.push(e[a]);i++}if(i>=128){var u=i,i=4;for(t.splice(o,0,u>>24&255,u>>16&255,u>>8&255,255&u);i>1&&!(u>>24);)u<<=8,i--;i<4&&t.splice(o,4-i),i|=128}return t.splice(o-2,2,r,i),t}function g(e,t,r,n){Object.defineProperties(this,{_key:{value:e},type:{value:e.type,enumerable:!0},extractable:{value:void 0===r?e.extractable:r,enumerable:!0},algorithm:{value:void 0===t?e.algorithm:t,enumerable:!0},usages:{value:void 0===n?e.usages:n,enumerable:!0}})}function p(e){return"verify"===e||"encrypt"===e||"wrapKey"===e}function h(e){return"sign"===e||"decrypt"===e||"unwrapKey"===e}if("function"!=typeof Promise)throw"Promise support required";var y=e.crypto||e.msCrypto;if(y){var m=y.subtle||y.webkitSubtle;if(m){var v=e.Crypto||y.constructor||Object,b=e.SubtleCrypto||m.constructor||Object,A=(e.CryptoKey||e.Key||Object,e.navigator.userAgent.indexOf("Edge/")>-1),_=!!e.msCrypto&&!A,E=!y.subtle&&!!y.webkitSubtle;if(_||E){var T={KoZIhvcNAQEB:"1.2.840.113549.1.1.1"},S={"1.2.840.113549.1.1.1":"KoZIhvcNAQEB"};if(["generateKey","importKey","unwrapKey"].forEach(function(e){var t=m[e];m[e]=function(i,c,d){var f,v,b,A=[].slice.call(arguments);switch(e){case"generateKey":f=o(i),v=c,b=d;break;case"importKey":f=o(d),v=A[3],b=A[4],"jwk"===i&&(c=s(c),c.alg||(c.alg=a(f)),c.key_ops||(c.key_ops="oct"!==c.kty?"d"in c?b.filter(h):b.filter(p):b.slice()),A[1]=u(c));break;case"unwrapKey":f=A[4],v=A[5],b=A[6],A[2]=d._key}if("generateKey"===e&&"HMAC"===f.name&&f.hash)return f.length=f.length||{"SHA-1":512,"SHA-256":512,"SHA-384":1024,"SHA-512":1024}[f.hash.name],m.importKey("raw",y.getRandomValues(new Uint8Array(f.length+7>>3)),f,v,b);if(E&&"generateKey"===e&&"RSASSA-PKCS1-v1_5"===f.name&&(!f.modulusLength||f.modulusLength>=2048))return i=o(i),i.name="RSAES-PKCS1-v1_5",delete i.hash,m.generateKey(i,!0,["encrypt","decrypt"]).then(function(e){return Promise.all([m.exportKey("jwk",e.publicKey),m.exportKey("jwk",e.privateKey)])}).then(function(e){return e[0].alg=e[1].alg=a(f),e[0].key_ops=b.filter(p),e[1].key_ops=b.filter(h),Promise.all([m.importKey("jwk",e[0],f,!0,e[0].key_ops),m.importKey("jwk",e[1],f,v,e[1].key_ops)])}).then(function(e){return{publicKey:e[0],privateKey:e[1]}});if((E||_&&"SHA-1"===(f.hash||{}).name)&&"importKey"===e&&"jwk"===i&&"HMAC"===f.name&&"oct"===c.kty)return m.importKey("raw",n(r(c.k)),d,A[3],A[4]);if(E&&"importKey"===e&&("spki"===i||"pkcs8"===i))return m.importKey("jwk",l(c),d,A[3],A[4]);if(_&&"unwrapKey"===e)return m.decrypt(A[3],d,c).then(function(e){return m.importKey(i,e,A[4],A[5],A[6])});var T;try{T=t.apply(m,A)}catch(e){return Promise.reject(e)}return _&&(T=new Promise(function(e,t){T.onabort=T.onerror=function(e){t(e)},T.oncomplete=function(t){e(t.target.result)}})),T=T.then(function(e){return"HMAC"===f.name&&(f.length||(f.length=8*e.algorithm.length)),0==f.name.search("RSA")&&(f.modulusLength||(f.modulusLength=(e.publicKey||e).algorithm.modulusLength),f.publicExponent||(f.publicExponent=(e.publicKey||e).algorithm.publicExponent)),e=e.publicKey&&e.privateKey?{publicKey:new g(e.publicKey,f,v,b.filter(p)),privateKey:new g(e.privateKey,f,v,b.filter(h))}:new g(e,f,v,b)})}}),["exportKey","wrapKey"].forEach(function(e){var r=m[e];m[e]=function(o,u,l){var d=[].slice.call(arguments);switch(e){case"exportKey":d[1]=u._key;break;case"wrapKey":d[1]=u._key,d[2]=l._key}if((E||_&&"SHA-1"===(u.algorithm.hash||{}).name)&&"exportKey"===e&&"jwk"===o&&"HMAC"===u.algorithm.name&&(d[0]="raw"),!E||"exportKey"!==e||"spki"!==o&&"pkcs8"!==o||(d[0]="jwk"),_&&"wrapKey"===e)return m.exportKey(o,u).then(function(e){return"jwk"===o&&(e=n(unescape(encodeURIComponent(JSON.stringify(s(e)))))),m.encrypt(d[3],l,e)});var f;try{f=r.apply(m,d)}catch(e){return Promise.reject(e)}return _&&(f=new Promise(function(e,t){f.onabort=f.onerror=function(e){t(e)},f.oncomplete=function(t){e(t.target.result)}})),"exportKey"===e&&"jwk"===o&&(f=f.then(function(e){return(E||_&&"SHA-1"===(u.algorithm.hash||{}).name)&&"HMAC"===u.algorithm.name?{kty:"oct",alg:a(u.algorithm),key_ops:u.usages.slice(),ext:!0,k:t(i(e))}:(e=s(e),e.alg||(e.alg=a(u.algorithm)),e.key_ops||(e.key_ops="public"===u.type?u.usages.filter(p):"private"===u.type?u.usages.filter(h):u.usages.slice()),e)})),!E||"exportKey"!==e||"spki"!==o&&"pkcs8"!==o||(f=f.then(function(e){return e=c(s(e))})),f}}),["encrypt","decrypt","sign","verify"].forEach(function(e){var t=m[e];m[e]=function(r,n,i,a){if(_&&(!i.byteLength||a&&!a.byteLength))throw new Error("Empy input is not allowed");var s=[].slice.call(arguments),u=o(r);if(_&&"decrypt"===e&&"AES-GCM"===u.name){var l=r.tagLength>>3;s[2]=(i.buffer||i).slice(0,i.byteLength-l),r.tag=(i.buffer||i).slice(i.byteLength-l)}s[1]=n._key;var c;try{c=t.apply(m,s)}catch(e){return Promise.reject(e)}return _&&(c=new Promise(function(t,r){c.onabort=c.onerror=function(e){r(e)},c.oncomplete=function(r){var r=r.target.result;if("encrypt"===e&&r instanceof AesGcmEncryptResult){var n=r.ciphertext,i=r.tag;r=new Uint8Array(n.byteLength+i.byteLength),r.set(new Uint8Array(n),0),r.set(new Uint8Array(i),n.byteLength),r=r.buffer}t(r)}})),c}}),_){var I=m.digest;m.digest=function(e,t){if(!t.byteLength)throw new Error("Empy input is not allowed");var r;try{r=I.call(m,e,t)}catch(e){return Promise.reject(e)}return r=new Promise(function(e,t){r.onabort=r.onerror=function(e){t(e)},r.oncomplete=function(t){e(t.target.result)}})},e.crypto=Object.create(y,{getRandomValues:{value:function(e){return y.getRandomValues(e)}},subtle:{value:m}}),e.CryptoKey=g}E&&(y.subtle=m,e.Crypto=v,e.SubtleCrypto=b,e.CryptoKey=g)}}}})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(469);Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}})}),r(482),r(767),r(770),r(773)},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.conax=t.features=t.versions=t.ssp=t.player=void 0;var i=r(470),o=r(471),a=r(473),s=r(477),u=n(s),l=r(217),c=n(l),d=r(481),f=n(d),g={product:f.product,buildNumber:f.number,buildType:f.type,revision:f.revision},p={dashjs:{SSPProtectionController:i.SSPProtectionController,keySystemWidevine:o.keySystemWidevine}},h={SSPLicenseFormatter:c},y={OPYFeatures:u},m={getOrCreateCxDeviceId:a.getOrCreateCxDeviceId,resetCxDeviceId:a.resetCxDeviceId,getOperator:a.getOperator,getOttAccount:a.getOttAccount,generateUUID:a.generateUUID,addDevice:a.addDevice,getToken:a.getToken};t.player=p,t.ssp=h,t.versions=g,t.features=y,t.conax=m},function(e,t,r){"use strict";function n(e){function t(e){var t=null,r=e.systemString;return S&&(t=r in S?S[r]:null),t}function r(e){var t=m.on;m.on=function(e,r,n,i){"internalKeyMessage"!==e&&t(e,r,n,i)},v(e),m.on=t,m.on("internalKeyMessage",p)}function n(){b(),m.off("internalKeyMessage",p)}function o(e){_(e),S=e}function u(e){A(e),e?(y.setMediaElement(e),m.on("public_keySystemSelected",g)):null===e&&(y.setMediaElement(e),m.off("public_keySystemSelected",g))}function l(e,t){m.trigger("public_licenseRequestComplete",{data:e,error:t})}function c(e,t,r,n){if(e.status===s){l(t);var i=a.unpackageLicense(e.response);y.updateKeySession(t.sessionToken,r.getLicenseMessage(i,n,t.messageType))}else l(t,"DRM: "+n+" update, XHR status is '"+e.statusText+"' ("+e.status+"), expected to be 200. readyState is "+e.readyState+".  Response is "+(e.response?r.getErrorResponse(e.response,n,t.messageType):"NONE"))}function d(e,t){if(t&&t.httpRequestHeaders)for(var r in t.httpRequestHeaders)t.httpRequestHeaders.hasOwnProperty(r)&&e.setRequestHeader(r,t.httpRequestHeaders[r])}function f(e,t){if(e.serverURL){var r=e.serverURL;if("string"==typeof r&&""!==r)return r;if("object"===(void 0===r?"undefined":i(r))&&r.hasOwnProperty(t))return r[t]}return null}function g(e){e&&e.data&&(T=e.data.keySystem)}function p(e){if(w.info("DRM: onKeyMessage"),e.error)return void w.error(e.error);var r=e.data;m.trigger("public_keyMessage",{data:r});var n=r.messageType?r.messageType:"license-request",i=r.message,o=r.sessionToken,s=t(T),u=T.systemString,g=h.getLicenseServer(T,s,n),p={sessionToken:o,messageType:n};if(!g)return w.error("DRM: License server request not required for this message (type = "+e.data.messageType+").  Session ID = "+o.getSessionID()),void l(p);var y,v=new XMLHttpRequest;if(y=s?f(s,n):e.data.laURL,!(y=g.getServerURLFromMessage(y,i,n)))return void l(p,"DRM: No license server URL specified!");v.open(g.getHTTPMethod(n),y,!0),v.responseType=g.getResponseType(u,n),v.onload=function(){c(this,p,g,u)},v.onabort=function(){l(p,"DRM: "+u+" update, XHR aborted. status is '"+this.statusText+"' ("+this.status+"), readyState is "+this.readyState)},v.onerror=function(){l(p,"DRM: "+u+" update, XHR error. status is '"+this.statusText+"' ("+this.status+"), readyState is "+this.readyState)},d(v,s),"com.widevine.alpha"===u?v.send(a.packagePayload(i)):v.send(T.getLicenseRequestFromMessage(i))}var h=e.protectionKeyController,y=e.protectionModel,m=e.eventBus,v=this.parent.initializeForMedia,b=this.parent.reset,A=this.parent.setMediaElement,_=this.parent.setProtectionData,E=void 0,T=void 0,S=void 0,I=e.debug,w=I.getLogger(E);return E={initializeForMedia:r,setMediaElement:u,setProtectionData:o,reset:n}}Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.SSPProtectionController=n;var o=r(217),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(o),s=200},function(e,t,r){"use strict";function n(e){function t(e){return n=e,o.default.parseInitDataFromContentProtection(e,i)}function r(){return n.laurl.licenseUrl}var n=void 0,i=e.BASE64;return{getInitData:t,getLicenseServerURLFromInitData:r}}Object.defineProperty(t,"__esModule",{value:!0}),t.keySystemWidevine=n;var i=r(472),o=function(e){return e&&e.__esModule?e:{default:e}}(i)},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function(){function e(){n(this,e)}return i(e,null,[{key:"findCencContentProtection",value:function(e){for(var t=null,r=0;r<e.length;++r){var n=e[r];"urn:mpeg:dash:mp4protection:2011"===n.schemeIdUri.toLowerCase()&&"cenc"===n.value.toLowerCase()&&(t=n)}return t}},{key:"getPSSHData",value:function(e){var t=8,r=new DataView(e),n=r.getUint8(t);return t+=20,n>0&&(t+=4+16*r.getUint32(t)),t+=4,e.slice(t)}},{key:"getPSSHForKeySystem",value:function(t,r){var n=e.parsePSSHList(r);return n.hasOwnProperty(t.uuid.toLowerCase())?n[t.uuid.toLowerCase()]:null}},{key:"parseInitDataFromContentProtection",value:function(e,t){return"pssh"in e?t.decodeArray(e.pssh.__text).buffer:null}},{key:"parsePSSHList",value:function(e){if(null===e)return[];for(var t=new DataView(e.buffer||e),r={},n=0;;){var i=void 0,o=void 0,a=void 0,s=void 0,u=n;if(n>=t.buffer.byteLength)break;if(i=t.getUint32(n),o=n+i,n+=4,1886614376===t.getUint32(n))if(n+=4,0===(a=t.getUint8(n))||1===a){n++,n+=3,s="";var l=void 0,c=void 0;for(l=0;l<4;l++)c=t.getUint8(n+l).toString(16),s+=1===c.length?"0"+c:c;for(n+=4,s+="-",l=0;l<2;l++)c=t.getUint8(n+l).toString(16),s+=1===c.length?"0"+c:c;for(n+=2,s+="-",l=0;l<2;l++)c=t.getUint8(n+l).toString(16),s+=1===c.length?"0"+c:c;for(n+=2,s+="-",l=0;l<2;l++)c=t.getUint8(n+l).toString(16),s+=1===c.length?"0"+c:c;for(n+=2,s+="-",l=0;l<6;l++)c=t.getUint8(n+l).toString(16),s+=1===c.length?"0"+c:c;n+=6,s=s.toLowerCase(),t.getUint32(n),n+=4,r[s]=t.buffer.slice(u,o),n=o}else n=o;else n=o}return r}}]),e}();t.default=o},function(e,t,r){"use strict";function n(e){return unescape(window.location.search.replace(new RegExp("^(?:.*[&\\?]"+escape(e).replace(/[\.\+\*]/g,"\\$&")+"(?:\\=([^&]*))?)?.*$","i"),"$1"))}function i(){var e=n("operator");return e||(e="default"),e}function o(){var e=n("ottaccount");return e||(e="a000002342"),e}function a(e,t,r){var n=new XMLHttpRequest;if(n.open("GET",e+"?accountid="+t+"&deviceid="+r,!1),n.send(),n.status===g){var i=JSON.parse(n.responseText);return window.console.log("Token: "+i.authtoken+" for "+t+":"+r),i.authtoken}window.console.error("Error getting token for "+t+":"+r+" - "+n.status)}function s(e,t,r,n,i){var o=new XMLHttpRequest;o.open("PUT",e+"?accountid="+t+"&deviceid="+r+"&devicetype="+n+"&friendlyname="+i,!1),o.send(),o.status===g?window.console.log("Added device: "+r+" to "+t):window.console.error("Error adding device: "+r+" to "+t+" - "+o.status)}function u(){return(0,f.default)()}function l(e){if("undefined"!=typeof Storage){var t=localStorage.getItem("cxDeviceId."+e);return null===t&&(t=u(),localStorage.setItem("cxDeviceId."+e,t),window.console.log("Created new CxDeviceId "+t+" for "+e)),t}return window.console.error("No web storage support, can not store CxDeviceId"),u()}function c(e){"undefined"!=typeof Storage?(localStorage.removeItem("cxDeviceId."+e),window.console.log("Removed CxDeviceId for "+e)):window.console.error("No web storage support, a new id is generated every time")}Object.defineProperty(t,"__esModule",{value:!0}),t.getToken=t.addDevice=t.generateUUID=t.getOttAccount=t.getOperator=t.resetCxDeviceId=t.getOrCreateCxDeviceId=void 0;var d=r(474),f=function(e){return e&&e.__esModule?e:{default:e}}(d),g=200;t.getOrCreateCxDeviceId=l,t.resetCxDeviceId=c,t.getOperator=i,t.getOttAccount=o,t.generateUUID=u,t.addDevice=s,t.getToken=a},function(e,t,r){function n(e,t,r){var n=t&&r||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null),e=e||{};var a=e.random||(e.rng||i)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[n+s]=a[s];return t||o(a)}var i=r(475),o=r(476);e.exports=n},function(e,t){var r="undefined"!=typeof crypto&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&msCrypto.getRandomValues.bind(msCrypto);if(r){var n=new Uint8Array(16);e.exports=function(){return r(n),n}}else{var i=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),i[t]=e>>>((3&t)<<3)&255;return i}}},function(e,t){function r(e,t){var r=t||0,i=n;return i[e[r++]]+i[e[r++]]+i[e[r++]]+i[e[r++]]+"-"+i[e[r++]]+i[e[r++]]+"-"+i[e[r++]]+i[e[r++]]+"-"+i[e[r++]]+i[e[r++]]+"-"+i[e[r++]]+i[e[r++]]+i[e[r++]]+i[e[r++]]+i[e[r++]]+i[e[r++]]}for(var n=[],i=0;i<256;++i)n[i]=(i+256).toString(16).substr(1);e.exports=r},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.OPYFeatures=void 0;var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(478),a=["OPY feature license","OPY trial license"];t.OPYFeatures=function(){function e(){n(this,e),this.publicKey={kty:"RSA",e:"AQAB",n:"1P85mxuNw3xNNQljlMzglM00F76HN0MRn_R15_maiUNIp79l4fA9WFuYpDZIwpFSW7FrTPhIALfP5vHTKXYL0Z4GevKAKLUQQcKXoSlXMWu-V-xHfpXMbFKHygchd5PdS2Q64_aDqAQLibQHppK4i05MUHnJbZED_OK9WZkXWieJlQgHMFz8rQ-a0Kd3jWuwePSl9YHv81zmJkJDbENnceY-qXCGR3_YJfnDws4AH_fLcFgmdFWz_6CgGNa_zfXprz4C7mi6NQWH_IZZF1yIly8yhwyJx4URCsrlBKa-RLTCjksruZrAHbeXRM8Pv_iCPQ11hl7jOT5_PzGUm3DPtw",kid:"com.nagra.opy.key.integration"},this.cryptographer=new o.Jose.WebCryptographer,this.cryptographer.setContentSignAlgorithm("RS256"),this.clearToken()}return i(e,[{key:"clearToken",value:function(){this.token={},this.payload={},this.expiry=0,this.features=[],this.platforms=[],this.customerId=null,this.domains=[],this.trial=!1}},{key:"addLicenseToken",value:function(e){var t=this;try{var r=e.trim(),n=new o.JoseJWS.Verifier(this.cryptographer,r);return n.addRecipient(this.publicKey,this.publicKey.kid).then(function(){return n.verify()}).then(function(e){var n=!1;if(t.clearToken(),e[0].payload){if(n=e[0].verified,t.payload=JSON.parse(e[0].payload),"Nagra"===t.payload.iss&&1===t.payload.version||(n=!1),a.includes(t.payload.sub)||(n=!1),"OPY trial license"===t.payload.sub&&(t.trial=!0),t.payload.exp){t.expiry=1e3*t.payload.exp}else t.expiry=Number.POSITIVE_INFINITY;t.payload.features&&t.payload.features.length>0&&(t.features=t.payload.features.filter(function(e){return e.name}).map(function(e){return e.name})),t.payload.platforms&&t.payload.platforms.length>0&&(t.platforms=t.payload.platforms.filter(function(e){return e.name}).map(function(e){return e.name})),t.payload.domains&&t.payload.domains.length>0&&(t.domains=t.payload.domains.filter(function(e){return e.domain}).map(function(e){return e.domain.toLowerCase()})),t.payload.customerid&&(t.customerId=t.payload.customerid),t.token=r}return n})}catch(e){throw new Error("Error adding and verifying license token")}}},{key:"licenseToken",value:function(){return this.token}},{key:"activeFeatures",value:function(){return this.features}},{key:"activePlatforms",value:function(){return this.platforms}},{key:"supportedDomains",value:function(){return this.domains}},{key:"isFeatureActive",value:function(e){return this.features.includes(e)}},{key:"isPlatformActive",value:function(e){return this.platforms.includes(e)}},{key:"isDomainSupported",value:function(e){return"localhost"===e||"127.0.0.1"===e||this.domains.includes(e.toLowerCase())}},{key:"expiryTime",value:function(){return this.expiry}},{key:"customerID",value:function(){return this.customerId}},{key:"isTrial",value:function(){return this.trial}}]),e}()},function(e,t,r){(function(e){var r={},n={},i={};t.setCrypto=function(e){r.crypto=e},"undefined"!=typeof crypto&&t.setCrypto(crypto),"function"!=typeof atob&&(atob=function(t){return new e(t,"base64").toString("binary")}),"function"!=typeof btoa&&(btoa=function(t){var r;return r=t instanceof e?t:new e(t.toString(),"binary"),r.toString("base64")}),r.caniuse=function(){var e=!0;return e=e&&"function"==typeof Promise,e=e&&"function"==typeof Promise.reject,e=e&&"function"==typeof Promise.prototype.then,e=e&&"function"==typeof Promise.all,e=e&&"object"==typeof r.crypto,e=e&&"object"==typeof r.crypto.subtle,e=e&&"function"==typeof r.crypto.getRandomValues,e=e&&"function"==typeof r.crypto.subtle.importKey,e=e&&"function"==typeof r.crypto.subtle.generateKey,e=e&&"function"==typeof r.crypto.subtle.exportKey,e=e&&"function"==typeof r.crypto.subtle.wrapKey,e=e&&"function"==typeof r.crypto.subtle.unwrapKey,e=e&&"function"==typeof r.crypto.subtle.encrypt,e=e&&"function"==typeof r.crypto.subtle.decrypt,e=e&&"function"==typeof r.crypto.subtle.sign,e=e&&"function"==typeof ArrayBuffer,e=e&&("function"==typeof Uint8Array||"object"==typeof Uint8Array),e=e&&("function"==typeof Uint32Array||"object"==typeof Uint32Array),e=e&&"object"==typeof JSON,e=e&&"function"==typeof JSON.parse,e=e&&"function"==typeof JSON.stringify,e=e&&"function"==typeof atob,e=e&&"function"==typeof btoa},r.assert=function(e,t){if(!e)throw new Error(t)},t.Jose=r,t.JoseJWE=n,t.JoseJWS=i;var o=function(){this.setKeyEncryptionAlgorithm("RSA-OAEP"),this.setContentEncryptionAlgorithm("A256GCM"),this.setContentSignAlgorithm("RS256")};r.WebCryptographer=o,o.prototype.setKeyEncryptionAlgorithm=function(e){this.key_encryption=u(e)},o.prototype.getKeyEncryptionAlgorithm=function(){return this.key_encryption.jwe_name},o.prototype.setContentEncryptionAlgorithm=function(e){this.content_encryption=u(e)},o.prototype.getContentEncryptionAlgorithm=function(){return this.content_encryption.jwe_name},o.prototype.setContentSignAlgorithm=function(e){this.content_sign=c(e)},o.prototype.getContentSignAlgorithm=function(){return this.content_sign.jwa_name},o.prototype.createIV=function(){var e=new Uint8Array(new Array(this.content_encryption.iv_bytes));return r.crypto.getRandomValues(e)},o.prototype.createCek=function(){var e=a(this.content_encryption);return r.crypto.subtle.generateKey(e.id,!0,e.enc_op)},o.prototype.wrapCek=function(e,t){return r.crypto.subtle.wrapKey("raw",e,t,this.key_encryption.id)},o.prototype.unwrapCek=function(e,t){var n=a(this.content_encryption),i=this.content_encryption.specific_cek_bytes>0,o=this.key_encryption.id;return r.crypto.subtle.unwrapKey("raw",e,t,o,n.id,i,n.dec_op)};var a=function(e){var t=e.specific_cek_bytes;if(t){if(16==t)return{id:{name:"AES-CBC",length:128},enc_op:["encrypt"],dec_op:["decrypt"]};if(32==t)return{id:{name:"AES-CBC",length:256},enc_op:["encrypt"],dec_op:["decrypt"]};if(64==t)return{id:{name:"HMAC",hash:{name:"SHA-256"}},enc_op:["sign"],dec_op:["verify"]};if(128==t)return{id:{name:"HMAC",hash:{name:"SHA-384"}},enc_op:["sign"],dec_op:["verify"]};r.assert(!1,"getCekWorkaround: invalid len")}return{id:e.id,enc_op:["encrypt"],dec_op:["decrypt"]}};o.prototype.encrypt=function(e,t,n,i){var o=this.content_encryption;if(e.length!=o.iv_bytes)return Promise.reject(Error("invalid IV length"));if(o.auth.aead){var a=o.auth.tag_bytes,u={name:o.id.name,iv:e,additionalData:t,tagLength:8*a};return n.then(function(e){return r.crypto.subtle.encrypt(u,e,i).then(function(e){var t=e.byteLength-a;return{cipher:e.slice(0,t),tag:e.slice(t)}})})}var c=s(o,n,["encrypt"]),d=c[0],f=c[1],g=f.then(function(t){var n={name:o.id.name,iv:e};return r.crypto.subtle.encrypt(n,t,i)}),p=g.then(function(r){return l(o,d,t,e,r)});return Promise.all([g,p]).then(function(e){return{cipher:e[0],tag:e[1]}})},o.prototype.decrypt=function(e,t,n,i,o){var a=function(e,t,n,i){return r.assert(n instanceof Uint8Array,"compare: invalid input"),r.assert(i instanceof Uint8Array,"compare: invalid input"),t.then(function(t){var o=r.crypto.subtle.sign(e.auth.id,t,n),a=r.crypto.subtle.sign(e.auth.id,t,i);return Promise.all([o,a]).then(function(e){var t=new Uint8Array(e[0]),r=new Uint8Array(e[1]);if(t.length!=r.length)throw new Error("compare failed");for(var n=0;n<t.length;n++)if(t[n]!=r[n])throw new Error("compare failed");return Promise.resolve(null)})})};if(n.length!=this.content_encryption.iv_bytes)return Promise.reject(Error("decryptCiphertext: invalid IV"));var u=this.content_encryption;if(u.auth.aead){var c={name:u.id.name,iv:n,additionalData:t,tagLength:8*u.auth.tag_bytes};return e.then(function(e){var t=g.arrayBufferConcat(i,o);return r.crypto.subtle.decrypt(c,e,t)})}var d=s(u,e,["decrypt"]),f=d[0],p=d[1],h=l(u,f,t,n,i);return Promise.all([p,h]).then(function(e){var t=e[0],s=e[1];return a(u,f,new Uint8Array(s),o).then(function(){var e={name:u.id.name,iv:n};return r.crypto.subtle.decrypt(e,t,i)}).catch(function(e){return Promise.reject(Error("decryptCiphertext: MAC failed."))})})},o.prototype.sign=function(e,t,n){var i=this.content_sign;return e.alg&&(i=c(e.alg)),n.then(function(n){return r.crypto.subtle.sign(i.id,n,g.arrayFromString(g.Base64Url.encode(JSON.stringify(e))+"."+g.Base64Url.encodeArray(t)))})},o.prototype.verify=function(e,t,n,i,o){var a=this.content_sign;return i.then(function(i){return a=c(d(i)),r.crypto.subtle.verify(a.id,i,n,g.arrayFromString(e+"."+t)).then(function(e){return{kid:o,verified:e}})})},r.WebCryptographer.keyId=function(e){return g.sha256(e.n+"+"+e.d)};var s=function(e,t,n){var i=t.then(function(e){return r.crypto.subtle.exportKey("raw",e)});return[i.then(function(t){if(8*t.byteLength!=e.id.length+8*e.auth.key_bytes)return Promise.reject(Error("encryptPlainText: incorrect cek length"));var n=t.slice(0,e.auth.key_bytes);return r.crypto.subtle.importKey("raw",n,e.auth.id,!1,["sign"])}),i.then(function(t){if(8*t.byteLength!=e.id.length+8*e.auth.key_bytes)return Promise.reject(Error("encryptPlainText: incorrect cek length"));var i=t.slice(e.auth.key_bytes);return r.crypto.subtle.importKey("raw",i,e.id,!1,n)})]},u=function(e){switch(e){case"RSA-OAEP":return{jwe_name:"RSA-OAEP",id:{name:"RSA-OAEP",hash:{name:"SHA-1"}}};case"RSA-OAEP-256":return{jwe_name:"RSA-OAEP-256",id:{name:"RSA-OAEP",hash:{name:"SHA-256"}}};case"A128KW":return{jwe_name:"A128KW",id:{name:"AES-KW",length:128}};case"A256KW":return{jwe_name:"A256KW",id:{name:"AES-KW",length:256}};case"dir":return{jwe_name:"dir"};case"A128CBC-HS256":return{jwe_name:"A128CBC-HS256",id:{name:"AES-CBC",length:128},iv_bytes:16,specific_cek_bytes:32,auth:{key_bytes:16,id:{name:"HMAC",hash:{name:"SHA-256"}},truncated_bytes:16}};case"A256CBC-HS512":return{jwe_name:"A256CBC-HS512",id:{name:"AES-CBC",length:256},iv_bytes:16,specific_cek_bytes:64,auth:{key_bytes:32,id:{name:"HMAC",hash:{name:"SHA-512"}},truncated_bytes:32}};case"A128GCM":return{jwe_name:"A128GCM",id:{name:"AES-GCM",length:128},iv_bytes:12,auth:{aead:!0,tag_bytes:16}};case"A256GCM":return{jwe_name:"A256GCM",id:{name:"AES-GCM",length:256},iv_bytes:12,auth:{aead:!0,tag_bytes:16}};default:throw Error("unsupported algorithm: "+e)}},l=function(e,t,n,i,o){return t.then(function(t){var a=new Uint8Array(g.arrayFromInt32(8*n.length)),s=new Uint8Array(8);s.set(a,4);var u=g.arrayBufferConcat(n,i,o,s);return r.crypto.subtle.sign(e.auth.id,t,u).then(function(t){return t.slice(0,e.auth.truncated_bytes)})})},c=function(e){switch(e){case"RS256":return{jwa_name:"RS256",id:{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}}};case"RS384":return{jwa_name:"RS384",id:{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-384"}}};case"RS512":return{jwa_name:"RS512",id:{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-512"}}};case"PS256":return{jwa_name:"PS256",id:{name:"RSA-PSS",hash:{name:"SHA-256"},saltLength:20}};case"PS384":return{jwa_name:"PS384",id:{name:"RSA-PSS",hash:{name:"SHA-384"},saltLength:20}};case"PS512":return{jwa_name:"PS512",id:{name:"RSA-PSS",hash:{name:"SHA-512"},saltLength:20}};case"HS256":return{jwa_name:"HS256",id:{name:"HMAC",hash:{name:"SHA-256"}}};case"HS384":return{jwa_name:"HS384",id:{name:"HMAC",hash:{name:"SHA-384"}}};case"HS512":return{jwa_name:"HS512",id:{name:"HMAC",hash:{name:"SHA-512"}}};case"ES256":return{jwa_name:"ES256",id:{name:"ECDSA",hash:{name:"SHA-256"}}};case"ES384":return{jwa_name:"ES384",id:{name:"ECDSA",hash:{name:"SHA-384"}}};case"ES512":return{jwa_name:"ES512",id:{name:"ECDSA",hash:{name:"SHA-512"}}};default:throw Error("unsupported algorithm: "+e)}},d=function(e){var t="",r=e.algorithm.name,n=e.algorithm.hash.name;if("RSASSA-PKCS1-v1_5"==r)t="R";else{if("RSA-PSS"!=r)throw new Error("unsupported sign/verify algorithm "+r);t="P"}if(0!==n.indexOf("SHA-"))throw new Error("unsupported hash algorithm "+r);return t+="S",t+=n.substring(4)},f=function(e){switch(e){case"RS256":case"RS384":case"RS512":case"PS256":case"PS384":case"PS512":case"HS256":case"HS384":case"HS512":case"ES256":case"ES384":case"ES512":return{publicKey:"verify",privateKey:"sign"};case"RSA-OAEP":case"RSA-OAEP-256":case"A128KW":case"A256KW":return{publicKey:"wrapKey",privateKey:"unwrapKey"};default:throw Error("unsupported algorithm: "+e)}};r.Utils={};var g={};r.Utils.importRsaPublicKey=function(e,t){var n,i,o=f(t);if("wrapKey"==o.publicKey)e.alg||(e.alg=t),n=g.convertRsaKey(e,["n","e"]),i=u(t);else{var a={};for(var s in e)e.hasOwnProperty(s)&&(a[s]=e[s]);!a.alg&&t&&(a.alg=t),i=c(a.alg),n=g.convertRsaKey(a,["n","e"]),n.ext=!0}return r.crypto.subtle.importKey("jwk",n,i.id,!1,[o.publicKey])},r.Utils.importRsaPrivateKey=function(e,t){var n,i,o=f(t);if("unwrapKey"==o.privateKey)e.alg||(e.alg=t),n=g.convertRsaKey(e,["n","e","d","p","q","dp","dq","qi"]),i=u("RSA-OAEP");else{var a={};for(var s in e)e.hasOwnProperty(s)&&(a[s]=e[s]);i=c(t),!a.alg&&t&&(a.alg=t),n=g.convertRsaKey(a,["n","e","d","p","q","dp","dq","qi"]),n.ext=!0}return r.crypto.subtle.importKey("jwk",n,i.id,!1,[o.privateKey])},g.isString=function(e){return"string"==typeof e||e instanceof String},g.arrayish=function(e){return e instanceof Array?e:e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):void r.assert(!1,"arrayish: invalid input")},g.convertRsaKey=function(e,t){var n,i={},o=[];t.map(function(t){void 0===e[t]&&o.push(t)}),o.length>0&&r.assert(!1,"convertRsaKey: Was expecting "+o.join()),void 0!==e.kty&&r.assert("RSA"==e.kty,"convertRsaKey: expecting rsa_key['kty'] to be 'RSA'"),i.kty="RSA";try{c(e.alg),n=e.alg}catch(t){try{u(e.alg),n=e.alg}catch(e){r.assert(n,"convertRsaKey: expecting rsa_key['alg'] to have a valid value")}}i.alg=n;for(var a=function(e){return parseInt(e,16)},s=0;s<t.length;s++){var l=t[s],d=e[l];if("e"==l)"number"==typeof d&&(d=g.Base64Url.encodeArray(g.stripLeadingZeros(g.arrayFromInt32(d))));else if(/^([0-9a-fA-F]{2}:)+[0-9a-fA-F]{2}$/.test(d)){var f=d.split(":").map(a);d=g.Base64Url.encodeArray(g.stripLeadingZeros(f))}else"string"!=typeof d&&r.assert(!1,"convertRsaKey: expecting rsa_key['"+l+"'] to be a string");i[l]=d}return i},g.arrayFromString=function(e){r.assert(g.isString(e),"arrayFromString: invalid input");var t=e.split("").map(function(e){return e.charCodeAt(0)});return new Uint8Array(t)},g.arrayFromUtf8String=function(e){return r.assert(g.isString(e),"arrayFromUtf8String: invalid input"),e=unescape(encodeURIComponent(e)),g.arrayFromString(e)},g.stringFromArray=function(e){e=g.arrayish(e);for(var t="",r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},g.utf8StringFromArray=function(e){r.assert(e instanceof ArrayBuffer,"utf8StringFromArray: invalid input");var t=g.stringFromArray(e);return decodeURIComponent(escape(t))},g.stripLeadingZeros=function(e){e instanceof ArrayBuffer&&(e=new Uint8Array(e));for(var t=!0,r=[],n=0;n<e.length;n++)t&&0===e[n]||(t=!1,r.push(e[n]));return r},g.arrayFromInt32=function(e){r.assert("number"==typeof e,"arrayFromInt32: invalid input"),r.assert(e==e|0,"arrayFromInt32: out of range");for(var t=new Uint8Array(new Uint32Array([e]).buffer),n=new Uint8Array(4),i=0;i<4;i++)n[i]=t[3-i];return n.buffer},g.arrayBufferConcat=function(){for(var e=[],t=0,n=0;n<arguments.length;n++)e.push(g.arrayish(arguments[n])),t+=e[n].length;var i=new Uint8Array(t),o=0;for(n=0;n<arguments.length;n++)for(var a=0;a<e[n].length;a++)i[o++]=e[n][a];return r.assert(o==t,"arrayBufferConcat: unexpected offset"),i},g.Base64Url={},g.Base64Url.encode=function(e){return r.assert(g.isString(e),"Base64Url.encode: invalid input"),btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")},g.Base64Url.encodeArray=function(e){return g.Base64Url.encode(g.stringFromArray(e))},g.Base64Url.decode=function(e){return r.assert(g.isString(e),"Base64Url.decode: invalid input"),atob(e.replace(/-/g,"+").replace(/_/g,"/"))},g.Base64Url.decodeArray=function(e){return r.assert(g.isString(e),"Base64Url.decodeArray: invalid input"),g.arrayFromString(g.Base64Url.decode(e))},g.sha256=function(e){return r.crypto.subtle.digest({name:"SHA-256"},g.arrayFromString(e)).then(function(e){return g.Base64Url.encodeArray(e)})},g.isCryptoKey=function(e){return"CryptoKey"==e.constructor.name||!!e.hasOwnProperty("algorithm")},n.Encrypter=function(e,t){this.cryptographer=e,this.key_promise=t,this.userHeaders={}},n.Encrypter.prototype.addHeader=function(e,t){this.userHeaders[e]=t},n.Encrypter.prototype.encrypt=function(e){var t,r,n=function(e,t){var r={};for(var n in this.userHeaders)r[n]=this.userHeaders[n];r.alg=this.cryptographer.getKeyEncryptionAlgorithm(),r.enc=this.cryptographer.getContentEncryptionAlgorithm();var i=g.Base64Url.encode(JSON.stringify(r)),o=this.cryptographer.createIV(),a=g.arrayFromString(i);return t=g.arrayFromUtf8String(t),this.cryptographer.encrypt(o,a,e,t).then(function(e){return e.header=i,e.iv=o,e})};"dir"==this.cryptographer.getKeyEncryptionAlgorithm()?(t=Promise.resolve(this.key_promise),r=[]):(t=this.cryptographer.createCek(),r=Promise.all([this.key_promise,t]).then(function(e){var t=e[0],r=e[1];return this.cryptographer.wrapCek(r,t)}.bind(this)));var i=n.bind(this,t,e)();return Promise.all([r,i]).then(function(e){var t=e[0],r=e[1];return r.header+"."+g.Base64Url.encodeArray(t)+"."+g.Base64Url.encodeArray(r.iv)+"."+g.Base64Url.encodeArray(r.cipher)+"."+g.Base64Url.encodeArray(r.tag)})},n.Decrypter=function(e,t){this.cryptographer=e,this.key_promise=t,this.headers={}},n.Decrypter.prototype.getHeaders=function(){return this.headers},n.Decrypter.prototype.decrypt=function(e){var t=e.split(".");if(5!=t.length)return Promise.reject(Error("decrypt: invalid input"));if(this.headers=JSON.parse(g.Base64Url.decode(t[0])),!this.headers.alg)return Promise.reject(Error("decrypt: missing alg"));if(!this.headers.enc)return Promise.reject(Error("decrypt: missing enc"));if(this.cryptographer.setKeyEncryptionAlgorithm(this.headers.alg),this.cryptographer.setContentEncryptionAlgorithm(this.headers.enc),this.headers.crit)return Promise.reject(Error("decrypt: crit is not supported"));var r;if("dir"==this.headers.alg)r=Promise.resolve(this.key_promise);else{var n=g.Base64Url.decodeArray(t[1]);r=this.key_promise.then(function(e){return this.cryptographer.unwrapCek(n,e)}.bind(this))}return this.cryptographer.decrypt(r,g.arrayFromString(t[0]),g.Base64Url.decodeArray(t[2]),g.Base64Url.decodeArray(t[3]),g.Base64Url.decodeArray(t[4])).then(g.utf8StringFromArray)},i.Signer=function(e){this.cryptographer=e,this.key_promises={},this.waiting_kid=0,this.headers={},this.signer_aads={},this.signer_headers={}},i.Signer.prototype.addSigner=function(e,t,n,i){var o,a=this;if(g.isCryptoKey(e))o=new Promise(function(t){t(e)});else{var s;s=n&&n.alg?n.alg:a.cryptographer.getContentSignAlgorithm(),o=r.Utils.importRsaPrivateKey(e,s,"sign")}var u;if(t)u=new Promise(function(e){e(t)});else{if(g.isCryptoKey(e))throw new Error("key_id is a mandatory argument when the key is a CryptoKey");u=r.WebCryptographer.keyId(e)}return a.waiting_kid++,u.then(function(e){return a.key_promises[e]=o,a.waiting_kid--,n&&(a.signer_aads[e]=n),i&&(a.signer_headers[e]=i),e})},i.Signer.prototype.addSignature=function(e,t,r){if(g.isString(e)&&(e=JSON.parse(e)),e.payload&&g.isString(e.payload)&&e.protected&&g.isString(e.protected)&&e.header&&e.header instanceof Object&&e.signature&&g.isString(e.signature))return this.sign(p.fromObject(e),t,r);throw new Error("JWS is not a valid JWS object")},i.Signer.prototype.sign=function(e,t,r){function n(e,t,r,n,i){var a;if(t||(t={}),t.alg||(t.alg=o.cryptographer.getContentSignAlgorithm(),t.typ="JWT"),t.kid||(t.kid=i),g.isString(e))a=g.arrayFromUtf8String(e);else try{a=g.arrayish(e)}catch(t){if(e instanceof p)a=g.arrayFromString(g.Base64Url.decode(e.payload));else{if(!(e instanceof Object))throw new Error("cannot sign this message");a=g.arrayFromUtf8String(JSON.stringify(e))}}return o.cryptographer.sign(t,a,n).then(function(n){var i=new p(t,r,a,n);return e instanceof p?(delete i.payload,e.signatures?e.signatures.push(i):e.signatures=[i],e):i})}function i(e,t,r,a,s){if(s.length){var u=s.shift(),l=n(e,o.signer_aads[u]||t,o.signer_headers[u]||r,a[u],u);return s.length&&(l=l.then(function(e){return i(e,null,null,a,s)})),l}}var o=this,a=[];if(0===Object.keys(o.key_promises).length)throw new Error("No signers defined. At least one is required to sign the JWS.");if(o.waiting_kid)throw new Error("still generating key IDs");for(var s in o.key_promises)o.key_promises.hasOwnProperty(s)&&a.push(s);return i(e,t,r,o.key_promises,a)};var p=function(e,t,r,n){this.header=t,this.payload=g.Base64Url.encodeArray(r),n&&(this.signature=g.Base64Url.encodeArray(n)),this.protected=g.Base64Url.encode(JSON.stringify(e))};p.fromObject=function(e){var t=new p(e.protected,e.header,e.payload,null);return t.signature=e.signature,t.signatures=e.signatures,t},p.prototype.JsonSerialize=function(){return JSON.stringify(this)},p.prototype.CompactSerialize=function(){return this.protected+"."+this.payload+"."+this.signature},i.Verifier=function(e,t,n){var i,o,a,s,u,l,c,d=this,f=/^([0-9a-z_\-]+)\.([0-9a-z_\-]+)\.([0-9a-z_\-]+)$/i;if(d.cryptographer=e,i=e.getContentSignAlgorithm(),d.cryptographer=new r.WebCryptographer,g.isString(t))if(o=f.exec(t)){if(4!=o.length)throw new Error("wrong JWS compact serialization format");t={protected:o[1],payload:o[2],signature:o[3]}}else t=JSON.parse(t);else if("object"!=typeof t)throw new Error("data format not supported");a=t.protected,s=t.header,u=t.payload,l=t.signatures instanceof Array?t.signatures.slice(0):[],l.forEach(function(e){e.aad=e.protected,e.protected=JSON.parse(g.Base64Url.decode(e.protected))}),d.aad=a,c=g.Base64Url.decode(a);try{c=JSON.parse(c)}catch(e){}if(!c&&!s)throw new Error("at least one header is required");if(!c.alg)throw new Error("'alg' is a mandatory header");if(c.alg!=i)throw new Error("the alg header '"+c.alg+"' doesn't match the requested algorithm '"+i+"'");if(c&&c.typ&&"JWT"!=c.typ)throw new Error("typ '"+c.typ+"' not supported");t.signature&&l.unshift({aad:a,protected:c,header:s,signature:t.signature}),d.signatures=[];for(var p=0;p<l.length;p++)d.signatures[p]=JSON.parse(JSON.stringify(l[p])),d.signatures[p].signature=g.arrayFromString(g.Base64Url.decode(l[p].signature));d.payload=u,d.key_promises={},d.waiting_kid=0,n&&(d.keyfinder=n)},i.Verifier.prototype.addRecipient=function(e,t,n){var i,o=this,a=g.isCryptoKey(e)?new Promise(function(t){t(e)}):r.Utils.importRsaPublicKey(e,n||o.cryptographer.getContentSignAlgorithm(),"verify");if(t)i=new Promise(function(e){e(t)});else{if(g.isCryptoKey(e))throw new Error("key_id is a mandatory argument when the key is a CryptoKey");i=r.WebCryptographer.keyId(e)}return o.waiting_kid++,i.then(function(e){return o.key_promises[e]=a,o.waiting_kid--,e})},i.Verifier.prototype.verify=function(){var e=this,t=e.signatures,r=e.key_promises,n=e.keyfinder,i=[];if(!n&&!(Object.keys(e.key_promises).length>0))throw new Error("No recipients defined. At least one is required to verify the JWS.");if(e.waiting_kid)throw new Error("still generating key IDs");return t.forEach(function(t){var o=t.protected.kid;n&&(r[o]=n(o)),i.push(e.cryptographer.verify(t.aad,e.payload,t.signature,r[o],o).then(function(t){return t.verified&&(t.payload=g.Base64Url.decode(e.payload)),t}))}),Promise.all(i)}}).call(t,r(82).Buffer)},function(e,t,r){"use strict";function n(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function i(e){var t=n(e),r=t[0],i=t[1];return 3*(r+i)/4-i}function o(e,t,r){return 3*(t+r)/4-r}function a(e){var t,r,i=n(e),a=i[0],s=i[1],u=new f(o(e,a,s)),l=0,c=s>0?a-4:a;for(r=0;r<c;r+=4)t=d[e.charCodeAt(r)]<<18|d[e.charCodeAt(r+1)]<<12|d[e.charCodeAt(r+2)]<<6|d[e.charCodeAt(r+3)],u[l++]=t>>16&255,u[l++]=t>>8&255,u[l++]=255&t;return 2===s&&(t=d[e.charCodeAt(r)]<<2|d[e.charCodeAt(r+1)]>>4,u[l++]=255&t),1===s&&(t=d[e.charCodeAt(r)]<<10|d[e.charCodeAt(r+1)]<<4|d[e.charCodeAt(r+2)]>>2,u[l++]=t>>8&255,u[l++]=255&t),u}function s(e){return c[e>>18&63]+c[e>>12&63]+c[e>>6&63]+c[63&e]}function u(e,t,r){for(var n,i=[],o=t;o<r;o+=3)n=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),i.push(s(n));return i.join("")}function l(e){for(var t,r=e.length,n=r%3,i=[],o=0,a=r-n;o<a;o+=16383)i.push(u(e,o,o+16383>a?a:o+16383));return 1===n?(t=e[r-1],i.push(c[t>>2]+c[t<<4&63]+"==")):2===n&&(t=(e[r-2]<<8)+e[r-1],i.push(c[t>>10]+c[t>>4&63]+c[t<<2&63]+"=")),i.join("")}t.byteLength=i,t.toByteArray=a,t.fromByteArray=l;for(var c=[],d=[],f="undefined"!=typeof Uint8Array?Uint8Array:Array,g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",p=0,h=g.length;p<h;++p)c[p]=g[p],d[g.charCodeAt(p)]=p;d["-".charCodeAt(0)]=62,d["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,r,n,i){var o,a,s=8*i-n-1,u=(1<<s)-1,l=u>>1,c=-7,d=r?i-1:0,f=r?-1:1,g=e[t+d];for(d+=f,o=g&(1<<-c)-1,g>>=-c,c+=s;c>0;o=256*o+e[t+d],d+=f,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=n;c>0;a=256*a+e[t+d],d+=f,c-=8);if(0===o)o=1-l;else{if(o===u)return a?NaN:1/0*(g?-1:1);a+=Math.pow(2,n),o-=l}return(g?-1:1)*a*Math.pow(2,o-n)},t.write=function(e,t,r,n,i,o){var a,s,u,l=8*o-i-1,c=(1<<l)-1,d=c>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,g=n?0:o-1,p=n?1:-1,h=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),t+=a+d>=1?f/u:f*Math.pow(2,1-d),t*u>=2&&(a++,u/=2),a+d>=c?(s=0,a=c):a+d>=1?(s=(t*u-1)*Math.pow(2,i),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,i),a=0));i>=8;e[r+g]=255&s,g+=p,s/=256,i-=8);for(a=a<<i|s,l+=i;l>0;e[r+g]=255&a,g+=p,a/=256,l-=8);e[r+g-p]|=128*h}},function(e,t){e.exports={product:"1.6.0",number:3,type:"production",revision:1179470}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e){for(var t=window.atob(e),r=t.length,n=new Uint8Array(new ArrayBuffer(r)),i=0;i<r;i++)n[i]=t.charCodeAt(i);return n}function o(e){var t=new Uint16Array(e.buffer);return String.fromCharCode.apply(null,t)}function a(e){var t=new Uint8Array(e);return String.fromCharCode.apply(null,t)}function s(e){for(var t=new ArrayBuffer(e.length*le),r=new Uint16Array(t),n=0,i=e.length;n<i;n++)r[n]=e.charCodeAt(n);return r}function u(e){return btoa(new Uint8Array(e).reduce(function(e,t){return e+String.fromCharCode(t)},""))}function l(e,t,r){var n=0,i=new ArrayBuffer(e.byteLength+de+t.byteLength+de+r.byteLength),o=new DataView(i);new Uint8Array(i,n,e.byteLength).set(e),n+=e.byteLength,o.setUint32(n,t.byteLength,!0),n+=de;var a=new Uint16Array(i,n,t.length);return a.set(t),n+=a.byteLength,o.setUint32(n,r.byteLength,!0),n+=de,new Uint8Array(i,n,r.byteLength).set(r),new Uint8Array(i,0,i.byteLength)}function c(e){return new(ye[e]||he)(e)}function d(){return!g()&&-1!==window.navigator.userAgent.indexOf("Safari")&&-1===window.navigator.userAgent.indexOf("Chrome")}function f(){var e=window.chrome,t=window.navigator,r=t.vendor,n=void 0!==window.opr,i=t.userAgent.indexOf("Edge")>-1;return!!t.userAgent.match("CriOS")||null!==e&&void 0!==e&&"Google Inc."===r&&!1===n&&!1===i}function g(){return window.navigator.userAgent.toLowerCase().includes("smart")}function p(e,t,r,n){var i=e;return i+="/"+t,i+=h(r),i+="/contentlicenseservice/v1",i+=y(n)}function h(e){var t=null;return"FairPlay"===e?t="fpls":"PlayReady"===e?t="prls":"Widevine"===e&&(t="wvls"),"/"+t}function y(e){var t=null;return"License"===e?t="licenses":"Cert"===e&&(t="certificates"),"/"+t}function m(e,t){var r=t.config.tenantId,n=t.config.licenceServer,i={"Content-Type":"text/xml; charset=utf-8"},o={Accept:"application/octet-stream","Content-Type":"application/octet-stream"};return e&&(i["nv-authorizations"]=e,o["nv-authorizations"]=e),[{name:"com.microsoft.playready",options:{serverURL:p(n,r,"PlayReady","License"),httpRequestHeaders:i}},{name:"com.widevine.alpha",options:{serverURL:p(n,r,"Widevine","License"),httpRequestHeaders:o,serverCertificate:Te.isSmartTV()?void 0:t.config.widevineServerCertificate}}]}function v(e,t){var r=t.config.tenantId,n=t.config.licenceServer,i=JSON.stringify({"com.nagra.applicationData":e});return[{name:"com.microsoft.playready",options:{serverURL:n+"/"+r+"/prls/contentlicenseservice/v1/licenses",httpRequestHeaders:{"Content-Type":"text/xml","nv-application-data":i}}},{name:"com.widevine.alpha",options:{serverURL:n+"/"+r+"/wvls/contentlicenseservice/v1/licenses",httpRequestHeaders:{Accept:"application/octet-stream","Content-Type":"application/octet-stream","nv-application-data":i},serverCertificate:Te.isSmartTV()?void 0:t.config.widevineServerCertificate}}]}function b(e,t){return e+"/"+t+"/wvls/contentlicenseservice/v1/certificates"}function A(){}function _(e,t,r){function n(){function e(e){var n=t(e)||{},i=r();return n["nv-authorizations"]=i,n}var t=this.parent.getRequestHeadersFromMessage;return{getRequestHeadersFromMessage:e}}t.extend("KeySystem"+e,n,!0)}function E(e,t,r){var n=e.config.licenceServer,i={Version:"1.0.0",CxAuthenticationDataToken:t,CxClientInfo:{DeviceType:"Browser",DrmClientType:"Widevine-HTML5",DrmClientVersion:"1.0.0",CxDeviceId:r}},o={serverURL:n,httpRequestHeaders:{"Conax-Custom-Data":JSON.stringify(i)}};return e.config.widevineServerCertificate&&!Te.isSmartTV()&&(o.serverCertificate=e.config.widevineServerCertificate),[{name:"com.widevine.alpha",options:o}]}function T(e,t){var r=e.config.licenceServer;return[{name:"com.microsoft.playready",options:{serverURL:r,httpRequestHeaders:{PreAuthorization:t,"Content-Type":"text/xml; charset=utf-8"}}},{name:"com.widevine.alpha",options:{serverURL:r,httpRequestHeaders:{Accept:"application/octet-stream","Content-Type":"application/octet-stream",PreAuthorization:t}}}]}function S(e,t){var r=e;if(t){r=r.split(",")[0]}return r}function I(e,t){var r=function(e){function r(e){t.set(e.type,e);var r=u.on;u.on=function(e,t,n,i){e===l.INTERNAL_KEY_MESSAGE?r(e,s,n,i):r(e,t,n,i)},d(e),u.on=r}function n(){f(),u.off(l.INTERNAL_KEY_MESSAGE,s,this)}function i(e){p=e,g(e)}function o(e){var t=null;if(e){var r=e.systemString;p&&(t=r in p?p[r]:null)}return t}function a(e,t){u.trigger(l.LICENSE_REQUEST_COMPLETE,{data:e,error:t})}function s(e){var t=e.data;u.trigger(l.KEY_MESSAGE,{data:t});var r=t.messageType?t.messageType:"license-request",n=t.message,i=t.sessionToken,s=c.getKeySystem(),d=o(s),f=s?s.systemString:null,g={sessionToken:i,messageType:r};if(!n||0===n.byteLength)return void a(g,{code:lt,message:ct});(0,d.requestLicenceCallback)(f,d.sourceObject,s.getLicenseRequestFromMessage(n),r).then(function(e){null===e?a(g,{code:dt,message:ft+"NULL licence returned from customer callback"}):(a(g),c.updateKeySession(i,e))}).catch(function(e){a(g,{code:dt,message:ft+"Licence not received from callback.  Error: "+e})})}var u=e.eventBus,l=e.events,c=e.protectionModel,d=this.parent.initializeForMedia,f=this.parent.reset,g=this.parent.setProtectionData,p=null;return{initializeForMedia:r,reset:n,setProtectionData:i}};e.extend("ProtectionController",r,!0)}function w(e,t,r){var n=e.system;if(n.includes("nagra-ssp")&&e.config.ssmServer){return new(yt[n]||He)(e,t,r)}return"customer"===n&&Te.isSafari()&&(n+="-fps"),new(ht[n]||He)(e,t,r)}function C(e,t){var r=e<0?0:e,n=Math.floor(r%vt),i=Math.floor(r/vt%vt),o=Math.floor(r/(vt*bt)),a=Math.floor(t/vt%vt),s=Math.floor(t/(vt*bt));return(isNaN(r)||r===1/0)&&(o=i=n="0"),o=o>0||s>0?o+":":"",i=((o||a>=At)&&i<At?"0"+i:i)+":",n=n<At?"0"+n:n,o+i+n}function D(e){var t="-";return(e===1/0||e<1)&&(t=""),t}function M(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,r=void 0;if(t===1/0&&this.liveTracker&&this.liveTracker.isLive()){var n=this.liveTracker.liveWindow(),i=0;this.liveTracker.behindLiveEdge()&&(i=this.liveTracker.seekableEnd()-e+this.liveTracker.pastSeekEnd()),r=D(i)+C(i,n)}else r=C(e,t);return r}function O(e){for(var t=e.trim().toLowerCase(),r=null,n=Object.keys(St),i=Array.isArray(n),o=0,n=i?n:n[Symbol.iterator]();;){var a;if(i){if(o>=n.length)break;a=n[o++]}else{if(o=n.next(),o.done)break;a=o.value}var s=a;if(t.includes(s)){r=St[s];break}}return r}function B(e){var t=null;return It.includes(e)?t=Tt:e===Et&&(t=Et),t}function R(e){var t=null;return e.headers.hasOwnProperty("content-type")&&(t=B(e.headers["content-type"])),t}function P(e){var t=null;return e.startsWith("#EXTM3U")?t=Tt:e.includes("MPD")&&(t=Et),t}function k(e,t){return{measurement:e,sampleSize:t}}function L(e,t){return"application/dash+xml"===t?new Wt.DashNetworkStatistics(e):new Yt.HlsNetworkStatistics(e)}function N(e,t){var r=NaN,n=void 0,i=void 0;return e.dashjs&&(n=e.dashjs.getMetricsFor(t),i=e.dashjs.getDashMetrics(),n&&i&&(r=i.getCurrentBufferLevel(n))),r}function x(e,t){return"application/dash+xml"===t?new zt.DashPlaybackStatistics(e):new Jt.HlsPlaybackStatistics(e)}function j(e){var t=function(t){e&&K.default.log(t)};return t.error=function(e){return K.default.log.error(e)},t.warn=function(e){return K.default.log.warn(e)},t.debug=function(t){e&&"function"==typeof K.default.debug&&K.default.debug(t)},t}function U(e,t,r,n){return new Promise(function(i){var o=[{initDataTypes:gr}];o[0][t]=r,void 0!==navigator.requestMediaKeySystemAccess?navigator.requestMediaKeySystemAccess(e,o).then(function(){n&&n(),i(!0)}).catch(function(){i(!1)}):i(!1)})}function F(e,t,r,n){var i=e.find(function(e){return e.name===t&&e.contentType===r});if(i)i.securityLevel=Math.max(i.securityLevel,n);else{var o={name:t,contentType:r,securityLevel:n};e.push(o)}}function Q(e){return e.reduce(function(e,t){return e.concat(t)},[])}function G(e,t){return new Promise(function(r){for(var n=e+"Capabilities",i=[],o=[],a=pr,s=Array.isArray(a),u=0,a=s?a:a[Symbol.iterator]();;){var l;if(s){if(u>=a.length)break;l=a[u++]}else{if(u=a.next(),u.done)break;l=u.value}var c=l,d=c[0],f=c[1],g=[{contentType:t,robustness:d}],p=F.bind(null,o,ur,t,f),h=U(ur,n,g,p);i.push(h)}Promise.all(i).then(function(){r(o)})})}function W(e,t){return new Promise(function(r){for(var n=e+"Capabilities",i=[],o=[],a=[{contentType:t}],s=hr,u=Array.isArray(s),l=0,s=u?s:s[Symbol.iterator]();;){var c;if(u){if(l>=s.length)break;c=s[l++]}else{if(l=s.next(),l.done)break;c=l.value}var d=c,f=d[0],g=d[1],p=lr+f,h=F.bind(null,o,lr,t,g),y=U(p,n,a,h);i.push(y)}Promise.all(i).then(function(){r(o)})})}function H(){return new Promise(function(e){var t=[];Te.isSafari()&&t.push({name:cr,contentType:"",securityLevel:sr}),e(t)})}function Y(){}var V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},q=r(68),K=n(q);r(488),r(489);var z=r(490),X=n(z),J=r(102),Z=n(J),$=r(649),ee=n($),te="function"==typeof Symbol&&"symbol"===V(Symbol.iterator)?function(e){return void 0===e?"undefined":V(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":V(e)},re=(function(){function e(e){this.value=e}function t(t){function r(e,t){return new Promise(function(r,i){var s={key:e,arg:t,resolve:r,reject:i,next:null};a?a=a.next=s:(o=a=s,n(e,t))})}function n(r,o){try{var a=t[r](o),s=a.value;s instanceof e?Promise.resolve(s.value).then(function(e){n("next",e)},function(e){n("throw",e)}):i(a.done?"return":"normal",a.value)}catch(e){i("throw",e)}}function i(e,t){switch(e){case"return":o.resolve({value:t,done:!0});break;case"throw":o.reject(t);break;default:o.resolve({value:t,done:!1})}o=o.next,o?n(o.key,o.arg):a=null}var o,a;this._invoke=r,"function"!=typeof t.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(t.prototype[Symbol.asyncIterator]=function(){return this}),t.prototype.next=function(e){return this._invoke("next",e)},t.prototype.throw=function(e){return this._invoke("throw",e)},t.prototype.return=function(e){return this._invoke("return",e)}}(),function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}),ne=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ie=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":V(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},oe=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":V(t))&&"function"!=typeof t?e:t},ae=function(){function e(t,r){re(this,e),this.certificate={},this.certificatesURL=t.certificatesURL,this.logger=r,this.certErrorHandler=t.certErrorHandler,this.certificatesURL||this.logger.addType().message(" FairPlay certificatesURL not configured!").warn()}return e.prototype.requestCertificate=function(){var e=this;this.logger.message("Request FairPlay server certificate from ").addType().log();var t=new XMLHttpRequest;t.responseType="arraybuffer",t.addEventListener("load",function(t){return e.onCertificateLoaded(t)},!1),t.addEventListener("error",function(){return e.onCertificateError()},!1),t.addEventListener("timeout",function(){return e.onCertificateTimeout()},!1),t.open("GET",this.certificatesURL,!0),t.timeout=2e3,t.send()},e.prototype.getCertificate=function(){return this.certificate},e.prototype.onCertificateTimeout=function(){this.certErrorHandler&&this.certErrorHandler("Timeout during retrieval of certificate from "+this.certificatesURL)},e.prototype.onCertificateLoaded=function(e){this.logger.message("Retrieved the server certificate from ").addType().log();var t=e.target;this.certificate.array=new Uint8Array(t.response)},e.prototype.onCertificateError=function(){this.certErrorHandler&&this.certErrorHandler("Failure during retrieval of certificate from "+this.certificatesURL),this.logger.message("Failed to retrieve the server certificate from ").addType().error()},e}(),se=function(){function e(t,r){re(this,e),this.logger=t,this.type=r,this.string=""}return e.prototype.addType=function(){return this.string+=this.type,this},e.prototype.log=function(){return this.logger(this.string),this},e.prototype.warn=function(){return this.logger.warn(this.string),this},e.prototype.error=function(){return this.logger.error(this.string),this},e.prototype.debug=function(){return this.logger.debug(this.string),this},e.prototype.message=function(e){return this.string+=e,this},e.prototype.throw=function(){throw new Error(this.string)},e}(),ue=function(){function e(t,r){re(this,e),this.logger=t,this.type=r}return e.prototype.addType=function(){return new se(this.logger,this.type).addType()},e.prototype.message=function(e){return new se(this.logger,this.type).message(e)},e}(),le=2,ce={base64DecodeUint8Array:i,arrayToString:o,arrayBufferToString:a,stringToArray:s,toBase64:u},de=4,fe=function(){function e(t){re(this,e),this.video=t.event.target,this.initData=t.event.initData,this.logger=t.logger,this.certificate=t.certificate,this.drmOptions=t.drmOptions,this.licenceRequester=t.licenceRequester,this.keySystem="com.apple.fps.1_0",this.firstKey=!1}return e.prototype.buildKeySession=function(){this._setWebkitKeys();var e=this._createFairPlayInitData(this.initData,this.certificate),t=this._createKeySession(e);return this._addEventListeners(t),t},e.prototype._setWebkitKeys=function(){if(this.video.webkitKeys||this.video.webkitSetMediaKeys(new WebKitMediaKeys(this.keySystem)),this.logger.message("Key system selected").log(),!this.video.webkitKeys)throw new Error("Could not create MediaKeys.");this.logger.message("Media keys created").log()},e.prototype._createFairPlayInitData=function(e,t){var r=this._extractAssetId(e);return l(e,ce.stringToArray(r),t)},e.prototype._createKeySession=function(e){var t=this.video.webkitKeys.createSession("video/mp4",e);if(!t)throw new Error("Could not create key session.");return this.logger.message("Key session created").log(),t},e.prototype._extractAssetId=function(e){var t=ce.arrayToString(e);this.logger.message("initData: "+t).debug();var r=window.atob(t.split("skd://")[1].split("?")[0]);return this.logger.message("Base64decoded: "+r),r},e.prototype._addEventListeners=function(e){var t=this;e.addEventListener("webkitkeymessage",function(e){t.firstKey=!0,t.licenceRequester.request(e.message).then(function(t){e.target.update(t)}).catch(function(e){var t="Failed to retrieve licence.  Error: "+e;throw new Error(t)})},!1),e.addEventListener("webkitkeyadded",function(){return t._onKeyAdded()},!1),e.addEventListener("webkitkeyerror",function(e){return t._onKeyError(e)},!1)},e.prototype._onKeyAdded=function(){this.logger.message("Decryption key was added to session.").log()},e.prototype._onKeyError=function(e){var t="A decryption key error was encountered";if(e.target&&e.target.error&&(t=t+" - Event error code: "+e.target.error.code+" - Event error message: "+e.target.error.message),this.drmOptions.keyErrorHandler&&this.drmOptions.keyErrorHandler[e.target.error.code]&&this.drmOptions.keyErrorHandler[e.target.error.code](),this.firstKey)throw new Error(t);this.firstKey=!0},e}(),ge=function(){function e(){re(this,e)}return e.prototype.setRequestHeaders=function(e,t,r){var n="upfronttoken"===r?"PreAuthorization":"Conax-Custom-Data";e.setRequestHeader(n,t)},e}(),pe=function(){function e(){re(this,e)}return e.prototype.setRequestHeaders=function(e,t){e.setRequestHeader("Accept","application/json"),e.setRequestHeader("nv-authorizations",t)},e}(),he=function e(t){throw re(this,e),new Error("Invalid security type: "+t+" defined")},ye={"nagra-conax-upfront-fps":ge,"nagra-conax-fps":ge,"nagra-ssp-fps":pe},me={getDrmImplementation:c},ve=function(){function e(t){re(this,e),this.drmOptions=t.drmOptions,this.logger=t.logger,this.drmOptions.licenceServer||this.logger.addType().message(" FairPlay licenceServer not configured!").warn(),this.token=t.token,this.sessionToken=t.sessionToken,this.drmImplementer=me.getDrmImplementation(this.drmOptions.system)}return e.prototype.request=function(e){var t=this;return this.logger.message("Function: FairPlayLicenceRequester.request()").log(),new Promise(function(r,n){var i=new XMLHttpRequest;i.responseType="text";var o=t;i.addEventListener("load",function(e){o.logger.message("licence request loaded").log();var t=e.target;if(200===t.status){o.logger.message("Response: "+t.responseText).debug();var i=JSON.parse(t.responseText);o.logger.message("CkcMessage: "+i.CkcMessage).debug();var a=ce.base64DecodeUint8Array(i.CkcMessage);o.logger.message("licence request loaded - updating key").log(),r(a)}else{var s="licence request failed: "+t.status+": "+t.responseText;o.logger.message(s).warn(),o.logger.message("licence response headers: "+t.getAllResponseHeaders()).log(),n(s)}},!1),i.addEventListener("error",function(e){var t="The licence request failed";e.target&&e.target.error&&(t=t+" - Event error code: "+e.target.error.code+" - Event error message: "+e.target.error.message),n(t)},!1),i.open("POST",t.drmOptions.licenceServer,!0),i.setRequestHeader("Content-type","application/octet-stream");var a=t.token;void 0!==t.sessionToken&&t.sessionToken.string&&(a.string=t.token.string+","+t.sessionToken.string),t.drmImplementer.setRequestHeaders(i,a.string,t.drmOptions.mode),t.logger.message("Sending licence request to: "+t.drmOptions.licenceServer).log(),i.send(e)})},e}(),be=function(){function e(t){re(this,e),this.logger=t.logger,this.certificate=t.certificate,this.token=t.token,this.sessionToken=t.sessionToken,this.drmOptions=t.drmOptions}return e.prototype.addListeners=function(e){var t=this;this.supportKeySystem()&&(e.addEventListener("webkitneedkey",function(e){return t.onNeedKey(e)},!1),e.addEventListener("error",function(e){return t.onError(e)},!1))},e.prototype.setSessionToken=function(e){this.sessionToken.string=e},e.prototype.supportKeySystem=function(){var e=window.WebKitMediaKeys&&window.WebKitMediaKeys.isTypeSupported("com.apple.fps.1_0","video/mp4");return e||this.logger.addType().message(" FairPlay Key System not supported by browser.").log(),e},e.prototype.onError=function(e){var t="A video playback error occurred";throw e.target&&e.target.error&&(t=t+" - Event error code: "+e.target.error.code+" - Event error message: "+e.target.error.message),new Error(t)},e.prototype.onNeedKey=function(e){this.logger.message("Function: onneedkey for ").addType().log();var t={drmOptions:this.drmOptions,token:this.token,sessionToken:this.sessionToken,logger:this.logger},r=new ve(t),n={event:e,drmOptions:this.drmOptions,certificate:this.certificate.array,token:this.token,sessionToken:this.sessionToken,logger:this.logger,licenceRequester:r};new fe(n).buildKeySession()},e}(),Ae=function(){function e(t,r,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:OTV.conax;re(this,e),r.system=t,this.logger=new ue(n,t),this.token={},this.certificateRequester=new ae(r,this.logger),this.conaxApi=i,this.drmOptions=r,this._setupFairPlay()}return e.prototype.addFairPlayKeyHandler=function(e){var t={drmOptions:this.drmOptions,certificate:this.certificateRequester.getCertificate(),logger:this.logger,token:this.token};new be(t).addListeners(e)},e.prototype._setupFairPlay=function(){this._initFairPlay(),this.certificateRequester.requestCertificate()},e.prototype._getFpToken=function(){var e=this.conaxApi.getOperator(),t=this.conaxApi.getOttAccount(),r={};"upfronttoken"===this.drmOptions.mode?this.token.string=this.drmOptions.token:(r=this.conaxApi.getToken(this.drmOptions.portalURL+"/authtoken/"+e,t,this.cxDeviceID))&&(this.token.string='{"Version":"1.0.0","CxAuthenticationDataToken":"'+r+'","CxClientInfo":{"DeviceType":"Browser","DrmClientType":"FairPlay-HTML5","DrmClientVersion":"1.0.0","CxDeviceId":"'+this.cxDeviceID+'"}}')},e.prototype._addFpDevice=function(){var e=this.conaxApi.getOperator(),t=this.conaxApi.getOttAccount();this.conaxApi.addDevice(this.drmOptions.portalURL+"/ottAccount/device/"+e,t,this.cxDeviceID,"BrowserFP","FP Browser")},e.prototype._getFpId=function(){this.cxDeviceID=this.conaxApi.getOrCreateCxDeviceId("FairPlay")},e.prototype._resetFpId=function(){this.conaxApi.resetCxDeviceId("FairPlay"),this._getFpId()},e.prototype._initFairPlay=function(){this._getFpId(),this._addFpDevice(),this._getFpToken()},e.prototype.setSourceToken=function(e){this.token.string=e},e}(),_e=function(){function e(){re(this,e)}return e.prototype.ready=function(){},e.prototype.beforeInitialize=function(){},e.prototype.updateSourceData=function(e){return Promise.resolve(e)},e.prototype.srcDetails=function(){},e.prototype.tearDown=function(){return Promise.resolve()},e.prototype.onManifestLoaded=function(e){},e.prototype.renewLicence=function(){},e}(),Ee=function(e){function t(r,n){re(this,t);var i=oe(this,e.call(this));return i.conaxFairPlay=new Ae(r.system,r.config,n),i}return ie(t,e),t.prototype.ready=function(e){this.conaxFairPlay.addFairPlayKeyHandler(e)},t}(_e),Te={isSafari:d,isChrome:f,isSmartTV:g},Se={buildUrlWith:p,drmSpecificSeparatorFor:h,requestSpecificSuffixFor:y,generateTokenKeySystemOptions:m,generateCallbackKeySystemOptions:v},Ie=A;Ie.warn=A;var we=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{config:{}},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ie;re(this,e),this.certificateApplied=!1,this.certificateAcquired=!1,this.dashPlayer=null,this.certificate=null,this.drmDetails=t,this.log=r,this.updateDetailsWithCertificate(t)}return e.prototype.updateDetailsWithCertificate=function(e){var t=this;if(e.config.widevineServerCertificate)this.certificateApplied=!0;else{this.log("VMP certificate unknown, so looking for it");var r=this;this.certUrl=b(e.config.licenceServer,e.config.tenantId),this.xhr=new XMLHttpRequest,this.xhr.open("GET",this.certUrl,!0),this.xhr.responseType="arraybuffer",this.xhr.onload=this._onCertLoad.bind(this),this.xhr.onerror=function(){r.log.warn("Failed to acquire VMP certificate from "+t.certUrl)},this.xhr.send()}},e.prototype.onPlayerCreation=function(e){if(this.dashPlayer=e,this.certificateAcquired&&(this.certificateApplied=!0),this.certificateApplied)return void this.log("VMP vertificate was applied before player created");this.log("Player creation before VMP certificate acquired.  Listening for keySystemSelected"),this.keySystemSelectedHandle=this._keySystemSelected.bind(this),e.on("public_keySystemSelected",this.keySystemSelectedHandle)},e.prototype._onCertLoad=function(){if(this.log("_onCertLoad"),200===this.xhr.status){this.log("HTTP_OK");var e=btoa(ce.arrayBufferToString(this.xhr.response));this.log("Acquired VMP certificate: "+e),this.drmDetails.config.widevineServerCertificate=e,this.certificateAcquired=!0,this.dashPlayer?(this.log("Storing VMP certificate for use when keySystemSelected"),this.certificate=this.xhr.response):(this.log("Applied the VMP certificate before player creation"),this.certificateApplied=!0)}else this.log.warn("Error acquiring VMP certificate from "+this.certUrl+".  Status: "+this.xhr.status)},e.prototype._keySystemSelected=function(e){!e.error&&"com.widevine.alpha"===e.data.keySystem.systemString&&this.certificateAcquired&&(this.log("Widevine detected, applying VMP certificate"),this.dashPlayer.getProtectionController().setServerCertificate(this.certificate),this.certificateApplied=!0,this.dashPlayer.off("public_keySystemSelected",this.keySystemSelectedHandle))},e}(),Ce=function(){function e(t){re(this,e),this.initDataEqualsFnArray=[],this.drmPreference=t}return e.prototype.addInitDataEqualsFn=function(e){this.initDataEqualsFnArray.push(e)},e.prototype.apply=function(e,t){var r=this.initDataEqualsFnArray,n=this.drmPreference,i=function(){function e(e){var t=s();if(t[0].systemString!==e){for(var r=-1,n=1;n<t.length;n++)if(t[n].systemString===e){r=n;break}if(-1!==r){for(var i=t[r],o=r;o>0;o--)t[o]=t[o-1];t[0]=i}}}function i(){a(),n&&e(n.getPreference())}var o=this,a=o.parent.initialize,s=o.parent.getKeySystems,u=o.parent.initDataEquals,l=function(e,t){for(var n=r,i=Array.isArray(n),o=0,n=i?n:n[Symbol.iterator]();;){var a;if(i){if(o>=n.length)break;a=n[o++]}else{if(o=n.next(),o.done)break;a=o.value}var s=a,l=s(e,t),c=l[0],d=l[1];if(c)return d}return u(e,t)},c={initialize:i,initDataEquals:l};return t&&(c.getLicenseServer=t),c};e.extend("ProtectionKeyController",i,!0)},e}(),De=[!0,!0],Me=[!0,!1],Oe=[!1,!1],Be=function(){function e(){re(this,e),this.count=0,this.mediaPlayer=null,this.sessionHandler=this._onKeySessionCreated.bind(this)}return e.prototype.setMediaPlayer=function(e){this.mediaPlayer=e,this.count&&this._listenForKeySession()},e.prototype.signal=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;0===this.count&&e>0&&this.mediaPlayer&&this._listenForKeySession(),this.count+=e},e.prototype.check=function(){return this.count>0},e.prototype._listenForKeySession=function(){this.mediaPlayer.on("public_keySessionCreated",this.sessionHandler)},e.prototype._stopListening=function(){this.mediaPlayer.off("public_keySessionCreated",this.sessionHandler)},e.prototype._onKeySessionCreated=function(){this.count&&0===--this.count&&this._stopListening()},e}(),Re=function(){function e(t){re(this,e),this.log=t,this.mediaInfoMap=new Map,this.playReadyContentProtection={}}return e.prototype.onPlayerCreation=function(e){var t=this,r=function(){function e(e){return t.mediaInfoMap.set(e.type,e),r(e)}var r=this.parent.initializeForMedia;return{initializeForMedia:e}};e.extend("ProtectionController",r,!0)},e.prototype.proactiveRenewal=function(e){var t=this.mediaInfoMap.get("video");if(void 0!==t){var r=e.getProtectionController();void 0!==r&&r.initializeForMedia(t)}},e}(),Pe={PlayReadyProActive:Re},ke=function(){},Le=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ke;re(this,e),this.player=t,this.log=r,this.count=0,this.sessionKeyMap=new Map,t.on("public_keyStatusesChanged",this._onPublicKeyStatusChanged.bind(this)),this.keySystemSelectedHandle=this._keySystemSelected.bind(this),t.on("public_keySystemSelected",this.keySystemSelectedHandle)}return e.prototype.sessionContainsKey=function(e){var t=!1;if("com.widevine.alpha"===this.selectedKeySystem){var r=this._parseKeyIdFromInitData(e);t=this._sessionContainsKid(r)}return t},e.prototype._keySystemSelected=function(e){e.error?this.log("KeySystem: KO "+e.error):(this.selectedKeySystem=e.data.keySystem.systemString,e.data.ksConfiguration.persistentState="required",this.player.off("public_keySystemSelected",this.keySystemSelectedHandle),this.log("KeySystem: OK "+this.selectedKeySystem))},e.prototype._onPublicKeyStatusChanged=function(e){this.log("Temporal: key statuses changed"),e.data&&(this._addSessionToken(e.data),this._removeOldSessions())},e.prototype._addSessionToken=function(e){var t={token:e,count:this.count++,kids:[]};this.log("MediaKeySession: "+e.session.sessionId);for(var r=e.getKeyStatuses(),n=r,i=Array.isArray(n),o=0,n=i?n:n[Symbol.iterator]();;){var a;if(i){if(o>=n.length)break;a=n[o++]}else{if(o=n.next(),o.done)break;a=o.value}var s=a,u=void 0,l=void 0,c=s[0],d=s[1];if(c instanceof ArrayBuffer?(u=c,l=d):(u=d,l=c),"usable"===l){var f=btoa(String.fromCharCode.apply(null,new Uint8Array(u)));this.log("Adding key: "+f),t.kids.push(f)}}this.sessionKeyMap.set(e.session.sessionId,t)},e.prototype._removeOldSessions=function(){if(this.sessionKeyMap.size>2){var e=Array.from(this.sessionKeyMap.values()).reduce(function(e,t){return e.count>t.count?t:e});this.log("Closing session: "+e.token.session.sessionId),this._closeSession(e.token),this.sessionKeyMap.delete(e.token.session.sessionId)}},e.prototype._sessionContainsKid=function(e){var t=this;e:for(var r=this.sessionKeyMap.values(),n=Array.isArray(r),i=0,r=n?r:r[Symbol.iterator]();;){var o,a=function(){if(n){if(i>=r.length)return"break";o=r[i++]}else{if(i=r.next(),i.done)return"break";o=i.value}var a=o;if(e.every(function(e){return a.kids.includes(e)}))return a.count=t.count++,{v:!0}}();switch(a){case"break":break e;default:if("object"===(void 0===a?"undefined":te(a)))return a.v}}return!1},e.prototype._getPSSHData=function(e){var t=8,r=new DataView(e),n=r.getUint8(t);return t+=20,n>0&&(t+=4+16*r.getUint32(t)),t+=4,e.slice(t)},e.prototype._parseKeyIdFromInitData=function(e){var t=this._getPSSHData(e);return proto.WidevinePsshData.deserializeBinary(t).getKeyIdsList_asB64()},e.prototype._closeSession=function(e){this.player.getProtectionController().closeKeySession(e)},e}(),Ne={onPlayerCreation:function(){}},xe=function(e){function t(r,n,i){re(this,t);var o=oe(this,e.call(this));o.log=n,Te.isSmartTV()?o.vmp=Ne:o.vmp=new we(r,n),o.drmDetails=r,o.playReadyProActive=new Pe.PlayReadyProActive(o.log),o.licenceRepeat=new Be,o.otvProtectionKeyController=new Ce(i.otvtoolkit().drmPreference);var a=function(){return o.licenceRepeat.check()?Me:Oe};return o.otvProtectionKeyController.addInitDataEqualsFn(a),o.vjsPlayer=i,o}return ie(t,e),t.prototype.beforeInitialize=function(e){var t=this;if(this.dashjsPlayer=e,e){this.licenceRepeat.setMediaPlayer(e),this.temporalPredelivery=new Le(e,this.log);var r=function(e){return t.temporalPredelivery.sessionContainsKey(e)?De:Oe};this.otvProtectionKeyController.addInitDataEqualsFn(r),this.otvProtectionKeyController.apply(e),this.tokenCallback&&(_("PlayReady",e,this.tokenCallback),_("Widevine",e,this.tokenCallback)),this.vmp.onPlayerCreation(e)}},t.prototype._proactiveRenewal=function(){this.licenceRepeat.signal(1),this.playReadyProActive.proactiveRenewal(this.dashjsPlayer)},t.prototype.updateSourceData=function(e){return this.tokenCallback=void 0,e.signonToken?e.keySystemOptions=Se.generateCallbackKeySystemOptions(e.signonToken,this.drmDetails):e.token&&("function"==typeof e.token?(this.tokenCallback=e.token,e.keySystemOptions=Se.generateTokenKeySystemOptions(null,this.drmDetails)):e.keySystemOptions=Se.generateTokenKeySystemOptions(e.token,this.drmDetails)),Promise.resolve(e)},t}(_e),je=function(){function e(t,r,n){re(this,e),r.system=t,this.logger=new ue(n,t),this.token={},this.sessionToken={},this.keyHandler=null,r.certificatesURL=Se.buildUrlWith(r.licenceServer,r.tenantId,"FairPlay","Cert"),r.licenceServer=Se.buildUrlWith(r.licenceServer,r.tenantId,"FairPlay","License"),this.certificateRequester=new ae(r,this.logger),this.drmOptions=r,this._setupFairPlay()}return e.prototype.addFairPlayKeyHandler=function(e){var t={drmOptions:this.drmOptions,certificate:this.certificateRequester.getCertificate(),token:this.token,sessionToken:this.sessionToken,logger:this.logger};this.keyHandler=new be(t),this.keyHandler.addListeners(e)},e.prototype.setSourceToken=function(e){this.token.string=e},e.prototype.setSessionToken=function(e){this.sessionToken.string=e,this.keyHandler.setSessionToken(e)},e.prototype._setupFairPlay=function(){this.certificate=this.certificateRequester.requestCertificate()},e}(),Ue={SSPFairPlaySystem:je},Fe=function(e){function t(r,n){re(this,t);var i=oe(this,e.call(this));return i.sspFairPlay=new Ue.SSPFairPlaySystem(r.system,r.config,n),i}return ie(t,e),t.prototype.ready=function(e){this.sspFairPlay.addFairPlayKeyHandler(e)},t.prototype.srcDetails=function(e){e&&e.token&&this.sspFairPlay.setSourceToken(e.token)},t}(_e),Qe=function(e){function t(r){re(this,t);var n=oe(this,e.call(this));n.conaxApi=OTV.conax,n.drmDetails=r,n.drmDetails.config.system=r.system,n.cxDeviceId=n.conaxApi.getOrCreateCxDeviceId("HTML5.Widevine");var i=n.conaxApi.getOperator(),o=n.conaxApi.getOttAccount();return n.conaxApi.addDevice(r.config.portalURL+"/ottAccount/device/"+i,o,n.cxDeviceId,"HTML5.Widevine","HTML5.Widevine"),n.cxAuthToken=n.conaxApi.getToken(r.config.portalURL+"/authtoken/"+i,o,n.cxDeviceId),n}return ie(t,e),t.prototype.updateSourceData=function(e){return e.keySystemOptions=E(this.drmDetails,this.cxAuthToken,this.cxDeviceId),Promise.resolve(e)},t}(_e),Ge=function(e){function t(r){re(this,t);var n=oe(this,e.call(this));return n.drmDetails=r,n.drmDetails.config.system=r.system,n}return ie(t,e),t.prototype.updateSourceData=function(e){return e.keySystemOptions=T(this.drmDetails,e.token),Promise.resolve(e)},t}(_e),We=function(e){function t(r,n){re(this,t);var i=oe(this,e.call(this));return i.drmDetails=r,i.drmDetails.config.system=r.system,Te.isSafari()&&(i.conaxFairPlay=new Ae(r.system,r.config,n)),i}return ie(t,e),t.prototype.ready=function(e){this.conaxFairPlay.addFairPlayKeyHandler(e)},t.prototype.srcDetails=function(e){e&&e.token&&this.conaxFairPlay.setSourceToken(e.token)},t}(_e),He=function(e){function t(r){re(this,t);var n=oe(this,e.call(this));return n.drmDetails=r,n}return ie(t,e),t.prototype.beforeInitialize=function(e){e.extend("KeySystemWidevine",OTV.player.dashjs.keySystemWidevine,!0)},t}(_e),Ye=function(){function e(t){re(this,e),this.serverResponse=t,this.customData={},this.proactive=!1,this.licence="",this._parse()}return e.prototype._parse=function(){var e=ce.arrayBufferToString(this.serverResponse),t=new window.DOMParser,r=t.parseFromString(e,"text/xml");this.licence=r.getElementsByTagName("License")[0].childNodes[0].nodeValue,this.customDataXML=r.getElementsByTagName("CustomData")[0],void 0!==this.customDataXML&&(this.proactive=!0,this.customData=JSON.parse(this.customDataXML.childNodes[0].nodeValue))},e}(),Ve={PlayReadyServerResponseParser:Ye},qe=function(){},Ke=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:qe;re(this,e),this.ssmEndpointUrl=t,this.log=r}return e.prototype.doSetup=function(e){var t=this;return this.log("doSetup - authToken: "+e),new Promise(function(r,n){t._requestSessionToken(t.ssmEndpointUrl+"/setup",e).then(function(e){var i=e.heartbeat,o=e.sessionToken;t.log("doSetup - received session token from ssm mgr:"),t.log("   heartbeat "+i),t.log("   sessionToken "+o),(!i||i<=0)&&n("doSetup - Invalid heartbeat period"),r({sessionToken:o,heartbeatPeriod:i})}).catch(function(e){n(e)})})},e.prototype.tearDown=function(e){var t=this;return new Promise(function(r,n){t.log("tearDown - performing teardown for session token: "+e+" via "+t.ssmEndpointUrl+"/teardown"),t._ssmApiCall(t.ssmEndpointUrl+"/teardown",e,!0).then(function(){t.log("tearDown - teared down session for sessionToken "+e),r()}).catch(function(r){t.log("tearDown - tear down has failed session for sessionToken "+e),n(r)})})},e.prototype.heartbeat=function(e){var t=this,r=new Date;return this.log("Making heartbeat - "+r.toISOString()+" current session token = "+e),new Promise(function(r,n){t._requestSessionToken(t.ssmEndpointUrl+"/heartbeat",e).then(function(n){var i=n.sessionToken;t.log("Heartbeat - Refreshed sessionToken "+e+", is now "+i),r(i)}).catch(function(e){t.log("Heartbeat - error while making heartbeat call, reason="+e),n(e)})})},e.prototype._ssmApiCall=function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i={method:"POST",mode:"cors",redirect:"follow",headers:{"nv-authorizations":t,"content-type":"application/json; charset=utf-8"},body:"{}"};return n&&!Te.isChrome()&&(i.keepalive=!0),new Promise(function(t,n){fetch(e,i).then(function(e){e.ok?t(e.json()):(r.log(JSON.stringify(e)),e.text().then(function(e){n(Error(e))}))}).catch(function(t){r.log("Error making request to "+e),n(t)})})},e.prototype._requestSessionToken=function(e,t){var r=this;return this.log("_requestSessionToken - trying to get sessionToken from "+e),new Promise(function(n,i){r._ssmApiCall(e,t).then(function(t){r.log("_requestSessionToken - got response from "+e),n(t)}).catch(function(e){r.log("_requestSessionToken - error API call, reason="+e),i(e)})})},e}(),ze={SsmInterface:Ke},Xe=1e3,Je=30,Ze=2,$e=function(){},et=function(){function e(){re(this,e)}return e.prototype.cancel=function(){},e}(),tt=function(e){function t(r,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:$e;re(this,t);var o=oe(this,e.call(this));o.callback=n,o.log=i;var a=new Date;return o.log("PlayReadyHeartbeatSsmTimer - "+a.toISOString()+" Scheduling every "+r+" seconds"),o.interval=setInterval(o._intervalTask.bind(o),r*Xe),o}return ie(t,e),t.prototype.cancel=function(){this.interval&&(clearInterval(this.interval),this.interval=void 0),this.log=void 0,this.callback=void 0},t.prototype._intervalTask=function(){var e=new Date;this.log("PlayReadyHeartbeatSsmTimer - "+e.toISOString()+" Interval fired"),this.callback()},t}(et),rt=(function(e){function t(r,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:$e;re(this,t);var o=oe(this,e.call(this));o.period=r,o.callback=n,o.log=i,o.interval=void 0;var a=Math.max(r/Ze,r-Je),s=new Date;return o.log("PlayReadyEnforcedSsmTimer - "+s.toISOString()+" starting interval task: "+a+" sec from now"),o.timeout=setTimeout(o._firstTimeoutTask.bind(o),a*Xe),o}ie(t,e),t.prototype.cancel=function(){this.timeout?(clearTimeout(this.timeout),this.timeout=void 0):this.interval&&(clearInterval(this.interval),this.interval=void 0),this.log=void 0,this.callback=void 0},t.prototype._firstTimeoutTask=function(){this.timeout=void 0;var e=new Date;this.log("PlayReadyEnforcedSsmTimer - "+e.toISOString()+" Timeout fired.  Scheduling every "+this.period+" seconds."),this.interval=setInterval(this._intervalTask.bind(this),this.period*Xe),this.callback()},t.prototype._intervalTask=function(){var e=new Date;this.log("PlayReadyEnforcedSsmTimer - "+e.toISOString()+" Interval fired"),this.callback()}}(et),function(){}),nt={onPlayerCreation:rt},it=function(e){function t(r,n,i){re(this,t);var o=oe(this,e.call(this));return o.log=n,o.vjsPlayer=i,Te.isSmartTV()?o.vmp=nt:o.vmp=new we(r,n),o.drmDetails=r,o.playReadyProActive=new Pe.PlayReadyProActive(o.log),o.ssm=new ze.SsmInterface(r.config.ssmServer+"/v1/sessions",n),o.isPlaying=!1,o.otvProtectionKeyController=new Ce(i.otvtoolkit().drmPreference),o.licenceRepeat=new Be,o.dummyTimer=new et,o.playreadyTimer=o.dummyTimer,o}return ie(t,e),t.prototype.updateSourceData=function(e){var t=this;return new Promise(function(r,n){t.tearDown().then(function(){if(e.token){t.token=e.token;var i=S(e.token,!0);t.ssm.doSetup(i).then(function(n){t.sessionToken=n.sessionToken,t.period=n.heartbeatPeriod,t._setKeySystemOptions(e),r(e)}).catch(function(e){t.log("SSM session open failed: "+e),t._error("ssmsetuperror",e),n(e)})}else r(e)}).catch(function(e){t._tearDownError(e)})})},t.prototype.tearDown=function(){var e=this;return this.playreadyTimer.cancel(),new Promise(function(t,r){e.playreadyTimer=e.dummyTimer,e.token=void 0,e.isPlaying=!1,e.sessionToken?(e.ssm.tearDown(e.sessionToken).then(function(){return t()}).catch(function(t){e._tearDownError(t),r(t)}),e.sessionToken=null):t()})},t.prototype.beforeInitialize=function(e){this.dashjsPlayer=e,this.token&&(this.licenceRepeat.setMediaPlayer(e),this._extendProtectionKeyController(e),e.extend("KeySystemWidevine",this._ssmKeySystemWidevine.bind(this),!0),e.extend("KeySystemPlayReady",this._ssmKeySystemPlayReady.bind(this),!0),this.keySystemSelectedHandle=this._keySystemSelected.bind(this),e.on("public_keySystemSelected",this.keySystemSelectedHandle),this.monitorPlayingHandle=this._monitorPlaying.bind(this),e.on("playbackPlaying",this.monitorPlayingHandle),this.monitorErrorsHandle=this._monitorErrors.bind(this),e.on("error",this.monitorErrorsHandle),this.vmp.onPlayerCreation(e),this.playReadyProActive.onPlayerCreation(e))},t.prototype._setKeySystemOptions=function(e){e.signonToken?e.keySystemOptions=Se.generateCallbackKeySystemOptions(e.signonToken,this.drmDetails):e.token&&(e.keySystemOptions=Se.generateTokenKeySystemOptions(e.token,this.drmDetails))},t.prototype._monitorPlaying=function(){this.log("_monitorPlaying"),this.isPlaying=!0,this.dashjsPlayer.off("playbackPlaying",this.monitorPlayingHandle)},t.prototype._monitorErrors=function(e){this.isPlaying&&"key_session"===e.error&&this._error("ssmrenewalerror",Error(e.event))},t.prototype.renewLicence=function(){this.licenceRepeat.signal(1),this.playReadyProActive.proactiveRenewal(this.dashjsPlayer)},t.prototype._heartbeat=function(){var e=this;this.ssm.heartbeat(this.sessionToken).then(function(t){return e.sessionToken=t}).catch(function(t){return e._heartbeatError(t)})},t.prototype._setPlayReadyTimerMode=function(e){if(this.playreadyTimer===this.dummyTimer){var t=e?this.renewLicence.bind(this):this._heartbeat.bind(this);this.playreadyTimer=new tt(this.period,t,this.log)}},t.prototype._extendProtectionKeyController=function(e){var t=this,r=this,n=function(){function e(e,t,n){if("com.widevine.alpha"===r.selectedKeySystem){if("license-renewal"===n){var i=r.drmDetails.config.ssmServer;return r.renewUrl=i+"/v1/renewal-license-wv",r.renewUrl}return r.drmDetails.config.licenceServer+"/"+r.drmDetails.config.tenantId+"/wvls/contentlicenseservice/v1/licenses"}var o=r.drmDetails.config.licenceServer+"/"+r.drmDetails.config.tenantId+"/prls/contentlicenseservice/v1/licenses";return r.isPlaying&&(o+="?renew=true"),o}function t(){return"POST"}function n(){return"arraybuffer"}function i(e){if("com.widevine.alpha"===r.selectedKeySystem){var t=JSON.parse(ce.arrayBufferToString(e));return t.sessionToken&&r._setSessionToken(t.sessionToken),ce.base64DecodeUint8Array(t.license)}var n=new Ve.PlayReadyServerResponseParser(e),i=Boolean(n.proactive);return i&&r._setSessionToken(n.customData.sessionToken),r._setPlayReadyTimerMode(i),e}function o(e){return e}return{getServerURLFromMessage:e,getHTTPMethod:t,getResponseType:n,getLicenseMessage:i,getErrorResponse:o}},i=function(){return t.licenceRepeat.check()?Me:Oe};this.otvProtectionKeyController.addInitDataEqualsFn(i),this.otvProtectionKeyController.apply(e,n)},t.prototype._getSessionToken=function(){return this.sessionToken},t.prototype._setSessionToken=function(e){this.sessionToken=e},t.prototype._ssmKeySystemWidevine=function(){function e(e){return JSON.stringify({challenge:ce.toBase64(e)})}function t(){var e=r._getBaseHeaders(),t=r._getSessionToken();r.isPlaying&&(e["nv-authorizations"]=t);var n=ne({},e);return n.Accept="application/json",n["Content-Type"]="application/json",n}var r=this;return{getLicenseRequestFromMessage:e,getRequestHeadersFromMessage:t}},t.prototype._ssmKeySystemPlayReady=function(){function e(){var e;e=t.isPlaying?{"nv-authorizations":t.sessionToken}:t._getBaseHeaders();var r=ne({},e);return r["Content-Type"]="text/xml",r}var t=this;return{getRequestHeadersFromMessage:e}},t.prototype._getBaseHeaders=function(){var e={},t=S(this.token,!1);return e["nv-authorizations"]=t,null!==this.sessionToken&&""!==this.sessionToken&&(e["nv-authorizations"]=t+","+this.sessionToken),e},t.prototype._keySystemSelected=function(e){e.error?this.log("KeySystem","KO",e.error):(this.selectedKeySystem=e.data.keySystem.systemString,e.data.ksConfiguration.persistentState="required",this.dashjsPlayer.off("public_keySystemSelected",this.keySystemSelectedHandle),this.log("KeySystem","OK","KeySystem:"+this.selectedKeySystem))},t.prototype._tearDownError=function(e){this._error("ssmteardownerror",e)},t.prototype._heartbeatError=function(e){this._error("ssmheartbeaterror",e)},t.prototype._error=function(e,t){this.vjsPlayer.trigger({type:e,reason:t})},t}(_e),ot=function(){function e(t,r,n,i,o){re(this,e),this.proactive=!1,this.ssmEndpointUrl=t,this.log=r,this.sessions=new Map,this.teardownCallback=n||this._nullCallback,this.heartbeatCallback=i||this._nullCallback,this.proactiveRenewalCallback=o||this._nullCallback}return e.prototype.doSetup=function(e){var t=this;return this.log("doSetup - authToken: "+e),new Promise(function(r,n){t.tearDownAll().then(function(){t._requestSessionToken(t.ssmEndpointUrl+"/setup",e).then(function(i){var o=i.heartbeat,a=i.sessionToken;t.log("doSetup - received session token from ssm mgr:"),t.log("   heartbeat "+o),t.log("   sessionToken "+a),(!o||o<=0)&&n("doSetup - Invalid heartbeat period"),t.sessions.set(e,{sessionToken:a,heartbeatPeriod:o}),r(a)}).catch(function(e){n(e)})})})},e.prototype.startHeartbeat=function(e){this.log("startHeartbeat - authToken: "+e);var t=this.sessions.get(e);t?this.proactive?this._initFirstProactiveHeartbeat(t.heartbeatPeriod,e,t.sessionToken):this._initHeartbeat(t.heartbeatPeriod,e,t.sessionToken):this.log("Can't find the TokenConfig to start the heartbeat")},e.prototype.tearDown=function(e){var t=this;return new Promise(function(r,n){var i=t.sessions.get(e);i||r(),clearInterval(i.scheduledTask),i.scheduledTask=void 0,t.proactive&&i.proactiveHeartbeatTask&&(clearTimeout(i.proactiveHeartbeatTask),i.proactiveHeartbeatTask=void 0),t.log("tearDown - performing teardown for session token: "+i.sessionToken+" via "+t.ssmEndpointUrl+"/teardown"),t._ssmApiCall(t.ssmEndpointUrl+"/teardown",i.sessionToken,!0).then(function(){t.log("tearDown - teared down session for sessionToken "+i.sessionToken),t.sessions.delete(e),r()}).catch(function(e){t.log("tearDown - tear down has failed session for sessionToken "+i.sessionToken),n(e)})})},e.prototype._ssmApiCall=function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i={method:"POST",mode:"cors",redirect:"follow",headers:{"nv-authorizations":t,"content-type":"application/json; charset=utf-8"},body:"{}"};return n&&!Te.isChrome()&&(i.keepalive=!0),new Promise(function(t,n){fetch(e,i).then(function(e){e.ok?t(e.json()):(r.log(JSON.stringify(e)),e.text().then(function(e){n(Error(e))}))}).catch(function(t){r.log("Error making request to "+e),n(t)})})},e.prototype._requestSessionToken=function(e,t){var r=this;return this.log("_requestSessionToken - trying to get sessionToken from "+e),new Promise(function(n,i){r._ssmApiCall(e,t).then(function(t){r.log("_requestSessionToken - got response from "+e),n(t)}).catch(function(e){r.log("_requestSessionToken - error API call, reason="+e),i(e)})})},e.prototype._initFirstProactiveHeartbeat=function(e,t,r){var n=Math.max(e/2,e-30),i=new Date;this.log("_initFirstProactiveHeartbeat - "+i.toISOString()+" starting Proactive Heartbeat task: "+n+" sec from now");var o=setTimeout(this._proactiveTimeoutTask.bind(this,t,e,r),1e3*n);this.sessions.set(t,{sessionToken:r,proactiveHeartbeatTask:o,heartbeatPeriod:e})},e.prototype._initHeartbeat=function(e,t,r){var n=new Date;this.log("_initHeartbeat - "+n.toISOString()+" starting heartbeat task for AuthZ token "+t+" and session token = "+r);var i=setInterval(this._heartbeatTask.bind(this,t),1e3*e);this.sessions.set(t,{sessionToken:r,scheduledTask:i,heartbeatPeriod:e})},e.prototype._proactiveTimeoutTask=function(e,t,r){var n=new Date;this.log("periodic - "+n.toISOString()+" first proactive timeout for session "+e);var i=this.sessions.get(e);clearTimeout(i.proactiveHeartbeatTask),this.proactiveRenewalCallback();var o=setInterval(this._proactiveHeartbeatTask.bind(this,e),1e3*t);this.sessions.set(e,{sessionToken:r,scheduledTask:o,heartbeatPeriod:t,proactiveHeartbeatTask:void 0})},e.prototype._proactiveHeartbeatTask=function(e){var t=new Date;this.log("periodic - "+t.toISOString()+" proactive Heartbeat for session "+e),this.proactiveRenewalCallback()},e.prototype._heartbeatTask=function(e){var t=this,r=this.sessions.get(e),n=r.sessionToken,i=r.scheduledTask,o=r.heartbeatPeriod,a=new Date;return this.log("periodic - "+a.toISOString()+" Heartbeat for session with AuthZ token "+e+" current session token = "+n),new Promise(function(r,a){t._requestSessionToken(t.ssmEndpointUrl+"/heartbeat",n).then(function(n){var a=n.sessionToken;t.sessions.set(e,{sessionToken:a,scheduledTask:i,heartbeatPeriod:o}),t.log("periodic - Refreshed session for AuthZ token "+e+", got new session token = "+a),r()}).catch(function(e){t.log("periodic - error while making heartbeat call, reason="+e),t.heartbeatCallback(e),a()})})},e.prototype.updateSessionToken=function(e,t){var r=this.sessions.get(e);r&&(r.sessionToken=t,this.sessions.set(e,r))},e.prototype.tearDownAll=function(){var e=this;return new Promise(function(t){var r=e.sessions.size;e.log("tearDownAll - teardown for existing sessions, sessions size="+r),0===r&&t();for(var n=function(n){n&&e.teardownCallback(n),--r<=0&&t()},i=e.sessions.keys(),o=Array.isArray(i),a=0,i=o?i:i[Symbol.iterator]();;){var s;if(o){if(a>=i.length)break;s=i[a++]}else{if(a=i.next(),a.done)break;s=a.value}var u=s;e.tearDown(u).then(function(){n()}).catch(function(e){n(e)})}e.sessions.clear()})},e.prototype._nullCallback=function(){},e}(),at={SecureSessionManager:ot},st=function(e){function t(r,n,i){re(this,t);var o=oe(this,e.call(this));return o.log=n,o.vjsPlayer=i,o.drmDetails=r,o.sspFairPlay=new Ue.SSPFairPlaySystem(r.system,r.config,n),o.ssm=new at.SecureSessionManager(r.config.ssmServer+"/v1/sessions",n,o._tearDownError.bind(o),o._heartbeatError.bind(o)),o}return ie(t,e),t.prototype.beforeInitialize=function(){this.monitorPlayingHandle=this._monitorPlaying.bind(this),this.vjsPlayer.on("playing",this.monitorPlayingHandle),this.isPlaying=!1},t.prototype._monitorPlaying=function(){this.log("_monitorPlaying"),this.isPlaying=!0,this.ssm.startHeartbeat(this.token),this.vjsPlayer.off("playing",this.monitorPlayingHandle)},t.prototype.ready=function(e){this.sspFairPlay.addFairPlayKeyHandler(e)},t.prototype.srcDetails=function(e){e&&e.token&&this.sspFairPlay.setSourceToken(e.token)},t.prototype.updateSourceData=function(e){var t=this;return this.token=e.token,this.isPlaying=!1,this.sessionToken=null,new Promise(function(r,n){t.ssm.tearDownAll().then(function(){if(e.token){var i=e.token;t.ssm.doSetup(i).then(function(n){t.sspFairPlay.setSessionToken(n),t.sessionToken=n,r(e)}).catch(function(e){t.log("************** session open failed: "+e),t.vjsPlayer.trigger({type:"ssmsetuperror",reason:e}),n(e)})}else r(e)})})},t.prototype.tearDown=function(){var e=this;return new Promise(function(t,r){e.token=void 0,e.isPlaying=!1,e.sessionToken=null,e.ssm.tearDownAll().then(function(){return t()}).catch(function(){return r()})})},t.prototype._tearDownError=function(e){this.vjsPlayer.trigger({type:"ssmteardownerror",reason:e})},t.prototype._heartbeatError=function(e){this.vjsPlayer.trigger({type:"ssmheartbeaterror",reason:e})},t}(_e),ut=function(e){function t(r,n,i){re(this,t);var o=oe(this,e.call(this));return o.log=n,o.vjsPlayer=i,o.drmDetails=r,o.mediaInfoMap=new Map,o.otvProtectionKeyController=new Ce(i.otvtoolkit().drmPreference),o.licenceRepeat=new Be,o}return ie(t,e),t.prototype.beforeInitialize=function(e){this.dashjsPlayer=e,I(e,this.mediaInfoMap),this.licenceRepeat.setMediaPlayer(e),this._extendProtectionKeyController(e)},t.prototype.updateSourceData=function(e){var t=ne({},e);return e.keySystemOptions=[{name:"com.microsoft.playready",options:{sourceObject:t,requestLicenceCallback:this.drmDetails.config.requestLicenceCallback}},{name:"com.widevine.alpha",options:{sourceObject:t,requestLicenceCallback:this.drmDetails.config.requestLicenceCallback,serverCertificate:Te.isSmartTV()?void 0:this.drmDetails.config.widevineServerCertificate}}],Promise.resolve(e)},t.prototype.renewLicence=function(){this.licenceRepeat.signal(1);var e=this.mediaInfoMap.get("video");if(void 0!==e){var t=this.dashjsPlayer.getProtectionController();void 0!==t&&t.initializeForMedia(e)}},t.prototype._extendProtectionKeyController=function(e){var t=this,r=function(){return t.licenceRepeat.check()?Me:Oe};this.otvProtectionKeyController.addInitDataEqualsFn(r),this.otvProtectionKeyController.apply(e)},t}(_e),lt=108,ct="DRM: Empty key message from CDM",dt=114,ft="DRM: licenser error! --",gt=function(e){function t(r,n){re(this,t);var i=oe(this,e.call(this));return i.config=r.config,i.logger=new ue(n,r.system),i}return ie(t,e),t.prototype.ready=function(e){var t=this;this._supportKeySystem()&&(e.addEventListener("webkitneedkey",function(e){return t._onNeedKey(e)},!1),e.addEventListener("error",function(e){return t._onError(e)},!1))},t.prototype.srcDetails=function(e){this.src=e},t.prototype._supportKeySystem=function(){var e=window.WebKitMediaKeys&&window.WebKitMediaKeys.isTypeSupported("com.apple.fps.1_0","video/mp4");return e||this.logger.addType().message(" FairPlay Key System not supported by browser.").log(),e},t.prototype._onError=function(e){var t="A video playback error occurred";throw e.target&&e.target.error&&(t=t+" - Event error code: "+e.target.error.code+" - Event error message: "+e.target.error.message),new Error(t)},t.prototype._onNeedKey=function(e){this.logger.message("Function: onneedkey for ").addType().log();var t=new pt(this.config.requestLicenceCallback,this.src,"com.apple.fps.1_0"),r={event:e,certificate:this.config.fairplayServerCertificate,drmOptions:this.config,logger:this.logger,licenceRequester:t};this._makeWebKitSession(r).buildKeySession()},t.prototype._makeWebKitSession=function(e){return new fe(e)},t}(_e),pt=function(){function e(t,r,n){re(this,e),this.callback=t,this.source=r,this.keysystem=n}return e.prototype.request=function(e){return this.callback(this.keysystem,this.source,e,"license-request")},e}(),ht={};ht["nagra-conax"]=Qe,ht["nagra-conax-fps"]=Ee,ht["nagra-conax-upfront"]=Ge,ht["nagra-conax-upfront-fps"]=We,ht["nagra-ssp"]=xe,ht["nagra-ssp-fps"]=Fe,ht["microsoft-azure"]=He,ht.customer=ut,ht["customer-fps"]=gt;var yt={};yt["nagra-ssp"]=it,yt["nagra-ssp-fps"]=st;var mt={createDRMController:w},vt=60,bt=60,At=10,_t={liveFormatTime:M},Et="application/dash+xml",Tt="application/x-mpegURL",St={};St[".m3u8"]=Tt,St[".mpd"]=Et,St["manifest(format=m3u8-aapl)"]=Tt,St["manifest(format=mpd-time-csf)"]=Et;var It=["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"],wt=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X.default;re(this,e),this.XMLHttpRequester=t}return e.prototype.build=function(e){var t=this;return new Promise(function(r,n){var i=O(e);i?r({src:e,type:i}):t._getMimeTypeFromManifest(e,r,n)})},e.prototype._getMimeTypeFromManifest=function(e,t,r){var n=this;(new this.XMLHttpRequester).send({method:"HEAD",url:e}).then(function(i){if(200!==i.status)throw new Error("Invalid URL given");var o=R(i);o?t({src:e,type:o}):n._parseManifestForMimeType(e,t,r)}).catch(function(){n._parseManifestForMimeType(e,t,r)})},e.prototype._parseManifestForMimeType=function(e,t,r){(new this.XMLHttpRequester).send({method:"GET",url:e}).then(function(r){if(200!==r.status)throw new Error("Invalid URL given");var n=P(r.responseText);if(!n)throw new Error("Cannot play given manifest");t({src:e,type:n})}).catch(function(){r("XHR Error")})},e}(),Ct={SourceBuilder:wt},Dt=function(){function e(t,r){var n=this;re(this,e),this.player=t,this._addPiPButtonToControlBar(),this._addClosePiPButtonToPlayer(),this.isAutoPiPInitiationOnScrollEnabled=!0,this.pipShouldInitiateIfPlayerOutsideView=!1,this.pipInitiatedByButton=!1,this.pipInitatedPreFullscreen=!1,this.updatePiPStateOnScroll=!0,this.cachedSubtitleTrackIndices=[],this.videoWindowDiv=r;var i=document.createElement("div");i.className="opy-pip-placeholder",this.videoWindowDiv.insertBefore(i,t.el()),this._checkPiPState(),window.addEventListener("scroll",function(){n.updatePiPStateOnScroll&&n._checkPiPState()}),this.fullscreenChangeHandler=function(){n._onFullscreenChange()},this.player.on("fullscreenchange",this.fullscreenChangeHandler),this.player.controlBar.fullscreenToggle.on("click",function(){var e=!n.player.el().classList.contains("vjs-fullscreen");n.updatePiPStateOnScroll=!e})}return e.prototype.dispatchEvent=function(e){return this.player.otvtoolkit().dispatchEvent(e)},e.prototype.enableAutoPiPInitiationOnScroll=function(e){this.isAutoPiPInitiationOnScrollEnabled=e,e?this.pipShouldInitiateIfPlayerOutsideView=!1:(this._deactivatePiP(),this.pipInitiatedByButton=!1)},e.prototype._addClosePiPButtonToPlayer=function(){var e=this,t=K.default.getComponent("Button"),r=K.default.extend(t,{constructor:function(){t.call(this,this.player)}});r.prototype.buildCSSClass=function(){return"opy-close-pip-button "+t.prototype.buildCSSClass.call(this)},this.player.addChild(new r).on("click",function(){e.pipShouldInitiateIfPlayerOutsideView=!1,e._deactivatePiP(),e.pipInitiatedByButton=!1})},e.prototype._addPiPButtonToControlBar=function(){var e=this,t=K.default.getComponent("Button"),r=K.default.extend(t,{constructor:function(){t.call(this,this.player)}});r.prototype.buildCSSClass=function(){return"opy-pip-button "+t.prototype.buildCSSClass.call(this)},this.player.controlBar.addChild(new r).on("click",function(){e.pipInitiatedByButton=!0,e._activatePiP()})},e.prototype._checkPiPState=function(){if(!this.player.el().classList.contains("vjs-fullscreen")&&!this.pipInitiatedByButton&&this.isAutoPiPInitiationOnScrollEnabled){var e=this.videoWindowDiv.offsetHeight/2,t=Math.floor(this.videoWindowDiv.offsetTop+e);if(window.pageYOffset<t&&window.pageYOffset+window.innerHeight>t)this.pipShouldInitiateIfPlayerOutsideView=!0,this.player.el().classList.contains("opy-pip")&&this._deactivatePiP();else{!this.player.el().classList.contains("opy-pip")&&this.player.el().classList.contains("vjs-has-started")&&this.pipShouldInitiateIfPlayerOutsideView&&(this.pipInitiatedByButton=!1,this._activatePiP())}}},e.prototype._activatePiP=function(){this.videoWindowDiv.style.width=this.player.el().clientWidth+"px",this.videoWindowDiv.style.height=this.player.el().clientHeight+"px",this.player.el().classList.add("opy-pip"),this.cachedSubtitleTrackIndices=[];for(var e=this.player.textTracks(),t=0;t<e.length;t++){var r=e[t];"showing"===r.mode&&(this.cachedSubtitleTrackIndices.push(t),r.mode="hidden")}this.dispatchEvent("pipon")},e.prototype._deactivatePiP=function(){this.videoWindowDiv.style.width="auto",this.videoWindowDiv.style.height="auto",this.player.el().classList.remove("opy-pip");for(var e=this.player.textTracks(),t=0;t<this.cachedSubtitleTrackIndices.length;t++){var r=this.cachedSubtitleTrackIndices[t],n=e[r];n&&(n.mode="showing")}this.dispatchEvent("pipoff")},e.prototype._onFullscreenChange=function(){this.player.el().classList.contains("vjs-fullscreen")?this.player.el().classList.contains("opy-pip")&&(this._deactivatePiP(),this.pipInitatedPreFullscreen=!0):(this.updatePiPStateOnScroll=!0,this.pipInitatedPreFullscreen&&(this._activatePiP(),this.pipInitatedPreFullscreen=!1))},e}(),Mt={PiPManager:Dt},Ot=function(){function e(t,r){var n=this;re(this,e),this.player=t,this.uri=r,this.chapters=[],this.chaptersLoaded=!1,this.elementsAdded=!1,this.chapterTitleDiv=null,this.chaptersLoadedHandler=function(){n.onChaptersLoaded()},this.durationKnownHandler=function(){n.onDurationKnown()},this.mouseMoveHandler=function(e){n.onMouseMove(e)},this.mouseLeaveHandler=function(){n.onMouseLeave()},this.trackEl=t.addRemoteTextTrack({src:r,kind:"chapters",srclang:"none",label:"Chapters"},!1),this.trackEl.addEventListener("load",this.chaptersLoadedHandler),this.player.on("loadedmetadata",this.durationKnownHandler),this.player.on(this.player.controlBar.progressControl,"mousemove",this.mouseMoveHandler),this.player.on(this.player.controlBar.progressControl,"mouseleave",this.mouseLeaveHandler)}return e.prototype.reset=function(){this.removeElements(),this.chapters=[],this.player.off("loadedmetadata",this.durationKnownHandler),this.player.off(this.player.controlBar.progressControl,"mousemove",this.mouseMoveHandler),this.player.off(this.player.controlBar.progressControl,"mouseleave",this.mouseLeaveHandler),this.trackEl.removeEventListener("load",this.chaptersLoadedHandler)},e.prototype.removeElements=function(){this.removeElementsByClassName("opy-chapter-marker"),this.removeElementsByClassName("opy-chapter-highlight"),null!==this.chapterTitleDiv&&(this.chapterTitleDiv.parentNode.removeChild(this.chapterTitleDiv),this.chapterTitleDiv=null);for(var e=this.chapters,t=Array.isArray(e),r=0,e=t?e:e[Symbol.iterator]();;){var n;if(t){if(r>=e.length)break;n=e[r++]}else{if(r=e.next(),r.done)break;n=r.value}n.highlight=void 0}this.elementsAdded=!1},e.prototype.onChaptersLoaded=function(){this.removeElements(),this.chapters=[];for(var e=0;e<this.trackEl.track.cues.length;e++){var t={},r=this.trackEl.track.cues[String(e)];t.startTime=r.startTime,t.endTime=r.endTime,t.text=r.text,this.chapters.push(t)}this.onReady(),this.chaptersLoaded=!0},e.prototype.onDurationKnown=function(){this.chaptersLoaded&&this.onReady()},e.prototype.onReady=function(){this.player.duration()&&(this.elementsAdded&&this.removeElements(),this.addChapterHighlights(),this.addChapterMarkers(),this.addChapterTitle(),this.elementsAdded=!0)},e.prototype.onMouseMove=function(e){for(var t=this.getPointerPosition(this.player.controlBar.progressControl.el(),e),r=t.x*this.player.duration(),n=!1,i=this.chapters,o=Array.isArray(i),a=0,i=o?i:i[Symbol.iterator]();;){var s;if(o){if(a>=i.length)break;s=i[a++]}else{if(a=i.next(),a.done)break;s=a.value}var u=s;this.checkVisibility(u,r)&&(n=!0)}n||this.chapterTitleDiv.classList.add("opy-hidden")},e.prototype.checkVisibility=function(e,t){var r=!1;return t>=e.startTime&&t<e.endTime?(e.highlight.style.display="block",this.chapterTitleDiv.textContent=e.text,this.chapterTitleDiv.classList.remove("opy-hidden"),r=!0):e.highlight.style.display="none",r},e.prototype.onMouseLeave=function(){this.chapterTitleDiv.classList.add("opy-hidden")},e.prototype.addChapterHighlights=function(){for(var e=this.player.duration(),t=this.chapters,r=Array.isArray(t),n=0,t=r?t:t[Symbol.iterator]();;){var i;if(r){if(n>=t.length)break;i=t[n++]}else{if(n=t.next(),n.done)break;i=n.value}var o=i,a=K.default.dom.createEl("div");a.className="opy-chapter-highlight";var s=o.endTime-o.startTime,u=s/e*100;a.style.width=u+"%";var l=o.startTime/e*100;a.style.left=l+"%",a.style.display="none",this.player.controlBar.progressControl.el().appendChild(a),o.highlight=a}},e.prototype.addChapterMarkers=function(){for(var e=void 0,t=this.chapters.entries(),r=Array.isArray(t),n=0,t=r?t:t[Symbol.iterator]();;){var i;if(r){if(n>=t.length)break;i=t[n++]}else{if(n=t.next(),n.done)break;i=n.value}var o=i,a=o[0],s=o[1];e!==s.startTime&&this.addChapterMarker(s.startTime,"chapter"+a+"start"),this.addChapterMarker(s.endTime,"chapter"+a+"end"),e=s.endTime}},e.prototype.addChapterTitle=function(){var e=K.default.dom.createEl("div");e.className="opy-chapter-title",e.classList.add("opy-hidden"),this.player.el().appendChild(e),this.chapterTitleDiv=e},e.prototype.removeElementsByClassName=function(e){for(var t=document.getElementsByClassName(e),r=t.length,n=0;n<r;n++)t[0].parentNode.removeChild(t[0])},e.prototype.addChapterMarker=function(e,t){var r=K.default.dom.createEl("div",{},{"data-marker-key":t,"data-marker-time":e});r.className="opy-chapter-marker";var n=this.getPosition(e);r.style.left=n+"%",this.player.el().querySelector(".vjs-progress-holder").appendChild(r)},e.prototype.getPosition=function(e){return e/this.player.duration()*100},e.prototype.findPosition=function(e){var t=void 0;if(e.getBoundingClientRect&&e.parentNode&&(t=e.getBoundingClientRect()),!t)return{left:0,top:0};var r=document.documentElement,n=document.body,i=r.clientLeft||n.clientLeft||0,o=window.pageXOffset||n.scrollLeft,a=t.left+o-i,s=r.clientTop||n.clientTop||0,u=window.pageYOffset||n.scrollTop,l=t.top+u-s;return{left:Math.round(a),top:Math.round(l)}},e.prototype.getPointerPosition=function(e,t){var r={},n=this.findPosition(e),i=e.offsetWidth,o=e.offsetHeight,a=n.top,s=n.left,u=t.pageY,l=t.pageX;return t.changedTouches&&(l=t.changedTouches[0].pageX,u=t.changedTouches[0].pageY),r.y=Math.max(0,Math.min(1,(a-u+o)/o)),r.x=Math.max(0,Math.min(1,(l-s)/i)),r},e}(),Bt={ChapterManager:Ot},Rt=/^opy\.internal\.ci\..*$/,Pt=/^($|opy\.(?!internal\.ci\.).*$)/,kt=/^(?!opy\.).+$/,Lt=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];re(this,e),this.customerId=t,this.browserName=this._getBrowser(),this.isTrial=r}return e.prototype.registerImpression=function(){var e=this;if(!Pt.test(this.customerId)){var t=this._getImpressionsServerUrl(),r=new Date,n={properties:{customer_id:this.customerId,timestamp:r.toISOString(),device_id:"",device_type:this.browserName}},i=new XMLHttpRequest;i.open("POST",t,!0),i.setRequestHeader("Content-type","application/json; charset=utf-8"),Rt.test(this.customerId)||kt.test(this.customerId)&&i.setRequestHeader("x-api-key","YVO22hoY1m3Kwk8lTHvBW4PUTLvy2FFe2p4bGWX7"),i.onreadystatechange=function(){i.readyState===XMLHttpRequest.DONE&&(200===i.status?e._log("Usage impression successfully sent"):e._log("Failure sending usage impression"))},i.send(JSON.stringify(n))}},e.prototype._getImpressionsServerUrl=function(){var e="Impression rule regex error";return Rt.test(this.customerId)?(e="https://otvplayer.nagra.com/videospace-impression-service/incrementForCustomer?trial=0",this.isTrial&&(e="https://otvplayer.nagra.com/videospace-impression-service/incrementForCustomer?trial=1")):kt.test(this.customerId)&&(e="https://impression.prod.video.space/impression/v1/increasecount"),this._log("Posting impression to: "+e),e},e.prototype._getBrowser=function(){var e="unknown";return-1!==(-1!==window.navigator.userAgent.indexOf("Opera")||window.navigator.userAgent.indexOf("OPR"))?e="Opera":-1!==window.navigator.userAgent.indexOf("Chrome")?e="Chrome":-1!==window.navigator.userAgent.indexOf("Safari")?e="Safari":-1!==window.navigator.userAgent.indexOf("Firefox")?e="Firefox":-1===window.navigator.userAgent.indexOf("MSIE")&&!0!==Boolean(document.documentMode)||(e="IE"),e},e.prototype._log=function(e){},e}(),Nt={ImpressionsBroker:Lt},xt=function(){function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];re(this,e),this.player=t,this.waitingForPlaying=!1,this.impressionsBroker=new Nt.ImpressionsBroker(r,n),t.on(t,"loadstart",this._onPlay.bind(this)),t.on(t,"streamTeardownComplete",this._discardTimer.bind(this))}return e.prototype._discardTimer=function(){this.playTimer&&(clearTimeout(this.playTimer),this.playTimer=void 0)},e.prototype._onPlay=function(){this.waitingForPlaying||(this._discardTimer(),this.player.one("timeupdate",this._onPlaying.bind(this)),this.waitingForPlaying=!0)},e.prototype._onPlaying=function(){this.waitingForPlaying=!1,this.playTimer=setTimeout(this._onImpressionTimer.bind(this),5e3)},e.prototype._onImpressionTimer=function(){this.impressionsBroker.registerImpression(),this.player.isDynamic||this.player.duration()===1/0?this.playTimer=setTimeout(this._onImpressionTimer.bind(this),144e5):this.playTimer=void 0},e}(),jt={ImpressionsManager:xt},Ut=function(){function e(t){re(this,e),this.numSamples=t,this.samples=[],this.rolling=!1,this.next=NaN}return e.prototype.addSample=function(e,t){var r=k(e,t);this.rolling?(this.samples[this.next]=r,++this.next===this.numSamples&&(this.next=0)):(this.samples.push(r),this.samples.length===this.numSamples&&(this.rolling=!0,this.next=0))},e.prototype.getAverage=function(){var e=this.samples.reduce(function(e,t){return k(e.measurement+t.measurement,e.sampleSize+t.sampleSize)},k(0,0));return e.sampleSize?e.measurement/e.sampleSize:0},e}(),Ft={RateRollingAverage:Ut},Qt=5,Gt=function(){function e(t){re(this,e),this.videojs=t,this.averagePlaylistBitrate=0,this.lastUrl="",this.totalBytes=0,this.downloadBitrateAverage=new Ft.RateRollingAverage(Qt),this.availableBitrates=[],this.totalBitrate=0,this.fragmentCount=0,this._setupDashjsListenersHandle=this._setupDashjsListeners.bind(this),K.default.Html5DashJS.hook("beforeinitialize",this._setupDashjsListenersHandle)}return e.prototype.dispose=function(){this.dashjs?(this.dashjs.off(Z.default.MediaPlayer.events.PERIOD_SWITCH_COMPLETED,this._onPeriodSwitch.bind(this)),this.dashjs.off(Z.default.MediaPlayer.events.FRAGMENT_LOADING_COMPLETED,this._onFragmentDownloaded.bind(this)),this.dashjs.off(Z.default.MediaPlayer.events.QUALITY_CHANGE_REQUESTED,this._onRequestQualityChanged.bind(this)),this.dashjs=void 0):this.videojs&&this.videojs.Html5DashJS&&this.videojs.Html5DashJS.removeHook("beforeinitialize",this._setupDashjsListenersHandle),this.videojs=void 0,this.listener=void 0},e.prototype.getAdaptiveStreaming=function(){return{selectedBitrate:this._getRequestBitrate(),availableBitrates:this.availableBitrates}},e.prototype.getContentServer=function(){return{url:this.lastUrl}},e.prototype.getNetworkUsage=function(){return{bytesDownloaded:this.totalBytes,downloadBitrate:this.downloadRate,downloadBitrateAverage:this.downloadBitrateAverage.getAverage()}},e.prototype.setNetworkListener=function(e){this.listener=e},e.prototype._setupDashjsListeners=function(e,t){e===this.videojs&&(this.dashjs=t,K.default.Html5DashJS.removeHook("beforeinitialize",this._setupDashjsListenersHandle),t.on(Z.default.MediaPlayer.events.PERIOD_SWITCH_COMPLETED,this._onPeriodSwitch.bind(this)),t.on(Z.default.MediaPlayer.events.FRAGMENT_LOADING_COMPLETED,this._onFragmentDownloaded.bind(this)),t.on(Z.default.MediaPlayer.events.QUALITY_CHANGE_REQUESTED,this._onRequestQualityChanged.bind(this)))},e.prototype._onPeriodSwitch=function(){var e=this._getAvailableBitrates();JSON.stringify(e)!==JSON.stringify(this.availableBitrates)&&(this.availableBitrates=e,this.listener&&this.listener.availableBitratesChanged&&this.listener.availableBitratesChanged())},e.prototype._onRequestQualityChanged=function(e){"video"===e.mediaType&&(this.requestQualityIdx=e.newQuality,this.listener&&this.listener.selectedBitrateChanged&&this.listener.selectedBitrateChanged())},e.prototype._getRequestBitrate=function(){var e=NaN;return void 0!==this.requestQualityIdx&&this.requestQualityIdx<this.availableBitrates.length&&(e=this.availableBitrates[this.requestQualityIdx]),e},e.prototype._getAvailableBitrates=function(){var e=[];if(this.dashjs){e=this.dashjs.getBitrateInfoListFor("video").map(function(e){return e.bitrate})}return e},e.prototype._onFragmentDownloaded=function(e){var t=new Date(e.request.requestEndDate),r=new Date(e.request.requestStartDate),n=t.getTime()-r.getTime();if(this.lastUrl=e.request.url,this.totalBytes+=e.request.bytesLoaded,"video"===e.request.mediaType&&n>0){var i=8*e.request.bytesLoaded;this.downloadRate=1e3*i/n,this.downloadBitrateAverage.addSample(i,n/1e3),this.fragmentCount++,this.totalBitrate+=this._getRequestBitrate()}if(this.listener&&(this.listener.urlChanged&&this.listener.urlChanged(),this.listener.httpProcessingEnded)){var o={startTime:r,endTime:t,duration:n,url:e.request.url,mimeType:e.request.mediaInfo.mimeType};this.listener.httpProcessingEnded(o)}},e}(),Wt={DashNetworkStatistics:Gt},Ht=function(){function e(t){re(this,e),this.videojs=t}return e.prototype.dispose=function(){this.listener=void 0},e.prototype.getAdaptiveStreaming=function(){return{selectedBitrate:0,availableBitrates:[]}},e.prototype.getContentServer=function(){return{url:this.videojs.currentSrc()}},e.prototype.getNetworkUsage=function(){return{bytesDownloaded:0,downloadBitrate:0,downloadBitrateAverage:0}},e.prototype.setNetworkListener=function(e){this.listener=e},e}(),Yt={HlsNetworkStatistics:Ht},Vt=function(){function e(t){re(this,e),this.player=t}return e.prototype.setSource=function(e){var t=this;if(this.reset(),e.type)this.impl=L(this.player,e.type),this.impl.setNetworkListener(this.listener);else{var r=new Ct.SourceBuilder,n=e.src?e.src:e;r.build(n).then(function(e){t.impl=L(t.player,e.type),t.impl.setNetworkListener(t.listener)})}},e.prototype.getAdaptiveStreaming=function(){return this.impl?this.impl.getAdaptiveStreaming():null},e.prototype.getContentServer=function(){return this.impl?this.impl.getContentServer():null},e.prototype.getNetworkUsage=function(){return this.impl?this.impl.getNetworkUsage():null},e.prototype.setNetworkListener=function(e){this.listener=e,this.impl&&this.impl.setNetworkListener(e)},e.prototype.reset=function(){this.impl&&(this.impl.dispose(),this.impl=null)},e}(),qt={NetworkStatistics:Vt},Kt=function(){function e(t){re(this,e),this.player=t,this._setupDashjsListenersHandle=this._setupDashjsListeners.bind(this),K.default.Html5DashJS.hook("beforeinitialize",this._setupDashjsListenersHandle)}return e.prototype.dispose=function(){this.listener=void 0,this.dashjs?(this.dashjs.off(Z.default.MediaPlayer.events.QUALITY_CHANGE_RENDERED,this._onRenderQualityChanged.bind(this)),this.dashjs=void 0):this.player&&this.player.Html5DashJS&&this.player.Html5DashJS.removeHook("beforeinitialize",this._setupDashjsListenersHandle),this.player=void 0},e.prototype.getBufferedDuration=function(){var e=N(this.player,"video"),t=N(this.player,"audio");return isNaN(e)?t:isNaN(t)?e:Math.min(t,e)},e.prototype.getStreamBitrate=function(){var e=NaN;if(this.player.dashjs&&"undefined"!==this.renderQualityIdx){var t=this.player.dashjs.getBitrateInfoListFor("video");t&&this.renderQualityIdx<t.length&&(e=t[this.renderQualityIdx].bitrate)}return e},e.prototype.setPlaybackListener=function(e){this.listener=e},e.prototype._setupDashjsListeners=function(e,t){e===this.player&&(K.default.Html5DashJS.removeHook("beforeinitialize",this._setupDashjsListenersHandle),t.on(Z.default.MediaPlayer.events.QUALITY_CHANGE_RENDERED,this._onRenderQualityChanged.bind(this)),this.dashjs=t)},e.prototype._onRenderQualityChanged=function(e){"video"===e.mediaType&&(this.renderQualityIdx=e.newQuality,this.listener&&this.listener.streamBitrateChanged&&this.listener.streamBitrateChanged())},e}(),zt={DashPlaybackStatistics:Kt},Xt=function(){function e(t){re(this,e),this.player=t}return e.prototype.dispose=function(){this.listener=void 0},e.prototype.getBufferedDuration=function(){var e=this.player.buffered();return e.end(0)-e.start(0)},e.prototype.getStreamBitrate=function(){return NaN},e.prototype.setPlaybackListener=function(e){this.listener=e},e}(),Jt={HlsPlaybackStatistics:Xt},Zt=function(){function e(t){re(this,e),this.player=t}return e.prototype.setSource=function(e){var t=this;if(this.reset(),e.type)this.impl=x(this.player,e.type),this.impl.setPlaybackListener(this.listener);else{var r=new Ct.SourceBuilder,n=e.src?e.src:e;r.build(n).then(function(e){t.impl=x(t.player,e.type),t.impl.setPlaybackListener(t.listener)})}},e.prototype.getBufferedDuration=function(){return this.impl?this.impl.getBufferedDuration():null},e.prototype.getStreamBitrate=function(){return this.impl?this.impl.getStreamBitrate():null},e.prototype.getResolution=function(){return{width:this.player.videoWidth(),height:this.player.videoHeight()}},e.prototype.setPlaybackListener=function(e){this.listener=e,this.impl&&this.impl.setPlaybackListener(e)},e.prototype.reset=function(){this.impl&&(this.impl.dispose(),this.impl=null)},e}(),$t={PlaybackStatistics:Zt},er={},tr=function(){function e(){re(this,e)}return e.register=function(e,t){if("string"!=typeof e)throw new Error('Illegal component name, "'+e+'", must be a string, was '+(void 0===e?"undefined":te(e))+".");if(this.componentExists(e)&&K.default.log.warn('A component named "'+e+'" already exists. You may want to avoid re-registering components!'),"function"!=typeof t)throw new Error('Illegal plugin for "'+e+'", must be a function, was '+(void 0===t?"undefined":te(t))+".");er[e]=t},e.componentExists=function(e){return void 0!==er[e]},e.deregister=function(e){this.componentExists(e)&&delete er[e]},e.clearToolkit=function(e){for(var t in er)er.hasOwnProperty(t)&&this.clearComponent(e,t)},e.clearComponent=function(e,t){e.hasOwnProperty(t)&&delete e[t]},e.initialiseToolkit=function(e){for(var t in er)er.hasOwnProperty(t)&&this._addComponent(e,t)},e._addComponent=function(e,t){if(e.hasOwnProperty(t))throw new Error('Illegal components name, "'+t+'", cannot share a name with an existing otvtoolkit method!');e[t]=function(){for(var r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];var o=er[t],a=new(Function.prototype.bind.apply(o,[null].concat([e],0===n.length?{}:n)));return e[t]=function(){return a},a}},e}(),rr=1e3,nr=function(){function e(t){if(re(this,e),this.resolutionDetails=[],Array.isArray(t))for(var r=t,n=Array.isArray(r),i=0,r=n?r:r[Symbol.iterator]();;){var o;if(n){if(i>=r.length)break;o=r[i++]}else{if(i=r.next(),i.done)break;o=i.value}var a=o;this.resolutionDetails.push({width:a.width,height:a.height,bandwidth:a.bandwidth/rr})}else this.resolutionDetails.push({width:t.width,height:t.height,bandwidth:t.bandwidth/rr});this.resolutionDetails.sort(function(e,t){var r=t.width-e.width;return r=0===r?t.height-e.height:r,r=0===r?t.bandwidth-e.bandwidth:r})}return e.prototype.getBestfitBitrate=function(e,t){if(isNaN(e)&&isNaN(t))return NaN;var r=this.resolutionDetails.find(function(r){return(isNaN(e)||r.width<=e)&&(isNaN(t)||r.height<=t)});return r||(r=this.resolutionDetails[this.resolutionDetails.length-1]),r.bandwidth},e}(),ir=function(){function e(t){var r=this;re(this,e),this.player=t,this.beforeinitializeHook=this._initialiseDashjs.bind(this),K.default.Html5DashJS.hook("beforeinitialize",this.beforeinitializeHook),this.selectedResolution=[NaN,NaN];var n=this.player.src.bind(this.player);this.player.src=function(e){return e&&r._reset(),n(e)}}return e.prototype.setMaxResolution=function(e,t){if(this.selectedResolution=[e,t],this.resolutionMapper){var r=this.resolutionMapper.getBestfitBitrate(e,t);this.mediaPlayer_.setMaxAllowedBitrateFor("video",r+1),this.player.trigger("otvmaxresolutionchange")}},e.prototype.dispose=function(){this.mediaPlayer_&&this.mediaPlayer_.off("manifestLoaded",this.manifestLoadedHook),K.default.Html5DashJS.removeHook("beforeinitialize",this.beforeinitializeHook)},e.prototype._manifestLoadedHandler=function(e){this._initResolutionMapper(e),this._setStartUpQualityCap()},e.prototype._initResolutionMapper=function(e){for(var t=void 0,r=e.data.Period.AdaptationSet,n=Array.isArray(r),i=0,r=n?r:r[Symbol.iterator]();;){var o;if(n){if(i>=r.length)break;o=r[i++]}else{if(i=r.next(),i.done)break;o=i.value}var a=o;if("video/mp4"===a.mimeType||"video"===a.contentType){t=a;break}for(var s in a.Representation_asArray)if("video/mp4"===a.Representation_asArray[s].mimeType){t=a;break}}if(void 0!==t&&(this.resolutionMapper=new nr(t.Representation)),!this.resolutionMapper)throw new Error("Video Adaption Set has not been found for the Resolution Controller ")},e.prototype._initialiseDashjs=function(e,t){e===this.player&&(this.manifestLoadedHook=this._manifestLoadedHandler.bind(this),t.on("manifestLoaded",this.manifestLoadedHook),this.mediaPlayer_=t)},e.prototype._setStartUpQualityCap=function(){this.selectedResolution&&this.setMaxResolution(this.selectedResolution[0],this.selectedResolution[1])},e.prototype._reset=function(){this.resolutionMapper=null},e}(),or=function(){function e(){re(this,e),this.isDeferred=!1,this.deferred=[]}return e.prototype.startDeferring=function(){this.isDeferred=!0},e.prototype.stopDeferring=function(){this.isDeferred=!1,this.deferred.forEach(function(e){return e()}),this.deferred=[]},e.prototype.run=function(e){this.isDeferred?this.deferred.push(e):e()},e.prototype.isDeferring=function(){return this.isDeferred},e}(),ar={DeferredOperations:or},sr=0,ur="com.widevine.alpha",lr="com.microsoft.playready",cr="com.apple.fps.1_0",dr='video/mp4;codecs="avc1.640015"',fr='video/mp4;codecs="avc1.640015"',gr=["keyids","cenc"],pr=new Map([["SW_SECURE_CRYPTO",1],["HW_SECURE_CRYPTO",2],["HW_SECURE_DECODE",3]]),hr=new Map([["",1],[".hardware",3]]),yr=function(){function e(t,r){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Y;re(this,e),this.videojsPlayer=t,this.drmPreferenceObj=r,this.log=i,this.keySystemSelectedHandle=this._keySystemSelected.bind(this),this.setupDashjsHandle=this._setupDashjsListener.bind(this),this.widevinePromise=G("video",fr),this.playreadyPromise=W("video",dr),this.fairplayPromise=H(),this.promises=[this.widevinePromise,this.playreadyPromise,this.fairplayPromise],this.getDrmInfo().then(function(e){if(n.log(JSON.stringify(e)),n.getPreferredDrm())n.log("Preferred DRM set to customer choice: "+n.getPreferredDrm());else if(Te.isSmartTV())n.setPreferredDrm(ur),n.log("For smartTV preferred DRM set to "+ur);else if(0===e.length)n.setPreferredDrm(ur),n.log("DRM security unknown, setting preferred to: "+ur);else{var t=e.reduce(function(e,t){return Math.max(e,t.securityLevel)},0),r=e.filter(function(e){return e.securityLevel===t}),i=r.find(function(e){return e.name===cr})||r.find(function(e){return e.name===ur})||r[0];n.setPreferredDrm(i.name),n.log("Preferred DRM set to most secure: "+i.name)}}),K.default.Html5DashJS.hook("beforeinitialize",this.setupDashjsHandle)}return e.prototype.getDrmInfo=function(e,t,r){var n=this;return e===ur?t&&r?G(t,r):this.widevinePromise:e===lr?t&&r?W(t,r):this.playreadyPromise:e===cr?this.fairplayPromise:e?Promise.resolve([]):new Promise(function(e){Promise.all(n.promises).then(function(t){return e(Q(t))})})},e.prototype.setPreferredDrm=function(e){this.drmPreferenceObj.setPreference(e)},e.prototype.getPreferredDrm=function(){return this.drmPreferenceObj.getPreference()},e.prototype.reset=function(){this.selectedKeySystem=void 0,this.dashjs&&this.dashjs.off("public_keySystemSelected",this.keySystemSelectedHandle)},e.prototype.getCurrentSelectedDrm=function(){return Te.isSafari()?cr:this.selectedKeySystem||this.getPreferredDrm()},e.prototype._setupDashjsListener=function(e,t){e===this.videojsPlayer&&(this.dashjs=t,t.on("public_keySystemSelected",this.keySystemSelectedHandle))},e.prototype._keySystemSelected=function(e){e.error||(this.selectedKeySystem=e.data.keySystem.systemString,e.data.ksConfiguration.persistentState="required")},e}(),mr=function(){function e(t){re(this,e),this.preference=t,this.sourcePreference=void 0}return e.prototype.getPreference=function(){return this.sourcePreference||this.preference},e.prototype.setPreference=function(e){this.preference=e},e.prototype.setSourcePreference=function(e){this.sourcePreference=e},e}(),vr=function(){function e(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};re(this,e);var n=r.player,i=void 0===n?null:n,o=r.service,a=void 0===o?null:o,s=r.token,u=void 0===s?null:s,l=r.tenant,c=void 0===l?null:l,d=r.apikey,f=void 0===d?null:d,g=r.secret,p=void 0===g?null:g,h=r.callbacks,y=void 0===h?{}:h;if(this.cssClassName="dynamic-size",null===i)throw new Error("QuickmarkInterface configuration is invalid, no player provided");if(this.player=i,this.waitingForPlaying=!1,this.player.on(i,"loadstart",this._onPlay.bind(this)),this.fullscreenChangeHandler=function(){t.resize()},this.player.on("fullscreenchange",this.fullscreenChangeHandler),null===p)throw new Error("QuickmarkInterface configuration is invalid, no secret provided");y&&this.setCallbacks(y.message,y.error),this.jswbw=new jswbw({callback:this,service:a,token:u,tenant:c,apikey:f,secret:p}),this.player.otvtoolkit().addEventListener("pipon",function(){t.resize()}),this.player.otvtoolkit().addEventListener("pipoff",function(){t.resize()}),window.addEventListener("resize",function(){t.resize()})}return e.prototype._onPlay=function(){this.waitingForPlaying||(this.player.one("timeupdate",this._onPlaying.bind(this)),this.waitingForPlaying=!0)},e.prototype._onPlaying=function(){this.waitingForPlaying=!1,this.resize()},e.prototype.image=function(e){this._log("A new marker is ready to display"),this.resize(),this.imageElement=function(){var t=new Image;return t.style.width="100%",t.style.height="100%",t.src=e,t.style.pointerEvents="none",t}(),this.player.trigger("jswbwUpdate"),this.player.overlay({overlays:[{class:this.cssClassName,align:"middle",content:this.imageElement,start:"jswbwStart",end:"jswbwUpdate"}]}),this.player.trigger("jswbwStart")},e.prototype.resize=function(){var e=this.videoDimensions(this.player.$("video")),t=null,r=this.player.$("video").offsetWidth,n=(r-e.width)/r*100/2,i=r!==e.width?"left:"+n+"%;":"left:0%;",o="\n\t\t.dynamic-size {\n\t\t\theight: "+e.height+"px!important;\n\t\t\t"+i+"\n\t\t\twidth: "+e.width+"px!important;\n\t\t\t}\n\t\t";document.getElementById(this.cssClassName)?(t=document.getElementById(this.cssClassName),t.innerHTML=o):(t=document.createElement("style"),t.id=this.cssClassName,t.type="text/css",t.innerHTML=o,document.head.appendChild(t))},e.prototype.videoDimensions=function(e){var t=this.player.videoWidth()/this.player.videoHeight(),r=e.offsetWidth,n=e.offsetHeight;return r/n>t?r=n*t:n=r/t,{width:r,height:n,ratio:t}},e.prototype.message=function(e){this._log("QuickmarkInterface Message received: '"+e+"'")},e.prototype.error=function(e,t){this._log("QuickmarkInterface Error"+e+" received: '"+t+"'")},e.prototype.getVersion=function(){return this.jswbw.getVersion()},e.prototype.setApiKey=function(e){this.jswbw&&e&&(this._log("QuickmarkInterface: setting api key: "+e),this.jswbw.setApiKey(e))},e.prototype.setToken=function(e){this.jswbw&&e&&(this._log("QuickmarkInterface: setting token: "+e),this.jswbw.setToken(e))},e.prototype.setTenant=function(e){this.jswbw&&e&&(this._log("QuickmarkInterface: setting tenant: "+e),this.jswbw.setTenant(e))},e.prototype.setURL=function(e){this.jswbw&&e&&(this._log("QuickmarkInterface: setting url:"+e),this.jswbw.setURL(e))},e.prototype.setMessageCallback=function(e){e&&(this.message=e)},e.prototype.setErrorCallback=function(e){e&&(this.error=e)},e.prototype.setCallbacks=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.setMessageCallback(e),this.setErrorCallback(t)},e.prototype.start=function(){this._log("QuickmarkInterface: starting quickmark"),this.jswbw&&this.jswbw.start()},e.prototype.stop=function(){this._log("QuickmarkInterface: stopping quickmark"),this.jswbw&&this.jswbw.stop()},e.prototype._log=function(e){},e}(),br={drm:{system:"none"}},Ar=K.default.getPlugin("plugin"),_r=function(e){function t(r,n){re(this,t);var i=oe(this,e.call(this,r,n));return i._initComponents(n.components),"function"==typeof n.creationFailureCallback?i._onCreationFailureCallback=n.creationFailureCallback:K.default.log.warn("No creationFailureCallback was supplied."),i.zapDeferred=new ar.DeferredOperations,i._hijackPlayerReadyCallback(),i._validatePlayerLicence(n.licence).then(function(){i._init(r,n),i._restorePlayerReadyCallback(!0)}).catch(function(e){K.default.log.error("Failed to validate player licence: "+e.name+": "+e.message),i.player.play=i._playUnlicensed,i.player.src=i._playUnlicensed,Ar.deregisterPlugin("thumbnails"),i._restorePlayerReadyCallback(!1),i._onCreationFailureCallback(e),tr.clearToolkit(i)}),i}return ie(t,e),t.prototype.dispose=function(){this.OtvResolutionController&&this.OtvResolutionController.dispose(),this.reset(),e.prototype.dispose.call(this)},t.prototype.addEventListener=function(e,t,r){return this.eventTarget.addEventListener(e,t,r)},t.prototype.removeEventListener=function(e,t,r){return this.eventTarget.removeEventListener(e,t,r)},t.prototype.dispatchEvent=function(e){var t;return"function"==typeof Event?t=new Event(e):(t=document.createEvent("Event"),t.initEvent(e,!0,!0)),this.eventTarget.dispatchEvent(t)},t.prototype.addThumbnailPreview=function(e){this.zapDeferred.run(this.player.thumbnails.bind(this.player,{vtt:e}))},t.prototype.addChapters=function(e){var t=function(e){this.chapterManager&&this.chapterManager.uri===e||(this.chapterManager&&(this.chapterManager.reset(),this.chapterManager=void 0),e&&(this.chapterManager=new Bt.ChapterManager(this.player,e)))};this.zapDeferred.run(t.bind(this,e))},t.prototype.createSourceObjectFromURL=function(e){return(new Ct.SourceBuilder).build(e)},t.prototype.setMaxResolution=function(e,t){this.otvResolutionController.setMaxResolution(e,t)},t.prototype.enablePiP=function(){null===this.pipManager&&(this.pipManager=new Mt.PiPManager(this.player,this.videoWindowDiv))},t.prototype.enableAutoPiPInitiationOnScroll=function(e){null!==this.pipManager&&this.pipManager.enableAutoPiPInitiationOnScroll(e)},t.prototype.reset=function(){return this.player.removeClass("vjs-has-started"),this._disableAllSubtitleTracks(),this.addChapters(),this.networkStatistics&&this.networkStatistics.reset(),this.playbackStatistics&&this.playbackStatistics.reset(),this.drmController.tearDown()},t.prototype._init=function(e,t){var r=this;e.addClass("vjs-otvtoolkit"),this.eventTarget=document.createDocumentFragment(),this._muted=!1,this._log=j(!1),this._initSource(e),this._initReset(e),this.pluginOptions=K.default.mergeOptions(br,t);var n=e.$("video");this.pipManager=null,this.otvResolutionController=new ir(e),this.videoWindowDiv=document.createElement("div"),this.videoWindowDiv.className="opy-videowindow",document.body.contains(this.player.el())&&(this.player.el().parentNode.insertBefore(this.videoWindowDiv,this.player.el()),this.videoWindowDiv.appendChild(this.player.el())),this._blockContextMenu(n),this._addWatermark(e);var i=void 0;this.pluginOptions.drm&&this.pluginOptions.drm.config&&(i=this.pluginOptions.drm.config.preferredDRM),this.drmPreference=new mr(i),this.drmController=mt.createDRMController(this.pluginOptions.drm,this._log,this.player),this.drmSecurityLevel=new yr(e,this.drmPreference,this._log),this._initPlayerEvents(e,n,this.drmController),this._checkForEdge(),this.on(e,"durationchange",function(){e.duration()===1/0?r._updateFormatTime():r._resetFormatTime()}),this.dashInitHandle=this._beforeDashInitialise.bind(this),K.default.Html5DashJS.hook("beforeinitialize",this.dashInitHandle);var o="",a=!1;if(Te.isSmartTV()||(o=this.features.customerID()||"",a=this.features.isTrial()),this.impressionsManager=new jt.ImpressionsManager(e,o,a),this.networkStatistics=new qt.NetworkStatistics(e),this.playbackStatistics=new $t.PlaybackStatistics(e),this.pluginOptions.quickmark){var s=this.pluginOptions.quickmark.quickmarkConfig,u={};this.pluginOptions.quickmark.message&&(u.message=this.pluginOptions.quickmark.message),this.pluginOptions.quickmark.error&&(u.error=this.pluginOptions.quickmark.error);try{this.quickmarkInterface=new vr({player:e,service:s.service,token:s.token,tenant:s.tenant,apikey:s.apikey,secret:s.secret,callbacks:u}),this.on(e,"playing",function(){r.quickmarkInterface.start()}),this.on(e,"ended",function(){r.quickmarkInterface.stop()}),this.on(e,"pause",function(){r.quickmarkInterface.stop()}),this._log("jswbw version: "+this.quickmarkInterface.getVersion())}catch(e){this._log("Failed to create quickmark interface: "+e.message)}}this._initCheckForSeekable()},t.prototype._disableAllSubtitleTracks=function(){for(var e=this.player.textTracks(),t=0;t<e.length;t++){var r=e[t];"subtitles"!==r.kind&&"captions"!==r.kind||(r.mode="disabled")}},t.prototype._isExpired=function(){var e=!1;return this.features.expiryTime()<Date.now()&&(e=!0),e},t.prototype._checkLicenceOnPlay=function(){if(this.features.isFeatureActive("com.nagra.opy.media.play")||this.features.isTrial()){if(!this._isExpired())return;this.player.trigger("licenceexpired")}this.player.pause(),this.player.play=this._playUnlicensed,this.player.src=this._playUnlicensed,Ar.deregisterPlugin("thumbnails")},t.prototype._playUnlicensed=function(){},t.prototype._resetFormatTime=function(){K.default.resetFormatTime&&this.updatedFormatTime&&(this._log("Resetting formatTime"),K.default.resetFormatTime(),delete this.updatedFormatTime)},t.prototype._updateFormatTime=function(){K.default.setFormatTime&&!this.updatedFormatTime&&(this._log("Setting formatTime to live"),K.default.setFormatTime(_t.liveFormatTime.bind(this.player)),this.updatedFormatTime=!0)},t.prototype._hijackPlayerReadyCallback=function(){var e=this;this.player.origTriggerReady=this.player.triggerReady,this.player.triggerReady=function(){e.playerReady=!0}},t.prototype._restorePlayerReadyCallback=function(e){this.player.triggerReady=this.player.origTriggerReady,this.origTriggerReady=void 0,e&&this.playerReady&&this.player.triggerReady&&this.player.triggerReady()},t.prototype._validatePlayerLicence=function(e){if(e)return this._validateGivenPlayerLicence(e);var t=this;return new Promise(function(e,r){var n=new XMLHttpRequest;n.open("GET","opy_licence"),n.onload=function(){this.status>=200&&this.status<300?t._validateGivenPlayerLicence(n.responseText).then(function(){e()}).catch(function(e){r(e)}):r(t._createError("LicenceError","No Player Licence supplied"))},n.onerror=function(){r(t._createError("LicenceError","No Player Licence supplied"))},n.send()})},t.prototype._validateGivenPlayerLicence=function(e){var t=this;if(Te.isSmartTV())return Promise.resolve();this.features=new OTV.features.OPYFeatures.OPYFeatures;try{return this.features.addLicenseToken(e).then(function(e){if(!e)return Promise.reject(t._createError("LicenceError","Licence invalid or not verifiable"));if(t._isExpired())return Promise.reject(t._createError("LicenceError","Player licence is expired"));if(!t.features.isTrial()){if(!t.features.isPlatformActive("org.w3c.html5"))return Promise.reject(t._createError("LicenceError","Player licence does not support this platform"));if(!t.features.isDomainSupported(document.location.hostname))return Promise.reject(t._createError("LicenceError","Player licence does not support this domain"))}return Promise.resolve()})}catch(e){return Promise.reject(this._createError("LicenceError","Failed to verify player licence: "+e))}},t.prototype._createError=function(e,t){var r=new Error(t);return r.name=e,r},t.prototype._enableWatermarkPlugin=function(){this.player.watermark({position:"top-right",image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIYAAAA+CAYAAADu4GOJAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyNpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NDkxMSwgMjAxMy8xMC8yOS0xMTo0NzoxNiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChNYWNpbnRvc2gpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkVBNEYxM0I3MDVDRDExRTQ5MkUwOUNGNjM0MkM4QUZEIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkVBNEYxM0I4MDVDRDExRTQ5MkUwOUNGNjM0MkM4QUZEIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6RUE0RjEzQjUwNUNEMTFFNDkyRTA5Q0Y2MzQyQzhBRkQiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6RUE0RjEzQjYwNUNEMTFFNDkyRTA5Q0Y2MzQyQzhBRkQiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4ISt+NAAAJwUlEQVR42uxdCWwWVRDeUpBTgQJyiwXECxAQvNECgtGInAoaSBCPxqKCR4wheKCiiIGAiajBIBrESkIiEImIgAciQTnkEBURDBFEEFtboVz+fuM/qy/bPebt8ffXvi/5sv2Xt7NvZ2fnzZt3kJNKpSwDAydyjGEYGMMwMIZhYAzDwBiGgTEMA2MYBsYwDIxhGBjDMKgWhmEspZragjEMg1CG0c3oqFpis69h5OTk/O81gGeui0Mf8AqwE5gHngAPgzvBz8FPoIuj1cUqKtmBi8cY43P9N1DWOg/BN7GC/fA1rl/vU7l+OLQVPstyyNqv+fBn4fAoOAo8PaB4KbgAnIb77HGR1RGHqyK+jxJwN7gF90gJn+EaHPKF8ldA7k9hDOPvEw76oQRs4SF4cyoYM30qVp/lSzFTwyBywYng0ZQ+6JqnwJoOmWNS8eFH8G6qZ8Bz1AZ/0ZD7ko7HUKlrGIRFCRnGXZrK/B08Q/DAZ4DLY3h5q8FmCRmGjXe5mfN6llGa8srBxmEMo0YI9zcUFw5NoJkr0ixPTcHYgIeth8MH4IAY6lcAroLMPCs5DAJf9fn3cZry6oN3hqlIjZAPMBsKahRj4HN5yN7QfbjW7xneBC+N8cV1BotxzyQj9NGQ38dFR6Sfy0LIG+dsBpM0jObg9Cr0FjbagwM9jI2C6GEJvLj+Ib5cXTwYg7ew0Q4cnCnDIIzlXkRUb0Ht9i0RREzw6I5OS/DFPQk2SFB+P/UrZ+98W5w6CkLNiA8wB5XujC7RkSgGBp4Wpe1HHbqiDlscMpsJrqWu82vgViud8T2PmzRJU/EnOCtEfanLPCSgDBn2meA+JYVQL4KOroSOekJHX2olNjR7JU5MD9srofgA3B1DND/XIfcLwTUTEo4V/HS+WlC/9lyWck3fxaCj+Ul3V504BfYKaRg3xtTNqwDPtJsmQfnJVZhhbALuEui0PpfvH5OOjoOtpIZRM4ZnpThlbsh45R5BmVOcrq7jU6Y2WAg+DfYIkEfZ0ucUhRSHjPbDoqWg6dwEt/+HRmBOzWAFN0FeqMWyJmUixlC7cbpfDrnK6wVFyQUeERhREWQ+j2OHgHJLoPQK5XcLjtyzCa+zjtp69bocWAj+DI4PKFcImVMkY0A1qvDhCwVBHn0JU8EX2HP4gV7wCEGQ9oOV3fiWA2JbR7kCHT3F6YMTAWWbSns3VWIYsFpqFu6QfAmwbhq4o4GmYkF5+mKCvoYGWWwUh6jHguc9Bh1Rc3OXUEc0OLmXvWssXdewhvF9RAVQ3qKJ8EuwMVUg92Lw/IAyVzt+kwv+0YNx4KSw3A7wKrzgHfx7GHdZdXQ0zQqeaNVZlH8K2Su5J2RkPJPvuU5QttilrksF120XlOkp0Mu1MfUGnhGW2089FuX+aySDbi71XiS4bmlS3dV8cGsYwwC7C8t2d6n85cLucxB2gs19jKItuDdAxp8aulopLLuQ7981go56Ca6jup/jZxhhm5JUhJSzJOe/GC51k/Mkzv09syqG5pEm2VASbIg6B4LS0CAFZ1+AbQJkrNLQ1Z2C2IdwM9+/KIKOqO4rA66loP9+3wIhJwPnc7p2l0CBKt7g+KJuQLmN4F6fl3phzAHfdn7ui8DGwpd9qzAgzqcZYNDzA/h7hqB8Cecc6kfQEaUCugRcT3mS1qhbqe0x4ogxzuZrH9ZsSspS/w/Mp2FwTV3lCmOrTOIhLzsI7TH4KzidrbZhFnb9Sjn3EffEmoOc0KP08iaprlj5dN0GK9qgYZygnlcH1O+U0w4i5TEgsMzyn3FUlSBjnSNI+uiAZI3Ac/8SUl/bcHg2i3REGd9BSSW4ZsWs/DjRjWOaihhkHQeH4+WujiiHDGNbFuloQiKGAUXtE2bcqgLXceKoX8SEFTWXBXjWJTHoiz6i2630fI5sQG80Iz2SSolPt7IX9+JlrMWxK/cKdLxHBT9bZ+4qxwKeMDMjm72GW/BZIBC0zjFCSYEVDV3XyULDOKIucuLE1khOOVMKvZ5LN24N+D64wCuegBwac+kZRld8Pd13QEAqvTxDOqJmcq2vYVSHJYrKy8nlPEwTfhHU4zgIHZy0qhkkSxTNavfqCbMNgkGwYbjN4OpjdGTg5jHsFWblalvLwZZtSGWULfNpr8j6GgbIOSaZYsbZ1VxHHFQSog2lYM8v41geFFtAxj9jGGHq4JBFYz4d2UN/67aiPiA2slfrl6or5Xk9bw1JHXkyUD2uQ2mloMNjrKRAKdOfZxkTlrBAvxs2cpPD//aRzmp1j9nnNMPpM7CvhjLnBYwbFAhkDLYLRzCINlx3J5api6YDZKjjNI2U84XK+akCOWOUXQz0ht15XeliKz3iRxM8KPt3vAq822+cpNrPHoc2PVkRYjXcCf46nMxUT+Qtrjv1gCgxuIjzJTQxel4Eg6PR3tn8cybe0aORuyleHgO8CCyVeoqEPcYE5VxL8Cs+v0HTY0RRfiSPwVsy2OionO+rnM/T9Ri8Psf26C9LF1KF9Rg0w+dDkNqsZVXoKSoHRumddB7jnz14mv1/AeqHdaUySYjGX7ozdbd3os7CQvbor4BF0t15/OBnGLQbC003pyCzMFuMQsFG5e98jeuG44XscXBZhgyaJgXZW1WR5zqMe1OG9RHSM/59c4h9v6hpoolPNGZ1fxxGEWQYtfhIVv1iFn59x5S/czWuo15FOwdbZbDeg61/F1GRN6aBPgoUt8BIFtN2Spry7Nlw9AyPx1VJP8NYr7hrmhtZlGWGoU4pPKBx3dtWevqeyt4ZbAYPgKOV+5KO7VXotMHdaE2RC6x/R7cnum26ErdhUFQ7hSJ//j0DN+0S4mt2fo15LmXCwN4U5VcrvXpLiuPUv3ewLBNGQTOzeaY8raw7gfuuAZ/B35coTUwnTbH3WukJ1rv5fdK0w6ZR6+q3djVF7RVAcwe2soUX8z4LRwO+Ctrpjl7WudTu0bJ/K72HJu0LYa9z3aJZ19a83VAOf2mP8Pk5fsk2F7TwyFns0UwyucnYxnGE3wdjry89QEbCSbULrPS+GQTdJZT0nmijOtqi8lP+EKkHNjBSvCFMcI1Qzr8qlDvSJ5m0g5cphk1w2Vjrt8udZoLrSZ3uqgcGC2S85ti+oVT5vVuyt5lPgmuycn68QI5nd9XNY3zMxxLFA7zDq7d6kRfgXXS2BXgN8i5l3CRdysHsAU6STXKbo+CBL9W6MGhZIa3rmKfRW/pGeTY3SLzFoQAZhwQyCtkDj2FPQQEobdL6HviEMNVertRDTczRNhCUH2kN3gD903ySgz5yfmY5leZ9mP+WwsD9wzaGYWAMw8AYhoExDIME8JcAAwBHloxfTog8lAAAAABJRU5ErkJggg==",fadeTime:null})},t.prototype._enablePlaybackRateControl=function(e){this.player.controlBar.addChild("PlaybackRateMenuButton",{playbackRates:e})},t.prototype._makeSeekable=function(e){var t=this.player.el();e!==t.classList.contains("opy-seekable")&&(e?t.classList.add("opy-seekable"):t.classList.remove("opy-seekable"))},t.prototype._onCreationFailureCallback=function(e){K.default.log.error(e)},t.prototype._initSource=function(e){e.origSrc=e.src,e.src=function(t){var r=this,n=this.otvtoolkit();return t?(n.drmPreference.setSourcePreference(t.preferredDRM),n.zapDeferred.startDeferring(),n.drmController.srcDetails(t),this._muted=e.muted(),e.addClass("opy-zapping"),this.one(e,["canplay","contentcanplay"],function(){e.removeClass("opy-zapping")}),void this.reset().then(function(){e.muted(r._muted),n.zapDeferred.run(n.networkStatistics.setSource.bind(n.networkStatistics,t)),n.zapDeferred.run(n.playbackStatistics.setSource.bind(n.playbackStatistics,t)),n.drmController.updateSourceData(t).then(function(e){n.lowLatencyEnabled=Boolean(t.lowLatencyEnabled),r.origSrc(e),n.zapDeferred.stopDeferring()}).catch(function(e){n.zapDeferred=new ar.DeferredOperations,n.dispatchEvent("DRM_ERROR"+e)})})):this.origSrc(t)}},t.prototype._initReset=function(e){var t=this,r=e.reset.bind(e);e.reset=function(){var e=t.reset();return this.drmSecurityLevel&&this.drmSecurityLevel.reset(),this.thumbnails(),r(),e}},t.prototype._blockContextMenu=function(e){e&&e.addEventListener("contextmenu",function(e){e.preventDefault()},!1)},t.prototype._addWatermark=function(e){if(!Te.isSmartTV()&&this.features.isTrial()){var t=document.createElement("div");t.classList.add("opy-trial"),t.style.backgroundImage="url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAB1QAAALECAYAAAC/qQIoAAAAAXNSR0IArs4c6QAAAVlpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDUuNC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KTMInWQAAQABJREFUeAHs3Qe8NFV5P3Ca2FBRxK4gIPaKvfwDiiV2oyRW1BjR2DBGxajR1xZN0dgLtkhssbckKopd1IiKUUEFKaIoKjakl//vwXvJfV/uve/O7OzuzO73fD7P3b27c86c852zszNzZma32EIiQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQGBcgS3HLUB+AgQIECBAgAABAgQIrCdw3nnnbZP3r5e4zlLslscrJq6cuHziYonldE6e/C7x28RJieMTxyWOSfwwcdSWW2756zxKBAgQIECAAAECBAgQIECAAIGpCBhQnQqzmRAgQIAAAQIECBBYHIEMoG6d1t46cZfE7RO3Slwy0VX6ZQqqwdUfJJ6bAdYacJUIECBAgAABAgQIECBAgAABAhMRqDPFJQIECBAgQIAAAQIECIwlkEHUrVLAXomHJu6R2DExqVRXtVYcbzB1UsTKJUCAAAECBAgQIECAAAECBAgQIECAAAECBAgQIEBgbIEMpF4h8ZzEMYlppqMys0uP3QAFECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAoGuBDGbumnh94tTEtNM5meFtum6T8ggQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIDCWQAYyL594SeL0xKzS68ZqhMwECBAgQIAAAQIECBAgQIAAgQYCWzaY1qQECBAgsMACOWJ+lTT/yg0JTsxv2/20YR6TEyBAgEAPBfI9sE2qtX9iQ2K7xKzSzzPj6+b75dezqoD5EiBAgAABAgQIECBAgAABAgQIECBAgACBCwnkQPqGFpchbbhQQV4gQIAAgcEJZP1/i8Q3W3wPTCLLfoMDVGECBAgQIECAAAECBAgQIEBg0AJbDbr2Kk+AAAECBAgQIECAwMQEMhq6ZaKuSv1i4iYTm9HoBR+XSf9t9MlNSYAAAQIECBAgQIAAAQIECBAYX6Bu2yURIECAAAECBAgQIEBgI4EMpF4hL7wrcceN3pjtPxtyq98zZ1sFcydAgAABAgQIECBAgAABAgQWTcCA6qItce0lQIAAAQIECBAgsBmBDKbeOJN8OLHTZiad5tsnZGZvn+YMzYsAAQIECBAgQIAAAQIECBAgUAJu+asfECBAgAABAgQIECBwgUAGU++Zf76U6NNgatXvTbk69ex6IhEgQIAAAQIECBAgQIAAAQIEpilgQHWa2uZFgAABAgQIECBAoMcCGUx9YKr3gcQle1bNGkh9U8/qpDoECBAgQIAAAQIECBAgQIDAgggYUF2QBa2ZBAgQIECAAAECBNYTyGDqo/L+OxIXWW+6Gb33iVyd+pMZzdtsCRAgQIAAAQIECBAgQIAAgQUXMKC64B1A8wkQIECAAAECBAhkMPXPovCGRF/3D95vKREgQIAAAQIECBAgQIAAAQIEZiWwzaxmbL4ECBAgQIAAAQIECMxeIIOpf5pavDux9exrs2oNzsmrH1v1HS9OXSD95WaZ6RmJH+aq4TOnXgEzJECAAAECBAgQIECAAAECMxAwoDoDdLMkQIAAAQIECBAg0AeBDI5dP/WowdQ+3uZ3mejLGbj7xfI/HmcucERqcEDiGek/J+fxu4kfJb634vkxWWbn5X+JAAECBAgQIECAAAECBAjMhYAB1blYjBpBgAABAgQIECBAoJlABsN2SI4PJy7dLOfUp/781OdohmsKZKD0tLy5If3nnXl8bWLvVSb+Td4/Oq9vOtD6vaX8q2TxEgECBAgQIECAAAECBAgQ6K+AAdX+Lhs1I0CAAAECBAgQIDARgQx2bZmC35zYdSIz6LbQQ7stTmldCGRg9AfpR3dOWQ9L/EtixxXlbp/neyzFipe3ODt5js8LNdC60WBryqv/JQIECBAgQIAAAQIECBAg0EsBA6q9XCwqRYAAAQIECBAgQGCiAk9O6feZ6By6KbxuG/vVbopSStcCGQSt5XNQBkk/mscNiScktkqslWr/c5el2GialPGbvOCq1o1U/EOAAAECBAgQIECAAAECfREwoNqXJaEeBAgQIECAAAECBKYgkIGr+t3UF09hVl3M4icZtPtlFwUpY3ICWUa/Tun7p2+9N4+vT1Qfa5pGuap15e+0/shVrU2JTU+AAAECBAgQIECAAAECbQUMqLaVk48AAQIECBAgQIDAwAQy4FVXD74hcdGBVN1tYAeyoKqaGeD8YvrYTfP0cYkXJrZLjJtWXtW698rCMq8ayL3Q7YPzmt9qXQnlOQECBAgQIECAAAECBAiMLWBAdWxCBRAgQIAAAQIECBAYjMBjU9PbDaa2W2xxzIDqqqoRyKDqWXl4RQY7P5LHVyfunphUumwK3txvta68qvW7qd+Jk6qMcgkQIECAAAECBAgQIEBgfgUMqM7vstUyAgQIECBAgAABAhcIZICrBp+ef8ELw3hiQHUYy+lCtczAZS27e6Tf3SuPNbB6jQtNNLkX2lzVWoOtp0+uSkomQIAAAQIECBAgQIAAgSELGFAd8tJTdwIECBAgQIAAAQKjCzwrk+4w+uS9mPLkXtRCJVoLZJDyoxlUPSQF/H3iqYmtWxfWTUZXtXbjqBQCBAgQIECAAAECBAgslIAB1YVa3BpLgAABAgQIECCwiAIZ0Lpa2v2EAbb91AHWWZU3Ecig6h/y0jPSD9+Vx9cnbr3JJH34d5SrWlfePrh+u9VVrX1YcupAgAABAgQIECBAgACBKQgYUJ0CslkQIECAAAECBAgQmLHAUzL/i864Dm1mf0qbTPL0UyADq4dnULV+w/ehiZclhnLF9FpXtZ6V9vw47ajB1ZWDrd9JW3+W1yQCBAgQIECAAAECBAgQmBMBA6pzsiA1gwABAgQIECBAgMBqAhnwqUGrR6/23gBe+8UA6qiKDQQy0HhuJj8o/fLgPNag6gMbZO/bpBdJhXZZir1XVi7tq757ZOK7iW8lDk98I+0/M48SAQIECBAgQIAAAQIECAxMwIDqwBaY6hIgQIAAAQIECBBoKPCoTL9dwzx9mfy3famIenQrkIHFE1PigzLw+NY8viaxW7dzmHlpO6YGFXdYUZPT0t5D83/9puxHY/DtFe95SoAAAQIECBAgQIAAAQI9Ftiqx3VTNQIECBAgQIAAAQIExhDI4M2WyV4DqhKBXgpkUPGTqdiNEi9InNHLSnZXqYunqDsmXpio2x//KPGSxHW6m4WSCBAgQIAAAQIECBAgQGASAgZUJ6GqTAIECBAgQIAAAQL9ENgz1di9H1VRCwKrC2RQ9bTEc/LuTRKfWX2quXz1mmnVAYkjMqj6xcQ+ia3nsqUaRYAAAQIECBAgQIAAgYELGFAd+AJUfQIECBAgQIAAAQLrCAz59ynXaZa35lEgg6r1m6N3Sjw8cdI8tnGdNt0u770ncVQGVR+bqN9nlQgQIECAAAECBAgQIECgJwIGVHuyIFSDAAECBAgQIECAQJcCGZCpbf17d1mmsghMWiCDquclDsp8rpt4Y+K8Sc+zZ+XvnPq8LnFkPsMPTtRtuyUCBAgQIECAAAECBAgQmLGAAdUZLwCzJ0CAAAECBAgQIDAhgdum3CtNqGzFEpioQAZVT07sl5ncIvH1ic6sn4Xvkmq9I/G5DKrWb8xKBAgQIECAAAECBAgQIDBDAQOqM8Q3awIECBAgQIAAAQITFNh7gmUrmsBUBDKoelhmdJvEkxO/n8pM+zWTO6Q6h2VQ9SWJbftVNbUhQIAAAQIECBAgQIDA4ggYUF2cZa2lBAgQIECAAAECiyWw12I1V2vnVSCDqmcnXpH23TDxkXlt5zrt2ibvHZD4cgZVr7XOdN4iQIAAAQIECBAgQIAAgQkJGFCdEKxiCRAgQIAAAQIECMxKYOlKtlvNav7mS2ASAhlUPS5xn5Rdvw183CTm0fMy90j96mrVfXpeT9UjQIAAAQIECBAgQIDA3AkYUJ27RapBBAgQIECAAAECBLa4XgwuyoHAPApkUPWjadcNEi9NnD2PbVynTZfKe/+RQdW/X2cabxEgQIAAAQIECBAgQIBAxwIGVDsGVRwBAgQIECBAgACBHgjcuAd1UAUCExPIoOopiadmBjdPHDqxGfWz4C1TrednUPUtibodsESAAAECBAgQIECAAAECExYwoDphYMUTIECAAAECBAgQmIHA9WcwT7MkMHWBDKoenpneLvHwxC+nXoHZzvCRmf27DKrOdiGYOwECBAgQIECAAAECiyFgQHUxlrNWEiBAgAABAgQILJbAzovVXK1dZIEMqp6XOCgG104cmDhvgTwekLa+KYOq9u0XaKFrKgECBAgQIECAAAEC0xew0zV9c3MkQIAAAQIECBAgMGmBa0x6Bson0DeBDKqenHhM6rVn4nt9q98E61NX577RoOoEhRVNgAABAgQIECBAgMDCCxhQXfguAIAAAQIECBAgQGAOBa46h23SJAIjCWRQ9fOZ8GaJ5yZOHynT8Cf6yzThH4ffDC0gQIAAAQIECBAgQIBAPwUMqPZzuagVAQIECBAgQIAAgXEELj1OZnkJDF0gg6pnJJ6fdtwg8Ymht2fE+j81V6k+bMRpTUaAAAECBAgQIECAAAECDQQMqDbAMikBAgQIECBAgACBvgtkQGXL1PGSfa+n+hGYhkAGVY9O3C3zunfihGnMc8bzeG3WAdefcR3MngABAgQIECBAgAABAnMnYEB17hapBhEgQIAAAQIECCy4wEXT/q0X3EDzCWwkkEHVj+aFulr1lYlzNnpzvv7ZLs35QAZVXaU+X8tVawgQIECAAAECBAgQmLGAAdUZLwCzJ0CAAAECBAgQINCxwDwPFnVMpbhFEsig6m8T+6fNt018c47bvnva9to5bp+mESBAgAABAgQIECBAYOoCBlSnTm6GBAgQIECAAAECBCYqcHZKP2+ic1A4gQELZFD1a6n+zROPSfxuwE1Zr+oPyVWqd19vAu8RIECAAAECBAgQIECAwOgC24w+qSkJECBAYDWBHKzaMa9fI3G1xA6Jyy1FnbRSt1ur2y6em/htotKvE79P/CRx0tLjT3JwzxVFwZBGF0jfu0imrn5X/e/KieW+V7f7q+/4SyWWU/W7Sr9J/GopfpbHYxM/S/+rPiotuMBSn7pKGKpP1eNyn6q+VOu0yySWU63Tqt/UYMTJiepXJyaOq8f0qRrUk2YgEPssyvPOzKzr1r8SAQKrCCx97x2Yz0rdCvgfEw9bZbKhv/SKtO+QtPX0oTdkqPWP/2WX6l7fo7VtdvHExRK1jv5Dor5H6/v09Cyn0/IoLaBA+kntM9Z21xUStR1fv4Ne+5D1+hmJUxO1DV99ZPn579NnfpH/JQJbpA/VdvqVEjsnlvcL69jE9olKy+uis/L8lEQde6ht+Np+r33CitqO/2n6lZPyAiGNLpD+V99vV01cMVHrrVqP1fddffctf//l6RbL/a++A+uY2M8TdVys+l2t66QFFEj/qWMOdfzh6olaby0fg6h+VX2pjntVqu3Z+h6svlLHHyp+majjD8elD9V2lURg4gLVMSUCBAgQGEEgX/L1RX6LpbhBHq+fuE7iEolx0xkp/8gUckTiu4mvJr6SDYLayJQI1E7yNcNw68SNE9X3KnZKdHG3iTNT/tEp6zuJ7yW+kfhq+l/t4EhzKpBlvnOaVn3qJonqT9dLVJ/q4rc3z075x6asWp9Vn/pWotZpx+dRmo5A7VzWgQ2JAIF1BLJeqgPI+2ad9R95fFWivm/nJe2WhhyQeN68NKhP7UifuULqc8PE8vdnHUiugYyKKyXqgODIKeXVwGodWD5/UCOPP0jUttn/Jo5JX63BV2mgAlm+dfyt+kttd9U+ZMV1E3Vy5MUTjVPKrAPLxy5FbXNVVH/5dvpLDVxIcyiQ5b5jmlXb8DdL1DZ8HZvYNbFtYtz0h5R/ZAqp4xK1Df/VxNfSn2oQVlpwgfSNGtiqddhNE8vHJOpnBuqEkLH2IVP2z1NG7Ssenvj2UhyevvebPJfmQCDLuI6d7pG4RaL6T30nXjtRg/Bjp5T/ixRS662K6kNfq8f0ISd6B0LqTmDL7opSEgECBOZLYOnL/v+lVXdJ3ClRX/hjbSQmf5NUZ43WDvHnEv9Vj9kQmNlZe/HYkDo8N9EkPS913tAkg2n/KBDvOqB750T1v9sn6iDdtNMxmWH1v4MTn8qyPGnaFTC/7gTSp3ZOadWfZtmn6iDxFxLVpw5Onzouj9IEBLK8D0uxdaBt6Onm6SfVFonAxAXyuakDPc9JPCVRBw3nIZ2eRtwwn6Oj5qExs2pD+kbdoWHPpbhRHusgYA1qTCv9ITOqE94+nTgkUSe+1RU+Uk8F0mdqAPUOib0St0vcMlEn6E4j1UDr1xNfTtQ21xfTX2a2H5n5S2MIpC/tkOx1PKK24fdM7JqYZqrBiDou8fnExxKfS386K4/SnAuk722bJt42Uccl/iRR+xatTgBJvrbpu8lY332fSlTf+13bguSbrkD6z8Uyx/r+q3XXHRM1GD/ti/tOzTzr+7D6zyfrefpQHWuVCLQW2LJ1ThnHEshK5U9TwNVbFPLf+eD/uEU+WVYRyHK4b16+wipvbe6lT2Y5HLu5ibp8P3W9a8qrK4eapM+nnnV2oTSiQJzrzKh7JfZJlHltAPQl1YGU2iF+f+KDWbb1/9RSbDZkZgZUJyge4zpAd//EAxLXm+Cs2hR9XjLVGX7V/96f/vejNoXIM12Bnvepwqgrb5b7VB2okToSyLKvA1736Ki4WRZjQHWW+gs673x+dk/TX5uoA9jzkA7K9/bD56Eh02pD+kAdK6krwO6e2Dtx88S0DwJmlmum2g+oA8zvSnwky7cOGM5tyvK4Qxp33REb+I141MHTqafUs/Yl75O4Z6IOIG+f6EOq/lED8bXN9eH4/LoPlVKHtQXSl+qKv+X9whqQ2Hrtqaf+Tl1N//HEexMfS3+a+mB9fHbOvP8uMWp6Ter57VEnXuTpYnuptL/2Iar/3S2xXaIvqQb3D028J/G+LNOf9aVi6vFHgU36T21DXaJnNr9KfT6SqO/Dumhg6uuvnnmoDoHhCGQF89eJNuk1w2llv2sa/Ksk6jaXTdPvkqHOUJ5qyjw/2rSimX6/qVZyoDOLU/3Y3J6JtydOSwwhnZJKVn3vkpjKyTGZz4ZE07RhoN1iatUO6PaJ/RLfbIo74+m/nvnvn7jc1LDMaCSBLJOh9qnvpe4HJNqc6DSSzSJNFMeXJ+Yh7bFIy01b+yOQD09tH9atgE+agw9S7fM0PTGzPwtjijWJ026J2uY9KjGU9PtU9N8TNegylylte0ODhfHP00RIvbZO3DXxjkTdLrXvqdYHdWzhfol5uRJ/mot8YvPK8tg28YDExxPnJIaQTk4l6/M51fVP5vcniSbpXhNbcHNQcCC3SuydeGdiKMfE6idmPp14dKIGgaUZCmQZ7JGodUEdqxxK+k0qWnW+/QzpzHqAAlsNsM7zUuW3pSF1VkTT9Ih80B28bqq2+vSPz8ttdiDemjNY6ow8aeAC+SxdJPGINOO7ic8kHpLo0xWpqc6a6ZJ5p+r7icSRaccTEzYi1+Tq3xtZXtdJvDk1q7Mq35Co258MKdUgx8sTx6cdr0rsPKTKz2Nd56BP1ZUnL0lUn3pLtWcel9MU2+QOFVPENqv5E8j2/nmJg9KyaydemTh3wK2sfZ6/HXD9J1r1fN/UgeT7JOp2lj9IPDcx7VtqjtPGunrooYkvpg2HJmpApk9Xs43TtjZ5p7JPFONLJ56SCh6VqKv1Hpzo25U4qdKFUq0P6graDyR+nDa8ILHjhabywtQE4n+ZRF1teXzivYm6U9ZQjtdeNnWtE/lr/VMnCP9lYhrHVOp4iDSmQJbVJRJPTDE/TByceFBiGssvsxk71ffcHRMHJk5IO+qYhP3HsVlHLyDedRJIfebrN5e/nqh1wZA+m3WxVNX5C2nDYYm/SCzy9lMopFEEhvIFPUpbBjVNds7rlit1IL1pqg30RzTNZPqNBbKCvGhe+auNXx3pv/My1WtHmtJEvRXI8q+NxielgrXz+9bEqLeP6mubdk/F6kBfbUS+KOGki74uqdQry+emiYPytG51+peJWh8NOdUG8xMSR6dddbb7LYbcmCHWfQ77VH0mHpmoK1arT912iMulB3X+Xg/qoAoEBi+Q/bZfJ/ZPQ/ZM1El4Q02PyvrUoMmKpReP5ZMr/zcvfyhRt5Wdyp1fVlSj66d1m+IakPlu2nefrgsfSHkTHVCN6xUTL4vFCYmXJnZODDVdMRV/duLYtOmViZ2G2pAh1nupL704dT8u8Q+JWh5DTnWCcB3nrIH6v09M8rM4hJMXersss2x2SDwnFay+V8eSdultZUerWN1uvY5J1P7jwYk7jpbNVG0E4rtdoraN65hqfebnYSD7ZmnHu6tN1baEdUwwpNUFtlr9Za9OSeA1mc/ZLeZVV6I5Y6IF3IosdWVfm1sK1u9DfH9FOZ4OSKC+EBPPTJWPTbwicY3EPKXaiKz2HZN2Pi9R/0s9Ecjy2CvxmVTnG4mHJeZtPV7bFHW2+9fSzrpN1e3yXJqgwAL0qTqoXX3qS2nrZxN3miDnPBZd65o225nzaKFNBMYWyD7AF1JIHWx5VuK0sQucfgF1YOhx059tP+eY75R7pGZ14kmdXHm9ftZyrFpdO7k/lHYekhjaXVDGangyT2QQJ46XS9Tg19GJv5nUfFLuLFKtH56Y+GHaeFBiHj8Ts3BddZ7xrZ+fquOBxySekairpOYpXT6NeX7iR2nn0xPVv7pOQ7oKruu2ty5vqe/VXaZqIPV5iVpW85Rq/7F+97xuBVz7j38yT42bdVviWVfTvyD1OD5R/ejqs67TBOa/c8qsttWJRnViyHYTmIciBy5gQHWGCzA75bUC+mCLKuycPLUDKLUXeFzLrDUIJw1QIF+C90q166qCFyXm/ez8Gkitsw1rB6bOrLKuD8asUvyvmjgo8z8ksees6jHl+d4186vbPtXVhTtNed5zP7sF7VO1M/yppT61y9wv5A4amO3MU1LMtzsoShEECCwJ5HN1ZqKuIrp+4r8GCFMndC10yvfIron3BOFjid0WAGOvtPF/0uaXJNr83M0QiTodUI3bNoknB6IGUmvwa54HcqqP1Hri8LS5rljdPs+ljgTiWVfF11VddXvMOiZ18Y6K7msxNVj3j4kaqN83UYNdXSWDHA0kY3/RRK2/6gKR6oPzvB5blqn9xxpUrX3IGy+/6LG5QPy2TOybnEcm6q4GdavveU913Pj5ie9X28tg3husfaMLbDX6pKackEDbAbo6e1BqIZCVYH2p1m//NU01GFcDItKABLK8d098PFX+SGLnAVW9i6rukELqzKovx+CmXRSojNEFYl6/J1E7K7XRuagHMOvqwrrtzobEUH6LZfSFPOUp9anzwatPHRGLVyQ6PWA65cU5rdl9cVozMh8CiySQQdVjEnWC670TPx5Q22swsc1+0ICauHZV0/ZH5N26ve8+a081l+9sk1YdkPhCDK41ly3cuFGdbR/E6w4p+rDEvyYWaXCx+kwdc6qf9HCCbiDGTXHcO2Ucnqj98zoBepHSVdLYtyUOiUOdkNRFmsRVr13Uq3dlLPW9b6ZidYX9Ig5E112OvhGHNyQu07sF1PMKxazuzlL7lPUZvlLPqzuJ6i2vv74ai1tNYgbKHJ6AAdUZL7PsiH8pVfhai2rsnQ/yDVvkk+WPOwZtHF6e5XVem4zyTF8gn486A+9FmXMdNKmr5RY51Zd+ffnXoFaddSxNWCDOdZC1BlJrh3kRd1pWCtfO7nMT34nL3Va+4fnoAvrURlbb5r8nJer34e6/0Tv+2VTgk5u+4H8CBLoTyL7BR1PadRN1Bc453ZU80ZL+YqKl97DwfFdcLFEnMr81Me9XhK23BGqf4LBYzPv22NgDqjG6ZOJ18fpc4kbroc75e5dL+5ZP0N1jzts6kealH1058b4UfnCivi8WOe2ZxtfA1rMSNWg/TlqEKyzH8dkixrsk/jOF6HtbbFHjH/sljozJg8eCXZDMcdo+8aY0938St12QZq/XzFvkzbpY5fUJA/PrSS3AewZU+7GQX9WyGnWLEKmBQFZ618jk92mQZXnSk/Pkncv/eOy3QJbzbqlhnazwzEQdeJe22KIGUmtQqwZWrwdkMgKxrQN2r07pdYD1mpOZy5qlnpF36hY+X0l8KvGhxLsTBybekXh/ol7/cqKuuD8tMc20a2b2X/GpKwsvOs0ZD3leS32qDgLPok/1ne7qqeD7YlS/9bXoJy6stazqM//7td70OgEC4wtkUPUPiWekpJsnvjp+iRMv4YFZZ2458bn0ZAZpa11NUds+dSKO9MffF/1wXOb57iljDajG5pbpKN9IPDaxMJ+VzXw4ajD+K7GpE3QdR9wM1vLbsfrTPP9W4v7Lr3k8//jMC+PwpfiMM8BsQHWdzhTbuhPDYYm7rzPZIr5V2wTviE/tQ9YJI9IqArG5XV6uddejEtNe5/9qad51QtMnE+9NHJR449Lz+smG2set/n1CYpoXPpXFYxLfjNGt8ygtqMC4ZwQtKFvnzf6PlPiSxFUbllz38H5WduBrsE8aTeDxmaxNv399nE8dbRammqVAPhMPzvzrbOJLT7keJ2V+RyV+uPRY/9dB7Bq0OmXpeR62qB38OvB/8aXnV8zjtRK7LcWOeZxkqlv/1qDqfunT75rkjBat7JjWQHUNYN5wwm2vK2C+k/hiog72HJ34UeInWabn5nHklDpfORPXQGdF9Y3bJ26caLOeTLbNpjoo9aTEn2TeD0p9j9hsjgWeYIp9aqVy9aHjE7U+W47f5flvEvU9ePrS81qHVWyfuESiDmrsnFhel9VjvT+NVAeFbxWvB6dP1Y6VtCQQjzPi8qn8ez8oBAhMViCft2/l81YHoP468cJEX89ev3rqVrdvm/v1ZZbHTmnnwYna1p5k+kMKP3JF/CTPf7Eifp3nleo3eGvaunKo+kcdmKt9lqskrpCok39re/I6iZsk6jt2EqlOOH1b6nCp1Oe1k5jBjMus/a3GKR61nfq0xIsSk9oWXq5XnQhZ2/DL+461zXViovrHbxO1vXV+X8njym2u2t6qvlJ9umL3RG3HT+NkxTKpE3RvE6t903d+nufSKgLxqc/YPySekqh+Na10VmZ0bGJ5G776WB2LqG356k91bKKeVz+6WKLWQ/W84pqJ2n6vqD5V708y3TKF1+87PzZ96e0tZlR1ljYRiGet/2q9/tBN3prkv7W+quMRtT6rPlf9r74HT02s3IfMv+d/Huq7rfrXlRL1/VdR67IbJHZJ1Lpm0qlOcrjl0rrss5Oe2VDKj8fWqeszE89JTHo51HfdoYkvJ+q4UPWho7M+qNdHTqlz9aVaf9V669qJ2y5F9a9JpZpf/YzChjy+OHU+d1IzUi4BAusI5EP4nESb9NR1ivXWCoHgXjzxyxbIZybP1VYUNZOnqcNHW9R9v5lUdgYzjc0lEm9uYdQmyx+SqX7/47mJvRKdDd6mrMsk7px4QeLzidMTk0qvSsEXGXVxZdo6I7lp2jBq+UOeLiiPSZzaFKfB9D/MtC9O3CXR6iDRqL4pf7tE3Va+5le/mzSpVJ+jR49ar0WbLjaT7lPLy/XkPKkrVf4msUeikwNyKWfLxE6JhyQOTByZmHSqwcOnJeoAtbQkEI+/mDT8hMvfw8IkMDSBfCaulKir5/ua9h+aadP6Bv5aieMntABqn/K9icclrpvofMAkZW6VuEHisYkPJmq7qet0Tgp8cFPbWUyfer6hQePPzbSNtgUy/aUS72swj6aTVp+p5fjkxM0SddC6k1RlJW6UeFLi/YmTEpNOJ2YGe3fSgDkrJC67JmqgcBrpx5nJ2xP7JWpd1MkASMqp9c8uibqIo46x1L7oJNNrU3ijfZBM/28NK3SvOetqF2pOPG6ROKqhS5vJ6/Nf65pan9WgZCf9rhqUsi6auHWi9unqGOhvEpNM9T347ETn3+MXWkA9fyEGV098LjGpdFYK/kSitp1umGj0Pd2UL+Xvlnh4ovrqJI/VfSblX7Vp/UxPgEAHAvnw7Zg4LdE0HZsMnW2Md9CU3hYRp9rIbJPe2YdGpeIGVNdYELGpg1b1WxyTTD9P4a9M3CGx7RpV6fzlzKtOBLhT4o2JXye6Tp9MgSMNCGc6A6qbLOGYXCTxlsQk0tEp9MWJuopkZinzr52klyVOSEwivSmFdrYTNjOojmYci0n2qeXld0yevCBxk8REd2RWsmReta5+ZOLTiXMSk0ofSMHTujp2ZRN7+TwW2yZ+MSnsKZQ72AHV2NQByf+XeG6iTlw4PHFcog6Afjvxn4n6bq3vedvzvfwEjVepLNe9Ekck+pbePV7L+p072JdL/KBj9N+mvLcl7paY+nZL5lknj94/UeuNLr9Dz0x5d+33Ej3/IHuTAdU0abT9m2p3pt01MYnPaW07/3PipompHayveSXqYPXzEl1/DlLkBan64d/1ve9Ms08GoxIAAEAASURBVH7x2DMxiX32C9DzpG69XIPnu0y5bVfNPP8q8dlEl+ugFHd++mL+7jBqmzJtndTSJM31gGogHpmo9fmkUq0jz99/HHUZdTFd5rlNYq9ErUsnuT57Z8qf9FXZXZBMpIy0vQaxJ3Eyztkp95OJRycuP5HKj1Bo5n2pxEMStT9WJ2F3nep48a1GqIpJCBDoWiAfvrYH5e/bdV3msbz41kGsNqkXK8VU3IDqKh0zLrsnftRmwY6Q5w+Z5h2JuyemfuBk0+amDnW23p8larCgy42Ab6W8us3KuinT1EHfpmnDuoUO+M1AbJeog1pdp9qZ3CfRq4PrqU8NDNwrUfXrOh2cAkca2B9wl9ls1WNQG/p11uYkUp3d+8ZEDe5M7aDeWo1OHa6WeHriO4lJpENT6I5rzX/RXo9FnRA01DS4AdVAXz5RB51ObID+00xbJ9HM7GDDon0uptXeLNOLJWob6vREX9Lx02r/tOcT4Dr4+qkOoY9OWTV4MdE7hDRxSl2ukXhZovZVukh19eTM78i0nkHq13RAdaSrRVLurRJ1ILSrdEoKemuiTpSZ2klrm7G7RepS/eVniUmkV6fQXu23rOcxqfdi8OeJSa3nj0rZ9T2y+6Tq36Tc1OPqiQMSXW/HH5kyRxooznT/lWiS5nZANQh/nzi3CcaI09a6sbZn61a8vUipy20S9X0wiStXa/9xkreJ7YXhppVIm++T6Gp7IkWdn+oktFckdt50frP+P3W6YqLWp12fcHxaytxn1u0zfwILJ5AP3g0Sbb4ED1k4rIYNjmvt0LRJhzac1cQmT+UNqG6iG5PaAe76S7D6ya8SdUZvbw9qpm41GPHSxO8TXaRjUsg1NyHe6N+8b0B1SSQWV0l8M9FVOiMF1Y5B/W5W71PqedtEDey3+c5KtlXTN/Jq/abrQqZqe+KwVWXGe7HONK3P7qR+h23s5ZW63T7R5jsu2dZNdRD82mNXcA4KiENtYw41DWZANcA1kPO0RB1Qb5vqAMSzEwt7lvwcfORWbUKW6W6JOku/L6nXA2irIo7wYnD/qSPgH6ecfRO9HShK3eqg4GsS5yTGTZ9PATM/gXStRZy61XZyk3Sdtcpafj2F3TvR1UHkGpSu7a0+7z/WyR37JX6Q6Dq9PwUu7PdW2v7kRBefw02Xy1fzwv0SvRicX/7srHxM3e6S+HSiq1QD/zdaOY/VnmeazzWc4dwNqKb9Wyde19BhlMm/n4n2T/T2jj+p2yUTk1ifHZty1z0utlp/HOpraesTEmcnukrHpKDHJ7bru0nqePHEYxJHJbpKZfn4vrdd/QjMnUA+eJ9p+Sne7AbH3GE1aFBMP9TS9YENZjPRSVP/Ngeb5/Y3VONxj0RXO8DL3aMOnPxNovdf/sudLXWtW5o9J9HFwPLxKWe35bI3fcx7BlSDEofrJY5LdJFqQPI9iTXdN10Offo/9a5bw3R5xWrtwAxiULnL5VBtTnTVp1LU+emY/H1corc7wpsapq63S3ws0eVAfa0bb7PpvBbx/zh8JjHENIgB1cBeLfG1DoHrYNadFrGvznObs0y3TNQg3UmJWaf7zJt1QPdIjHtg8KyU8YLEJYbik7rWzzN8OzFu6u3tW9OwpgOqt1hv+aW8v0jUsh431f5jDaZdcr359em91LXuOnP/xP8kukw1KH/ZPrV10nVJe2ud/i9dIi6V9fE87jXp+ndZfupb66E64baLgeXafl/3GGfe/3qiSZqrAdU0/BKJjzQBGGHaWifcNTHzuxmN2jdT1zqZsbar6jhCV+mYFDTXg6ppX627/inRVaqLUp6SaPRbyKMu50lOlzpvm6gTCOrEqK5S2Q7mczRJX2UTmIpAPnD3bfnpPXAqFRzgTOK5c6LNjvVPku8ifWly6mJAdWlhxOJOiTMSXaUamH1OYjADD5v2y9T9MomXJc5MjJNOSOZdNy2//s/rG1oUvGG1sob6Wtp/rURXt8uqgchbD9ViZb3Tjj9L/DDRRSrfa60sf56fp627JU7sAm6pjFqf1Wd1sFcJpO7/L3F4oqtUJnvOcz8apW0xqIOnQ0y9H1AN6k0SP50Q7ttT7hVHWcamGY5Alun2iVckujjwnGJapScOR2zzNY3ANolx7/RwbMq4/ebn1r8pUu+6+vDAxDipvi+v0b/WtfoN1Tuu1Y608WGJNscHVtqeln8GNfC+qUfqXwfUH5Hoat8mRZ1Xd5y5zKbzmtf/09auB1PrFrpr9t0hOKb+t0jUlbXjpnUHVVP4EQ1nMDcDqml3DQAd3LD9601+Qt6sQcneXgm9ub6futd34NMSv050kY5LIaseF9tcXYbwftpWxw67SHVctgYPB38yTdpQ2+b/nOjqWPPLhtAX1JHAXAjkg1tnCx6VaJpOTYYd5gKh40bE5aVNMZem79UZuqmTAdX0jTjcMNHVRlIt6nKdm7PP0pbdE01/TyRZNkpH578LHbzNazVI0zRt6PgjPbPi0vCrJI5pCrDK9LW+PiAx2B2W1RZC2lO3THlJoouDw3W1dC8P6K3W9ravpY1XTRyT6Cq9OwXNxS0c0446MP7ERFfr+9+lrNu2XVbzkC/t3zpRgwVDS70eUA3mbokuD0avtnzqc7B/ore3Hp2Hz8gs2pBlukei6VU2ydJJ+sdZtHlS84zIX42p8sXkv9yk6jetctOGJyfOHcPiHdOqa5P5pD1Nr1C992rlp5y6MnXcbdUPpYxdVit/iK+lLZdJdHFiboo5P302fwd7ovKoyzBtfPofm9vJ3/qer/3DbUedf5+nSztqsL4G6MbdPjopZax6J6e8XvuLTdJcDKimwXXMuPb5ukj1m791jGcwd2TYXL9PW66UeE+ii1T7TXP3k0Rp07O7wEkZdQL0TTe3TIb2ftp0g8S4J+iliPPTs4bWfvUlMFiBfOTqlqNt0gGDbfSEKh7ESyR+1QKzBjx69fsnqc/CD6jG4JqJrq4AOSFl3XlCXW/mxaZtdbDg5ETb9JVk3GjDOv/XxnbTtGHmGB1UII2us9W+1bTxq0z/pby2ewdV6m0Rad/tEl1crfr9lHOF3jZ0zIqlbTsk6iz0LlLdbm4ubw2adu2YeH8XSCmjDlbdYMxFN+jsaf8zO7KcZjG9HVANwnaJLtZ3o3rWd/NNBt0JVf5CAlmm2yRqwLxO/JhmeueFKjPQF4JWB5hru6Ftqv2suRkASlsenmg7aFiDsTfsW1dInZoOqD500zakjD0TNYDQNtXgzlwMymxqU/+nbTdKfLctzib5Ppz/e/ubvKu1v8lradvDE+OcuJDsF6Tazp3LfZ60qwbr33xBS9s9OSLZLnSyS177ZcPi5uKzmza/qmG715r823lj3dsqN/lM9G3atO0+iS7uAlUnvQ3mJ8E2txzSlscmxk1npYCXJObiBJDVzNK2iyTqJJczE+Om/Vebh9cIEOhYIJ/USyV+2+ITW7ckmNuN1jbM8XhcC8fK0rtbKKdOCz2gmvZfPjHOgZJkvyDVDl6vBszb9O/N5Ukbr5H4/AWtbv7kfclywX3/83whB1TT7jpgXgexx0l1UOtZibm6KnWtPph21vfYBxLjpnKfmx2YZa+0qU72qSthukh1lcTc36Eibayz3E/pAKxu5z/3Vz8v97VNH9P2+i49rQPHaRbR5wHVN00TYmledRDjpYm5Wzdu2l8X7f8s06sm3puYVvrCvBgH7P5joNWtKTc6iXAeXNKmp4xh8qa+GaQtTQdUH7uyDcl/g8RvxjA5OHnn7kqllUb1PG2sbdQDx3BamfWt+eeCfclN5zXU/9OmeyTqu3jcVCfxP2aoDk3qnXbWyd7jfP7qmMZGgzf5v+n27OAHVNPm5yTGTXUiQK1P5+57b9M+mTbWibn/lRg3VRmDP9aeNvx5ou3JVsuGNe7Q232zTfvAuP+nrbdNjDswX+Z/MW5d5CdAYASBfNhemWiT7j9C8QsxSfDqNiPfa4OYPL07Uyt1WtgB1bS9ztwfZ2Aw2c9PtdH9+MTc7dit9aFOW+sWj89NtP2doKctl50yFm5ANW2u9UgNwI+T6gSZey47Lspj2lx29dtStdM2TqoBw7n5zFZbEuP2qfKs9dnjFqU/VTvT3usn/jcxbjosBQz2N2bHXeZp+9vGBZxy/l7utMdgj8S467dxKOvkgH3H7Q/y908gy/W+iePH6Rwj5v1B/1rfrkZp76dHbPOmk5XzDu3m2v9cadubN23wiP/XNsaOfWph6tN0QHXlPsz2yd/mZ5WKq65OeXpiIU6KXF7maW8deB9nACzZz0/PXy5zHh7TohqY/8MfmzbW37o68PrzYDJqG9LenRN1t6a26dXL80oBdYyjaRr0gGoa+9CmDV5l+rqD2d7LjovwmPZulXh2YtyBxJcP2Svtv3XijMQ46XPJPJdX06+3bNPmqyXq+ME4qexvtd58vEeAQAcC+aDtlmizwv9sB7OfiyLid9dEm3RwHwHSkEUeUK1BmXHTz1PALfu4bKdRp7T9bonft0Css2/3qjrmcREHVJ/awmxllh/mn4XaWd60P6f9+yTGPfDwt5uWO9T/YzFun0oR5y3s+ixtrysnuhiQft1Q+9C49Y7fzRJDSn0dUP14TxA/knrsNG6/kL9fAlmmta6r7a5xD36liDXTD/vV6na1SeuunDh7zVau/UadEDG3P/9Rmmlf3THk2LUJ1n2nV7eoS03fsG5tL/zm+QN5eblOZGt715Tad7pbu545/Fxpe53INu7JHXVM667D1zj/83TJtKXtCfvJekGqk0Xn5hbjTZZt2l0nyr/lAonmT84/kSzZLt0863Bv1522XivxuxZtXpnl6Pxz3SbLa56mTdvvlxj3mMSDhmiSdl82cUxinFTfwRtdJT5Ei7Z1Ttsvlvj3cQCTt75P5/5OiW2N5SPQmUA+aG0G0OrzfePOKjHgguLwn4XRIvXySrK0o01/2G/Ai/D8qqfdeybaHCRZuehr43H3oVuMW/8Y3ChxwkqYEZ/XVTA7JOrAXtO0Ydx6zyp/GnqrxDgHMr+V/DaYsgDjcLvEODuBNbB/+1n1ha7mmzaM26dSxHkLvz6LQZ2V/prCGDNd6PfVulrWfS8nboeOaTfN7L0bUE3jd0rM8urUTf1PzQv1Hb2wBzr6/plrW78s09p2+3JiEmleBlTr92fbpH9vu1yGlC8w926Dkzy9Osk49Wk6oPqvtZyS7xkt21/7Pwv/m9Ux2ClxRGKcdFIyX3VIn5vV6po2/Ns4CEt5X5fHrVcrf1FeS/vrJIfnLXk0fajtnesmrtw0Y6Yf5BWqqffFE99u0d6VWT6ffxb+uEQM9kiMc/vWump/lyF9VlPf+rzVSRzjpOcOqc2TqmsAy/JV40Amb41TzM3d1yZlrVwCYwnkQ7Z3yw9q737zZCyIFpnj1vYK37qarJe380m9Fm5ANW2+QuKniXHS15J54W5LsdbHJhY7J9rsFH8g+epgbdO0Ya269Pn1NHLcs/i+mTIWfqdl5TKOR/3+xG8TbdOPk3Gwpqn7uH2q3KzPVnSqeNRB9HEGtX6f/At5pnba/ZDEUFIfB1Sf2VO8OuB2uxUfE0/nQCDLtA7g7Jv4ZaLLNBe3/A3IIS1Q6mTNa89B99hsE9LO6j//08KoTiq89GZnMKUJUpemA6pvSp7rJU5LNE11FaIr/5eWbSxqG/aLTRE3mf5z+X+wv0GYuj9ok/Y0/be2VzdM6eMyiNnE4xGJuqV20/SNZKjPdtM01AHVNzZt6CbTfzD/X3QQnWIKlYzFtRNtLjJYZq3v08GcwJi6Pn254i0f/34Ki2Uws4hhbVO9oqXlcrYDBtNgFSUwVIF82g5f/sQ1eDw90y70AFLa33YF98S+9pW0aaEGVNPe+qL6eGKc9JVk3q6vy3RW9YpJDVQf2QL2Oy3ybJhVO9vON22svvexFm1dzvL1PLls2/nPc764jDuo+t8pY3Bn9FWdE+P0qWQ/z/pslQ9HXJ5UOGOkGoBauN9TTZu3TYxzhvYY5I2z9nFA9dONWzG9DHXQ9qDEYE9AWeWj7qUIZJlecWnZ1jLuIg1+QDUItS47tQXGhxapU8Xnz1sYVZZ79MUpdWk6oFong9bAS9P0g2RY6GMpqy3zmGyXqBP7xkkvWq3svr+WBl8ncco4DU/eJ/W9nbOoX1z2SbS5G1mbY2ODG1CNzYMT46S6Gm4wg3/T6oMx2TVx7Biwz5tWXceZT9pXx17OHKOdBv5WWQDxHHdQdS7uvrYKjZcI9EcgH9RHt1z5/V1/WjHdmsSrfiumbsXQNNXtKHtzFu6maqlbm43G/TYtZyj/p711xuI4qQb/dhhKe6ddz9hcLTHORuSoy2bDtNs27vzSsH1Hbdwq09VBGP1unYUQnzsmxtmwf/g6xffyrbT34YlxkvXZOks2sBvGwa386xQ/t2+l3c8f021a2Xs1oJpG1070r6fV+DHm86vk3S8xuJNQ5vZD11HDskzvkjguMW46sqMqzayYANyuJcLgDqyPgxyj+u2vNuut3hxMTf2bDqjWAcumqW7ze81xrOc5b2wun2hzp6Pl5VADZ736Tt/c8kp96zv/M4lx0obNzWeR3w9s7XufMw7wiHkHtd5Pm+ok+JNHbNtqk30qLy7kb/WO8nmKTQ2q/nw1uBFeq++XXt8SPvWrE87GWV//wyiOizpNbOu74W2JtqkucHHl+KJ2IO2evEA+YHW//Da3d6pbGFxk8jXs3xzS7roFYJv0sv615v9qlAYtzIBq2nrpxE/bLMSlPMfn8Rr/p+fZagIxulbiZ0tmk3rYsNq8+/paEOqWVm03rOvg9e59bVuf6hWnRybapvpOHMyVV6nrOH2qjKzPRui8cXppYbVMdWePhbj140rKtPnKiXFObmjJ3Thbrw6+pvY7Nm7BbDN8PrO//spl7/nwBbJMa1v5wDG71peHLpH2P7mFQZ14O9hbj7ZdZmnz21tY9eZ3ZlP3pgOqTZtb/aLXB8jbLvsu88Vo3JNy63aZvfyJpdWcUteHJ8ZJr1mtXK9tLBDgJ4yDPGLeoQ2ojjNY86WYXGJjZf9tKhCj2yTa3OWiulzdPaq3v4ecuj2rKtkyvS/5BrOe3nS5Tuv/GF0kcUhL48r27GnV1Xy6F/AB6d600xK33HLL01LggS0KvWry3LdFvkFnyQqpzsL/6xaNODd5bOy2gJtQlrod0JVblv3r5LtTPjvHt8y/MNli9MM09p6JWs9IfxSoM/Ha3ObrrOTbJ6aDv33eNDpCnN6a+fxLy3nVFcBDumVY2z5VPNZno3eSp2XS94w++UZT1tmhr9zolQX4J5/DE9PMDy5AU7tu4tBu6X6HAHwz28j1cxiX7BpDebMRyOf3d4n9Mvf7JX7bshY/a5mvT9l2b1GZL8Tu7Bb5hp7liy0acJ0WeYaYpbbj75N+8a0hVn6adY7RCZlf3Qr6lJbzvXny/VXLvFPNlu/M7TPDfxxjpu9L3ieOkX9hsqZfvTqNfcHCNHgzDU3f+3+Z5GGbmWytt3+aN+4f01PXmsDrfxSI0aF5Vne/Oq+Fya2S5/Et8k08S/pPXVzS9q6VhyXvvrGpY+TSOgIxOv8YYCap46pt0jOzrHZtk1Ge2QsYUJ39MhilBrVxUR/UpmkRN97uHqQ2V5l8JCvDo5sCm757gXyh3DSlthkUr8rUhtCjsizbfqFVGQuVYvX1NHj/hWr0Go1N37tl3qqDk23SE2N5SJuMC5ynbiP38Zbt/6ssr9u0zDu1bKljHTR6dMsZWp81gMvnr3b6HpU4okG2lZPWLTT3WfnCgjyvbUypmcB2zSbvxdR115r6/bbD08/v2osaqUQnAln3fSgF3TrR5oSuOqli6OlaLRpQB1AXMX21RaMv1yLPELM8K5+lzw2x4rOoc6y+m/mOMyj64nwX7TiLujec5wsz/RUb5lme/Kg8qeMSBiWWRTb/uCGT/PfmJ5vvKfLZ2CYtfFWizU821HHjB6bfzcMJU1NZ0LF6b2b00pYzq5+d6eP35GvSnjYnUVa/uWdMDMaP2CFi9atMWheztTG7ePLVZ10aoIAB1QEstHxA6wyj97eo6h2ycq+DuYuU6mBRm/SKNpnk6VYg/bU2GuvLv+2tM/41nxdX2zRcLDF7Y7L8e8NsczV5+l59H74u0eZ78YMxfMNcgUyhMTGrAwyPTPyyxezOX15Zbm3XFS1m2SzLUp+qftG2ji+3PmtmHq9TkuPPE212aGpm/5rlNsTBsqp7qxSzLyTjYa0yL26mNge4+qK1ayry8fTz+hmJq/elUuoxnkA+x/VbqHWSUX2em6R5OAFxpyYNXpr2+y3yzEOWH7VoxKVb5Blalo+lwv8ytErPur5Z7/xH6vCWlvWoAYh/aJl3KtnyHVkneT+25cxOS74HxOh3LfMvZLZ41b7hvonjFxLg/xr9lDy90f/92+jZ38ax6bZAoxnM6cR/l3Z9rkXbLps8T2uRb2JZsu6qwb17tphBncz9l+k/BuMb4sXse8ny1IbZlif/0yyz+y//43E4Am0OHA+ndfNV07YDfo+bL4a1W5OV0O55985rT7HmO9/JO22+PNcs0ButBer2QXVAqE36WjLVhpDUTqCuCq4NgUVNNQhzsxaNrxNe9muRT5YILG2wtz3D/cYpYp8eQ7btU9Wk/0k8o8dt623V0qfqO73tVcFXTd5aFy5aev2iNVh7zz/QckS2nQ9IbM1j+AJZ952cVtTVxzU4NGqahwHVNgN+x44KNE/TpY/8Nu2p78gaWB012pz0NiS2H6eyj4xNHUiWmgs8PlkOb57t/ByPXDp+0zL7xLM9L3No+/24f/pUW5eJN6zPM4hbrXNq/+6MPtdzUnXLZ+IyKbvtMa06ydvVbi0WTtzqZwDqFsv1Pdk07Z/ldrWmmSYxfepRYzwvaFn2q+Kw8FeIt7SrbLU/3WQbfOWsXrC07Fa+5jkBAl0J5ANWP3rdNJ2eDFfsqg59LiftfG1TnKXpH9nndi3XLXWtqwmapkEN9KRxX27awKXp/5DHay5beWwnEMMbJ85aMu3qYUO72kwvVxq6VeJ/WzT43ORpcxLH9Bo3kDnF8c0t/CvLdxK9Ozms6pRo06eS7bzTErsOZNH1tpoxfG9htkg/S566/c7CpGpv4pctrKaVZY8+LYw0eo9pNXxK86nfV71Vn4zVpb1AluW2iQ+P2Heu0n5O/ciZdp4yYltXTtbmNsH9aPAC1yIL8A0rF2IHz2s7fs8FJu2k6TG8WeLslsvjLZ1UouNC0pYbJap/tEl1G3ZpTIHAP6sN/mby3GvMak08e+r/95tpw1pv/yZvDP47feLAm5lBDOtEjzbpDZspeipvp+L7tKl88tQxlYXa/53EAonhlRInJdqkOhlfGpBA7w5CDshuFlV9RYuZXjR52l7902J2s8mStdX2mXOdUdQ0/SIZ3tU0k+m7F8gy3Cul3qZlyS/M2VTHtMwr25JADOtM2kU8q/F+afcNWnSEt8Xs4Bb5ZLmwwN/mpTZXQVw/+Wr59S217VPVjhenXx3dtwYNsD5PSp1/26LedRJa2ytcW8xu9lnS305LLXp5UHP2OgtRg5uklXVCWw1WtLnabyGQhtLIfJ7PTF3roMwhm6nziZm27rIx9HSxFg04vUUeWeZP4KB8Bj47f82aboti+I3Mse2dLh6a752dp1vjkeZWVwhuOdKUG090av598sYv+a+lwD8n3xEt8w4yWz4Ll0rF2/afZ8zJd/pMl10M35oK/HeLSuyb5XeFFvk6y5L51zrr2S0KrDs0/HXaXvuD0hgCMazbJT+jZRHPyTI0RtcSbxbZLKxZqLef5/uS9YQW2R+XD+ZFWuQbUpZHpbLbtajw67PSs1PdAm4CWZ7VsswfJN/LWuaV7cICz81LbdYzFy5pAK8sbXi2ua3O79O8Zw6giYOoYtbDv0lFq++1SXUmb5uDHm3mtdk8Y/SpKrsGUv9pszMxwWYF0qdOzETP2+yEq0/wjCzHNgfpVy9tGK/W75efM4yqquUEBGqfsO5qcmT6/r4TKF+RUxTI+u+MzO7+ie+uM9uvrPPekN6qAeSmqQ5aS4stcHKa//TFJui09bVPVNtdTVMdo3pq00yTnD7fgXWXmAe0nMeGrH+PbZlXthUCcax1+2MTNdizKKluoV2/L9w0fTUZDmyayfRrCjwx7zTdtqj9xln/3N59U4cbrdmqtd94Rz5vX1j7be80FPi3TP/1hnlq8rpQ4N4t8skyIwEDqjOCbzPbrOTOSr7Xtch7leSpneq5TNnorX7c5surPN8wlygDa1SW4S1T5Tu1qPby2VR14EjqQCDrmRoo/JsOihpKEbXRskeLyj4/Vm0OHLSY1cJkqfXx/7Zobf2Wap9u4dS2T1XT6zeXnOTTohOskeWVef2ba7y33stXzpsPX2+CeXsv/e64tOk/561d2tNYoPr+27Jddkji2o1zy9AbgXym60SleyR+tUalPr3G60N7ua4Ia5q2b5rB9HMnUFdznTR3rZpRg2L5u8y67VU5j8r3TR2v6kv6u1RkmxaVqRNYXt4inyxrCKRffT5vvX2Nt+fq5XwGLpkGPaVFo85Nnv1iVY9SBwKxrBOc2xx3rwuZZnnb3Ge2aP4pydN23d1idvOfZemzuH9a2uZkkLpKtTcXCsz/0hqvhW02FMabo9zjCrw+BdSVfJdoWFCdZfPuhnmGMnkdSN+lRWX/Iyu7n7TIJ0v3Am0H8D6QZXhI99VZ7BJj+r58kddZandYAIna2GmafpgMNVAjdSiQfndO+l2dpf6JFsVWvo+0yDeJLG36VNXjEzEwoNXhElnRp9oMHPxt+uOBKaPNzlCHrZhqUa/O3JwZO1Xy3s5sr9Ssflv1n/JYtyE/o7c1VbE1BbLcjssyrCuOP5bY9ADNp9bMOKw3aiBnh4ZVvk6m/3LDPCafH4E6ee/N89Oc3rTk31OT2ga+WcMaLV/Z1eZWlQ1ntf7kWV9ePlM8dP2p1nz3b7LOrRP2pW4FDkhxD0jMcqCq2xatXtrD8vKOq7+17qvvT7/79rpTeLONwPOTqc1Jzjsl35FtZjhOnqy7/iT5b96ijNrGd0y8Bdx6WWJaP6XygUxz//WmW+W9m+a1OybaHLtYpTgvESCwkUA+mG9MtEm32KigOfknEJ9ug5E8dVXkYFLq+9EW7azbt/U6pU07JE5v0bZzk+fGvW7cgCsX2zu3WCarZdnQV4ZU9hqJGsRrmurgpDQhgSyMQ5sukKXpbzChKo1cbOrRtk9VE+4w8oxM2Eggtl8o4BapdmgWJsVny8QRLZwmnWWPPi2ENHaPSTe4Z+X/IPXZu0/LQF2aCWT5/fMmfer7zUro79Rp12c2adso/762vy1Ss7UEsmDrd567SDU4I01AIAvnz1ouoBOTb+Y/UZU61Ml0bdKhE+BU5JJAFsgr2yyUVfL06Y5GGy3f1LUGYJqmOo5xo40K8s9CCqQfvKlp58n0v0q0+dm8hTRu2ujY3jBRx6ybpvc0nZfpZyOw1Wxma65jCtStRNpcMfGEMefbu+xZM9V9xuss+qbpSzlr5GtNM5l+IgJ1Nt5FW5T84SzDw1vkk2UEgdgenMm+MsKkQ57kIal80+/B45PnXUNu9ADq/rKWdezDCSRt+lQ19wv5zPntkpYLfoRsLxxhmtUmeexqL87ra+mDtW35mnltn3a1FrhWcn4y29wHJa7QuhQZZylQV359b0UF5ulgzTEr2jXq07unL296xe6oeU03bIHvpvp11Yg0GYEPpti6ArhpulIy3LNppglM/6iWZT6/ZT7ZRhOou2XM7Z0y8n20a9p369EoNprqPdl2d3XqRiSL90/6T1293eZEoVel/5yyeGLTaXFs67uwzd1g7ptlesXp1NJcxhFoeiB5nHnJ25FAPpi1I9DmNqcPzAezNlbnKdVtZdrsEL9inhAG3pa2t9V50cDbPYTqv2AIlRyjjjX41TS9NOvgs5pmMn0jgTrQdXSjHH+c+EH5jpv12e1t+lTV3vqsxQIfNUs+s3Ub6TYnUd07fWrRfmvvbbGqW2hKBFYK1LZ2nQB3ZD4T+yfsQ67U6fnzrAPrQHSddLR8Qu57e17lJtX7TpOJl6bdKY/uCtECbg6yvCCfh3PnoB29bEJsax3Tdpu2vmNmlvK9Vrcqvm6LChyWPB9vkU+WEQXSr07IpG8dcfIhTlZ9v+kxzfqszfuxmiEuy1nU+d6Z6WUazvjUTP/qhnlM3lzgpc2zbFHHsx7UIp8sUxawMzxl8A5n12ZAcNvMvw9X8HTCkI3ey6agB7co7CfJ86EW+WT5/+ydB7wsRZW4F8kgiIAogkQRA0mSIAgoYsaIWRB3FTEg6Lrm1ee6uroGBBHBgIqKgllMK6JEkT+iJAVEsiggOSn5/53Hvc/77rtz7/SZ7p4OX/1+587cmTpV53xV3VNdp6u6ZAK04boUGRcvRdNPGVj/pqiS+YsRgPGP0ejkKmD63pb4Fivci6RryfyFIgrmLU6Afnc3WpnfuFXRG9u2lMk+FYDOwOcI+JmqJfDhRPGxe8JzEnqtVaEv3ozxh7fWAQ2vmkCMvWOnnBM4521UdWWWXx4Bju2TKe0I5DTed2lFy0lJSu9N6qnWXgJ/wvQu3UzQ1JYIxhcmjHs6vysrJvTKUtktWdAHOadGcMtULYGPUHxcI3YxZeY0Y3ejqTtPdJGLPg1HILNA5Qv0n2uGK95cIxD4GbqZXRteMkKdqtZEwIBqTaArqOaHlHl+oty9GahGYLULKYLDyyccOZAfD1eYJcBVoPICyix6N16Y4WRvBY0xoMiu3g2aGXgewbnj1gGc/LhcAl+luDsSRb44oVOWSqZPRd2fK8sAy5mVQIyb/jZrjpm/fNHMH3f60wPxzsnBTjfxyM5tRwm/45riAOT+I5dmAXUReBcVxfHdpfQ7nLkp4dDO9N1nJfRUaS+BLzOOd3Vqxe03wfgriWqWQSdWWo0rxbxE0XQdCj8qqmT+4gToV5egdWxxzWZr8Dv0eCzcIGFlV+doEij6q0L/eRDePzVBwPmHBLSiKpy34nr6sKJ65N+atl0voadKjQQMqNYIu8yqJg7MgxNlro5O9u67RHXVqHByWZySX5so/TZ0vpDQU6UaAs9MFBtteHRCT5UcgXheaBdvQMhMosXKDlMNBPiNu55qMttnPZPfh3GNbTJ96h/4GceYqWIC9Kk4j30jUc2T6FPLJfRaqwKrCzD+5611QMPrIrAEFb0JiW2AMxPRddlpPRMEOLYvQ+KGpc6kiXP7t5MOfYm+G7vlmLpPIAKp3pBbXzvHeSZzY1ZmbmBkrzgPREDrEYmCvsk5KHMDaKIqVSDwpQ5SyOyEcwscvtVBFrpUnMDTUVmyoNpZnLfOLqhj9jyBI1Eturo+Fh2N5fcw72b/NMc16dg/0tV4HHcl3Zgoep+ETtNUnodBmQvgw/nxiG07TWMmwIXL8piwbcKM79OGMYg01UAA1ldTzTE1VFVbFfS9uGBev2CFF5H/1II6Zh+NQCbQuCpVbjVatcW1k30qKvoOx1gEj031EMiumNixHvMaVctBjbJGY5pMYA2M+xbnwaORtZpsqLZ1lsCXk56tgt636bexwsPUbQLHMt66rNsuNsc7WF+INb9OWPRUjse4cb7u9NRkhZlrlWRVqkHgu0jXrpuelmjZIznGnA9LgOugSubc5Xmrxo7AsfpXqjshUWUEy00NJmBAtcGNM5dpHJg3kyeCqkXTNgxUty6q1LD8maBw3CXZtW2uGtYshczZidxLF9K4L3NmhVGiGlWmEDh8yvsuvH1Kwomvc86Nc4ipPgJHU9WtieoyF6aJahZSyfSpKCDzG75Qxf4zPAGO4dPIfd7wGgtyZi5WFyi39M0PsTtuJDFJYFgCsUr/XK4x3o7E6lWTBOoiEBNVZyYreyx6J9JnMzfqJqtUbQwEunYtMwaEhavM3MT2QGrZsnBNoys8OVHEFeicmNBTJUmAcXzs7BOrvTqR+N15KI5snHDGgFgCWtdU6D+xirHoHETMZzmfWn9nyByzO9HGy9RvqjUOS8CA6rCkmpvvAEwrunw8vMkEJBtBgZPKZhiyQ8KYnzEIOzehp0o1BOJ5EUVTDKJ/VlTJ/CMT+DEl3DVyKc0pYPuEKd9P6KgyAgHO1xFMPTZRxBMSOqOqZPpUPHfpF6NWrH5hApljOdO+hQ1rkgLH3z3Yc0iTbNKWVhCI7bE/jPyG8fo2rbBYI1tPgPNVTBD+7wiObIjuGfTZvUYoQ9XmEojfsx8117zOWhY3RmZSreN4jvsISmTmJX40MVbK+KhOnsB38qqN04y+Hv2vSIr5sF8VUTBvZwk8Es9WLejdGZy3LimoY/bRCcTvYdHFGcuis9XoVVtCVQQMqFZFtqZyJ06GsYqgaHoxg8fYoquNKZ7XlEkRfDY1h0Bmu99T6fMxiDTVSADmsRr+9BqrrLqq7QpWcCP5f1tQx+zlEIhVJ0VT7MJQ9+qoon0qfDqOYysm+Uz1EjguUd2m9Kn7J/TarvJ5HMisEm+739o/OoFNKeJXHDeHI6uMXpwlSGBOArFq6Yw5cw3OsCJfHUp//Rny2MHZ/KaFBGICuWvbhDa+GWD+Z4y8MGFoJriZqGaBysN596AF/w3/5vjhs5qzRAInU9btJZY3zqIy82Enc2z9fZxGW3djCGTmH37ZGOt7ZAjH7JW4+8eEy3X/HiZM7K+KAdVutH0mUBgPrn5N29znAjfuwHlpwu4L0Pm/hJ4qFRCgHePck9nOJxNcqcCDXhbZiZV09L01aL01C7bgSQyC7i6oY/ZyCGQG/fF85sz2SSmLk30q6sr4lrJRpYUInMR/dy70ydz/RIB+87mzdSsH572YgM5sUdQtEHqTJRCrLnZHzuE8mRm7Z+tVr4cEJsZpr8f1UW9U2oUyYoX1kYirrLvRlwx8ja8dM2PdTJBpFA+zK4CclxiFelKXc/1tqP46qd40tcxvTCfmZJrWEC2153EJu/09TEArSeW4RDl1/x4mTOyvigHVDrQ9g4oYqJ6ZcOV1XCgundAbp8prqXyZhAGfhNOoF9iJalUZQGAdPl9hwHezfewAYDY61X53XLXF11Z6rJopmjKTAUXrMP/MBOK37YaZv5r1001m/bbcLzN9KizwgrjcdhiqNMYCt5DxN0NlXjjTRgv/25v/Mjft9QaOjg5F4CHkOoJrjm8jrlYdCpmZMgQ4v5+C3scyutN0Yo7kRcgp9NlTkdciK0/L47/tIXBce0ztnKWZa/eHcLxlVoxm4WVuwryQ802swDWNh0Drr83p4/E7k7m2OHY8yK21gQSKzkHEAgGf+zy+hsz8HtY5pzU+Mi2t2YBqSxtuBrMPnOGzuT5ajQwvnCtTU75n0BErRPZO2BOT8Ycn9FSpjsBjEkXHiqKu3I2YcH/sKrG9TtFVXWM3egYDMhfNsaLNNAYCTFbEwD8mSIumzAVq0Tom82f61FUo+0zvSYL1vx6XqLLOPpUwrxoVjsFzKNmL72rw9q3U5+Pw6YznN+yb4/pbK4F3U1uZ56ytKe8Q5K/03R8geyFFdzqpFYCVLUTgXv4rsz8sVLj/zEnguDlzzJwhM7aeuaS5P83MS9in5uZaZY7WB1SBsz4SuyoVSXeQ+fQiCubtJgHGIRHLeXRB787hui52HzKNh0BmTnEd2nqF8ZhrrXMRMKA6F6H2fP81TI0J2qJpv6IKY8y/G3VnLmA/zw9HrEgxNYfAoxKmXEQ73prQU6UEAhPsLy6hqHEXUXTgGRMxfxi30T2vP8M/MzmSxVy0T0U9Z3NMRd8yjYfA2YlqM79biWoaqXJQI63SqDYSWBujT2ByoM7J8jZy0uYkAX5b70I1gvdl37S0FGXuihyKXE4fPgs5EHkRsjqfmZpJ4Er6hBPIY2ob2McqzhsT1WfG1olq5qtk6jorW5l6pRDoAv/MjZqxMjp+40wSWAcERQPyvxfb+Ahw7F5O7TcVtGAx8md+owpWY/YMAQOqGWoN1OHgvB2zPpcwbQsuAjN79yeqGlnlTYkSYnXTwQk9VaolsE6i+MxDvBPVqDILgQtm+a4tX61X0NArOL/eXFDH7OUSOD9R3LoJnaxK0T4V9Xg+y9IuRy9zLlunnKpbWcp3sDomRU0SKIPAahRyNNcf8WqSQOkEGLddQ6FPRS4svfB/Fhg3BeyDHIn8hf58BfIzZH/k1ci2yAP+md13YyKQ+b0fk6mdrfZPCc/WSegUVuEYjfnQhxVW/Jd/sV8loJWlwjk+dqC7uqzyxlRO5voxc008JvestmICmbkO+0/FjTJE8Zk2yLT1EKaYZVQCMYAwdYdABA5jG4iiKS4GG50Y7G6OgdsmjPweA64urKpLuN5olbUS1nnhkoBWskoXgkCxOqZIOq9IZvNWQiDTBmvzuxF39NWRivapsMnzWR0tM7iODP816FOLDy6yu98wjoq74T/bXQ/1bAwE4rz55THUa5U9IcB5K1YCbI/8riaXH0o9uyCx+9PnkF8hN/C7cSlyDHIYMg+JYOvTkccgK5LHVC2BTDCvWov6V3pmzLVOTZhWp55YfV40deGauKjPTcvf9jbIXD9mgjFNazftKYfAOoliMnMqiWpUmYVApg3WmaU8vxojgSXGWLdVl0yAC8d4tss3KfblBYt+IXpvR7/Jqw+yWxMfUJCF2eshsEaimszFWKIaVWYh0OoLF85zEQyJCa8iKTPoKVK+eecmkNm2b1mKfRBS6d3LyT4VHns+CwpjSox3bqTtrqL6BxcwYUnyPgS5ooBOl7IegjPvRpbuklP6MlYCT+M4fAnH4zfGaoWVd5YAfetK+tgOOBjnr5ePydG4iXTgjaTYF7ugRPD3EuTiKa/x/gJ8cJcUQIyQqlylPIJZvVLNXD9mgk0ZqGsklOIms0sSeqqUSyCCi3HTTFvTwN+FWRzKHEuzFOdXLSawZsJ257US0EpWybRB5lxRstkWNxMBA6ozUWn3Z/tjftELxpgk3At5bxNd50IztgR7YcK233ERemJCT5XqCWTuyPYO4+rbZa4a2j4pcX8cjKBqkfRGzkFvLKJg3sYQqDygiqfx7JKifSoAtf1YCh/anuI3pUhANfyN365eBlQZT/2Nc+G38L/oGDO4mSQwiMCHol/Rv+4alMHPJTAKAfrWLei/gn52LK8fRx44SnkV6K5AmfF8rBmfkYXdccNzBA5C4gazeHbgGfhV9DlcqPUyXdRLr5vldGbMu2pNLsTxVzRdxvF3R1El85dOoO1zQ5kt4eNGG5MEgkCm/5zJmEJ67SNQ1+9h+8iM2WK3/B1zA5RdPYO70ykzthgqmvbm5LpMUaWa8r+eejK2fbIm+6ymOIEIbBVN1xVVMH/pBK4vvcR6C8z0u3ottLYyCaxcZmEDyspMxERRns8GAK3x43j+UtEUAfQ+p4P67Ly+V0Igngv03EpKtlAJTCHANfIX+fdRyOHIPVO+avrbNTFwZySuhz+FHI/EVsIXIEch70SegGS2LaWozqfMb33nodTsYKYN6hjDB4bMON4xfM0daEB1bZ+XyPQ9b6QZ0Bl6+LHzWv1p9FX642q7PDWg2q72GtbazDa3sZLnxcNWUFc+Lg5j9eyrE/Vdjc5RCT1V6iGQGQDEHeam8RJoexv0PRgy3t5Tf+11TMZkzmVBou3HUv2tWX6NmW0Us+1dvvVjKJGAxK+p9rQxVG2V3Sbwim67p3dNIcA57CrkldizGfI9pE2B1akY4xnxD0diB6cPIScg13Hd/FPkbciWiPM8QCHddt+Lf8dIIDPeWoE+XMdueplrQ8fwY+xMU6pueztkrina7vOU5vPtiAQy/WfEKlUfE4E65rTG5Fq7q3Wg3e72G2T9d/jiskFfzvL5vrN8N66vIsibebbFwVww/2NcRlvvYAITF/jxfMOiyQFkUWLl5297G2TuBC2foiXWRSCzs0FR2zIXMzGB+/eiFZm/dAKZ81mmvUs3fMwFHjTm+q2+ewSewtgwMy7sHgk9qoUA14hnI8+jsg2QjyDX1lJxtZVEYOipSPgTN75cxnF1ALI9EgHYvqbMb31fWVXld6YNos/W8cz2zLgu409VbPtcbtvbIdP3Mjcn9LmPdNn3TP/pMo8u+1bHnFaX+VXmmwHVytCOr2AuEOM5RAcnLHgsF1zbJfSqVNknUfjt6Bya0FOlHgLLUU3mwr7tg+Z66FZbS9sH8Q48q+0fTSu9qRMxt/E77QNMxt9bMr8pmZUM4/e0XAuOpLiryi3S0npOYFn836TnDHR/DAT4Lb4IeQdVr428FjkZaeuqVUxfKMUNyW9CTkQu5Bo/nle83kI5+vHPrf1ws9FeZsZb4VAd4/jMuC7rT6MbqYXG9XFewr7Xwo5akcnOa1UEtoHF+kiHBjZKmGRAtaENU4JZn6WMzAVEJoBZgrmLFsFF37Z8uvWi38z5yTe4OL5yzlxmGBeBzIVL2Jrpz+Pysav1tr0Nsn2vq+3Zdb/qGHxm+lTbj6Ou9JvMpESmvbvCa74fjK/iprUvdMopnWkCgY2aYIQ29JMA57Vbkc8i20PgwUhsC/xD5E6kC2ldnHgnEs9dPQbZFcnc3NpGFm75O/5Wy4y3wuo6xvFxo3fRZJ8qSqya/Nl+VY01xUvNXFPY94pz7qpGpv90lUXX/arjt7DrDCvxz4BqJVjHXygXhPGQ9q8mLHkBF1hrJvSqUMkGdw+qwhjLLI3AHcmS/CFJgitRLZ5p3ObkqsA2t15x2yPwU3XK9CnPZVW3ynDlZ9qhKyuXhiM0ONen+aorgYbBXvpNnQQiiGWSwNgJcA19DXI4sivGrI68ADkQORNp+29AzP08GfkBchbX/P+K1PGcSqobW8r81o/N2I5WnF1p2tTHN7X9ergr3aztx/bdiYaw7yWgdVQlMwfRURSdd6uOOa3OQ6zCQQOqVVBtTpn7Y0rRE21cVO09bhe4uHsoNsQFbNF0AhfAvymqZP5aCWTvJnRbi1qbacbK2t4G2WD+jDD8sPEE6riLN9On2n4cNb7hhzQw0w6Z9h7SnPZkY5z1F6yNCXmTBMoisGJZBVmOBMoiwLnuWuQ7yL7IZpS7KhKB1v9EvoVcgLQ1yLoRtsduAxFYDZ+6mjK/9V1lMS6/sm1Qx44umXFd1p9x8e9qvW1vh8ycWNt97mpfHIdfmXPXOOy0ztEJ1DGnNbqVPSzBgGqHG50Lv/Nx75iEi6/lwmrcDz5+HXZn7jo7IOGvKjUSoF/GqpbMXTYOIGtspwFVtX1rkUy/G4DCj1tAIHZqqDplLmaWbMBvbNVc2lB+5nzmOeSfLetuIP9k4bvRCThZMDpDS6iYANcw1yM/RP4beSHyCKqMmwG2Rl6KvBuJIOUvkUuQzAok1GpNj6K2HzAu+Tayeq0111OZ14/1cJ6tlhVm+3LAd7dzfMWcQdUpM67L+FO1H30sPzOObxInA6pNao322ZKZg2ifl1ocBG4QQzMJdH2Ll2ZSr9eqCDA+pWCVcfdtXBR+saBeKdm5mIttYV6TKOxSdL6f0FOlfgIxgCy6/Y8XxPW30/Qa294GN013yP87TeDPNXiX7VMxCdDUrcxqwNaIKjLnsxsbYXkDjGCi8zjGa2dhyiYNMEcT2k/guva7oAd9JMC5MFbRnTYhCyHgHBnbM66NrDdFHs77kPWRzPMbUaskPZ9Sd8LmV+HTDyqpYTyFZn7rx2Npd2vNtEEm2JQheHNCqe2BvITLjVTJ9KsmOZJZgd12n5vEv+22ZOcg2u53H+2vY06rj1xH9nmJkUuwgKYT+AkGnoc8sqChbyL/WAKq1BvB3MyzlD7FBWAb7gQu2BSdzB4XSasU9My7QQsCqyB72y8gr00w+STnlTcn9FTpB4FMnwoycT7L6vaDbPVeZiYl6lj1XL3n5dVwMEUdUl5xltRjAuf22Hdd7ygBxo+xwu5PE7KIlwQv1+DDyeBqvMaK18ciEYAdR1qZSr+HXR/l9Z3Y39btjKeyi/GWabwEMuOtTLAp42VmLG6fypAuX6ft8xKZmwYyx1L55C2xCQQy566V+F335uAmtJ42dIKAW/52ohkHO8EJ816+PWhwjoHfbMbF1BMGflvtF29IFB9bhY0rAJwwt/cqmQHkw3pPbfwAYuKnzSkz8IyVBSYJDCKQXVXl+WwQ0fo+XzNRVeYckqimNSpfwdLsMdAaJzW0cgIRtDmz8lqsQAINI8B1+hXI8chhyLuQ3ZBYufoAJK7D90PiPPsHpK7g5mLU9TYktgBelte2J8db42/BzHgrM1eQ8TQzrlsrU5E6pRNo+7xEpo+vVjpFC2wrgcy5a522OqvdEmgiAQOqTWyV8m2KQGNmwmuf8k2ZvcSJIO6Ws+ea8dsvcgGa8XHGwvywcgJ/TdSwQUJHlXIJtLoNOEfEFqtFzxMGVMvtQ50qjT4VN/Nk7vRs9bHU9kZkrBHj36IrgO5F58q2+16m/RP9/0tllmlZvSRwKn3pml56rtMSmIEAx8NNyEnIAcgeyGPIthISj/H5AHICknn2I2pDp+eS80cdCKo63hq6ySvLGCuvi6a6xluZOYkVOS4MbBVt0fLzx6r+Nqe/JYz3fJaA1lGVvyT88maQBDRVJDCIgAHVQWQ69DkXYTHhG0HVoun5DBbXKao0Yv43JfRjkvOghJ4q4yPwx0TVDiAT0EpWibvm254uKeiAAdWCwHqYPZ7fXTR5PitKrNz8sVqi6MqbvzKe8rm3i7bDwXxU18qpRWv3ky4Q+GYXnNAHCVRJgN+fm5FjkPciO1LXqshuyOFI0ZsFURkqPZFcRzEfsORQuZuZyfHW+Nsl0waZsXXG08tRyoxhMkHijH3qDCbQ9oDqZYNdG/iN/W4gmt59cUnCY+e1EtBUkcAgAgZUB5Hp3uefwqW7Crq1OPn3KqiTzs7FWmzb8ZxEAT/hwjKeE2tqD4ELEqY6gExAK1ml7RcugeOSgkxW4dzk80oKQutZ9qJ9KvBs2DNGTXM3cy6ra3KvaaxmtYfx14Vk+MmsmfxSAoMJ3MxXXxz8td9IQAIzEeDcewvybeSVfP9Q5NlI3JxQ9HoflVnTs/j2f2bN0ewvvX4cf/tkxlyZYFNhTzl+7kAps0o1EyQubJ8KsxJo+43emT7u+WzWLtGrLy9OeLtOQkcVCUhgAAEDqgPAdO1jBosxEfiDhF+vJZiwXEIvo/JGlDJ3wB6QqUydsRLIrFB1ADnWJptfeeaCePxWL2xB5uaLjRYuwv8ksBCB8xf6b7h/PJ8Nx6mqXJmJsEw7V2V/08p1l5CmtUh77DmQa5Qb2mOulkqgeQQ4hm5HjkZehHWPRA5BytxR4S3MB+zaPM+HsmjNGucyhjKoT5lgH7uBZJ5jm7n5Oos2M77zxsgs7RL06FcPoph41nSb058SxtvvEtA6qhL95+6CvsXjA0wSkEBJBAyolgSyJcVkAo8r49tLq/ZvYrD9mkQ9MQA+JqGnyngJZAaQK9NPHESOqd1gvzpVZy6Ix2TxwGrPGvjN4C8eP/grv5HAv5yTYPBIjql4HpppPAQyx3SmncfjXf21/h9VxnjMJIEiBC4h8/8UUTCvBCQwOwGCqhciryPXusjnkMx2ptMrWYwPDmXcsuL0L1rwf8x3Pa4FdnbVxGCfmXP8fY1Azk7UtU1CR5XyCHSBf+a64iGch1ctD6MltZUAv/N/x/aii1S2of9kzsdtxaTdEqiUgAdTpXibVTgn3ROw6DcJq/bjxBsXUlWmV1D4KokK9sevexN6qoyXwEVUf2fChJ0SOqqUQ+CJ5RQz9lIyAdVtx261BjSZQKZPxZb6OzTZqY7btlPCv8zER6Ka9qlMjMM+0z7LtXiMBG6n7pfSd24dow1WLYHOEuDYuhLZCwe3RDLX/9PZrM4H86Z/2JL/d2qJnV00M8M+Vl3VeZMS1/ytAABAAElEQVRWKqDK/FisvjWNh8CO46m2vFo5P/+Z0jI7dOxUnhWW1HICRc9dcTP3o1vus+ZLoDEEDKg2pilqM+SgRE2x3WXVE79vTNh1PTpfTeipMmYCDCDvwoQ/JMzYKaGjSjkEWn/hMoEhLtCLXrxkVrOVQ91S2kAg7qK/LWFoV46phOvjU2ECbD1qX6ugBXHj1ukFdfqW/TAcvqlvTutvisA9aO3FWPDXKW2VJCCBoQlwnP2OzNsi70fi2BslvZHf0KK/n6PUV5au462ySBYvJ3ND7u/pt7H6qq50WqKipdHpwirJhOuNUNmpEVaMbkScn4umnYsqmL+zBP5fwjPntRLQVJHATAQMqM5EpduffQP3rky4+KaEzlAqXJjFQHuToTIvnOmzDLa9s31hJm36LzORthP9ZbE2OdkhW3fqgi+cM2Iy6ZSCvjyUfrduQR2z94QAfSpW22dWf+zUE0RNczPD/Xza+ZqmOdIke+BzM/Z8rUk2aUsjCcTKo1fTXw5vpHUaJYEOEuB4uwuZh2t7IJkdgiapLMmbt0z+06LX2ObQ1YQ1NxjMl6HKrRPVFr1OS1SxkErsQHLjQp8M94+B+uE4lZqLfhXPTt2s1ELHV9ivElUbUE1A66jKSQm/DKgmoKkigZkIGFCdiUqHP+Ni6nbcOzTh4nMqDChkgrWxwvHghB+qNIdA5mLpIZjvw9RrbkOO/TWp8hE1V1tldZnB57OqNMiyW08gc0G8GcfWg1rvefsc2CVhcub3KlFN61U+hQexmtckgZkIXMGHu3At8sWZvvQzCUigWgIce1+jhuchMR+QTa9m7LJCVnlMektT7/ZjqrvP1e6A8xFULZoyN10XrWNBfo6LuNk2U2dmPLmgXt+kCeyEZjw6pQsp0+824By8Vhec14eRCfyWEoouMHo6/WeJkWu2AAlIIPWAeLG1n0AEIv9R0I0YtOxdUGfO7JzM1ybTrnNmXDTDdxj8Xrbox37SIgK/SNr60qSeankCL8+rNlLzZwmrXpzQUaU/BI5NuBo3tdmvEuCyKow57o9u5uaITPtmzWytHuOyczH+l611QMOrJBCBnE3pI/aPKilbtgTmIMAx+COyvBK5d46sg75eni9eMOjLBn/u9WP9jfOyZJXZOYJkdfPVMuO8bRlXrjdKpeqmCGT7VaqyipVOpPzMrgHPrNgui28BAX7Po+8UHVevhs5OLXBPEyXQeAIxmWfqGQFOvFfj8lEJt1/DoDEuospM+1BY5g6zA8o0wrLqJ0A/vJxaz0vU/Ar6oeeuBLgRVF4xgm4TVeNZiLFSpkh6PP1u7SIK5u0VgRPw9paEx7sndFTJE3gRqhFULZJi0jkz0Vakji7lPahLzujLyAQupISnMeZ7BXLtyKVZgAQkMDIBjsUjKeQjIxTUxrHLbozjlxvBZ1ULEJhg/fwCKpNZz6V/Xjb5T42vP0nUFY8h6lJwL4GgXhX6VWz3m1mMUa+hQ9ZGX4+tpjOrVF81ZBVm6z6BuEmqaPKG7qLEzC+BGQgYlJgBSk8++mTCzweiU9pKtYmBdmYwcDqDj8z2igmXVamYwE8T5ccWJzsm9FRJEOA43RK1jRKqjVXh/BEBkqIXznHR3MY78hvbDl0yjD51B/5k7qjfmmNswy6xaLgvmUng39G+VzbcryaZ9wOMubhJBmnLWAjEXfMRsNmI4+f/xmKBlUpAArMRmMeXmRtbo8ztGLssE29alFbA1ue2yN62mxqsg3nR9LOiCmXk53cqnqN6aaKszLgyUY0qEwRewmvXnoecmQ/binPwxvYKCUAgAqoxt1UkPY/+s2QRBfNKQAKLEjCguiiTXnzCoPF3OBpbTBRNb+LkG4GFMtIrKWTlREH7J3RUaSaBbybN6tqKySSGWtT2rKWW+iuJu/OLJi+aixLrV/5vJd31fJYEV0SNscva5N+hiM5E3syOHolquqHC+PJuPPlsN7zRiySB49GL7X3fgfwjWYZqEpBAhQQ4NuM5qm9JVhHPJN0qqTtONcdb9dHPXjN9uz4TF6kpM45/BOPLxy1Skh9URWDPqgoeY7nZPv+vY7TZqhtCgN/y2PXv5ILmrEL+ZxTUMbsEJDCNgAHVaUB69m9m29zHwOiJJXF6XaKcv6KTDcIlqlOlYgKnUP6FiTpewsXLgxJ6qhQgAOOVyF7aqvQCVdeRNVYTFt32dzOYPLkO46yjlQS+h9V/T1ge2+l37W7rBIbKVfahhqLj3nvQOaJyy7pXwedxKXMsdI9Evzy6CnfjZsknMsFzbr9c11sJtJJArIz6U9LyNgZUn8J465FJf1UbkgCMH07WXYbMPjVb7AYyzl3Ivj7VmALv31ggr1mTBOhXW6C6TVK9sWqMl87HuDMSBsZjsOLmFpMEMteqbxWbBCQwGoGiE0uj1aZ20wjE5O/FCaNiUnKkxI9/DLI3ThRyMIOO2FrR1AECtOW9uPG1hCvxDJz9EnqqFCOwL9lXKqbSjtz0vWyg5G3t8FAr6yZAn7qZOmPbnaLpwSi8uqiS+YcnwJhjNXLvPbzGgpzH065x56+pAAGYXUP2bxRQMWu7CcRY7ivIY2j7w5H43yQBCTScwMSx+sWkmesm9captjiVv3ucBvSk7mAcrIumb9EnY5eLsSTqPp2Kz0tUHjd6r5/QU6UYgfcWy96q3Jkx86p4+KpWeamxVRGIndeK7gizPeetx1dlkOVKoA8EDKj2oZUH+DgxYD14wNezffxsTr7rzZZhiO/eNESe6Vlia6LPTf/Q/1tPICbhMpNvb6QfxnN9TRUQgO2KFBsB1S6nT+Nc0Qv3XWCzeZeh6NtIBLK/UW+jXy01Us0qz0Yg7sJdfrYMA7776oDP/XhuAp+aO4s5OkDgLHzYjmuKPZBrO+CPLkigbwRix5ZMWjuj1ACdlzLe2rABdnTSBNiuhWMvSzp3WFKvTLXMIwuWwIC3l2mEZS1MgH71WD7ZdeFPO/Xfl/HmzoRH74KNq1QT4Lqkwvj7OvzJBOVdKNCljqAvtRMwoFo78sZVGNuy3VLQqug3me1651fDj37cwZfZs/1r/FjEdmKmDhGgTWOrqdMSLkXAb5+EnirDEYhgaqcD1vS9S/Hxx8PhWCiXF80L4fCfKQSO4f0FU/4f9u2aZHzlsJnNNzwBxhzxnJjM6tS40/c7w9dkzqkEOL/+jv/HuXXfVHN8Xz6B2yjy/chWtPUp5RdviRKQQE0EYqvJzO5PD6nJvrKriZWT7yi7UMtbQCDYZm4QPGti3LCgoDG9iRXb8ftWNO3JeLOtNxkU9XUc+d9HpYuNo+I66qTvX0k9sXtg0fQwFNzlqCi1bubP3Mi6K+eteKSfSQISSBAwoJqA1iUVfrxvwJ/DEz69mpNvZrVHVBVBsEzfOzBhpyrtIPCFpJn70g9juxNTiQRgGgGI/UossslFfSJh3AthtF1CT5WOE+A39V5c/EzSzbjLeNmkrmqDCbybr1YY/PXAb2LruRgjmfIEDsqrqtlgAj/EtkdzfMxDMoGYBrumaRLoFwGO4bh56JKE19l5gERVpavEswedRC4ZK0zXo8hXJYuNXYPGnibGfZndSZbE+PeM3YEOGkC/ehxuPbuDrk13KXsMvBNGy0wvzP9HIwDTzZDfJGST0WrOaXPu+i2axxXUjjn5zFxYwWrMLgEJSKCjBPiR2AC5GymaCq/4oIIVkBuKVkT+7HZEnWk1GByd4LZXGwDg19LIFQn/QiUbjG0DmrHYGEyTbTGT2ryxOFGgUow+YSbD5/jst3wfd7mbSiIAz2WQ9RIS24s1JmH/8shVSCbFii9TSQRogI2QOxINEWOijUoyo7fFwHBJ5M8J/tNVtmgSRIzbYrqBPfk/2nK3JrWFtkhAAqMT4Lj+deIcdtHoNRcrARsPTdg5SOVEvujsirdiZMvJDc/MXEW0z1+QxgSEsGV95E6kaIqx47bl0LSUIADPxZHTizbELPkbvW0wdp80i+2zfeWq+xIPGUAvhmTmh84O3RJNKVQUdT8JyaTnFarIzHMSoBFWRzLzWpmbwOe0xwwSkECFBDjYf5w48/4enUI/GOTfJ1FPqDynQvdbUTQMMhcprQioRgPg339EQyfSPejs2IpGbIGRsIwH1AfTstK8pruNo/Fc1Ex6bdN9a5N9NMAnM42AziFN8xOb4m7hTPoHShs2zZ822gPHuBg+OdMI6HyjjT430WZYzku2wVQ1A6pTadT/PiaWD0Du38Q+pk39IkA/3AYpumrErThn6Sbw/ClSNF08S5GVfIWBZQZUw989KjG0h4XC8nkBNJkatysSfnw96ctZ6MUzVU0lEIDlm5PtMEit6QHVpw8yfI7Pb+P7h5eA3CIgAMuXzcF70Ndj334ZwzKB4EvRW87GL4cALNdEbkaKprgJfN1yrLAUCUigNgIcuE8terRP5H/ysEaSPyY3z03UczE6vV8JBoOuB1RjVdffkEyKu8Fiqx3TCARguARyRqYBZtGZN4JJtali/69m8WHQV9FfH1SbkR2uCI6bIJm7wW9Hr3ETpdi0InItkkn/1+Gmrs01wP9bBj46cUPJWLZrqg1OjRXBMu7QjeN0lGRAdRR6o+nGaomNa+wyViWBWQnQHx+X6NLbz1poz7+E5y8STM+sGxs2lh1QvYYyfXTMiA0Jw+WQi5FMijZo3M062BTXJdkbjPcdEanqEIB/jB8zO9uhNjA1OqAaDY/lccNQJv0cpUKLXexoixKA4SrIXxMNEOeysT+6BxuekrA9VN6/KA0/yRCA5VHJNjg0U5864yOQeY7l+Ky15soIsOd6TOCenahgnwI6TyfvIwvkn8x6APbdPfmPr90kQBvfimfZZ0fE1oxv7yaZWr2K7WI2rbXG5lT2gYQpMQlzGAMmL14S8CZV4BdjkXjuaOaO7i9x7rh0sqymvGLTTdhyQNKeuBB6WVJXNQjAb01ePpKE8V3a76ykrmrTCMDyr3z0nWkf+2/zCcTzg2PV0A60Yeb6oPkeamFbCWSebb1OW52tye4VE/XEOKftaRUc+HjbnWiA/R/GhnWSdnyc35hbkrqVqU2MA3+crOADjEPXT+qqBgH4xbX1Z5EH9BDIB5M+74zeK5O6qv2TwMG8fcg//x36XcxZ/33o3BVlxIafUfSpieLfxXHnluUJcFNVYPg0/n/h1M+GfH8H+T40ZF6zSUACTSPAwb83UjTFsyKGGjCS7ydFCyf/TUgfB1KLdA84dHqFajiMj3FH2I1IJt2F0o6LgPODoQgEOySzQhC1WdO8oQxoQCa8yKxSDeff1ADzW2sC/N4REBMptsdt3OrUyYbAtpWQ6xN+hUr89m0wWZavwxOAW6y0PxHJpBjTbDZ8beYchgBMt8s0xhQdV6hOgVHD27izerVh2tY8EqibAH0zfluLrhzL3rBZt3tjqQ+elyFF04/qNhYDy16hOunznnX70pX6APh8pOjxOMk9dnJp7DwPtm07gm/x3M+lu9LOdfsBu+yjoFCdNbVhhWrs6hdbR2dSHFPr1t1eXakPdi/NQEfnKqQxK+2xJbv75EXoNvac3PR+BruYy/4zkkmxuMDUMgKuUG1Zg1Vs7uGUf23BOqIPvX4uHc4oMTH8lLnyzfD9F7nL5sYZPvejDhKgraP//VfStcXRO5K+tnpSv7dqMIuJ0yOQzArBLnHbG2fuSjj0vzB8bEKv9yoT3N6fBPExzhmXJnUrV8O2WEXz3mRFK6D3bfiMfeugpP3jVIs7u7PbO36WdjtjnMZ3sW6Ynoxfv+mibx3z6QL8eQrt9SLk6o75pjsdIUDfjN/WSwq64w2XA4AxznggX8WuDkVT7D7QlfQZOGzaFWfq8gNmcVPj55BYTZhJ7+J4buw8D7adglPfyDiGzubIJ5K6vVajX8UquRjL9zLR7+7F8Tci8Vo0rYzC92Do8zALkoPZhqgcUlBtMvt/026NWWmPLbH75HcnjSvwGsH4zxfIb9aFCcTq5jUW/mio/2LHj+x82FAVmKkaAgZUq+HaylI58d6G4V9IGP9qfoDm2ipoX8ot2t9iEBEnJVO/CByAu2clXX4wel+jP0Zw1TQEAVjFcfkV5KFDZO90Fs6B0e8yd4ctjd43YBlbh5mGJACvmMQ7EllqSJWp2a7gn9hirOkpVsVktt0JvzZGPh5vTMMRoE89g5z/MVzuRXLFDT3/ucinflAWAcdzZZEsv5zYoiwu5Dfmd/CY8ou3RAmUTuC3BUt8DL8PBsxmhha7MmQCYr+fubhWfroMVn+dPrJ8K60fg9GwimufbyMRwMmkuMkqgrFNT2/BwGzQ9/VwennTHWySffBaDXu+iSzZJLvqtoWx2AnU+bVkvZug14ZjK+le+Wr0uxUo9TvIXHPaM1V+CR/G9tRNS/th0K0Jo3aDxz4JvV6rwCxugnhREsI8jvkrk7qqjZFA0QDXGE216poIHEg9dxasK354XjFIZ+IHavdB38/y+Q85sZw/y/d+1UECtPlduPUmJHNXXhB5IvLxeGMaisD+5MqsHh+q8BZmeg82/yVh9yPQ+THnO+8IHQIenGL88VVkgyGyz5TlbZwrGnMn6EwGxmfYeA8vb0CyzwF/HazeHGWZZicAp43JEX0qMzEchf877XVNvDFVQuAISnXVYyVoRyr0l2hvTt+Pi/nbRypJZQnURyBzo9Kr6zOvVTU9PWlt156t/Cg4xM2RvQ7kDNMXYBTjrAggZLfjj7HxPhNj5GGqHFsebIxJ7v8awYBD4LX1CPq9UYVT3NDwPWSN3jg9u6Nv5evYkSGTXgbPWNBimoMAnGKHtq8jj54j66Cv39zE8TM2XYbB2XPXJ+HyvEEO+/nCBGC1PZ9k55/PRfeghUv0PwlIoLUEOCHEs5OKpvNRiAnyRRKfv7loYRP5d16ksB5/AJPOP0N1avPi71eT/WZS7V1Ty/P9ogQA9e5JWBW+zlu05mZ/Aovs8zMCY5w/ZzwXNtvreq2D0QEBK5l+jl42aFavoxO1Ye+nk76GWjybas+xGN6SSuGzPvJXJJvimaut6lMtaZqFzITxh5MNlJ20Xaj+sv7Bhy2SfjRJLY6XPcpiYjkSqJMAfXeDxMF0GzoPq9PONtQFkz8lWIZK7ApUa6LOQ5O2FlGLnY4cx8/SsvDZvwjQGfI2cTXXQI+xfwnkzBn8GPajv5ExAvamAQTgsyQSNyZXnXYdYEIjPwbGG0YAche6r2ikYw0xCj7xvNrPj8D4qIa4MqMZ+BXH1dlJ/25Fz5tBZiT7zw9hFOPROMdn0t0o7fjP0nwnAQm0ngAH9XaZswE6T53uPJ/dD8lcqJ2DnpObU4DCo28B1dXx+XokmyII4d3oU/rQ1LfBBglGRdI3yXxHEQXyzptab1veY/dPCvo5NXus+jUNIACo90yFVfD9DeRfa0DRjf0Ym1dC/lLQ16nZ47h7RmMdHKNhcHkoctFUWAXf/4P8G43Rhd5UDee1kJjgKZoMqBYlNjh/XLwfjmS3aexNf9XRZhOgD581uJsP/OaLzfaqXuugtPNAUrN/8cd6Lb2vNkzKBFTvnN2VGb89YBz+taFOaI16M+5VlLFqG3ydaiM274DE72c2XYKiKy+nQp14D5fFkSMTYOOasGhqW0A12Jxa1Mkp+WPM/eIZsPsRBGDzoSmsir69DoWHNB0kNsbcfubaK3jE+Tp2YTPNQAA2ayJxbs+mT8xQrB9JQAJtJ8AZIfPD/cPpflPOs5NnFwNh02DCsVcB1XAfn5+HFA36Te1yMXjI7mU/rQW68y9MXowUHVjFnVerIUWD3PPaSG7C1z/zmk2fQtGbQqY1PkzemAU6obfntCJb8y/2PxEpetxNxRV3iu7SGodrMBQeceNN3IA1SopnnphqIkBDfTfRWE0LqG6U8KEJKqdjxJY1NbXVSKBSAvTl/0wcVBEQ2alSw1pUOCx+mWAYKh8bh5vUmwmofhy9WJ1cNH1oHD42uU4A7ouMcl0ex9/TmuzjbLZh+38jo6QYrzY+ADMbg7K/g0cEDL+QgBo3Suye0GtVQDV44+P6SCZ4PIknWO1Wdtu1uTx4xMrUj00CSr6+qi0M8O9dSR9DLXa02bgtvtZlJ0wehPwByabQXbYue61HAhKokQAH9ysSZ4YYYG841Uz+/3minGvRWW5qOb6fP5jqXUA12p2+MMrWoNH94uItnmFoggAs4mI4mBRNLwmAKBUNMs4LvTYmfH0CEhch2fRFFBdvo+9V2AyL/ZBRJmK+U4VddZaJ//+JjJKiP76mTpubWhccYoLhglFgotvorZqayn4Uu2C+c6LNmhZQXSPhwzhVbqHytyP+Ho3SedVtFAH684ORvyNF06UoPKBRzozBGBg8oyi4Kfl3GIPJcQ2SCajuhd6bpthe5O0XyRzP1+t1gkEEH+Yho6YPtxkkzsfOa8eOCOEi9F3xRUeAw/LID5I8oz+uldBtXUA1jhn83C3h61SV2Olozyir7wkOEcT/7FQ4ifdfaxNH/Itz108Sfk6qxPz8Vm3yuUpbYRG7Y/1+Ek7i9XZ05FllI1m2BMZJgAM89lsvGjiJc8knJ+3m/aORzOT5ByfL8PWfBGDZ14Bq9MVfIaOmCMz2dsVg+I5kL4a/OtkTKeOPSJE0b1K3ja84+s4izs6QN56pukwbfS/TZhi8ewY2RT46j8ytnwDFh1EvaIJZ/K7OK7N92lYW/m+FXI2MkiIY2/o+1ba2C3vhXnSrzqYFVJfBh1FWm4/Sb4vqxlb9bjPYxgNFm+ckQN8+pOgBMZH/+7z29gYDfI/HEGSu8wNfbAE4liAj9WYDqnEN9DMkk6Kv9HYVCb7HdXhsEz9qOoUClpzzoG54BnyIifRRx59xDPV6twj8fwhyGpJJv0Yp+uUqCeVWBlTjsMDX2P1q1BTzYb19RjS+3x/53ogQz0d/xYafqhYxD5tjReXlI/h+I7o7LVJwzz6AwdrIqDd0790zbLorgf4R4ESRWUlzE3rzf2B4zVzk3oHemv2jPbfHcOllQDXI4Pt6SNGtZlFZJB3GJ70LbuFz3AH6jUVoDPdBTHwvWDHO+98Np7Yg17y5e3dzc+BFTMLEZMoo6bcor9NcL6uzDL+XQA4aBR66NyOPqc7KekvGl1EvaCZxfo43fTyfPR+/Y8XdKClWNT223pa3tkkCsH99wcZrVEA1/MD+Mwv6UHf2i6jQ5y5PdjpfO0mAPv4IJHtzw4KbgDsJZ4BT8Iobu76FZNN/DSi68o8xOBVQDcPQjbHXpUmnT0Zv9codbFgF+LwqckyS2VS1eNbgOg1zL20OvjwVuXuqg4n3cW3zzLQRLVbE702Ri5FMimD2w8J9XuPmtqKpzQHVCCLHjQmjpm9TwIK5nRZ3pUKm4/OayOkjwovrx00LVdygzNi+DRLz7dl0J4pvb5BLtZqC78EvtkAeJX25VqOtTAISGA8BzhJx4ZHZSmkf9B6IZCY8jxiPt82vFZ69DahG6+D/M5H4ER81RUDwkc1v8XIsxNfNkHOT0G5Ab/o23icVLGteOZ6MrxT8XRk5u6Df07PHBeCTxudF/TXjb/yGHD8dRMH/YzXm8+u3vtoa8SkG5LcWZDFT9rjh4dHVWtuM0vEzJk5GDc4Hw+hTr2yGV/20Av5xh3j8vgybmhhQzdw0OKy/o+SLiZIPIb2bLOvn0aTX9PVRfhfGFhwcV8vBa5Tnxv0D/bE9A5K60wHV4I3+lkhmbgO1+asSe3OTCv7uiGRXMaO6IMW1+9PH1d+rqhef3rnAw/ybGI/G8bhUVXY2qVz8jJuUY54wewzGzTMLXUvzf9EbalobUI22xN91kVEDOhQx/wb5Xlw/TnB7Nj5fE46PkOJ4fXGTjqmMLfgQ2+CHL6Okr6Dcq+sM/N0DiTHQKOlUlJfOtJs6EpBACwlwwB+WOGP8EZ23J/RC5XEtxFSLybDpdUA1IMPg5ciod4RSxL23IfvW0nBjrAQf44c/G7SJSdldppvPZz9DiqR508to4/84/FDkoiKOz5A3JhXejYxlq7Q6uePjk5ErkFHTfnXaXWddgAlGow7Mg29MTHT6fIZ/GyJFV8ejMmN6a53tbF0zE6BlPjlj68z8YRMDqnH8Ni2dgEGdWc0/c8/xUwksTIA+vxISW2hmUwQ0evFIEPx8XxbShN5hC9Ov9z9sGCmgGtZSxu7IPRP+FH0JvU8gnQ2A4Vs8X/B9SNFAFSqLpOD1r/X2kvpqw7f9F/E490Fsffvw+iyvvyb8WxX5QQ7PAq3XTbecb25a8O1wb1odUA3/cXMzpMhNiYPIzL9+5MvO/v7hW9yMewCSPeejuiB1ZmUmHpVxQ0hcl3f+mgMf748choyazqeA1aafw/xfAhLoMAEO+k2TZ45MEOfXHUY5smu0Q+8DqgERDvsl++RMakfxYee2mMan2CL5RzM5PORnMejcc6ZOy+ffHbKMyWzzZiqnjZ/h0MORKycdG+E1tptp7XYxs7Udfi2LfBQp48aHzq8cgdNLS2JFMff+EFl/tvZp23f4sxTyVuQWpIz04bYx6Kq9NGacT4c9TzQxoBrbZma3jyyjL08t42/88yqks5NiXT0O9KscAvT9PaYeEIn330Ln/uVY07xS8C2CZJlg5FSUcW2/7ji9S/qw13SbKecdUx1LvI+J5O2ml9v2//Ep5n1OSvAYpPKetjOZzX6cjhWXhw9yvuDnERh8A9K5m27x6YXIqDfZvn+mtqDcoqs1Wx9QDQ74vSOSXemL6kLpGP5baya+bf4Mn56AnLuQp/l/Dmkzi5lsB8XH8zgWaN7Ou/cirX8+9gBG2+BbLBYbNcWza9eeqQ4/k4AEOk6Ag/+Xo55BhtR/ScdRjuQeDA2oThCExQeH7FPDZIuJ+lg12PpnEeLDcsgHkFEH2O8c1Fkp+2tIkTRvUFlt/BzHy7orNFYAR1u1vt9NtiO+xIqtC5Ay0kGT5Xb9FVivKwPYRBnRr+JO3NZPDOPDzsg5SFnpyxRkwKlBBxTt8ZMhG7dxAdXAiO17D2l/Vdni5qeYzH1Qg5pVUyQwFgIcB98c8UCL35vObYGITw9Djh+RTai/aywNO6VSbMgEhRcJqEaRlHVgODVCivPvV5E1ppjYyrf4EI9q+hRSxqpUipmfPtNKGAWNxtMlkcwczX2UFv17Jh89saAZjcyOHxshv1jUxcKfHDzIQUr6U8HSOhFQDR74/TykrGM2dm/7b2SFQazb8jk+rIp8BolzdBnp+xTSxRsd4oaQL5UBiDLivLVlW/rIXHbiy4pI/CYOe+MvWQemuOn1UXPV6fcSkEBHCXACeO7A00N5X8Rda528s6WsbgGfzGB9xovIsmwaVzmwiAHAqBfCFLFQuoj/dkPuNy6/svWGzchLkcuQUdOsdxNT+GcLVjAv61dT9fB/e+T6ghwGZb+UL/4VWbyp/s5lF7avixyBlJXi2G7dcTgXp9m+x993lQVvopzoVy9HWtevsPkxyPeQMlPsRtA6FrP1mS58R5s8c8hGbmpANSZSy7r7fUgUC7JF8OcJXegH+iCBMghwPDwAKTq5vuCAmngT2/C/E2n95Ck+xLXSy5DrkFHTHyhg7NvcYkOZAdW4dvrcqGDQvxmJG3NXLKMf11kGNi+NxI1BVyNlpiMprDdjLnyN3Xl+XiZAyopxayu3Acbu1ZC4lrsTGTV9kgIG3gzJdxHIKZI6E1CNcwWO/xtSRtBnkmHsxPVapHW/gdgcCwvievoGpKz0XQoa+29fVb8L+LYE8vWSYEU/jIUXrTxvTRxPMS7YE/kzUkb6C4VsXFX7Wa4EJNACApwE4sQy6gXqXCekgSviWoCoFhMBaEB1GmmYvAcp6+6zyT56Hm/iYe2NXzkYNiJxIXwBUkZ67zTEi/xLJfsXrGjeIoV04AMYxF23lxdkMVv2mJR/ATLworFp2LA1LpjjQvd2pKz0/qb5WZc9AHwVckdZICfKuZjXfZFl6/IjWw82bo/EBFKZEwMUN3/Fbq8C9Nk2qFuPtokJ//OjkeZIjQyoBi/s3hwp8xw4B4r5z4CfR6al624v65NA0wlwXGyBxEqbUdMZFPDkpvs7yD5sfxxy8qgQJvT/zutWg+qq83PsKC2gGnZTXvwGHYSUkW6ikAOQh9XJJFMXNq6AxNiwzOsYipufPs3f3o258DkeURHBhDJTjIdj/ufxmXauWwc710PiGIjtwctIcz6mg0pOKVhRpwKq0cb4vwdyV0EOc2WPud/9kAfU3Y+K1oeND0RiG/e/ImWm2PWi8wt+8DHm+uPZ4GWlmMv4DPLQom05rvzYGmOBZyFnI2WlWKyz/rh8sl4JSKBBBDgZvLmsM8sM5cSF76oNcreRpsAoBtRFUydXqE5tIIBEEKKMOyCns4079OKO49Wn1teE92HThG1X8VpGikH4G4bxjXwfLFjhvGHKbWMeODwMiVVCZaYI6L8JaewFDLatjxyMlDFpSTHzU9wYsW8b+0GZNsMgBvO3zCdS7p8rKO6tyIPLtHfUsrBnaWQ35CSk7BQTUW8e1Ub1qyVAG71liIZvbEA16GB/mdt2z4bjR3y5brUtYukSaDcBjpFnI2VdF/yYsh7XFiLYujPyQ6TMm013b4r/+FVqQDX8osyYSI0gUFkpbrD5ErIt0qibJLHnEchHkBuRKtJ/NqWvjMMOgJYdmJjaRsfzz3ORRgV4sCeOn7ghMoJPZd0QGfMSbxqmDcl3DFIkdS6gGpwA8Hwkbn4pO8WNIp9CNhymPerMg02bIAciNyNlp69QYOtW6Y7CH3//HSlz7BA7fnwV2WYUu6rUxbZYoftyJG6iKzOdTWGtCShXydiyJSABCHBCiDsZqxp8f1bIcxOA/9FI0dT5gGqQA8qTkRjwVZHi4iAm+2PV6ti2c6Lu2E7ohUj0g7Imiijq3hjsvGjuHnhfDvK+O5QKpHnDlt3GfHB4IBIXuWWnmykw7u5rxPMosGNJJC7kf4DEhW6ZKX5bntPG9q/CZlhshZR1s8T0dorzWUw+7IGM7Tmr1L0FcgDyN6SKFOc1n8teRQctuUzaaSVkrpsIGh1QDST48B6kqvRnCn5ByegtTgKdJcDx8q9ImRODJ1Dec5DGbWOKTWsib0bORMpOH2tSJ8G50gOqk/5RdqzYLCsgNNkOl/EmxjrbT9ZT9yt1r4zENWxcy5Z5TFDcghTXBXvX7VtT64NFFX1pEvZ1vDkcibmPsQXsqfuRyDzkAqTMFOPBZw/btuT9fsHKOxlQDV5weDxS9vbdU/H+hn/ehoztxj7qXguJ4+u3SBUpzpH/iYzt2Bq271eRD79fisRNQWWn0ynw35CVqrC7aJnYsS7yfiR+o8tOMVc2tjnjoizMLwEJ1ESAE0NcEFSRNqnJhVZXA3gDqrO0IHxigv6iKjrolDJjRV7cgfl65DFIZYOtKHuijqjrW0iZqwEpbn6KQcTWs2Bd5Cvy73ef6tB/5y1SSMc+gERsvfz5oYkUz3gxKh9H4kKptm20qCv8ejoSgd2qAnznU/ajOtYlRnYHJg9HzkKqTDdReJxb9kHiLt/K+hZlPxSJi7RDkEuQKtPlFL7tyI1gAbURoL0OnaNDND6gGrDwISYLypyIiMn9YOOFeW290Yq6QoDjJsarZQeQ4uaG2KnlEePiRN2LI1sjMbEdQbKyg4AUOT99jr+NCiBjz1y/FfdZvvDfoW8uRu0lSBWrvMKic5FPIXFz7GpV9R/Kjp0/noBEUOBYJIKdVabrKbyzQapsO8Ekdl+5oUrwlH0h8knkucgqWVuH0aP85ZFdkA8gERypIl1MoZsPY89kHvJ/raAhne6rsFgPOaMgk0z2/4fS+5Cdkcpu0KXs5ZAdkPciVfU7ip6fbuXvbpN9q6+vMAjeV8wnUv6fuEb6MRLXS7XuUEl9cWzshxyH3I2UnWK8+V9IZfMpfe2TTfa7smBAk53WthwBTg7xgOnzkTJPEj9fbLHFdslZ1C8t+B+Nx88q6PVr4dubFcAwim1SP4e8sCCnbPa/oXgCchryp0mB+a28Hzph9/JkjuNrUiLI+QTkQUhV6RcU/BJsDR+GTtj6GjIX6VPvp455Q1fQ4oyweTHmH4pUuV3vVZR/MnIScgpyOnzv5HXkhP1xQRQrYuNO+ghI7YBUdpFE2d9H9sT+G3g1TSNAe8RznD+KvAGpY7x2HfWciJyDTD2fXcn/QyVsnn4uiy2itkPqmnz+LnW9mj4VvphaQoB+8xhMPRsZ1M+3pE1Pb4M7+BLPGvw8MurNgqdSxuvx+7dt8FsbJdBEAhyPe2BXHI9LVmDfHynzp8jPkFM5Vq8puw7sj4Bm/H5ujGyKbIbEGG1FpMq0P4X/Oz7dW2UlRcuGR4yxhw6QTpRf6FqYOiKg801kvQn9ql7+QMG/RqIfXTApMP8H7+dME30jntc6ee0YrzGGjy2qY/xYR4rfqbiWvKSOytpWB20UfejrSKGbl5N+xrEa4/fjkd8jk+P4y2mfu/l/6ITdq5N5AyT61CORGMfH2KaK8yjFzk8/4e8rsLXQ+B1bY07iNfcVMdTfZ1NHzKl1NsEkjv+PIm9ABo2ry/T/Lgo7A/kVcj5y4YRcCuuh5iiweWl0HopEv4trgrjZ+rFI/OYtgVSd4hwc5zLH3ICgPVbl5YtI0blnVIZOcV6Ka7voNyfHK/z/wuvICfuj38f5K+azHo/EnFb0qarS9RT8b9gf8xCmHhGo4wTbI5zdd5WTUyaoNxuYXTnx/HC2DH53H4Ek+0IXkV1hDau98OWTyLJj8umv1BsDgtuQvyM3IrcgkSJA9QAkbFsOicFjXLjUlWLQ+2FkHsdeoQusMBC2L+Pla/F+yPR+6pk3ZN7WZ4NPXDwfgcSERh0pJl7+iExevMTr5Uj0vZuQ6HeTFzNL8X55JPrgmshqyFpIXCyHrI3UMS4Im95Cv/gcr6Y5CNCnnk2WLyCrzpG1qq+jL12LxLns5gmJPhV9JSZ14zwW8sAJ4aX2FLZFnzqk9pqtsBQC9PPjKGjHAYW1JqAa9uPLkry8GvkPZF2kSIqJ0Pch36E/31tE0bwSkMCiBDgen8Gn30Tid6rKdCmFx+RgBDIum5C4Hojfy/jtnJrClphAjonvyd/OlSfex1gsJMZnD0Ni7FZXinPOezn3/HddFRaph7Y8lPx7FdEhb+FrYeqJNvkysmvBukbNHvxjYvYG5NYJiTFzfB59ZXKsFdeQqyB19g2qW5DCno8j76KvTF5jLPjSN/8kMDEe+BCf/DsS4+a60x1UeDES/Sj6VoyXY1wfcxNxPRh9aQVkcjwfY5a4VqwrRf95P/I/9KV7ilYK3/3R2a+AXucDqpMsYPMc3sf1Y5wrxpHuptIrkZiriHNa9Lt4H8dByEpInNdiHix+/8aVDqPifel/cYyYJgjQf6KN9kU+jMR4pY50BZXEGOrCidc4d12DxO9h9J+pY6k4Z8Vv4IOR6EMhMQ/3aOSRSJzf6kjHUkksEPhzHZVZhwQk0GICnFjjeQ1lpXjmwv1ajKNW02Hllr8FiMNrI6TqLTOpolXpfKx9XAGMi2RFP7YVKpLmLVJIxz8AzpLIh5E7i4DqSd5f4ef6He8CpbsHszWQ2LrNtCiBeG5c3M1sajEB2jC2xxuUtmijazizBPI05HNIjHljO6jpKbZjPBs5CNm2jX5qswSaToBj69HIOYhpMIF4pvkzmtyW2Ffplr9TfaeuePRKPHs0Ho9g+ieBq3n7zKmsfD83AZjFI1T++k+MvoNAjH1iRXg6of/BgiTrvkki7VsZirBZEzm+IKO+ZL8WR3crg3OXy4DR5khsWW9amEA8HuDNSASeTT0lYDCrpw2fdZs7L36O7llZ/Wl6B2buRJtWhv9KYEYC9K1z+CImYd+C3DRjpv58eBeufgJ5LFxOHdHtuEPMNAsBGN+JvIMsGyPHzJK1T1/FnalxB/ETYBN3HZoKEIDZFcjOqDwbiZUvpvvutn8/ILaCTazqM7WbwPcwP1bXdybRL+9Cfoq8BtkAx+Ju/Phd2H5CHhWf8d3GyBuRU/jfJAEJlEyAY+sPFLkNckTJRXeluBNxZDM4/bgrDo3qByzuRT5LOZsgsQKl7+luAByCPBIuP+o7jKL+w+wnwQ75JBLX5X1OsWr2f5DYfeS3I4JwXmIWgPCNVXM7Ia9ErkJM9634/wogHgWfbwlkdgITx2j8DsY8Tt/nVCdhxZhgC9jsj8SODaaeEjCg2tOGH9Htg0bUD/VYrv/lEsqxCAkMJMAPXAS2YiuYDZG4KC68lczAwtvzRUySbA6HeBZSbJUxaiqjjFFtaIU+vM9DnoKxfQ6CxSAzLlo2hMUBSEzImJIE4Hc0qhGEiUBibJvUxzTZpx4Oj9i6PCZmTC0nQDvGBOOhLXdjVvPx8SbkHOTkCYnfCLcYm5WaX0qgHAJxrCEvp7R/Ra4rp9TWl3I9HrwBeSJsYqs90zQCcLkEeTIfx1j+0mlf9+Xf3+DodnB4HeKxk2x12N2IvBn1jZCfJYtpu9pxOBDzErFd9O0lOGNAdQ6IcI6bQw4nWwT0P4L0+bopFgbtAI89kKt5bxqCAKxiTvUAskYfinmdvgYR4waFV8LiyUjcqGfqOQEDqj3vAEn3v4reNUndSbXPcxLyDpdJGr5WSoC+diXyWirZAYmLwj6kC3DypciO+H52iQ574VIQJvwjCBZbksZFTJ8C0j/E37j72IsWQJSV4HkbMo/yYqVb9K0+pV/h7NYTfco7rbvX8nHjU19vFOhea+qRBBpIgN+PL2JWrBiP801fJwUnb0yK1YYHI97sNkdfhdHkWP5DZO3LWP5KfH0VEuOuU+dA5NdDEoDl+chTyR7X6X0J0p+Pry/E7ycivx8S1TDZnJcYhhJ54H4D8g7eboH8Yki1rmS7HEdiLjBWFZ7UFafq9gN2f0X2oN4dkd/WXf8Y64vg+1uRDfA/bk4wSWA+AQOqdoTCBDiJxMPs4yI0m2KV4KezyupJIEuAvhurQrZC/wlIBHu6mCYHjI/G128gZU8WeeGS6DW0Q6yMiIuYtZFYXdjlO7x/jn+Pw99dkT4NtnG7vgTbPyHPpsbNkLhbtMtbiJ2Mf8/G31gh0ZebYnC5X4m2/RseH9Uvr/VWAhKomwDnmuuQmFx9EnJ63fWPsb4InB6JxCNAvNmtYEPA7Fbk3aitg8RNkjEn0sUUQb7Y3nF9/P0SUva1ZBeZFfYJrt9AKW7ueCXy+8IFtEMh+lKcazfC329VYLLzEgWh0g6xU8rOqE3Oh3X5+I7riph/eQQ+fxbp8rVywZ6Qzw7HE5EIzE/2oXxhzdaMRWQxbxeB1I8j3vTb7Paq3ToDqrUj70yFn8aTO5Pe/ICT0YVJXdUkMDIB+t9JyK4UtDkSgYiYYGh7OhMH4oKl6gFjX+7KrqQ/0O+uQeZR+DrIfyB/QbqQYlLpMCTu/NwF+X9dcKoNPsD6TCTuFt0QORDpygRf3HwVN75EcH57pG+rcXG9lym2lDJJQAISqJwAvyvHUclWyPOQ2Aqwqym21vwcEitSX4LENYMpSQB+f0Nikn59JAKr1yaLapraORi0OxKPVIjHdHjNV3ELwTi20owVT5sgz0V+XXGVdRV/GhW9HIlARJWBLAOqyRalXSbnwyIwFsH9LsyHTdI4lzdvQNbBz48gBsImyZT4OqUPbUux30fi2r0L6WyceB0S/Wce4s6aXWhVfZBAkwjce++9RyCZtFOT/GiLLYA+OgF7r7b4N0474fpo5ADkmgTjcarcTuXfRuIO+1oSda1U0OF5tRjW0kpguTTySuREpI3pfIx+C/LAljZB58ymLVZHPoBcjrQxXYXRH0PW61zj6NBQBGj7X0/ruDHZY5KABCRQGQHOOfdDdkNOmnb+afO/p2D8G5BVKgNXY8H4cWiiMSq/FsamZZFXI6cn7Bu3yj8w4LvIs5DFamxOqxpAgHbYEfkqchvSphT2fg15/ADXSv+YunYuCChuqDfNQACO6yMHItcVZNqU7HdjyPeRXRDPZTO0cdUfwX1yTvVa3rctxW/h15EnVM3J8iUgAQn8CyebLRNnybPR8Qcu0X/gZkA1wa2ICowjuBWTKd9EbkWamk7DsH2Q2idIqHPJglDmFWmDPueF64ZIBMLOLci47uwXUuH/ILHC29RQArTP4sjTkK8gNyBNTrdg3FHIc5ElG4pUs2oiQB94BTI1GVCtib3VSEACPFj13ns3RSJ4F79NbUp3YeypyDzkEV1rS3xqZEB1KmdsfNQE/z/x2tQUgYe4cWBf5EFT7fd9cwjQNnET817Iz5E4tpuYwq5fIq9CVqybHnVugxRJBlTnaCRgLoO8BPkRcjvS5HQPxp2C7IesMYdrfl0TAdoi5lRfjMTCjybfGBJB1B8guyMPqAmP1XSIgIGtDjWmrkhAAuUR4Ed1OUp7OvJU5ClIPPtyXCm2YDkR+R7yfbaduIRXU4cJ0P82wr246NsF2Q5ZChlXuoOKT0Hi2ag/of+dPi5DrDdHgP60NJpPRp6FxPmsCas/L8OOY5AfI9GvurJVMe6YRiFAf43zXfSPB0+Us6XnnVGIqisBCWQIcC6KCbZnIrEl8NOQ+yNNS3/CoOOQ+D39OefK63jtZKI9DsWxvQo691qYfLagzsjZsTXm2bZEYtwV8lhknHNvseXlSchPkaNgcjmvppYQoD+tiqnPRmIMH+P52m+qps7JFFtBx/nmB8jR9KV4TqWpgwTodyvhVsxHhDwJGWe/o/r5Ka4XT0Z+hnyT/ncJr6aGEqAPLY9pz0BiTjXmtdZCxpnity/mtObPQdB/bhynMdbdbgLjHNS1m5zWS0ACvSLAYGADHI4tbOIZAY9DHoVEkKKKFBcqEbSKIGpc/J7Mj7179wOij2liILoNvkffi9eYlHkoUlX6CwWfiZyBnICcSP/zGTWA6EqiT62PL7GlTfSpkDifLYFUleKmkPOQeDZUBOfjuT3n82qSwIwE6KMf4Iv3THxpQHVGSn4oAQnURYBz0jLUFZOBOyNbIzEWi8/qSvE7ejkSY7PfIKfFK7+lnQ2g4t9CiTY4lA9aEVBdyHD+wfbVedluQuJ6MvrPkkhV6XoKPhWJcdevkBh3eeMaINqe6Ev3w4dNkehHcV0Y56MY1y+OVJHiHBP9KOYkTkROoy/dzqupRwQm+l3sGLMDMtn3qpyPmKR7LW/idy/OY79ATrH/QaGliX70CEzfdkLi3PVopKo51ThP/R6Jea0YMx1L3/kjryYJlELAgGopGC1EAhLoGwEGAxF8iIuXxyCxenWdide4c++ByMpITLQshcSdWZFuROJh7RGcuhm5GrkSuQqJ1Tjxgx9Bh0v5sb+XV5MEZiRA/4s+Fn3v4Uj0v5C4qIl+N9n/4jd+BST66j+QmEiJYH0MLm9BrkD+ilw+8f5iXs+k7/2NV1OPCNCf4jz1SCQuauJCJ+4eDZnap+J8NihF/4rJu5h0iT51KRLntAuQc0PoV06+AMI0HAH6ZPS9S5CYcDagCgSTBCTQHAKco+LctAmyFbIeMvm7GeOxhyAR9Bg2xe/jNUhMHMdrXB+EXIjECtR4vZjf0Tt47W2C+aE4v1dBAGNZoTqXjRP9ZwPyxbgrbmqLa8roN/Hb92BkNWS2FNeUMeaKMXuM52PcFeP4GHP9gb4Sn5l6QoD+FGP06Ecxlo9z0OT5KK4LJyWuB5dDInhxL3IDEummCYn5iCuR6FMxfj8Pib4Un5sksAgB+l2cqzZC4jwW57N1kOh/qyPR7xZHhknxezc5J/EX3se57Cwk5iU8lwGiq4k+FH0kfv+iD0XfWQeJ81esyp88dy3L+yWR+yOR4tx1z8Rr3GwW/Sf6SfSdyyfe/4HX8+g/d/JqkkAlBBarpFQLlYAEJCABCUhAAhLoDAEueJbCmeUnHIqJ4riQiXQrFyu9nuS9D4N/yyZAnzuKMl+IGFAtG67lSUAClRLg/BXbBUcAI14nfz9j4i+CF5H+jsTNSHfxGxo3WZrmIADTzgRU53B1wdf4HDdJRpocd91Lf5kMhN33jX8lIAEJNJDAxO9gBMUi7jDwJm+DXg1sPE2SgATmJBCDfJMEJCABCUhAAhKQgAQGEpgImho4HUjILyogcBBlRkDVJIHaCDAB+Fgqu5JzXqyWMEkgRYD+EysII8WqU5MEUgToR7H7h0kCEpBA6whM/A5O/ha2zn4NloAEJDAbgSJb0cxWjt9JQAISkIAEJCABCUhAAhIohQATMSdQ0G9LKcxCJDAHAQKpyyMfJtse9D2DqXPw8msJSEACEpCABCQgAQlIQAJ9JOAK1T62uj5LQAISkIAEJCABCUig+QQ+03wTtbDtBAik7ooPsSL6VmSLtvuj/RKQgAQkIAEJSEACEpCABCRQDQEDqtVwtVQJSEACEpCABCQgAQlIYDQCR6D+kNGKUFsCMxMgkLou30Qg9RnI7cg2rE6NZ1uaJCABCUhAAhKQgAQkIAEJSEACixBwy99FkPiBBCQgAQlIQAISkIAEJDBuAgS3bkMuGrcd1t8tAgRSl0T2xauzkAimRno3fe2M+976VwISkIAEJCABCUhAAhKQgAQksCgBV6guysRPJCABCUhAAhKQgAQkIAEJSKBjBAikbo9LsZX0RlNci+f17j/lf99KQAISkIAEJCABCUhAAhKQgAQWIeAK1UWQ+IEEJCABCUhAAhKQgAQkIAEJdIUAgdQHIgfgz/HI1GDqDfy/O6tT7+mKr/ohAQlIQAISkIAEJCABCUhAAtUQcIVqNVwtVQISkIAEJCABCUhAAhKQgATGSIAg6mJUvzvyMeRBM5iyN8HUy2b43I8kIAEJSEACEpCABCQgAQlIQAILETCguhAO/5GABCQgAQlIQAISkIAEJCCBthMgmLoBPhyMPHmAL4cRTD1ywHd+LAEJSEACEpCABCQgAQlIQAISWIiAW/4uhMN/JCABCUhAAhKQgAQkIAEJSKCtBAikLovMw/6zkUHB1Iv4bj/EJAEJSEACEpCABCQgAQlIQAISGIqAK1SHwmQmCUhAAhKQgAQkIAEJSEACEmgyAQKpT8K+WJW64Sx23sV3r2B16s2z5PErCUhAAhKQgAQkIAEJSEACEpDAQgRcoboQDv+RgAQkIAEJSEACEpCABCQggTYRIJC6OnI4Nh+LzBZMDbc+QDD1lHhjkoAEJCABCUhAAhKQgAQkIAEJDEvAFarDkjKfBCQgAQlIQAISkIAEJCABCTSGAEHUuEH41chHkRWHMOxX5PngEPnMIgEJSEACEpCABCQgAQlIQAISWIiAAdWFcPiPBCQgAQlIQAISkIAEJCABCTSdAMHUx2LjIcjWQ9p6C/n2ZHXq3UPmN5sEJCABCUhAAhKQgAQkIAEJSGABAbf8XYDCNxKQgAQkIAEJSEACEpCABCTQZAIEUh+AHICNpyHDBlPDpTcQTL0g3pgkIAEJSEACEpCABCQgAQlIQAJFCbhCtSgx80tAAhKQgAQkIAEJSEACEpBA7QQIpO5KpZ9GHlaw8m8TTI1nrJokIAEJSEACEpCABCQgAQlIQAIpAgZUU9hUkoAEJCABCUhAAhKQgAQkIIE6CBBIXY96DkKenqjvCnT2SuipIgEJSEACEpCABCQgAQlIQAISWEDALX8XoPCNBCQgAQlIQAISkIAEJCABCTSFAIHUJZF9secsJBNMvQe9PVidel1TfNIOCUhAAhKQgAQkIAEJSEACEmgnAVeotrPdtFoCEpCABCQgAQlIQAISkEBnCRBIfQLOfQZ5zAhOfpRg6i9G0FdVAhKQgAQkIAEJSEACEpCABCQwn4ArVO0IEpCABCQgAQlIQAISkIAEJNAIAgRSV0YOxZjjkVGCqb9D/72NcEojJCABCUhAAhKQgAQkIAEJSKD1BFyh2vom1AEJSEACEpCABCQgAQlIQALtJkAQdTE82B35OLLqiN78El6VQAAAMJdJREFUA/3Y6veOEctRXQISkIAEJCABCUhAAhKQgAQkMJ+AAVU7ggQkIAEJSEACEpCABCQgAQmMjQDB1EdQeWzv+6SSjHgzwdRzSirLYiQgAQlIQAISkIAEJCABCUhAAv/ilr92AglIQAISkIAEJCABCUhAAhKonQCB1GWReVR8NlJWMPWnlBVbBpskIAEJSEACEpCABCQgAQlIQAKlEXCFamkoLUgCEpCABCQgAQlIQAISkIAEhiFAIPVZ5PsUss4w+YfMczX5XsXq1HuHzG82CUhAAhKQgAQkIAEJSEACEpDAUARcoToUJjNJQAISkIAEJCABCUhAAhKQwKgECKQ+FDmcco5G1hm1vCn6EUT9N4KpV075zLcSkIAEJCABCUhAAhKQgAQkIIFSCLhCtRSMFiIBCUhAAhKQgAQkIAEJSEACgwgQRI1rzzcgH0BWGJRvhM8/TTD1hyPoqyoBCUhAAhKQgAQkIAEJSEACEhhIwIDqQDR+IQEJSEACEpCABCQgAQlIQAKjEiCYujllHIJsNWpZA/T/wOdvG/CdH0tAAhKQgAQkIAEJSEACEpCABEYm4Ja/IyO0AAlIQAISkIAEJCABCUhAAhKYToBA6gOQA/j8/yFVBVNvp+yXszr179Pr938JSEACEpCABCQgAQlIQAISkEBZBFyhWhZJy5GABCQgAQlIQAISkIAEJCCB+QQIpO7Km4ORNStG8m6CqWdUXIfFS0ACEpCABCQgAQlIQAISkEDPCRhQ7XkH0H0JSEACEpCABCQgAQlIQAJlESCQuj5lfRp5alllzlLO8Xy3/yzf+5UEJCABCUhAAhKQgAQkIAEJSKAUAm75WwpGC5GABCQgAQlIQAISkIAEJNBfAgRSl0TeDoFzkDqCqTdQzx6sTr2nv9T1XAISkIAEJCABCUhAAhKQgATqIuAK1bpIW48EJCABCUhAAhKQgAQkIIEOEiCQuiNufQZ5VI3u7U0w9bIa67MqCUhAAhKQgAQkIAEJSEACEugxAVeo9rjxdV0CEpCABCQgAQlIQAISkECWAIHUlZFD0f8lUmcw9TCCqUdm7VZPAhKQgAQkIAEJSEACEpCABCRQlIArVIsSM78EJCABCUhAAhKQgAQkIIEeEyCIuhju7458HFm1ZhQXUd9+NddpdRKQgAQkIAEJSEACEpCABCTQcwIGVHveAXRfAhKQgAQkIAEJSEACEpDAsAQIpm5C3kOQbYfVKTHfXZT1Clan3lximRYlAQlIQAISkIAEJCABCUhAAhKYk0DcWWySgAQkIAEJSEACEpCABCQgAQkMJEAgdTm+fBvyTmSpgRmr/eK9BFM/UG0Vli4BCTSNAOefWAm/YkG7ruF8cVNBHbNLQAISkIAEJCABCUhAAhKQgAQkIAEJSEACEpCABCQggeIECGbsilyCjDOdTOWLF7deDQlIQAISkIAEJCABCUhAAhKQgAQkIAEJSEACEpCABCQgAQlIQAIVECCAuQbyzXFGUSfqvpnXDSpw0SIlIAEJSEACEpCABCQgAQlIQAISkIAEJCABCUhAAhKQgAQkIAEJFCNA8HIJZF/kJqQJafdiHphbAhKQgAQkIAEJSEACEpCABCQgAQlIQAISkIAEJCABCUhAAhKQQAUEiJ5ugZzWhCjqhA3fqsBNi5SABCQgAQlIQAISkIAEJCABCUhAAhKQgAQkIAEJSEACEpCABCQwPAGClyshByB3TwQym/ByOUasPLwX5pSABCQgAQlIQAISkIAEJCABCUhAAhKQgAQkIAEJSEACEpCABCRQMgGCli9ErmpCBHWKDRHYfVLJrlqcBCQgAQlIQAISkIAEJCABCUhAAhKQgAQkIAEJSEACEpCABCQggeEIELB8OPJ/U4KYTXr74eG8MJcEJCABCUhAAhKQgAQkIAEJSEACEpCABCQgAQlIQAISkIAEJCCBEgkQNV0KeTvyjyZFUKfYcjrvlyrRZYuSgAQkIAEJSEACEpCABCQgAQmMRGCxkbRVloAEJCABCUhAAhKQgAQkIIHWECBQuRPGfgZ5ZEONvg27tlhsscXOa6h9miUBCUhAAhKQgAQkIAEJSEACPSRwvx76rMsSkIAEJCABCUhAAhKQgAR6RYBA6kOQw3H6l0hTg6nRJv9uMDUwmCQgAQlIQAISkIAEJCABCUhAAhKQgAQkIAEJSEACEpCABCQggcoJEERdDNkDuQZpevoxBrqLUuW9wgokIAEJSEACEpCABCQgAQlIoCgBL1aLEjO/BCQgAQlIQAISkIAEJCCBFhAgOLkpZh6CbNMCc6/Gxk1YnXpVC2zVRAlIQAISkIAEJCABCUhAAhLoGQG3/O1Zg+uuBCQgAQlIQAISkIAEJNBtAgRSl0M+jJe/QdoQTL0XO//NYGq3+6XeSUACEpCABCQgAQlIQAISkIAEJCABCUhAAhKQgAQkIAEJSGDsBAik7opcirQpHTh2cBogAQlIQAISkIAEJCABCUhAAhKYhYBb/s4Cx68kIAEJSEACEpCABCQgAQm0gQDR0zWw8wDkBW2wd4qNf+D9lqxO/fuUz3wrAQlIQAISkIAEJCABCUhAAhJoFAG3/G1Uc2iMBCQgAQlIQAISkIAEJCCB4QkQSF0C2ReN85C2BVNvx+aXG0wdvr3NKQEJSEACEpCABCQgAQlIQALjIbDEeKq1VglIQAISkIAEJCABCUhAAhIYhQCB1O3R/wyy0SjljFH3XQRTzxhj/VYtAQlIQAISkIAEJCABCUhAAhIYioBb/g6FyUwSkIAEJCABCUhAAhKQgASaQYBA6gOxZB7yRqStuw4dj+1PIqB6D68mCUhAAhKQgAQkIAEJSEACEpBAowkYUG1082icBCQgAQlIQAISkIAEJCCB+wgQSI3rt92RjyKr3fdpK/9ej9WbEUy9rJXWa7QEJCABCUhAAhKQgAQkIAEJ9I6AW/72rsl1WAISkIAEJCABCUhAAhJoGwGCqRtg88HIk9tm+wz27m0wdQYqfiQBCUhAAhKQgAQkIAEJSEACjSXQ1u2hGgtUwyQgAQlIQAISkIAEJCABCZRFgEDqssg8yjsb6UIw9TCCqUeVxcdyJCABCUhAAhKQgAQkIAEJSEACdRBwy986KFuHBCQgAQlIQAISkIAEJCCBggQIpD4Rlc8gGxZUbWr2izAstvq9uakGapcEJCABCUhAAhKQgAQkIAEJSGAmAq5QnYmKn0lAAhKQgAQkIAEJSEACEhgTAQKpayOxivMXSFeCqXfhy8sMpo6pU1mtBCQgAQlIQAISkIAEJCABCYxEwGeojoRPZQlIQAISkIAEJCABCUhAAuUQIIi6AiX9B/JWZNlySm1MKf9FMPXUxlijIRKQgAQkIAEJSEACEpCABCQggQIE3PK3ACyzSkACEpCABCQgAQlIQALdIUAA88F4czWBvnvH6RV2rEj9+yBvRlYZpy0V1X0y5e4I57srKt9iJSABCUhAAhKQgAQkIAEJSEAClRJwy99K8Vq4BCQgAQlIQAISkIAEJNBgAhtj26UEND+MrFW3ndT5iKibei9G/hvpYjD1Fvza02AqFEwSkIAEJCABCUhAAhKQgAQk0FoCrlBtbdNpuAQkIAEJSEACEpCABCQwCgGCmXE9dC4Szym9E/kh8m3kWAKAV/JaepoI3L6Agl+CbF16Bc0rcA9YfqV5ZmmRBCQgAQlIQAISkIAEJCABCUhgeAIGVIdnZU4JSEACEpCABCQgAQlIoGMECHDui0ufnOZWbAF8DnIs8nPk98hlBAbv4XXoNBGwXR+FLZHHI09GHoX0JR0JswgcmyQgAQlIQAISkIAEJCABCUhAAq0mYEC11c2n8RKQgAQkIAEJSEACEpDAKAQIej4A/cuQeI7pbOl2vrwIuWDi9Vpeb50QXv5lKSS27A1ZHYlAashc5ZKlk+lyvNqUgOr1nfROpyQgAQlIQAISkIAEJCABCUigVwQMqPaquXVWAhKQgAQkIAEJSEACEphOgKDqR/nsrdM/9/80gVjJuwvB1F+kS1BRAhKQgAQkIAEJSEACEpCABCTQIAL3a5AtmiIBCUhAAhKQgAQkIAEJSGAcBGLL3zvGUXFH6/xfg6kdbVndkoAEJCABCUhAAhKQgAQk0FMCBlR72vC6LQEJSEACEpCABCQgAQncR4Dg3xW8+6I8SiFwOqW8r5SSLEQCEpCABCQgAQlIQAISkIAEJNAQAm7525CG0AwJSEACEpCABCQgAQlIYHwE2PZ3NWr/E7LC+Kxofc234cEWBKjPa70nOiABCUhAAhKQgAQkIAEJSEACEphCwBWqU2D4VgISkIAEJCABCUhAAhLoJwGCgFfj+Sf66X1pXr/FYGppLC1IAhKQgAQkIAEJSEACEpCABBpEwBWqDWoMTZGABCQgAQlIQAISkIAExkeAVarLU/s5yDrjs6K1NR+N5c8hoHpvaz3QcAlIQAISkIAEJCABCUhAAhKQwAACBlQHgPFjCUhAAhKQgAQkIAEJSKB/BAiqPgmvf454rTR888fq3k0Ipl41vIo5JSABCUhAAhKQgAQkIAEJSEAC7SHglr/taSstlYAEJCABCUhAAhKQgAQqJkBQ8BdUcXjF1XSp+FiRuqfB1C41qb5IQAISkIAEJCABCUhAAhKQwHQCBlSnE/F/CUhAAhKQgAQkIAEJSKDvBPYBwPl9hzCk//9LMPUnQ+Y1mwQkIAEJSEACEpCABCQgAQlIoJUE3Maqlc2m0RKQgAQkIAEJSEACEpBAlQTY+ncTyj8VWabKelpe9inYvyMB1Ttb7ofmS0ACEpCABCQgAQlIQAISkIAEZiXgCtVZ8filBCQgAQlIQAISkIAEJNBHAgQJz8Lv/fro+5A+/4V8uxlMHZKW2SQgAQlIQAISkIAEJCABCUig1QQMqLa6+TReAhKQgAQkIAEJSEACEqiKAMHCQyn7E1WV3+Jyb8b2Z8EngqomCUhAAhKQgAQkIAEJSEACEpBA5wm45W/nm1gHJSABCUhAAhKQgAQkIIEsAbb+jZtQj0JekC2jY3p34c+uBFN/2jG/dEcCEpCABCQgAQlIQAISkIAEJDCQgCtUB6LxCwlIQAISkIAEJCABCUig7wQIHN4Dg5chR/edBf7fjexpMNWeIAEJSEACEpCABCQgAQlIQAJ9I+AK1b61uP5KQAISkIAEJCABCUhAAoUJsFJ1KZS+jTyrsHI3FCKYugfB1CO64Y5eSEACEpCABCQgAQlIQAISkIAEhifgCtXhWZlTAhKQgAQkIAEJSEACEugpAQKJd+D6bsjXe4jgNnx+gcHUHra8LktAAhKQgAQkIAEJSEACEpDAfAIGVO0IEpCABCQgAQlIQAISkIAEhiBAQPF2sr0cef8Q2buS5VoceQq+f78rDumHBCQgAQlIQAISkIAEJCABCUigKAG3/C1KzPwSkIAEJCABCUhAAhKQQO8JsAXw7kD4DLJ8h2H8Ft92I5h6cYd91DUJSEACEpCABCQgAQlIQAISkMCcBFyhOiciM0hAAhKQgAQkIAEJSEACEliYAEHGr/DJNsh5C3/Tmf8+jSePN5jamfbUEQlIQAISkIAEJCABCUhAAhIYgYAB1RHgqSoBCUhAAhKQgAQkIAEJ9JcAwcZz8H5z5BPIPR0h8Rf8eA6+vRGJLY5NEpCABCQgAQlIQAISkIAEJCABCUhAAhKQgAQkIAEJSEACEpCABEYjwBbAj0fORNqa7sHwzyMrjUZCbQlIQAISkIAEJCABCUhAAhKQgAQkIAEJSEACEpCABCQgAQlIQAIzECAYeT9kD+RKpE3p1xi7/Qwu+ZEEJCABCUhAAhKQgAQkIAEJSEACEpCABCQgAQlIQAISkIAEJCCBcgkQnFwBeQdyNdLkdDrGPbdc7y1NAhKQgAQkIAEJSEACEpCABCQgAQlIQAISkIAEJCABCUhAAhKQwBAECFYuj7wR+T3SlHQ3hhyDPGUIF8wiAQlIQAISkIAEJCABCUhAAhKQgAQkIAEJSEACEpCABCQgAQlIoHoCBDB3Qg5DrkfGkS6h0g8g61XvrTVIQAISkIAEJCABCUhAAhKQgAS6RWCxbrmjNxKQgAQkIAEJSEACEpCABJpLgIDmUlgXq0OfjuyCbIBUke6m0DOQnyLfWWyxxX5bRSWWKQEJSEACEpCABCQgAQlIQAIS6AMBA6p9aGV9lIAEJCABCUhAAhKQgAQaSYAA61oYtg2yJbI5EgHWNZH7IcOmu8h4KXImchbyG+REgqg38WqSgAQkIAEJSEACEpCABCQgAQlIYEQCBlRHBKi6BCQgAQlIQAISkIAEJCCBMgkQZF2a8tZBVkVWQVZGYmXrZLqeN7cgNyCXIVcSPI0VqSYJSEACEpCABCQgAQlIQAISkIAEJCABCUhAAhKQgAQkIAEJSEACEpCABCQgAQlIQAISkIAEJCABCUhAAhKQgAQkIAEJSEACEpCABCQgAQlIQAISkIAEJCABCUhAAhKQgAQkIAEJSEACEpCABCQgAQlIQAISkIAEJCABCUhAAhKQgAQkIAEJSEACEpCABCQgAQlIQAISkIAEJCABCUhAAhKQgAQkIAEJSEACEpCABCQgAQlIQAISkIAEJCABCUhAAhKQgAQkIAEJSEACEpCABCQgAQlIQAISkIAEJCABCUhAAhKQgAQkIAEJSEACEpCABCQgAQlIQAISkIAEJCABCUhAAhKQgAQkIAEJSEACEpCABCQgAQlIQAISkIAEJCABCUhAAhKQgAQkIAEJSEACEpCABCQgAQlIQAISkIAEJCABCUhAAhKQgAQkIAEJSEACEpCABCQgAQlIQAISkIAEJCABCUhAAhKQgAQkIAEJSEACEpCABCQgAQlIQAISkIAEJCABCUhAAhKQgAQkIAEJSEACEpCABCQgAQlIQAISkIAEJCABCUhAAhKQgAQkIAEJSEACEpCABCQgAQlIQAISkIAEJCABCUhAAhKQgAQkIAEJSEACEpCABCQgAQlIQAISkIAEJCABCUhAAhKQgAQkIAEJSEACEpCABCQgAQlIQAISkIAEJCABCUhAAhKQgAQkIAEJSEACEpCABCQgAQlIQAISkIAEJCABCUhAAhKQgAQkIAEJSEACEpCABCQgAQlIQAISkIAEJCABCUhAAhKQgAQkIAEJSEACEpCABCQgAQlIQAISkIAEJCABCUhAAhKQgAQkIAEJSEACEpCABCQgAQlIQAISkIAEJCABCUhAAhKQgAQkIAEJSEACEpCABCQgAQlIQAISkIAEJCABCUhAAhKQgAQkIAEJSEACEpCABCQgAQlIQAISkIAEJCABCUhAAhKQgAQkIAEJSEACEpCABCQgAQlIQAISkIAEJCABCUhAAhKQgAQkIAEJSEACEpCABCQgAQlIQAISkIAEJCABCUhAAhKQgAQkIAEJSEACEpCABCQggf/fDh2QAAAAAAj6/7odgU7QgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAED74EATgagSSlHnEAAAAAASUVORK5CYII=)";var r=e.el().getElementsByTagName("video");e.el().insertBefore(t,r[0].nextSibling)}},t.prototype._initReadyEvent=function(e,t){var r=this;this.on(e,"ready",function(){r._enablePlaybackRateControl(r.pluginOptions.playbackRates),t.ready(e.tech_.el_)})},t.prototype._initSeekEvent=function(e,t){this.on(e,"seeked",function(){e.paused()||t.play()})},t.prototype._initLoadStartEvent=function(e){var t=this;this.on(e,"loadstart",function(){void 0===e.dashjs&&t.drmController.beforeInitialize(),t.one(e,"canplay",function(){/firefox/i.test(navigator.userAgent)&&e.dashjs.getLowLatencyEnabled()&&e.autoplay()&&e.play()})})},t.prototype._initPlayerEvents=function(e,t,r){this._initReadyEvent(e,r),this._initSeekEvent(e,t),this._initLoadStartEvent(e),Te.isSmartTV()||this.on(e,"firstplay",this._checkLicenceOnPlay)},t.prototype._beforeDashInitialise=function(e,t){var r=this;e.otvtoolkit()===this&&(e.dashjs=t,this._setCustomDashSettings(t),t.enableLastMediaSettingsCaching(!1),this.drmController.beforeInitialize(t),this._monitorEncrypted(e,t),t.on("manifestLoaded",function(n){r._log("Manifest has loaded of type: "+n.data.type),r.drmController.onManifestLoaded(n.data.Period),t.setInitialMediaSettingsFor("audio",{role:"main"}),e.isDynamic="dynamic"===n.data.type}),t.on("playbackPlaying",function(){e.isDynamic&&e.controlBar.currentTimeDisplay.show()}),t.on("streamTeardownComplete",function(){e.isDynamic=!1,r._resetFormatTime()}))},t.prototype._initComponents=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};tr.initialiseToolkit(this);for(var t in e)e.hasOwnProperty(t)&&(this.hasOwnProperty(t)?this[t](e[t]):K.default.log.warn('Component "'+t+'", does not exist it will not be added.'))},t.prototype._monitorEncrypted=function(e,t){var r=this;this.playbackIsEncrypted=!1,e.hasClass("opy-encrypted")&&e.removeClass("opy-encrypted"),t.on("public_licenseRequestComplete",function(){r.playbackIsEncrypted=!0,e.hasClass("opy-encrypted")||e.addClass("opy-encrypted")})},t.prototype._initCheckForSeekable=function(){var e=this,t=function(){var t=e.player.seekable(),r=e.player.hasClass("vjs-liveui");0===t.length&&r&&e.player.removeClass("vjs-liveui")};this.on(this.player,"canplaythrough",t)},t.prototype._checkForEdge=function(){-1!==window.navigator.userAgent.toLowerCase().indexOf("edge")?this.player.hasClass("opy-edge")||this.player.addClass("opy-edge"):this.player.hasClass("opy-edge")&&this.player.removeClass("opy-edge")},t.prototype._setCustomDashSettings=function(e){this.pluginOptions.liveDelay&&e.setLiveDelay(this.pluginOptions.liveDelay),this.pluginOptions.liveDelayFragmentCount&&e.setLiveDelayFragmentCount(this.pluginOptions.liveDelayFragmentCount),this.lowLatencyEnabled&&(e.setLowLatencyEnabled(!0),e.setCatchUpPlaybackRate(0))},t.prototype._enableConsoleLogging=function(e){this.on(e,"loadstart",this._printEvent),this.on(e,"sourceset",this._printEvent),this.on(e,"waiting",this._printEvent),this.on(e,"canplay",this._printEvent),this.on(e,"canplaythrough",this._printEvent),this.on(e,"playing",this._printEvent),this.on(e,"ended",this._printEvent),this.on(e,"seeking",this._printEvent),this.on(e,"seeked",this._printEvent),this.on(e,"play",this._printEvent),this.on(e,"firstplay",this._printEvent),this.on(e,"pause",this._printEvent),this.on(e,"durationchange",this._printEvent),this.on(e,"fullscreenchange",this._printEvent),this.on(e,"error",this._printEvent),this.on(e,"loadedmetadata",this._printEvent),this.on(e,"posterchange",this._printEvent),this.on(e,"textdata",this._printEvent)},t.prototype._printEvent=function(e){this._log("Event: "+e.type+" called")},t}(Ar);_r.VERSION="0.0.0",K.default.registerPlugin("otvtoolkit",_r);var Er=K.default.getComponent("MenuItem"),Tr=function(e){function t(r,n){re(this,t),n.label=n.quality,n.selectable=!0,n.selected=n.defaultLabel===n.quality;var i=oe(this,e.call(this,r,n));i.quality=n.quality;var o=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];i.handleResolutionChange.apply(i,t)};return r.on("otvmaxresolutionchange",o),i.on("dispose",function(){return r.off("otvmaxresolutionchange",o)}),i}return ie(t,e),t.prototype.handleClick=function(t){e.prototype.handleClick.call(this,t),this.player_.otvtoolkit().otvResolutionCapper().setQualityCap(this.quality)},t.prototype.handleResolutionChange=function(){this.selected(this.player_.otvtoolkit().otvResolutionCapper().getCurrentLabel()===this.quality)},t}(Er),Sr=K.default.getComponent("MenuButton"),Ir=function(e){function t(r,n){return re(this,t),oe(this,e.call(this,r,n))}return ie(t,e),t.prototype.createItems=function(){var e=[],t=this.options_.qualityLabels;for(var r in t)t.hasOwnProperty(r)&&e.push(new Tr(this.player_,ne({quality:r},this.options_)));return e},t.prototype.buildWrapperCSSClass=function(){return""+e.prototype.buildCSSClass.call(this)},t.prototype.createMenu=function(){var t=e.prototype.createMenu.call(this);return this.options_.rootMenuButton&&(t.menuButton_=this.options_.rootMenuButton),t},t}(Sr);K.default.registerComponent("OtvResolutionCapMenu",Ir);var wr=function(){function e(t,r){re(this,e),this.otvtoolkit=t,this.player=t.player,this.options=r}return e.prototype.dispose=function(){},e}(),Cr={Auto:[NaN,NaN],High:[1920,1080],Medium:[1280,720],Low:[640,480]},Dr=function(e){function t(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};re(this,t);var i=oe(this,e.call(this,r,n));n.qualityLabels||(n.qualityLabels=Cr),i.labels=n.qualityLabels,r.player.ready(function(){i._enableResolutionUI(r,n)}),i.beforeinitializeHook=i._initialiseDashjs.bind(i),K.default.Html5DashJS.hook("beforeinitialize",i.beforeinitializeHook);var o=r.player.src.bind(r.player);return r.player.src=function(e){return e&&i._hide(),o(e)},i.resolutionChangeHook=i._resolutionChangeCheck.bind(i),r.player.on("otvmaxresolutionchange",i.resolutionChangeHook),i}return ie(t,e),t.prototype.setQualityCap=function(e){var t=this.labels[e];t&&this.otvtoolkit.setMaxResolution(t[0],t[1])},t.prototype._findDefaultLabel=function(e){var t=null;for(var r in e)if(e.hasOwnProperty(r)&&isNaN(e[r][0])&&isNaN(e[r][1])){t=r;break}return t},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.mediaPlayer_&&this.mediaPlayer_.off("manifestLoaded",this.manifestLoadedHook),K.default.Html5DashJS.removeHook("beforeinitialize",this.beforeinitializeHook),this.player.off("otvmaxresolutionchange",this.resolutionChangeHook)},t.prototype._hide=function(){this.otvtoolkit.otvSettingsMenu().hideSubMenu("OtvResolutionCapMenu")},t.prototype._manifestLoadedHandler=function(){this.otvtoolkit.otvSettingsMenu().showSubMenu("OtvResolutionCapMenu")},t.prototype._enableResolutionUI=function(e,t){t.menuTitle||(t.menuTitle="Maximum Resolution"),t.title=t.menuTitle,t.defaultLabel=this._findDefaultLabel(t.qualityLabels),t.rootMenuButton=e.otvSettingsMenu(),e.otvSettingsMenu().addSubMenu("OtvResolutionCapMenu",t)},t.prototype._initialiseDashjs=function(e,t){e===this.player&&(this.manifestLoadedHook=this._manifestLoadedHandler.bind(this),t.on("manifestLoaded",this.manifestLoadedHook),this.mediaPlayer_=t)},t.prototype._resolutionChangeCheck=function(){this.getCurrentLabel()||(K.default.log.warn("Resolution has been set to a value that's incompatible with the Max Resolution labels so the UI will be disabled"),this._hide())},t.prototype.getCurrentLabel=function(){var e=this.otvtoolkit.otvResolutionController.selectedResolution,t=void 0;for(var r in this.labels)if(this.labels.hasOwnProperty(r)&&ee.default.isEqual(this.labels[r],e)){t=r;break}return t},t}(wr);tr.register("otvResolutionCapper",Dr);var Mr=K.default.getComponent("MenuItem"),Or=function(e){function t(r,n,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};re(this,t);var a=oe(this,e.call(this,r,o));o.title=void 0;var s=K.default.getComponent(i);return a.subMenu=new s(a.player(),o),a.parent=n,K.default.dom.addClass(a.subMenu.menu.contentEl(),"otv-settings-submenu-ul"),a.menuComponent=i,a.update(),a}return ie(t,e),t.prototype.createEl=function(){var e=K.default.dom.createEl("li",{className:"vjs-menu-item"});return this.subMenuTitleEl=K.default.dom.createEl("div",{className:"otv-settings-submenu-title noselect"}),e.appendChild(this.subMenuTitleEl),this.subMenuContentEl=K.default.dom.createEl("div",{className:"otv-settings-submenu-content vjs-hidden"}),e.appendChild(this.subMenuContentEl),e},t.prototype.handleClick=function(){e.prototype.handleClick.call(this);var t=!this.hasClass("open");this.parent.closeSubMenus(),t&&this._open()},t.prototype.update=function(){this.subMenuTitleEl.innerHTML=this.options_.title,this.subMenuContentEl.appendChild(this.subMenu.menu.el())},t.prototype.close=function(){this.hasClass("open")&&(K.default.dom.addClass(this.subMenuContentEl,"vjs-hidden"),this.removeClass("open"))},t.prototype._open=function(){K.default.dom.removeClass(this.subMenuContentEl,"vjs-hidden"),this.subMenu.menu.show(),this.addClass("open")},t.prototype.getComponentName=function(){return this.menuComponent},t.prototype.isVisible=function(){return!this.hasClass("vjs-hidden")},t}(Mr);Or.prototype.contentElType="button";var Br=K.default.getComponent("MenuButton"),Rr=K.default.getComponent("Menu"),Pr=function(e){function t(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};re(this,t);var i=oe(this,e.call(this,r.player,n));return i.otvtoolkit=r,i.menuItems=[],i.on("mouseleave",K.default.bind(i,i.closeSubMenus)),n.placeAfter||(n.placeAfter="AudioTrackButton"),r.player.ready(function(){var e=r.player.getChild("controlBar");i._addToControlBar(e,n),i._hasVisibleSubMenus()||i.hide()}),i}return ie(t,e),t.prototype.addSubMenu=function(e,t){this.menuItems.push({menuComponent:e,options:t}),this.update(),this.show()},t.prototype.hideSubMenu=function(e){var t=this.menu.children().find(function(t){return t.getComponentName()===e});t&&(t.hide(),this._hasVisibleSubMenus()||this.hide())},t.prototype.showSubMenu=function(e){var t=this.menu.children().find(function(t){return t.getComponentName()===e});t&&(t.show(),this.show())},t.prototype.buildCSSClass=function(){return"otv-settings-cog "+e.prototype.buildWrapperCSSClass.call(this)},t.prototype.buildWrapperCSSClass=function(){return"otv-settings-cog "+e.prototype.buildWrapperCSSClass.call(this)},t.prototype.createMenu=function(){var e=new Rr(this.player());if(K.default.dom.addClass(e.contentEl(),"otv-settings-content"),!this.menuItems)return e;for(var t=this.menuItems,r=Array.isArray(t),n=0,t=r?t:t[Symbol.iterator]();;){var i;if(r){if(n>=t.length)break;i=t[n++]}else{if(n=t.next(),n.done)break;i=n.value}var o=i,a=new Or(this.player(),this,o.menuComponent,o.options);e.addChild(a)}return e},t.prototype.closeSubMenus=function(){for(var e=this.menu.children(),t=Array.isArray(e),r=0,e=t?e:e[Symbol.iterator]();;){var n;if(t){if(r>=e.length)break;n=e[r++]}else{if(r=e.next(),r.done)break;n=r.value}n.close()}},t.prototype._hasVisibleSubMenus=function(){for(var e=!1,t=this.menu.children(),r=Array.isArray(t),n=0,t=r?t:t[Symbol.iterator]();;){var i;if(r){if(n>=t.length)break;i=t[n++]}else{if(n=t.next(),n.done)break;i=n.value}if(i.isVisible()){e=!0;break}}return e},t.prototype._addToControlBar=function(e,t){for(var r=0,n=e.children(),i=n,o=Array.isArray(i),a=0,i=o?i:i[Symbol.iterator]();;){var s;if(o){if(a>=i.length)break;s=i[a++]}else{if(a=i.next(),a.done)break;s=a.value}var u=s;if(r++,u.name()===t.placeAfter){e.addChild(this,t,r);break}}},t}(Br);tr.register("otvSettingsMenu",Pr);var kr=r(766),Lr=kr,Nr=Function("return this")();Lr.exportSymbol("proto.WidevinePsshData",null,Nr),Lr.exportSymbol("proto.WidevinePsshData.Algorithm",null,Nr),Lr.exportSymbol("proto.WidevinePsshData.EntitledKey",null,Nr),Lr.exportSymbol("proto.WidevinePsshData.Type",null,Nr),proto.WidevinePsshData=function(e){kr.Message.initialize(this,e,0,-1,proto.WidevinePsshData.repeatedFields_,null)},Lr.inherits(proto.WidevinePsshData,kr.Message),Lr.DEBUG&&!COMPILED&&(proto.WidevinePsshData.displayName="proto.WidevinePsshData"),proto.WidevinePsshData.EntitledKey=function(e){kr.Message.initialize(this,e,0,-1,null,null)},Lr.inherits(proto.WidevinePsshData.EntitledKey,kr.Message),Lr.DEBUG&&!COMPILED&&(proto.WidevinePsshData.EntitledKey.displayName="proto.WidevinePsshData.EntitledKey"),proto.WidevinePsshData.repeatedFields_=[2,13,14],kr.Message.GENERATE_TO_OBJECT&&(proto.WidevinePsshData.prototype.toObject=function(e){return proto.WidevinePsshData.toObject(e,this)},proto.WidevinePsshData.toObject=function(e,t){var r,n={keyIdsList:t.getKeyIdsList_asB64(),contentId:t.getContentId_asB64(),cryptoPeriodIndex:null==(r=kr.Message.getField(t,7))?void 0:r,protectionScheme:null==(r=kr.Message.getField(t,9))?void 0:r,cryptoPeriodSeconds:null==(r=kr.Message.getField(t,10))?void 0:r,type:kr.Message.getFieldWithDefault(t,11,0),keySequence:null==(r=kr.Message.getField(t,12))?void 0:r,groupIdsList:t.getGroupIdsList_asB64(),entitledKeysList:kr.Message.toObjectList(t.getEntitledKeysList(),proto.WidevinePsshData.EntitledKey.toObject,e),algorithm:null==(r=kr.Message.getField(t,1))?void 0:r,provider:null==(r=kr.Message.getField(t,3))?void 0:r,trackType:null==(r=kr.Message.getField(t,5))?void 0:r,policy:null==(r=kr.Message.getField(t,6))?void 0:r,groupedLicense:t.getGroupedLicense_asB64()};return e&&(n.$jspbMessageInstance=t),n}),proto.WidevinePsshData.deserializeBinary=function(e){var t=new kr.BinaryReader(e),r=new proto.WidevinePsshData;return proto.WidevinePsshData.deserializeBinaryFromReader(r,t)},proto.WidevinePsshData.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 2:var r=t.readBytes();e.addKeyIds(r);break;case 4:var r=t.readBytes();e.setContentId(r);break;case 7:var r=t.readUint32();e.setCryptoPeriodIndex(r);break;case 9:var r=t.readUint32();e.setProtectionScheme(r);break;case 10:var r=t.readUint32();e.setCryptoPeriodSeconds(r);break;case 11:var r=t.readEnum();e.setType(r);break;case 12:var r=t.readUint32();e.setKeySequence(r);break;case 13:var r=t.readBytes();e.addGroupIds(r);break;case 14:var r=new proto.WidevinePsshData.EntitledKey;t.readMessage(r,proto.WidevinePsshData.EntitledKey.deserializeBinaryFromReader),e.addEntitledKeys(r);break;case 1:var r=t.readEnum();e.setAlgorithm(r);break;case 3:var r=t.readString();e.setProvider(r);break;case 5:var r=t.readString();e.setTrackType(r);break;case 6:var r=t.readString();e.setPolicy(r);break;case 8:var r=t.readBytes();e.setGroupedLicense(r);break;default:t.skipField()}}return e},proto.WidevinePsshData.prototype.serializeBinary=function(){var e=new kr.BinaryWriter;return proto.WidevinePsshData.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.WidevinePsshData.serializeBinaryToWriter=function(e,t){var r=void 0;r=e.getKeyIdsList_asU8(),r.length>0&&t.writeRepeatedBytes(2,r),r=kr.Message.getField(e,4),null!=r&&t.writeBytes(4,r),r=kr.Message.getField(e,7),null!=r&&t.writeUint32(7,r),r=kr.Message.getField(e,9),null!=r&&t.writeUint32(9,r),r=kr.Message.getField(e,10),null!=r&&t.writeUint32(10,r),r=kr.Message.getField(e,11),null!=r&&t.writeEnum(11,r),r=kr.Message.getField(e,12),null!=r&&t.writeUint32(12,r),r=e.getGroupIdsList_asU8(),r.length>0&&t.writeRepeatedBytes(13,r),r=e.getEntitledKeysList(),r.length>0&&t.writeRepeatedMessage(14,r,proto.WidevinePsshData.EntitledKey.serializeBinaryToWriter),r=kr.Message.getField(e,1),null!=r&&t.writeEnum(1,r),r=kr.Message.getField(e,3),null!=r&&t.writeString(3,r),r=kr.Message.getField(e,5),null!=r&&t.writeString(5,r),r=kr.Message.getField(e,6),null!=r&&t.writeString(6,r),null!=(r=kr.Message.getField(e,8))&&t.writeBytes(8,r)},proto.WidevinePsshData.Type={SINGLE:0,ENTITLEMENT:1,ENTITLED_KEY:2},proto.WidevinePsshData.Algorithm={UNENCRYPTED:0,AESCTR:1},kr.Message.GENERATE_TO_OBJECT&&(proto.WidevinePsshData.EntitledKey.prototype.toObject=function(e){return proto.WidevinePsshData.EntitledKey.toObject(e,this)},proto.WidevinePsshData.EntitledKey.toObject=function(e,t){var r={entitlementKeyId:t.getEntitlementKeyId_asB64(),keyId:t.getKeyId_asB64(),key:t.getKey_asB64(),iv:t.getIv_asB64(),entitlementKeySizeBytes:kr.Message.getFieldWithDefault(t,5,32)};return e&&(r.$jspbMessageInstance=t),r}),proto.WidevinePsshData.EntitledKey.deserializeBinary=function(e){var t=new kr.BinaryReader(e),r=new proto.WidevinePsshData.EntitledKey;return proto.WidevinePsshData.EntitledKey.deserializeBinaryFromReader(r,t)},proto.WidevinePsshData.EntitledKey.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readBytes();e.setEntitlementKeyId(r);break;case 2:var r=t.readBytes();e.setKeyId(r);break;case 3:var r=t.readBytes();e.setKey(r);break;case 4:var r=t.readBytes();e.setIv(r);break;case 5:var r=t.readUint32();e.setEntitlementKeySizeBytes(r);break;default:t.skipField()}}return e},proto.WidevinePsshData.EntitledKey.prototype.serializeBinary=function(){var e=new kr.BinaryWriter;return proto.WidevinePsshData.EntitledKey.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.WidevinePsshData.EntitledKey.serializeBinaryToWriter=function(e,t){var r=void 0;r=kr.Message.getField(e,1),null!=r&&t.writeBytes(1,r),r=kr.Message.getField(e,2),null!=r&&t.writeBytes(2,r),r=kr.Message.getField(e,3),null!=r&&t.writeBytes(3,r),r=kr.Message.getField(e,4),null!=r&&t.writeBytes(4,r),null!=(r=kr.Message.getField(e,5))&&t.writeUint32(5,r)},proto.WidevinePsshData.EntitledKey.prototype.getEntitlementKeyId=function(){return kr.Message.getFieldWithDefault(this,1,"")},proto.WidevinePsshData.EntitledKey.prototype.getEntitlementKeyId_asB64=function(){return kr.Message.bytesAsB64(this.getEntitlementKeyId())},proto.WidevinePsshData.EntitledKey.prototype.getEntitlementKeyId_asU8=function(){return kr.Message.bytesAsU8(this.getEntitlementKeyId())},proto.WidevinePsshData.EntitledKey.prototype.setEntitlementKeyId=function(e){kr.Message.setField(this,1,e)},proto.WidevinePsshData.EntitledKey.prototype.clearEntitlementKeyId=function(){kr.Message.setField(this,1,void 0)},proto.WidevinePsshData.EntitledKey.prototype.hasEntitlementKeyId=function(){return null!=kr.Message.getField(this,1)},proto.WidevinePsshData.EntitledKey.prototype.getKeyId=function(){return kr.Message.getFieldWithDefault(this,2,"")},proto.WidevinePsshData.EntitledKey.prototype.getKeyId_asB64=function(){return kr.Message.bytesAsB64(this.getKeyId())},proto.WidevinePsshData.EntitledKey.prototype.getKeyId_asU8=function(){return kr.Message.bytesAsU8(this.getKeyId())},proto.WidevinePsshData.EntitledKey.prototype.setKeyId=function(e){kr.Message.setField(this,2,e)},proto.WidevinePsshData.EntitledKey.prototype.clearKeyId=function(){kr.Message.setField(this,2,void 0)},proto.WidevinePsshData.EntitledKey.prototype.hasKeyId=function(){return null!=kr.Message.getField(this,2)},proto.WidevinePsshData.EntitledKey.prototype.getKey=function(){return kr.Message.getFieldWithDefault(this,3,"")},proto.WidevinePsshData.EntitledKey.prototype.getKey_asB64=function(){return kr.Message.bytesAsB64(this.getKey())},proto.WidevinePsshData.EntitledKey.prototype.getKey_asU8=function(){return kr.Message.bytesAsU8(this.getKey())},proto.WidevinePsshData.EntitledKey.prototype.setKey=function(e){kr.Message.setField(this,3,e)},proto.WidevinePsshData.EntitledKey.prototype.clearKey=function(){kr.Message.setField(this,3,void 0)},proto.WidevinePsshData.EntitledKey.prototype.hasKey=function(){return null!=kr.Message.getField(this,3)},proto.WidevinePsshData.EntitledKey.prototype.getIv=function(){return kr.Message.getFieldWithDefault(this,4,"")},proto.WidevinePsshData.EntitledKey.prototype.getIv_asB64=function(){return kr.Message.bytesAsB64(this.getIv())},proto.WidevinePsshData.EntitledKey.prototype.getIv_asU8=function(){return kr.Message.bytesAsU8(this.getIv())},proto.WidevinePsshData.EntitledKey.prototype.setIv=function(e){kr.Message.setField(this,4,e)},proto.WidevinePsshData.EntitledKey.prototype.clearIv=function(){kr.Message.setField(this,4,void 0)},proto.WidevinePsshData.EntitledKey.prototype.hasIv=function(){return null!=kr.Message.getField(this,4)},proto.WidevinePsshData.EntitledKey.prototype.getEntitlementKeySizeBytes=function(){return kr.Message.getFieldWithDefault(this,5,32)},proto.WidevinePsshData.EntitledKey.prototype.setEntitlementKeySizeBytes=function(e){kr.Message.setField(this,5,e)},proto.WidevinePsshData.EntitledKey.prototype.clearEntitlementKeySizeBytes=function(){kr.Message.setField(this,5,void 0)},proto.WidevinePsshData.EntitledKey.prototype.hasEntitlementKeySizeBytes=function(){return null!=kr.Message.getField(this,5)},proto.WidevinePsshData.prototype.getKeyIdsList=function(){return kr.Message.getRepeatedField(this,2)},proto.WidevinePsshData.prototype.getKeyIdsList_asB64=function(){return kr.Message.bytesListAsB64(this.getKeyIdsList())},proto.WidevinePsshData.prototype.getKeyIdsList_asU8=function(){return kr.Message.bytesListAsU8(this.getKeyIdsList())},proto.WidevinePsshData.prototype.setKeyIdsList=function(e){kr.Message.setField(this,2,e||[])},proto.WidevinePsshData.prototype.addKeyIds=function(e,t){kr.Message.addToRepeatedField(this,2,e,t)},proto.WidevinePsshData.prototype.clearKeyIdsList=function(){this.setKeyIdsList([])},proto.WidevinePsshData.prototype.getContentId=function(){return kr.Message.getFieldWithDefault(this,4,"")},proto.WidevinePsshData.prototype.getContentId_asB64=function(){return kr.Message.bytesAsB64(this.getContentId())},proto.WidevinePsshData.prototype.getContentId_asU8=function(){return kr.Message.bytesAsU8(this.getContentId())},proto.WidevinePsshData.prototype.setContentId=function(e){kr.Message.setField(this,4,e)},proto.WidevinePsshData.prototype.clearContentId=function(){kr.Message.setField(this,4,void 0)},proto.WidevinePsshData.prototype.hasContentId=function(){return null!=kr.Message.getField(this,4)},proto.WidevinePsshData.prototype.getCryptoPeriodIndex=function(){return kr.Message.getFieldWithDefault(this,7,0)},proto.WidevinePsshData.prototype.setCryptoPeriodIndex=function(e){kr.Message.setField(this,7,e)},proto.WidevinePsshData.prototype.clearCryptoPeriodIndex=function(){kr.Message.setField(this,7,void 0)},proto.WidevinePsshData.prototype.hasCryptoPeriodIndex=function(){return null!=kr.Message.getField(this,7)},proto.WidevinePsshData.prototype.getProtectionScheme=function(){return kr.Message.getFieldWithDefault(this,9,0)},proto.WidevinePsshData.prototype.setProtectionScheme=function(e){kr.Message.setField(this,9,e)},proto.WidevinePsshData.prototype.clearProtectionScheme=function(){kr.Message.setField(this,9,void 0)},proto.WidevinePsshData.prototype.hasProtectionScheme=function(){return null!=kr.Message.getField(this,9)},proto.WidevinePsshData.prototype.getCryptoPeriodSeconds=function(){return kr.Message.getFieldWithDefault(this,10,0)},proto.WidevinePsshData.prototype.setCryptoPeriodSeconds=function(e){kr.Message.setField(this,10,e)},proto.WidevinePsshData.prototype.clearCryptoPeriodSeconds=function(){kr.Message.setField(this,10,void 0)},proto.WidevinePsshData.prototype.hasCryptoPeriodSeconds=function(){return null!=kr.Message.getField(this,10)},proto.WidevinePsshData.prototype.getType=function(){return kr.Message.getFieldWithDefault(this,11,0)},proto.WidevinePsshData.prototype.setType=function(e){kr.Message.setField(this,11,e)},proto.WidevinePsshData.prototype.clearType=function(){kr.Message.setField(this,11,void 0)},proto.WidevinePsshData.prototype.hasType=function(){return null!=kr.Message.getField(this,11)},proto.WidevinePsshData.prototype.getKeySequence=function(){return kr.Message.getFieldWithDefault(this,12,0)},proto.WidevinePsshData.prototype.setKeySequence=function(e){kr.Message.setField(this,12,e)},proto.WidevinePsshData.prototype.clearKeySequence=function(){kr.Message.setField(this,12,void 0)},proto.WidevinePsshData.prototype.hasKeySequence=function(){return null!=kr.Message.getField(this,12)},proto.WidevinePsshData.prototype.getGroupIdsList=function(){return kr.Message.getRepeatedField(this,13)},proto.WidevinePsshData.prototype.getGroupIdsList_asB64=function(){return kr.Message.bytesListAsB64(this.getGroupIdsList())},proto.WidevinePsshData.prototype.getGroupIdsList_asU8=function(){return kr.Message.bytesListAsU8(this.getGroupIdsList())},proto.WidevinePsshData.prototype.setGroupIdsList=function(e){kr.Message.setField(this,13,e||[])},proto.WidevinePsshData.prototype.addGroupIds=function(e,t){kr.Message.addToRepeatedField(this,13,e,t)},proto.WidevinePsshData.prototype.clearGroupIdsList=function(){this.setGroupIdsList([])},proto.WidevinePsshData.prototype.getEntitledKeysList=function(){return kr.Message.getRepeatedWrapperField(this,proto.WidevinePsshData.EntitledKey,14)},proto.WidevinePsshData.prototype.setEntitledKeysList=function(e){kr.Message.setRepeatedWrapperField(this,14,e)},proto.WidevinePsshData.prototype.addEntitledKeys=function(e,t){return kr.Message.addToRepeatedWrapperField(this,14,e,proto.WidevinePsshData.EntitledKey,t)},proto.WidevinePsshData.prototype.clearEntitledKeysList=function(){this.setEntitledKeysList([])},proto.WidevinePsshData.prototype.getAlgorithm=function(){return kr.Message.getFieldWithDefault(this,1,0)},proto.WidevinePsshData.prototype.setAlgorithm=function(e){kr.Message.setField(this,1,e)},proto.WidevinePsshData.prototype.clearAlgorithm=function(){kr.Message.setField(this,1,void 0)},proto.WidevinePsshData.prototype.hasAlgorithm=function(){return null!=kr.Message.getField(this,1)},proto.WidevinePsshData.prototype.getProvider=function(){return kr.Message.getFieldWithDefault(this,3,"")},proto.WidevinePsshData.prototype.setProvider=function(e){kr.Message.setField(this,3,e)},proto.WidevinePsshData.prototype.clearProvider=function(){kr.Message.setField(this,3,void 0)},proto.WidevinePsshData.prototype.hasProvider=function(){return null!=kr.Message.getField(this,3)},proto.WidevinePsshData.prototype.getTrackType=function(){return kr.Message.getFieldWithDefault(this,5,"")},proto.WidevinePsshData.prototype.setTrackType=function(e){kr.Message.setField(this,5,e)},proto.WidevinePsshData.prototype.clearTrackType=function(){kr.Message.setField(this,5,void 0)},proto.WidevinePsshData.prototype.hasTrackType=function(){return null!=kr.Message.getField(this,5)},proto.WidevinePsshData.prototype.getPolicy=function(){return kr.Message.getFieldWithDefault(this,6,"")},proto.WidevinePsshData.prototype.setPolicy=function(e){kr.Message.setField(this,6,e)},proto.WidevinePsshData.prototype.clearPolicy=function(){kr.Message.setField(this,6,void 0)},proto.WidevinePsshData.prototype.hasPolicy=function(){return null!=kr.Message.getField(this,6)},proto.WidevinePsshData.prototype.getGroupedLicense=function(){return kr.Message.getFieldWithDefault(this,8,"")},proto.WidevinePsshData.prototype.getGroupedLicense_asB64=function(){return kr.Message.bytesAsB64(this.getGroupedLicense())},proto.WidevinePsshData.prototype.getGroupedLicense_asU8=function(){return kr.Message.bytesAsU8(this.getGroupedLicense())},proto.WidevinePsshData.prototype.setGroupedLicense=function(e){kr.Message.setField(this,8,e)},proto.WidevinePsshData.prototype.clearGroupedLicense=function(){kr.Message.setField(this,8,void 0)},proto.WidevinePsshData.prototype.hasGroupedLicense=function(){return null!=kr.Message.getField(this,8)},Lr.object.extend(t,proto)},function(e,t,r){(function(t){e.exports=t.videojs=r(484)}).call(t,r(18))},function(e,t,r){(function(t){/**
 * @license
 * Video.js 7.4.1-nmp-15 <http://videojs.com/>
 * Copyright Brightcove, Inc. <https://www.brightcove.com/>
 * Available under Apache License Version 2.0
 * <https://github.com/videojs/video.js/blob/master/LICENSE>
 *
 * Includes vtt.js <https://github.com/mozilla/vtt.js>
 * Available under Apache License Version 2.0
 * <https://github.com/mozilla/vtt.js/blob/master/LICENSE>
 */
!function(t,n){e.exports=n(r(485),r(487))}(0,function(e,r){function n(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function o(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function a(e,t,r){return a=o()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var o=Function.bind.apply(e,n),a=new o;return r&&i(a,r.prototype),a},a.apply(null,arguments)}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e,t){return t||(t=e.slice(0)),e.raw=t,e}function l(e){var t,r="info",n=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];t("log",r,n)};return t=Ct(e,n),n.createLogger=function(t){return l(e+": "+t)},n.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:r},n.level=function(e){if("string"==typeof e){if(!n.levels.hasOwnProperty(e))throw new Error('"'+e+'" in not a valid log level');r=e}return r},n.history=function(){return wt?[].concat(wt):[]},n.history.filter=function(e){return(wt||[]).filter(function(t){return new RegExp(".*"+e+".*").test(t[0])})},n.history.clear=function(){wt&&(wt.length=0)},n.history.disable=function(){null!==wt&&(wt.length=0,wt=null)},n.history.enable=function(){null===wt&&(wt=[])},n.error=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return t("error",r,n)},n.warn=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return t("warn",r,n)},n.debug=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return t("debug",r,n)},n}function c(e){return e.replace(/\n\r?\s*/g,"")}function d(e,t){Rt(e).forEach(function(r){return t(e[r],r)})}function f(e,t,r){return void 0===r&&(r=0),Rt(e).reduce(function(r,n){return t(r,e[n],n)},r)}function g(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return Object.assign?Object.assign.apply(Object,[e].concat(r)):(r.forEach(function(t){t&&d(t,function(t,r){e[r]=t})}),e)}function p(e){return!!e&&"object"==typeof e}function h(e){return p(e)&&"[object Object]"===Bt.call(e)&&e.constructor===Object}function y(e,t){if(!e||!t)return"";if("function"==typeof r.getComputedStyle){var n=r.getComputedStyle(e);return n?n[t]:""}return""}function m(){var e=u(["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."]);return m=function(){return e},e}function v(e){return"string"==typeof e&&/\S/.test(e)}function b(e){if(/\s/.test(e))throw new Error("class has illegal whitespace characters")}function A(e){return new RegExp("(^|\\s)"+e+"($|\\s)")}function _(){return e===r.document}function E(e){return p(e)&&1===e.nodeType}function T(){try{return r.parent!==r.self}catch(e){return!0}}function S(t){return function(r,n){if(!v(r))return e[t](null);v(n)&&(n=e.querySelector(n));var i=E(n)?n:e;return i[t]&&i[t](r)}}function I(t,r,n,i){void 0===t&&(t="div"),void 0===r&&(r={}),void 0===n&&(n={});var o=e.createElement(t);return Object.getOwnPropertyNames(r).forEach(function(e){var t=r[e];-1!==e.indexOf("aria-")||"role"===e||"type"===e?(Dt.warn(Ot(m(),e,t)),o.setAttribute(e,t)):"textContent"===e?w(o,t):o[e]=t}),Object.getOwnPropertyNames(n).forEach(function(e){o.setAttribute(e,n[e])}),i&&Y(o,i),o}function w(e,t){return void 0===e.textContent?e.innerText=t:e.textContent=t,e}function C(e,t){t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e)}function D(e,t){return b(t),e.classList?e.classList.contains(t):A(t).test(e.className)}function M(e,t){return e.classList?e.classList.add(t):D(e,t)||(e.className=(e.className+" "+t).trim()),e}function O(e,t){return e.classList?e.classList.remove(t):(b(t),e.className=e.className.split(/\s+/).filter(function(e){return e!==t}).join(" ")),e}function B(e,t,r){var n=D(e,t);if("function"==typeof r&&(r=r(e,t)),"boolean"!=typeof r&&(r=!n),r!==n)return r?M(e,t):O(e,t),e}function R(e,t){Object.getOwnPropertyNames(t).forEach(function(r){var n=t[r];null===n||void 0===n||!1===n?e.removeAttribute(r):e.setAttribute(r,!0===n?"":n)})}function P(e){var t={};if(e&&e.attributes&&e.attributes.length>0)for(var r=e.attributes,n=r.length-1;n>=0;n--){var i=r[n].name,o=r[n].value;"boolean"!=typeof e[i]&&-1===",autoplay,controls,playsinline,loop,muted,default,defaultMuted,".indexOf(","+i+",")||(o=null!==o),t[i]=o}return t}function k(e,t){return e.getAttribute(t)}function L(e,t,r){e.setAttribute(t,r)}function N(e,t){e.removeAttribute(t)}function x(){e.body.focus(),e.onselectstart=function(){return!1}}function j(){e.onselectstart=function(){return!0}}function U(e){if(e&&e.getBoundingClientRect&&e.parentNode){var t=e.getBoundingClientRect(),r={};return["bottom","height","left","right","top","width"].forEach(function(e){void 0!==t[e]&&(r[e]=t[e])}),r.height||(r.height=parseFloat(y(e,"height"))),r.width||(r.width=parseFloat(y(e,"width"))),r}}function F(t){var n;if(t.getBoundingClientRect&&t.parentNode&&(n=t.getBoundingClientRect()),!n)return{left:0,top:0};var i=e.documentElement,o=e.body,a=i.clientLeft||o.clientLeft||0,s=r.pageXOffset||o.scrollLeft,u=n.left+s-a,l=i.clientTop||o.clientTop||0,c=r.pageYOffset||o.scrollTop,d=n.top+c-l;return{left:Math.round(u),top:Math.round(d)}}function Q(e,t){var r={},n=F(e),i=e.offsetWidth,o=e.offsetHeight,a=n.top,s=n.left,u=t.pageY,l=t.pageX;return t.changedTouches&&(l=t.changedTouches[0].pageX,u=t.changedTouches[0].pageY),r.y=Math.max(0,Math.min(1,(a-u+o)/o)),r.x=Math.max(0,Math.min(1,(l-s)/i)),r}function G(e){return p(e)&&3===e.nodeType}function W(e){for(;e.firstChild;)e.removeChild(e.firstChild);return e}function H(t){return"function"==typeof t&&(t=t()),(Array.isArray(t)?t:[t]).map(function(t){return"function"==typeof t&&(t=t()),E(t)||G(t)?t:"string"==typeof t&&/\S/.test(t)?e.createTextNode(t):void 0}).filter(function(e){return e})}function Y(e,t){return H(t).forEach(function(t){return e.appendChild(t)}),e}function V(e,t){return Y(W(e),t)}function q(e){return void 0===e.button&&void 0===e.buttons||(0===e.button&&void 0===e.buttons||0===e.button&&1===e.buttons)}function K(){return Nt++}function z(e){var t=e[jt];return t||(t=e[jt]=K()),xt[t]||(xt[t]={}),xt[t]}function X(e){var t=e[jt];return!!t&&!!Object.getOwnPropertyNames(xt[t]).length}function J(e){var t=e[jt];if(t){delete xt[t];try{delete e[jt]}catch(t){e.removeAttribute?e.removeAttribute(jt):e[jt]=null}}}function Z(e,t){var r=z(e);0===r.handlers[t].length&&(delete r.handlers[t],e.removeEventListener?e.removeEventListener(t,r.dispatcher,!1):e.detachEvent&&e.detachEvent("on"+t,r.dispatcher)),Object.getOwnPropertyNames(r.handlers).length<=0&&(delete r.handlers,delete r.dispatcher,delete r.disabled),0===Object.getOwnPropertyNames(r).length&&J(e)}function $(e,t,r,n){r.forEach(function(r){e(t,r,n)})}function ee(t){function n(){return!0}function i(){return!1}if(!t||!t.isPropagationStopped){var o=t||r.event;t={};for(var a in o)"layerX"!==a&&"layerY"!==a&&"keyLocation"!==a&&"webkitMovementX"!==a&&"webkitMovementY"!==a&&("returnValue"===a&&o.preventDefault||(t[a]=o[a]));if(t.target||(t.target=t.srcElement||e),t.relatedTarget||(t.relatedTarget=t.fromElement===t.target?t.toElement:t.fromElement),t.preventDefault=function(){o.preventDefault&&o.preventDefault(),t.returnValue=!1,o.returnValue=!1,t.defaultPrevented=!0},t.defaultPrevented=!1,t.stopPropagation=function(){o.stopPropagation&&o.stopPropagation(),t.cancelBubble=!0,o.cancelBubble=!0,t.isPropagationStopped=n},t.isPropagationStopped=i,t.stopImmediatePropagation=function(){o.stopImmediatePropagation&&o.stopImmediatePropagation(),t.isImmediatePropagationStopped=n,t.stopPropagation()},t.isImmediatePropagationStopped=i,null!==t.clientX&&void 0!==t.clientX){var s=e.documentElement,u=e.body;t.pageX=t.clientX+(s&&s.scrollLeft||u&&u.scrollLeft||0)-(s&&s.clientLeft||u&&u.clientLeft||0),t.pageY=t.clientY+(s&&s.scrollTop||u&&u.scrollTop||0)-(s&&s.clientTop||u&&u.clientTop||0)}t.which=t.charCode||t.keyCode,null!==t.button&&void 0!==t.button&&(t.button=1&t.button?0:4&t.button?1:2&t.button?2:0)}return t}function te(e,t,r){if(Array.isArray(t))return $(te,e,t,r);var n=z(e);if(n.handlers||(n.handlers={}),n.handlers[t]||(n.handlers[t]=[]),r.guid||(r.guid=K()),n.handlers[t].push(r),n.dispatcher||(n.disabled=!1,n.dispatcher=function(t,r){if(!n.disabled){t=ee(t);var i=n.handlers[t.type];if(i)for(var o=i.slice(0),a=0,s=o.length;a<s&&!t.isImmediatePropagationStopped();a++)try{o[a].call(e,t,r)}catch(e){Dt.error(e)}}}),1===n.handlers[t].length)if(e.addEventListener){var i=!1;Ut&&Qt.indexOf(t)>-1&&(i={passive:!0}),e.addEventListener(t,n.dispatcher,i)}else e.attachEvent&&e.attachEvent("on"+t,n.dispatcher)}function re(e,t,r){if(X(e)){var n=z(e);if(n.handlers){if(Array.isArray(t))return $(re,e,t,r);var i=function(e,t){n.handlers[t]=[],Z(e,t)};if(void 0!==t){var o=n.handlers[t];if(o){if(!r)return void i(e,t);if(r.guid)for(var a=0;a<o.length;a++)o[a].guid===r.guid&&o.splice(a--,1);Z(e,t)}}else for(var s in n.handlers)Object.prototype.hasOwnProperty.call(n.handlers||{},s)&&i(e,s)}}}function ne(e,t,r){var n=X(e)?z(e):{},i=e.parentNode||e.ownerDocument;if("string"==typeof t?t={type:t,target:e}:t.target||(t.target=e),t=ee(t),n.dispatcher&&n.dispatcher.call(e,t,r),i&&!t.isPropagationStopped()&&!0===t.bubbles)ne.call(null,i,t,r);else if(!i&&!t.defaultPrevented){var o=z(t.target);t.target[t.type]&&(o.disabled=!0,"function"==typeof t.target[t.type]&&t.target[t.type](),o.disabled=!1)}return!t.defaultPrevented}function ie(e,t,r){if(Array.isArray(t))return $(ie,e,t,r);var n=function n(){re(e,t,n),r.apply(this,arguments)};n.guid=r.guid=r.guid||K(),te(e,t,n)}function oe(e,t){t&&(Ft=t),r.setTimeout(Ht,e)}function ae(e,t){void 0===t&&(t={});var n=t,i=n.eventBusKey;if(i){if(!e[i].nodeName)throw new Error('The eventBusKey "'+i+'" does not refer to an element.');e.eventBusEl_=e[i]}else e.eventBusEl_=I("span",{className:"vjs-event-bus"});return g(e,ar),e.eventedCallbacks&&e.eventedCallbacks.forEach(function(e){e()}),e.on("dispose",function(){e.off(),r.setTimeout(function(){e.eventBusEl_=null},0)}),e}function se(e,t){return g(e,sr),e.state=g({},e.state,t),"function"==typeof e.handleStateChanged&&Zt(e)&&e.on("statechanged",e.handleStateChanged),e}function ue(e){return"string"!=typeof e?e:e.charAt(0).toUpperCase()+e.slice(1)}function le(e,t){return ue(e)===ue(t)}function ce(){for(var e={},t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return r.forEach(function(t){t&&d(t,function(t,r){if(!h(t))return void(e[r]=t);h(e[r])||(e[r]={}),e[r]=ce(e[r],t)})}),e}function de(e,t,r){if("number"!=typeof t||t<0||t>r)throw new Error("Failed to execute '"+e+"' on 'TimeRanges': The index provided ("+t+") is non-numeric or out of bounds (0-"+r+").")}function fe(e,t,r,n){return de(e,n,r.length-1),r[n][t]}function ge(e){return void 0===e||0===e.length?{length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:{length:e.length,start:fe.bind(null,"start",0,e),end:fe.bind(null,"end",1,e)}}function pe(e,t){return Array.isArray(e)?ge(e):void 0===e||void 0===t?ge():ge([[e,t]])}function he(e,t){var r,n,i=0;if(!t)return 0;e&&e.length||(e=pe(0,0));for(var o=0;o<e.length;o++)r=e.start(o),n=e.end(o),n>t&&(n=t),i+=n-r;return i/t}function ye(e){if(e instanceof ye)return e;"number"==typeof e?this.code=e:"string"==typeof e?this.message=e:p(e)&&("number"==typeof e.code&&(this.code=e.code),g(this,e)),this.message||(this.message=ye.defaultMessages[this.code]||"")}function me(e,t){var r,n=null;try{r=JSON.parse(e,t)}catch(e){n=e}return[n,r]}function ve(e){return void 0!==e&&null!==e&&"function"==typeof e.then}function be(e){ve(e)&&e.then(null,function(e){})}function Ae(e){var t=cn.call(e);return"[object Function]"===t||"function"==typeof e&&"[object RegExp]"!==t||"undefined"!=typeof window&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)}function _e(e,t){return t={exports:{}},e(t,t.exports),t.exports}function Ee(){for(var e={},t=0;t<arguments.length;t++){var r=arguments[t];for(var n in r)Mn.call(r,n)&&(e[n]=r[n])}return e}function Te(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function Se(e,t,r){var n=e;return ln(t)?(r=t,"string"==typeof e&&(n={uri:e})):n=Dn(t,{uri:e}),n.callback=r,n}function Ie(e,t,r){return t=Se(e,t,r),we(t)}function we(e){function t(){4===s.readyState&&setTimeout(i,0)}function r(){var e=void 0;if(e=s.response?s.response:s.responseText||Ce(s),y)try{e=JSON.parse(e)}catch(e){}return e}function n(e){return clearTimeout(c),e instanceof Error||(e=new Error(""+(e||"Unknown XMLHttpRequest Error"))),e.statusCode=0,a(e,m)}function i(){if(!l){var t;clearTimeout(c),t=e.useXDR&&void 0===s.status?200:1223===s.status?204:s.status;var n=m,i=null;return 0!==t?(n={body:r(),statusCode:t,method:f,headers:{},url:d,rawRequest:s},s.getAllResponseHeaders&&(n.headers=Cn(s.getAllResponseHeaders()))):i=new Error("Internal XMLHttpRequest Error"),a(i,n,n.body)}}if(void 0===e.callback)throw new Error("callback argument missing");var o=!1,a=function(t,r,n){o||(o=!0,e.callback(t,r,n))},s=e.xhr||null;s||(s=e.cors||e.useXDR?new Ie.XDomainRequest:new Ie.XMLHttpRequest);var u,l,c,d=s.url=e.uri||e.url,f=s.method=e.method||"GET",g=e.body||e.data,p=s.headers=e.headers||{},h=!!e.sync,y=!1,m={body:void 0,headers:{},statusCode:0,method:f,url:d,rawRequest:s};if("json"in e&&!1!==e.json&&(y=!0,p.accept||p.Accept||(p.Accept="application/json"),"GET"!==f&&"HEAD"!==f&&(p["content-type"]||p["Content-Type"]||(p["Content-Type"]="application/json"),g=JSON.stringify(!0===e.json?g:e.json))),s.onreadystatechange=t,s.onload=i,s.onerror=n,s.onprogress=function(){},s.onabort=function(){l=!0},s.ontimeout=n,s.open(f,d,!h,e.username,e.password),h||(s.withCredentials=!!e.withCredentials),!h&&e.timeout>0&&(c=setTimeout(function(){if(!l){l=!0,s.abort("timeout");var e=new Error("XMLHttpRequest timeout");e.code="ETIMEDOUT",n(e)}},e.timeout)),s.setRequestHeader)for(u in p)p.hasOwnProperty(u)&&s.setRequestHeader(u,p[u]);else if(e.headers&&!Te(e.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in e&&(s.responseType=e.responseType),"beforeSend"in e&&"function"==typeof e.beforeSend&&e.beforeSend(s),s.send(g||null),s}function Ce(e){if("document"===e.responseType)return e.responseXML;var t=e.responseXML&&"parsererror"===e.responseXML.documentElement.nodeName;return""!==e.responseType||t?null:e.responseXML}function De(){}function Me(e,t){this.name="ParsingError",this.code=e.code,this.message=t||e.message}function Oe(e){function t(e,t,r,n){return 3600*(0|e)+60*(0|t)+(0|r)+(0|n)/1e3}var r=e.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return r?r[3]?t(r[1],r[2],r[3].replace(":",""),r[4]):r[1]>59?t(r[1],r[2],0,r[4]):t(0,r[1],r[2],r[4]):null}function Be(){this.values=Gn(null)}function Re(e,t,r,n){var i=n?e.split(n):[e];for(var o in i)if("string"==typeof i[o]){var a=i[o].split(r);if(2===a.length){var s=a[0],u=a[1];t(s,u)}}}function Pe(e,t,r){function n(){var t=Oe(e);if(null===t)throw new Me(Me.Errors.BadTimeStamp,"Malformed timestamp: "+o);return e=e.replace(/^[^\sa-zA-Z-]+/,""),t}function i(){e=e.replace(/^\s+/,"")}var o=e;if(i(),t.startTime=n(),i(),"--\x3e"!==e.substr(0,3))throw new Me(Me.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '--\x3e'): "+o);e=e.substr(3),i(),t.endTime=n(),i(),function(e,t){var n=new Be;Re(e,function(e,t){switch(e){case"region":for(var i=r.length-1;i>=0;i--)if(r[i].id===t){n.set(e,r[i].region);break}break;case"vertical":n.alt(e,t,["rl","lr"]);break;case"line":var o=t.split(","),a=o[0];n.integer(e,a),n.percent(e,a)&&n.set("snapToLines",!1),n.alt(e,a,["auto"]),2===o.length&&n.alt("lineAlign",o[1],["start","middle","end"]);break;case"position":o=t.split(","),n.percent(e,o[0]),2===o.length&&n.alt("positionAlign",o[1],["start","middle","end"]);break;case"size":n.percent(e,t);break;case"align":n.alt(e,t,["start","middle","end","left","right"])}},/:/,/\s/),t.region=n.get("region",null),t.vertical=n.get("vertical",""),t.line=n.get("line","auto"),t.lineAlign=n.get("lineAlign","start"),t.snapToLines=n.get("snapToLines",!0),t.size=n.get("size",100),t.align=n.get("align","middle"),t.position=n.get("position",{start:0,left:0,middle:50,end:100,right:100},t.align),t.positionAlign=n.get("positionAlign",{start:"start",left:"start",middle:"middle",end:"end",right:"end"},t.align)}(e,t)}function ke(e,t){function r(e){return Wn[e]}for(var n,i=e.document.createElement("div"),o=i,a=[];null!==(n=function(){if(!t)return null;var e=t.match(/^([^<]*)(<[^>]*>?)?/);return function(e){return t=t.substr(e.length),e}(e[1]?e[1]:e[2])}());)if("<"!==n[0])o.appendChild(e.document.createTextNode(function(e){for(;l=e.match(/&(amp|lt|gt|lrm|rlm|nbsp);/);)e=e.replace(l[0],r);return e}(n)));else{if("/"===n[1]){a.length&&a[a.length-1]===n.substr(2).replace(">","")&&(a.pop(),o=o.parentNode);continue}var s,u=Oe(n.substr(1,n.length-2));if(u){s=e.document.createProcessingInstruction("timestamp",u),o.appendChild(s);continue}var l=n.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!l)continue;if(!(s=function(t,r){var n=Hn[t];if(!n)return null;var i=e.document.createElement(n);i.localName=n;var o=Yn[t];return o&&r&&(i[o]=r.trim()),i}(l[1],l[3])))continue;if(!function(e,t){return!Vn[t.localName]||Vn[t.localName]===e.localName}(o,s))continue;l[2]&&(s.className=l[2].substr(1).replace("."," ")),a.push(l[1]),o.appendChild(s),o=s}return i}function Le(e){for(var t=0;t<qn.length;t++){var r=qn[t];if(e>=r[0]&&e<=r[1])return!0}return!1}function Ne(e){function t(e,t){for(var r=t.childNodes.length-1;r>=0;r--)e.push(t.childNodes[r])}function r(e){if(!e||!e.length)return null;var n=e.pop(),i=n.textContent||n.innerText;if(i){var o=i.match(/^.*(\n|\r)/);return o?(e.length=0,o[0]):i}return"ruby"===n.tagName?r(e):n.childNodes?(t(e,n),r(e)):void 0}var n,i=[],o="";if(!e||!e.childNodes)return"ltr";for(t(i,e);o=r(i);)for(var a=0;a<o.length;a++)if(n=o.charCodeAt(a),Le(n))return"rtl";return"ltr"}function xe(e){if("number"==typeof e.line&&(e.snapToLines||e.line>=0&&e.line<=100))return e.line;if(!e.track||!e.track.textTrackList||!e.track.textTrackList.mediaElement)return-1;for(var t=e.track,r=t.textTrackList,n=0,i=0;i<r.length&&r[i]!==t;i++)"showing"===r[i].mode&&n++;return-1*++n}function je(){}function Ue(e,t,r){je.call(this),this.cue=t,this.cueDiv=ke(e,t.text);var n={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(n,this.cueDiv),this.div=e.document.createElement("div"),n={direction:Ne(this.cueDiv),writingMode:""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:"middle"===t.align?"center":t.align,font:r.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(n),this.div.appendChild(this.cueDiv);var i=0;switch(t.positionAlign){case"start":i=t.position;break;case"middle":i=t.position-t.size/2;break;case"end":i=t.position-t.size}""===t.vertical?this.applyStyles({left:this.formatStyle(i,"%"),width:this.formatStyle(t.size,"%")}):this.applyStyles({top:this.formatStyle(i,"%"),height:this.formatStyle(t.size,"%")}),this.move=function(e){this.applyStyles({top:this.formatStyle(e.top,"px"),bottom:this.formatStyle(e.bottom,"px"),left:this.formatStyle(e.left,"px"),right:this.formatStyle(e.right,"px"),height:this.formatStyle(e.height,"px"),width:this.formatStyle(e.width,"px")})}}function Fe(e){var t,r,n,i;if(e.div){r=e.div.offsetHeight,n=e.div.offsetWidth,i=e.div.offsetTop;var o=(o=e.div.childNodes)&&(o=o[0])&&o.getClientRects&&o.getClientRects();e=e.div.getBoundingClientRect(),t=o?Math.max(o[0]&&o[0].height||0,e.height/o.length):0}this.left=e.left,this.right=e.right,this.top=e.top||i,this.height=e.height||r,this.bottom=e.bottom||i+(e.height||r),this.width=e.width||n,this.lineHeight=void 0!==t?t:e.lineHeight}function Qe(e,t,r,n){var i=new Fe(t),o=t.cue,a=xe(o),s=[];if(o.snapToLines){var u;switch(o.vertical){case"":s=["+y","-y"],u="height";break;case"rl":s=["+x","-x"],u="width";break;case"lr":s=["-x","+x"],u="width"}var l=i.lineHeight,c=l*Math.round(a),d=r[u]+l,f=s[0];Math.abs(c)>d&&(c=c<0?-1:1,c*=Math.ceil(d/l)*l),a<0&&(c+=""===o.vertical?r.height:r.width,s=s.reverse()),i.move(f,c)}else{var g=i.lineHeight/r.height*100;switch(o.lineAlign){case"middle":a-=g/2;break;case"end":a-=g}switch(o.vertical){case"":t.applyStyles({top:t.formatStyle(a,"%")});break;case"rl":t.applyStyles({left:t.formatStyle(a,"%")});break;case"lr":t.applyStyles({right:t.formatStyle(a,"%")})}s=["+y","-x","+x","-y"],i=new Fe(t)}var p=function(e,t){for(var i,o=new Fe(e),a=1,s=0;s<t.length;s++){for(;e.overlapsOppositeAxis(r,t[s])||e.within(r)&&e.overlapsAny(n);)e.move(t[s]);if(e.within(r))return e;var u=e.intersectPercentage(r);a>u&&(i=new Fe(e),a=u),e=new Fe(o)}return i||o}(i,s);t.move(p.toCSSCompatValues(r))}function Ge(){}function We(e){return"string"==typeof e&&(!!Xn[e.toLowerCase()]&&e.toLowerCase())}function He(e){return"string"==typeof e&&(!!Jn[e.toLowerCase()]&&e.toLowerCase())}function Ye(e,t,r){this.hasBeenReset=!1;var n="",i=!1,o=e,a=t,s=r,u=null,l="",c=!0,d="auto",f="start",g=50,p="middle",h=50,y="middle";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return n},set:function(e){n=""+e}},pauseOnExit:{enumerable:!0,get:function(){return i},set:function(e){i=!!e}},startTime:{enumerable:!0,get:function(){return o},set:function(e){if("number"!=typeof e)throw new TypeError("Start time must be set to a number.");o=e,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return a},set:function(e){if("number"!=typeof e)throw new TypeError("End time must be set to a number.");a=e,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return s},set:function(e){s=""+e,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return u},set:function(e){u=e,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return l},set:function(e){var t=We(e);if(!1===t)throw new SyntaxError("An invalid or illegal string was specified.");l=t,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return c},set:function(e){c=!!e,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return d},set:function(e){if("number"!=typeof e&&e!==zn)throw new SyntaxError("An invalid number or illegal string was specified.");d=e,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return f},set:function(e){var t=He(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");f=t,this.hasBeenReset=!0}},position:{enumerable:!0,get:function(){return g},set:function(e){if(e<0||e>100)throw new Error("Position must be between 0 and 100.");g=e,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return p},set:function(e){var t=He(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");p=t,this.hasBeenReset=!0}},size:{enumerable:!0,get:function(){return h},set:function(e){if(e<0||e>100)throw new Error("Size must be between 0 and 100.");h=e,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return y},set:function(e){var t=He(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");y=t,this.hasBeenReset=!0}}}),this.displayState=void 0}function Ve(e){return"string"==typeof e&&(!!$n[e.toLowerCase()]&&e.toLowerCase())}function qe(e){return"number"==typeof e&&e>=0&&e<=100}function Ke(){var e=100,t=3,r=0,n=100,i=0,o=100,a="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return e},set:function(t){if(!qe(t))throw new Error("Width must be between 0 and 100.");e=t}},lines:{enumerable:!0,get:function(){return t},set:function(e){if("number"!=typeof e)throw new TypeError("Lines must be set to a number.");t=e}},regionAnchorY:{enumerable:!0,get:function(){return n},set:function(e){if(!qe(e))throw new Error("RegionAnchorX must be between 0 and 100.");n=e}},regionAnchorX:{enumerable:!0,get:function(){return r},set:function(e){if(!qe(e))throw new Error("RegionAnchorY must be between 0 and 100.");r=e}},viewportAnchorY:{enumerable:!0,get:function(){return o},set:function(e){if(!qe(e))throw new Error("ViewportAnchorY must be between 0 and 100.");o=e}},viewportAnchorX:{enumerable:!0,get:function(){return i},set:function(e){if(!qe(e))throw new Error("ViewportAnchorX must be between 0 and 100.");i=e}},scroll:{enumerable:!0,get:function(){return a},set:function(e){var t=Ve(e);if(!1===t)throw new SyntaxError("An invalid or illegal string was specified.");a=t}}})}function ze(e,t,r,n,i){void 0===i&&(i={});var o=e.textTracks();i.kind=t,r&&(i.label=r),n&&(i.language=n),i.tech=e;var a=new Qn.text.TrackClass(i);return o.addTrack(a),a}function Xe(e,t){ni[e]=ni[e]||[],ni[e].push(t)}function Je(e,t,r){e.setTimeout(function(){return at(t,ni[t.type],r,e)},1)}function Ze(e,t){e.forEach(function(e){return e.setTech&&e.setTech(t)})}function $e(e,t,r){return e.reduceRight(rt(r),t[r]())}function et(e,t,r,n){return t[r](e.reduce(rt(r),n))}function tt(e,t,r,n){void 0===n&&(n=null);var i="call"+ue(r),o=e.reduce(rt(i),n),a=o===oi,s=a?null:t[r](o);return nt(e,r,s,a),s}function rt(e){return function(t,r){return t===oi?oi:r[e]?r[e](t):t}}function nt(e,t,r,n){for(var i=e.length-1;i>=0;i--){var o=e[i];o[t]&&o[t](n,r)}}function it(e){ii[e.id()]=null}function ot(e,t){var r=ii[e.id()],n=null;if(void 0===r||null===r)return n=t(e),ii[e.id()]=[[t,n]],n;for(var i=0;i<r.length;i++){var o=r[i],a=o[0],s=o[1];a===t&&(n=s)}return null===n&&(n=t(e),r.push([t,n])),n}function at(e,t,r,n,i,o){void 0===e&&(e={}),void 0===t&&(t=[]),void 0===i&&(i=[]),void 0===o&&(o=!1);var a=t,s=a[0],u=a.slice(1);if("string"==typeof s)at(e,ni[s],r,n,i,o);else if(s){var l=ot(n,s);if(!l.setSource)return i.push(l),at(e,u,r,n,i,o);l.setSource(g({},e),function(t,a){if(t)return at(e,u,r,n,i,o);i.push(l),at(a,e.type===a.type?u:ni[a.type],r,n,i,o)})}else u.length?at(e,u,r,n,i,o):o?r(e,i):at(e,ni["*"],r,n,i,!0)}function st(e){var t=ci(e.src);return!e.type&&t&&(e.type=t),e}function ut(e,t){var r;if(4===e.length)r=e[1]+e[1]+e[2]+e[2]+e[3]+e[3];else{if(7!==e.length)throw new Error("Invalid color code provided, "+e+"; must be formatted as e.g. #f0e or #f604e2.");r=e.slice(1)}return"rgba("+parseInt(r.slice(0,2),16)+","+parseInt(r.slice(2,4),16)+","+parseInt(r.slice(4,6),16)+","+t+")"}function lt(e,t,r){try{e.style[t]=r}catch(e){return}}function ct(e){Si=e}function dt(){Si=Ti}function ft(e,t){return void 0===t&&(t=e),Si(e,t)}function gt(e,t){if(t&&(e=t(e)),e&&"none"!==e)return e}function pt(e,t){return gt(e.options[e.options.selectedIndex].value,t)}function ht(e,t,r){if(t)for(var n=0;n<e.options.length;n++)if(gt(e.options[n].value,r)===t){e.selectedIndex=n;break}}function yt(){var e=u(["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."]);return yt=function(){return e},e}function mt(){var e=u(["\n        Using the tech directly can be dangerous. I hope you know what you're doing.\n        See https://github.com/videojs/video.js/issues/2617 for more info.\n      "]);return mt=function(){return e},e}function vt(t,r,n){var i=vt.getPlayer(t);if(i)return r&&Dt.warn('Player "'+t+'" is already initialised. Options will not be applied.'),n&&i.ready(n),i;var o="string"==typeof t?Pt("#"+sa(t)):t;if(!E(o))throw new TypeError("The element or ID supplied is not valid. (videojs)");e.body.contains(o)||Dt.warn("The element supplied is not included in the DOM"),r=r||{},vt.hooks("beforesetup").forEach(function(e){var t=e(o,ce(r));if(!p(t)||Array.isArray(t))return void Dt.error("please return an object in beforesetup hooks");r=ce(r,t)});var a=ur.getComponent("Player");return i=new a(o,r,n),vt.hooks("setup").forEach(function(e){return e(i)}),i}function bt(e){for(var t=r.atob(e),n=new Uint8Array(t.length),i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}function At(e){return e.subarray(0,e.byteLength-e[e.byteLength-1])}function _t(e,t){return function(r){var n=this;if(!t)return new _f(e);if(_f&&!r){var i=t.toString().replace(/^function.+?{/,"").slice(0,-1),o=Et(i);return this[mf]=new _f(o),Tt(this[mf],o),this[mf]}var a={postMessage:function(e){n.onmessage&&setTimeout(function(){n.onmessage({data:e,target:a})})}};t.call(a),this.postMessage=function(e){setTimeout(function(){a.onmessage({data:e,target:n})})},this.isThisThread=!0}}function Et(e){try{return Af.createObjectURL(new Blob([e],{type:vf}))}catch(r){var t=new bf;return t.append(e),Af.createObjectURL(t.getBlob(type))}}function Tt(e,t){if(e&&t){var r=e.terminate;e.objURL=t,e.terminate=function(){e.objURL&&Af.revokeObjectURL(e.objURL),r.call(e)}}}function St(){}e=e&&e.hasOwnProperty("default")?e.default:e,r=r&&r.hasOwnProperty("default")?r.default:r;var It="7.4.1-nmp-15",wt=[],Ct=function(e,t){return function(n,i,o){var a=t.levels[i],s=new RegExp("^("+a+")$");if("log"!==n&&o.unshift(n.toUpperCase()+":"),o.unshift(e+":"),wt&&wt.push([].concat(o)),r.console){var u=r.console[n];u||"debug"!==n||(u=r.console.info||r.console.log),u&&a&&s.test(n)&&u[Array.isArray(o)?"apply":"call"](r.console,o)}}},Dt=l("VIDEOJS"),Mt=Dt.createLogger,Ot=function(e){for(var t="",r=0;r<arguments.length;r++)t+=c(e[r])+(arguments[r+1]||"");return t},Bt=Object.prototype.toString,Rt=function(e){return p(e)?Object.keys(e):[]},Pt=S("querySelector"),kt=S("querySelectorAll"),Lt=Object.freeze({isReal:_,isEl:E,isInFrame:T,createEl:I,textContent:w,prependTo:C,hasClass:D,addClass:M,removeClass:O,toggleClass:B,setAttributes:R,getAttributes:P,getAttribute:k,setAttribute:L,removeAttribute:N,blockTextSelection:x,unblockTextSelection:j,getBoundingClientRect:U,findPosition:F,getPointerPosition:Q,isTextNode:G,emptyEl:W,normalizeContent:H,appendContent:Y,insertContent:V,isSingleLeftClick:q,$:Pt,$$:kt}),Nt=1,xt={},jt="vdata"+(new Date).getTime(),Ut=!1;!function(){try{var e=Object.defineProperty({},"passive",{get:function(){Ut=!0}});r.addEventListener("test",null,e),r.removeEventListener("test",null,e)}catch(e){}}();var Ft,Qt=["touchstart","touchmove"],Gt=Object.freeze({fixEvent:ee,on:te,off:re,trigger:ne,one:ie}),Wt=!1,Ht=function(){if(_()&&!1!==Ft.options.autoSetup){var t=Array.prototype.slice.call(e.getElementsByTagName("video")),r=Array.prototype.slice.call(e.getElementsByTagName("audio")),n=Array.prototype.slice.call(e.getElementsByTagName("video-js")),i=t.concat(r,n);if(i&&i.length>0)for(var o=0,a=i.length;o<a;o++){var s=i[o];if(!s||!s.getAttribute){oe(1);break}if(void 0===s.player){var u=s.getAttribute("data-setup");null!==u&&Ft(s)}}else Wt||oe(1)}};_()&&"complete"===e.readyState?Wt=!0:ie(r,"load",function(){Wt=!0});var Yt=function(t){var r=e.createElement("style");return r.className=t,r},Vt=function(e,t){e.styleSheet?e.styleSheet.cssText=t:e.textContent=t},qt=function(e,t,r){t.guid||(t.guid=K());var n=function(){return t.apply(e,arguments)};return n.guid=r?r+"_"+t.guid:t.guid,n},Kt=function(e,t){var r=Date.now();return function(){var n=Date.now();n-r>=t&&(e.apply(void 0,arguments),r=n)}},zt=function(e,t,n,i){void 0===i&&(i=r);var o,a=function(){i.clearTimeout(o),o=null},s=function(){var r=this,a=arguments,s=function(){o=null,s=null,n||e.apply(r,a)};!o&&n&&e.apply(r,a),i.clearTimeout(o),o=i.setTimeout(s,t)};return s.cancel=a,s},Xt=function(){};Xt.prototype.allowedEvents_={},Xt.prototype.on=function(e,t){var r=this.addEventListener;this.addEventListener=function(){},te(this,e,t),this.addEventListener=r},Xt.prototype.addEventListener=Xt.prototype.on,Xt.prototype.off=function(e,t){re(this,e,t)},Xt.prototype.removeEventListener=Xt.prototype.off,Xt.prototype.one=function(e,t){var r=this.addEventListener;this.addEventListener=function(){},ie(this,e,t),this.addEventListener=r},Xt.prototype.trigger=function(e){var t=e.type||e;"string"==typeof e&&(e={type:t}),e=ee(e),this.allowedEvents_[t]&&this["on"+t]&&this["on"+t](e),ne(this,e)},Xt.prototype.dispatchEvent=Xt.prototype.trigger;var Jt;Xt.prototype.queueTrigger=function(e){var t=this;Jt||(Jt=new Map);var n=e.type||e,i=Jt.get(this);i||(i=new Map,Jt.set(this,i));var o=i.get(n);i.delete(n),r.clearTimeout(o);var a=r.setTimeout(function(){0===i.size&&(i=null,Jt.delete(t)),t.trigger(e)},0);i.set(n,a)};var Zt=function(e){return e instanceof Xt||!!e.eventBusEl_&&["on","one","off","trigger"].every(function(t){return"function"==typeof e[t]})},$t=function(e,t){Zt(e)?t():(e.eventedCallbacks||(e.eventedCallbacks=[]),e.eventedCallbacks.push(t))},er=function(e){return"string"==typeof e&&/\S/.test(e)||Array.isArray(e)&&!!e.length},tr=function(e){if(!e.nodeName&&!Zt(e))throw new Error("Invalid target; must be a DOM node or evented object.")},rr=function(e){if(!er(e))throw new Error("Invalid event type; must be a non-empty string or array.")},nr=function(e){if("function"!=typeof e)throw new Error("Invalid listener; must be a function.")},ir=function(e,t){var r,n,i,o=t.length<3||t[0]===e||t[0]===e.eventBusEl_;return o?(r=e.eventBusEl_,t.length>=3&&t.shift(),n=t[0],i=t[1]):(r=t[0],n=t[1],i=t[2]),tr(r),rr(n),nr(i),i=qt(e,i),{isTargetingSelf:o,target:r,type:n,listener:i}},or=function(e,t,r,n){tr(e),e.nodeName?Gt[t](e,r,n):e[t](r,n)},ar={on:function(){for(var e=this,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=ir(this,r),o=i.isTargetingSelf,a=i.target,s=i.type,u=i.listener;if(or(a,"on",s,u),!o){var l=function(){return e.off(a,s,u)};l.guid=u.guid;var c=function(){return e.off("dispose",l)};c.guid=u.guid,or(this,"on","dispose",l),or(a,"on","dispose",c)}},one:function(){for(var e=this,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=ir(this,r),o=i.isTargetingSelf,a=i.target,s=i.type,u=i.listener;if(o)or(a,"one",s,u);else{var l=function t(){e.off(a,s,t);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];u.apply(null,n)};l.guid=u.guid,or(a,"one",s,l)}},off:function(e,t,r){if(!e||er(e))re(this.eventBusEl_,e,t);else{var n=e,i=t;tr(n),rr(i),nr(r),r=qt(this,r),this.off("dispose",r),n.nodeName?(re(n,i,r),re(n,"dispose",r)):Zt(n)&&(n.off(i,r),n.off("dispose",r))}},trigger:function(e,t){return ne(this.eventBusEl_,e,t)}},sr={state:{},setState:function(e){var t=this;"function"==typeof e&&(e=e());var r;return d(e,function(e,n){t.state[n]!==e&&(r=r||{},r[n]={from:t.state[n],to:e}),t.state[n]=e}),r&&Zt(this)&&this.trigger({changes:r,type:"statechanged"}),r}},ur=function(){function e(e,t,r){if(!e&&this.play?this.player_=e=this:this.player_=e,this.options_=ce({},this.options_),t=this.options_=ce(this.options_,t),this.id_=t.id||t.el&&t.el.id,!this.id_){var n=e&&e.id&&e.id()||"no_player";this.id_=n+"_component_"+K()}this.name_=t.name||null,t.el?this.el_=t.el:!1!==t.createEl&&(this.el_=this.createEl()),!1!==t.evented&&ae(this,{eventBusKey:this.el_?"el_":null}),se(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},!1!==t.initChildren&&this.initChildren(),this.ready(r),!1!==t.reportTouchActivity&&this.enableTouchActivity()}var t=e.prototype;return t.dispose=function(){if(this.trigger({type:"dispose",bubbles:!1}),this.children_)for(var e=this.children_.length-1;e>=0;e--)this.children_[e].dispose&&this.children_[e].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.el_&&(this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),J(this.el_),this.el_=null),this.player_=null},t.player=function(){return this.player_},t.options=function(e){return Dt.warn("this.options() has been deprecated and will be moved to the constructor in 6.0"),e?(this.options_=ce(this.options_,e),this.options_):this.options_},t.el=function(){return this.el_},t.createEl=function(e,t,r){return I(e,t,r)},t.localize=function(e,t,r){void 0===r&&(r=e);var n=this.player_.language&&this.player_.language(),i=this.player_.languages&&this.player_.languages(),o=i&&i[n],a=n&&n.split("-")[0],s=i&&i[a],u=r;return o&&o[e]?u=o[e]:s&&s[e]&&(u=s[e]),t&&(u=u.replace(/\{(\d+)\}/g,function(e,r){var n=t[r-1],i=n;return void 0===n&&(i=e),i})),u},t.contentEl=function(){return this.contentEl_||this.el_},t.id=function(){return this.id_},t.name=function(){return this.name_},t.children=function(){return this.children_},t.getChildById=function(e){return this.childIndex_[e]},t.getChild=function(e){if(e)return e=ue(e),this.childNameIndex_[e]},t.addChild=function(t,r,n){void 0===r&&(r={}),void 0===n&&(n=this.children_.length);var i,o;if("string"==typeof t){o=ue(t);var a=r.componentClass||o;r.name=o;var s=e.getComponent(a);if(!s)throw new Error("Component "+a+" does not exist");if("function"!=typeof s)return null;i=new s(this.player_||this,r)}else i=t;if(this.children_.splice(n,0,i),"function"==typeof i.id&&(this.childIndex_[i.id()]=i),o=o||i.name&&ue(i.name()),o&&(this.childNameIndex_[o]=i),"function"==typeof i.el&&i.el()){var u=this.contentEl().children,l=u[n]||null;this.contentEl().insertBefore(i.el(),l)}return i},t.removeChild=function(e){if("string"==typeof e&&(e=this.getChild(e)),e&&this.children_){for(var t=!1,r=this.children_.length-1;r>=0;r--)if(this.children_[r]===e){t=!0,this.children_.splice(r,1);break}if(t){this.childIndex_[e.id()]=null,this.childNameIndex_[e.name()]=null;var n=e.el();n&&n.parentNode===this.contentEl()&&this.contentEl().removeChild(e.el())}}},t.initChildren=function(){var t=this,r=this.options_.children;if(r){var n,i=this.options_,o=function(e){var r=e.name,n=e.opts;if(void 0!==i[r]&&(n=i[r]),!1!==n){!0===n&&(n={}),n.playerOptions=t.options_.playerOptions;var o=t.addChild(r,n);o&&(t[r]=o)}},a=e.getComponent("Tech");n=Array.isArray(r)?r:Object.keys(r),n.concat(Object.keys(this.options_).filter(function(e){return!n.some(function(t){return"string"==typeof t?e===t:e===t.name})})).map(function(e){var n,i;return"string"==typeof e?(n=e,i=r[n]||t.options_[n]||{}):(n=e.name,i=e),{name:n,opts:i}}).filter(function(t){var r=e.getComponent(t.opts.componentClass||ue(t.name));return r&&!a.isTech(r)}).forEach(o)}},t.buildCSSClass=function(){return""},t.ready=function(e,t){if(void 0===t&&(t=!1),e)return this.isReady_?void(t?e.call(this):this.setTimeout(e,1)):(this.readyQueue_=this.readyQueue_||[],void this.readyQueue_.push(e))},t.triggerReady=function(){this.isReady_=!0,this.setTimeout(function(){var e=this.readyQueue_;this.readyQueue_=[],e&&e.length>0&&e.forEach(function(e){e.call(this)},this),this.trigger("ready")},1)},t.$=function(e,t){return Pt(e,t||this.contentEl())},t.$$=function(e,t){return kt(e,t||this.contentEl())},t.hasClass=function(e){return D(this.el_,e)},t.addClass=function(e){M(this.el_,e)},t.removeClass=function(e){O(this.el_,e)},t.toggleClass=function(e,t){B(this.el_,e,t)},t.show=function(){this.removeClass("vjs-hidden")},t.hide=function(){this.addClass("vjs-hidden")},t.lockShowing=function(){this.addClass("vjs-lock-showing")},t.unlockShowing=function(){this.removeClass("vjs-lock-showing")},t.getAttribute=function(e){return k(this.el_,e)},t.setAttribute=function(e,t){L(this.el_,e,t)},t.removeAttribute=function(e){N(this.el_,e)},t.width=function(e,t){return this.dimension("width",e,t)},t.height=function(e,t){return this.dimension("height",e,t)},t.dimensions=function(e,t){this.width(e,!0),this.height(t)},t.dimension=function(e,t,r){if(void 0!==t)return null!==t&&t===t||(t=0),-1!==(""+t).indexOf("%")||-1!==(""+t).indexOf("px")?this.el_.style[e]=t:this.el_.style[e]="auto"===t?"":t+"px",void(r||this.trigger("componentresize"));if(!this.el_)return 0;var n=this.el_.style[e],i=n.indexOf("px");return-1!==i?parseInt(n.slice(0,i),10):parseInt(this.el_["offset"+ue(e)],10)},t.currentDimension=function(e){var t=0;if("width"!==e&&"height"!==e)throw new Error("currentDimension only accepts width or height value");if("function"==typeof r.getComputedStyle){var n=r.getComputedStyle(this.el_);t=n.getPropertyValue(e)||n[e]}if(0===(t=parseFloat(t))){var i="offset"+ue(e);t=this.el_[i]}return t},t.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},t.currentWidth=function(){return this.currentDimension("width")},t.currentHeight=function(){return this.currentDimension("height")},t.focus=function(){this.el_.focus()},t.blur=function(){this.el_.blur()},t.emitTapEvents=function(){var e,t=0,r=null;this.on("touchstart",function(n){1===n.touches.length&&(r={pageX:n.touches[0].pageX,pageY:n.touches[0].pageY},t=(new Date).getTime(),e=!0)}),this.on("touchmove",function(t){if(t.touches.length>1)e=!1;else if(r){var n=t.touches[0].pageX-r.pageX,i=t.touches[0].pageY-r.pageY,o=Math.sqrt(n*n+i*i);o>10&&(e=!1)}});var n=function(){e=!1};this.on("touchleave",n),this.on("touchcancel",n),this.on("touchend",function(n){if(r=null,!0===e){(new Date).getTime()-t<200&&(n.preventDefault(),this.trigger("tap"))}})},t.enableTouchActivity=function(){if(this.player()&&this.player().reportUserActivity){var e,t=qt(this.player(),this.player().reportUserActivity);this.on("touchstart",function(){t(),this.clearInterval(e),e=this.setInterval(t,250)});var r=function(r){t(),this.clearInterval(e)};this.on("touchmove",t),this.on("touchend",r),this.on("touchcancel",r)}},t.setTimeout=function(e,t){var n,i,o=this;return e=qt(this,e),n=r.setTimeout(function(){o.off("dispose",i),e()},t),i=function(){return o.clearTimeout(n)},i.guid="vjs-timeout-"+n,this.on("dispose",i),n},t.clearTimeout=function(e){r.clearTimeout(e);var t=function(){};return t.guid="vjs-timeout-"+e,this.off("dispose",t),e},t.setInterval=function(e,t){var n=this;e=qt(this,e);var i=r.setInterval(e,t),o=function(){return n.clearInterval(i)};return o.guid="vjs-interval-"+i,this.on("dispose",o),i},t.clearInterval=function(e){r.clearInterval(e);var t=function(){};return t.guid="vjs-interval-"+e,this.off("dispose",t),e},t.requestAnimationFrame=function(e){var t,n,i=this;return this.supportsRaf_?(e=qt(this,e),t=r.requestAnimationFrame(function(){i.off("dispose",n),e()}),n=function(){return i.cancelAnimationFrame(t)},n.guid="vjs-raf-"+t,this.on("dispose",n),t):this.setTimeout(e,1e3/60)},t.cancelAnimationFrame=function(e){if(this.supportsRaf_){r.cancelAnimationFrame(e);var t=function(){};return t.guid="vjs-raf-"+e,this.off("dispose",t),e}return this.clearTimeout(e)},e.registerComponent=function(t,r){if("string"!=typeof t||!t)throw new Error('Illegal component name, "'+t+'"; must be a non-empty string.');var n=e.getComponent("Tech"),i=n&&n.isTech(r),o=e===r||e.prototype.isPrototypeOf(r.prototype);if(i||!o){var a;throw a=i?"techs must be registered using Tech.registerTech()":"must be a Component subclass",new Error('Illegal component, "'+t+'"; '+a+".")}t=ue(t),e.components_||(e.components_={});var s=e.getComponent("Player");if("Player"===t&&s&&s.players){var u=s.players,l=Object.keys(u);if(u&&l.length>0&&l.map(function(e){return u[e]}).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return e.components_[t]=r,r},e.getComponent=function(t){if(t)return t=ue(t),e.components_&&e.components_[t]?e.components_[t]:void 0},e}();ur.prototype.supportsRaf_="function"==typeof r.requestAnimationFrame&&"function"==typeof r.cancelAnimationFrame,ur.registerComponent("Component",ur);for(var lr,cr=r.navigator&&r.navigator.userAgent||"",dr=/AppleWebKit\/([\d.]+)/i.exec(cr),fr=dr?parseFloat(dr.pop()):null,gr=/iPad/i.test(cr),pr=/iPhone/i.test(cr)&&!gr,hr=/iPod/i.test(cr),yr=pr||gr||hr,mr=function(){var e=cr.match(/OS (\d+)_/i);return e&&e[1]?e[1]:null}(),vr=/Android/i.test(cr),br=function(){var e=cr.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!e)return null;var t=e[1]&&parseFloat(e[1]),r=e[2]&&parseFloat(e[2]);return t&&r?parseFloat(e[1]+"."+e[2]):t||null}(),Ar=vr&&br<5&&fr<537,_r=/Firefox/i.test(cr),Er=/Edge/i.test(cr),Tr=!Er&&(/Chrome/i.test(cr)||/CriOS/i.test(cr)),Sr=function(){var e=cr.match(/(Chrome|CriOS)\/(\d+)/);return e&&e[2]?parseFloat(e[2]):null}(),Ir=function(){var e=/MSIE\s(\d+)\.\d/.exec(cr),t=e&&parseFloat(e[1]);return!t&&/Trident\/7.0/i.test(cr)&&/rv:11.0/.test(cr)&&(t=11),t}(),wr=/Safari/i.test(cr)&&!Tr&&!vr&&!Er,Cr=(wr||yr)&&!Tr,Dr=(_()&&("ontouchstart"in r||r.navigator.maxTouchPoints||r.DocumentTouch&&r.document instanceof r.DocumentTouch)),Mr=Object.freeze({IS_IPAD:gr,IS_IPHONE:pr,IS_IPOD:hr,IS_IOS:yr,IOS_VERSION:mr,IS_ANDROID:vr,ANDROID_VERSION:br,IS_NATIVE_ANDROID:Ar,IS_FIREFOX:_r,IS_EDGE:Er,IS_CHROME:Tr,CHROME_VERSION:Sr,IE_VERSION:Ir,IS_SAFARI:wr,IS_ANY_SAFARI:Cr,TOUCH_ENABLED:Dr}),Or={},Br=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],Rr=Br[0],Pr=0;Pr<Br.length;Pr++)if(Br[Pr][1]in e){lr=Br[Pr];break}if(lr)for(var kr=0;kr<lr.length;kr++)Or[Rr[kr]]=lr[kr];ye.prototype.code=0,ye.prototype.message="",ye.prototype.status=null,ye.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],ye.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var Lr=0;Lr<ye.errorTypes.length;Lr++)ye[ye.errorTypes[Lr]]=Lr,ye.prototype[ye.errorTypes[Lr]]=Lr;var Nr=me,xr=function(e){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce(function(t,r,n){return e[r]&&(t[r]=e[r]),t},{cues:e.cues&&Array.prototype.map.call(e.cues,function(e){return{startTime:e.startTime,endTime:e.endTime,text:e.text,id:e.id}})})},jr=function(e){var t=e.$$("track"),r=Array.prototype.map.call(t,function(e){return e.track});return Array.prototype.map.call(t,function(e){var t=xr(e.track);return e.src&&(t.src=e.src),t}).concat(Array.prototype.filter.call(e.textTracks(),function(e){return-1===r.indexOf(e)}).map(xr))},Ur=function(e,t){return e.forEach(function(e){var r=t.addRemoteTextTrack(e).track;!e.src&&e.cues&&e.cues.forEach(function(e){return r.addCue(e)})}),t.textTracks()},Fr={textTracksToJson:jr,jsonToTextTracks:Ur,trackToJson_:xr},Qr="vjs-modal-dialog",Gr=function(t){function i(e,r){var n;return n=t.call(this,e,r)||this,n.opened_=n.hasBeenOpened_=n.hasBeenFilled_=!1,n.closeable(!n.options_.uncloseable),n.content(n.options_.content),n.contentEl_=I("div",{className:Qr+"-content"},{role:"document"}),n.descEl_=I("p",{className:Qr+"-description vjs-control-text",id:n.el().getAttribute("aria-describedby")}),w(n.descEl_,n.description()),n.el_.appendChild(n.descEl_),n.el_.appendChild(n.contentEl_),n}n(i,t);var o=i.prototype;return o.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},o.dispose=function(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,t.prototype.dispose.call(this)},o.buildCSSClass=function(){return Qr+" vjs-hidden "+t.prototype.buildCSSClass.call(this)},o.handleKeyPress=function(e){27===e.which&&this.closeable()&&this.close()},o.label=function(){return this.localize(this.options_.label||"Modal Window")},o.description=function(){var e=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(e+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),e},o.open=function(){if(!this.opened_){var e=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!e.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&e.pause(),this.closeable()&&this.on(this.el_.ownerDocument,"keydown",qt(this,this.handleKeyPress)),this.hadControls_=e.controls(),e.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}},o.opened=function(e){return"boolean"==typeof e&&this[e?"open":"close"](),this.opened_},o.close=function(){if(this.opened_){var e=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&e.play(),this.closeable()&&this.off(this.el_.ownerDocument,"keydown",qt(this,this.handleKeyPress)),this.hadControls_&&e.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}},o.closeable=function(e){if("boolean"==typeof e){var t=this.closeable_=!!e,r=this.getChild("closeButton");if(t&&!r){var n=this.contentEl_;this.contentEl_=this.el_,r=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=n,this.on(r,"close",this.close)}!t&&r&&(this.off(r,"close",this.close),this.removeChild(r),r.dispose())}return this.closeable_},o.fill=function(){this.fillWith(this.content())},o.fillWith=function(e){var t=this.contentEl(),r=t.parentNode,n=t.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,r.removeChild(t),this.empty(),V(t,e),this.trigger("modalfill"),n?r.insertBefore(t,n):r.appendChild(t);var i=this.getChild("closeButton");i&&r.appendChild(i.el_)},o.empty=function(){this.trigger("beforemodalempty"),W(this.contentEl()),this.trigger("modalempty")},o.content=function(e){return void 0!==e&&(this.content_=e),this.content_},o.conditionalFocus_=function(){var t=e.activeElement,r=this.player_.el_;this.previouslyActiveEl_=null,(r.contains(t)||r===t)&&(this.previouslyActiveEl_=t,this.focus(),this.on(e,"keydown",this.handleKeyDown))},o.conditionalBlur_=function(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null),this.off(e,"keydown",this.handleKeyDown)},o.handleKeyDown=function(t){if(9===t.which){for(var r,n=this.focusableEls_(),i=this.el_.querySelector(":focus"),o=0;o<n.length;o++)if(i===n[o]){r=o;break}e.activeElement===this.el_&&(r=0),t.shiftKey&&0===r?(n[n.length-1].focus(),t.preventDefault()):t.shiftKey||r!==n.length-1||(n[0].focus(),t.preventDefault())}},o.focusableEls_=function(){var e=this.el_.querySelectorAll("*");return Array.prototype.filter.call(e,function(e){return(e instanceof r.HTMLAnchorElement||e instanceof r.HTMLAreaElement)&&e.hasAttribute("href")||(e instanceof r.HTMLInputElement||e instanceof r.HTMLSelectElement||e instanceof r.HTMLTextAreaElement||e instanceof r.HTMLButtonElement)&&!e.hasAttribute("disabled")||e instanceof r.HTMLIFrameElement||e instanceof r.HTMLObjectElement||e instanceof r.HTMLEmbedElement||e.hasAttribute("tabindex")&&-1!==e.getAttribute("tabindex")||e.hasAttribute("contenteditable")})},i}(ur);Gr.prototype.options_={pauseOnOpen:!0,temporary:!0},ur.registerComponent("ModalDialog",Gr);var Wr=function(e){function t(t){var r;void 0===t&&(t=[]),r=e.call(this)||this,r.tracks_=[],Object.defineProperty(s(s(r)),"length",{get:function(){return this.tracks_.length}});for(var n=0;n<t.length;n++)r.addTrack(t[n]);return r}n(t,e);var r=t.prototype;return r.addTrack=function(e){var t=this.tracks_.length;""+t in this||Object.defineProperty(this,t,{get:function(){return this.tracks_[t]}}),-1===this.tracks_.indexOf(e)&&(this.tracks_.push(e),this.trigger({track:e,type:"addtrack"}))},r.removeTrack=function(e){for(var t,r=0,n=this.length;r<n;r++)if(this[r]===e){t=this[r],t.off&&t.off(),this.tracks_.splice(r,1);break}t&&this.trigger({track:t,type:"removetrack"})},r.getTrackById=function(e){for(var t=null,r=0,n=this.length;r<n;r++){var i=this[r];if(i.id===e){t=i;break}}return t},t}(Xt);Wr.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack"};for(var Hr in Wr.prototype.allowedEvents_)Wr.prototype["on"+Hr]=null;var Yr=function(e,t){for(var r=0;r<e.length;r++)Object.keys(e[r]).length&&t.id!==e[r].id&&(e[r].enabled=!1)},Vr=function(e){function t(t){var r;void 0===t&&(t=[]);for(var n=t.length-1;n>=0;n--)if(t[n].enabled){Yr(t,t[n]);break}return r=e.call(this,t)||this,r.changing_=!1,r}return n(t,e),t.prototype.addTrack=function(t){var r=this;t.enabled&&Yr(this,t),e.prototype.addTrack.call(this,t),t.addEventListener&&t.addEventListener("enabledchange",function(){r.changing_||(r.changing_=!0,Yr(r,t),r.changing_=!1,r.trigger("change"))})},t}(Wr),qr=function(e,t){for(var r=0;r<e.length;r++)Object.keys(e[r]).length&&t.id!==e[r].id&&(e[r].selected=!1)},Kr=function(e){function t(t){var r;void 0===t&&(t=[]);for(var n=t.length-1;n>=0;n--)if(t[n].selected){qr(t,t[n]);break}return r=e.call(this,t)||this,r.changing_=!1,Object.defineProperty(s(s(r)),"selectedIndex",{get:function(){for(var e=0;e<this.length;e++)if(this[e].selected)return e;return-1},set:function(){}}),r}return n(t,e),t.prototype.addTrack=function(t){var r=this;t.selected&&qr(this,t),e.prototype.addTrack.call(this,t),t.addEventListener&&t.addEventListener("selectedchange",function(){r.changing_||(r.changing_=!0,qr(r,t),r.changing_=!1,r.trigger("change"))})},t}(Wr),zr=function(e){function t(){return e.apply(this,arguments)||this}return n(t,e),t.prototype.addTrack=function(t){e.prototype.addTrack.call(this,t),t.addEventListener("modechange",qt(this,function(){this.queueTrigger("change")})),-1===["metadata","chapters"].indexOf(t.kind)&&t.addEventListener("modechange",qt(this,function(){this.trigger("selectedlanguagechange")}))},t}(Wr),Xr=function(){function e(e){void 0===e&&(e=[]),this.trackElements_=[],Object.defineProperty(this,"length",{get:function(){return this.trackElements_.length}});for(var t=0,r=e.length;t<r;t++)this.addTrackElement_(e[t])}var t=e.prototype;return t.addTrackElement_=function(e){var t=this.trackElements_.length;""+t in this||Object.defineProperty(this,t,{get:function(){return this.trackElements_[t]}}),-1===this.trackElements_.indexOf(e)&&this.trackElements_.push(e)},t.getTrackElementByTrack_=function(e){for(var t,r=0,n=this.trackElements_.length;r<n;r++)if(e===this.trackElements_[r].track){t=this.trackElements_[r];break}return t},t.removeTrackElement_=function(e){for(var t=0,r=this.trackElements_.length;t<r;t++)if(e===this.trackElements_[t]){this.trackElements_.splice(t,1);break}},e}(),Jr=function(){function e(t){e.prototype.setCues_.call(this,t),Object.defineProperty(this,"length",{get:function(){return this.length_}})}var t=e.prototype;return t.setCues_=function(e){var t=this.length||0,r=0,n=e.length;this.cues_=e,this.length_=e.length;var i=function(e){""+e in this||Object.defineProperty(this,""+e,{get:function(){return this.cues_[e]}})};if(t<n)for(r=t;r<n;r++)i.call(this,r)},t.getCueById=function(e){for(var t=null,r=0,n=this.length;r<n;r++){var i=this[r];if(i.id===e){t=i;break}}return t},e}(),Zr={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},$r={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},en={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},tn={disabled:"disabled",hidden:"hidden",showing:"showing"},rn=function(e){function t(t){var r;void 0===t&&(t={}),r=e.call(this)||this;var n={id:t.id||"vjs_track_"+K(),kind:t.kind||"",label:t.label||"",language:t.language||""};for(var i in n)!function(e){Object.defineProperty(s(s(r)),e,{get:function(){return n[e]},set:function(){}})}(i);return r}return n(t,e),t}(Xt),nn=function(t){var n=["protocol","hostname","port","pathname","search","hash","host"],i=e.createElement("a");i.href=t;var o,a=""===i.host&&"file:"!==i.protocol;a&&(o=e.createElement("div"),o.innerHTML='<a href="'+t+'"></a>',i=o.firstChild,o.setAttribute("style","display:none; position:absolute;"),e.body.appendChild(o));for(var s={},u=0;u<n.length;u++)s[n[u]]=i[n[u]];return"http:"===s.protocol&&(s.host=s.host.replace(/:80$/,"")),"https:"===s.protocol&&(s.host=s.host.replace(/:443$/,"")),s.protocol||(s.protocol=r.location.protocol),a&&e.body.removeChild(o),s},on=function(t){if(!t.match(/^https?:\/\//)){var r=e.createElement("div");r.innerHTML='<a href="'+t+'">x</a>',t=r.firstChild.href}return t},an=function(e){if("string"==typeof e){var t=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/i,r=t.exec(e);if(r)return r.pop().toLowerCase()}return""},sn=function(e){var t=r.location,n=nn(e);return(":"===n.protocol?t.protocol:n.protocol)+n.host!==t.protocol+t.host},un=Object.freeze({parseUrl:nn,getAbsoluteURL:on,getFileExtension:an,isCrossOrigin:sn}),ln=Ae,cn=Object.prototype.toString,dn=("undefined"!=typeof window?window:void 0!==t||"undefined"!=typeof self&&self,_e(function(e,t){function r(e){return e.replace(/^\s*|\s*$/g,"")}t=e.exports=r,t.left=function(e){return e.replace(/^\s*/,"")},t.right=function(e){return e.replace(/\s*$/,"")}})),fn=(dn.left,dn.right,Function.prototype.toString),gn=/^\s*class\b/,pn=function(e){try{var t=fn.call(e);return gn.test(t)}catch(e){return!1}},hn=function(e){try{return!pn(e)&&(fn.call(e),!0)}catch(e){return!1}},yn=Object.prototype.toString,mn="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,vn=function(e){if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;if("function"==typeof e&&!e.prototype)return!0;if(mn)return hn(e);if(pn(e))return!1;var t=yn.call(e);return"[object Function]"===t||"[object GeneratorFunction]"===t},bn=Object.prototype.toString,An=Object.prototype.hasOwnProperty,_n=function(e,t,r){for(var n=0,i=e.length;n<i;n++)An.call(e,n)&&(null==r?t(e[n],n,e):t.call(r,e[n],n,e))},En=function(e,t,r){for(var n=0,i=e.length;n<i;n++)null==r?t(e.charAt(n),n,e):t.call(r,e.charAt(n),n,e)},Tn=function(e,t,r){for(var n in e)An.call(e,n)&&(null==r?t(e[n],n,e):t.call(r,e[n],n,e))},Sn=function(e,t,r){if(!vn(t))throw new TypeError("iterator must be a function");var n;arguments.length>=3&&(n=r),"[object Array]"===bn.call(e)?_n(e,t,n):"string"==typeof e?En(e,t,n):Tn(e,t,n)},In=Sn,wn=function(e){return"[object Array]"===Object.prototype.toString.call(e)},Cn=function(e){if(!e)return{};var t={};return In(dn(e).split("\n"),function(e){var r=e.indexOf(":"),n=dn(e.slice(0,r)).toLowerCase(),i=dn(e.slice(r+1));void 0===t[n]?t[n]=i:wn(t[n])?t[n].push(i):t[n]=[t[n],i]}),t},Dn=Ee,Mn=Object.prototype.hasOwnProperty,On=Ie;Ie.XMLHttpRequest=r.XMLHttpRequest||De,Ie.XDomainRequest="withCredentials"in new Ie.XMLHttpRequest?Ie.XMLHttpRequest:r.XDomainRequest,function(e,t){for(var r=0;r<e.length;r++)t(e[r])}(["get","put","post","patch","head","delete"],function(e){Ie["delete"===e?"del":e]=function(t,r,n){return r=Se(t,r,n),r.method=e.toUpperCase(),we(r)}});var Bn=function(e,t){var n=new r.WebVTT.Parser(r,r.vttjs,r.WebVTT.StringDecoder()),i=[];n.oncue=function(e){t.addCue(e)},n.onparsingerror=function(e){i.push(e)},n.onflush=function(){t.trigger({type:"loadeddata",target:t})},n.parse(e),i.length>0&&(r.console&&r.console.groupCollapsed&&r.console.groupCollapsed("Text Track parsing errors for "+t.src),i.forEach(function(e){return Dt.error(e)}),r.console&&r.console.groupEnd&&r.console.groupEnd()),n.flush()},Rn=function(e,t){var n={uri:e},i=sn(e);i&&(n.cors=i),On(n,qt(this,function(e,n,i){if(e)return Dt.error(e,n);if(t.loaded_=!0,"function"!=typeof r.WebVTT){if(t.tech_){var o=function(){return Bn(i,t)};t.tech_.on("vttjsloaded",o),t.tech_.on("vttjserror",function(){Dt.error("vttjs failed to load, stopping trying to process "+t.src),t.tech_.off("vttjsloaded",o)})}}else Bn(i,t)}))},Pn=function(e){function t(t){var r;if(void 0===t&&(t={}),!t.tech)throw new Error("A tech was not provided.");var n=ce(t,{kind:en[t.kind]||"subtitles",language:t.language||t.srclang||""}),i=tn[n.mode]||"disabled",o=n.default;"metadata"!==n.kind&&"chapters"!==n.kind||(i="hidden"),r=e.call(this,n)||this,r.tech_=n.tech,r.cues_=[],r.activeCues_=[];var a=new Jr(r.cues_),u=new Jr(r.activeCues_),l=!1,c=qt(s(s(r)),function(){this.activeCues=this.activeCues,l&&(this.trigger("cuechange"),l=!1)});return"disabled"!==i&&r.tech_.ready(function(){r.tech_.on("timeupdate",c)},!0),Object.defineProperties(s(s(r)),{default:{get:function(){return o},set:function(){}},mode:{get:function(){return i},set:function(e){var t=this;tn[e]&&(i=e,"disabled"!==i?this.tech_.ready(function(){t.tech_.on("timeupdate",c)},!0):this.tech_.off("timeupdate",c),this.trigger("modechange"))}},cues:{get:function(){return this.loaded_?a:null},set:function(){}},activeCues:{get:function(){if(!this.loaded_)return null;if(0===this.cues.length)return u;for(var e=this.tech_.currentTime(),t=[],r=0,n=this.cues.length;r<n;r++){var i=this.cues[r];i.startTime<=e&&i.endTime>=e?t.push(i):i.startTime===i.endTime&&i.startTime<=e&&i.startTime+.5>=e&&t.push(i)}if(l=!1,t.length!==this.activeCues_.length)l=!0;else for(var o=0;o<t.length;o++)-1===this.activeCues_.indexOf(t[o])&&(l=!0);return this.activeCues_=t,u.setCues_(this.activeCues_),u},set:function(){}}}),n.src?(r.src=n.src,Rn(n.src,s(s(r)))):r.loaded_=!0,r}n(t,e);var i=t.prototype;return i.addCue=function(e){var t=e;if(r.vttjs&&!(e instanceof r.vttjs.VTTCue)){t=new r.vttjs.VTTCue(e.startTime,e.endTime,e.text);for(var n in e)n in t||(t[n]=e[n]);t.id=e.id,t.originalCue_=e}for(var i=this.tech_.textTracks(),o=0;o<i.length;o++)i[o]!==this&&i[o].removeCue(t);this.cues_.push(t),this.cues.setCues_(this.cues_)},i.removeCue=function(e){for(var t=this.cues_.length;t--;){var r=this.cues_[t];if(r===e||r.originalCue_&&r.originalCue_===e){this.cues_.splice(t,1),this.cues.setCues_(this.cues_);break}}},t}(rn);Pn.prototype.allowedEvents_={cuechange:"cuechange"};var kn=function(e){function t(t){var r;void 0===t&&(t={});var n=ce(t,{kind:$r[t.kind]||""});r=e.call(this,n)||this;var i=!1;return Object.defineProperty(s(s(r)),"enabled",{get:function(){return i},set:function(e){"boolean"==typeof e&&e!==i&&(i=e,this.trigger("enabledchange"))}}),n.enabled&&(r.enabled=n.enabled),r.loaded_=!0,r}return n(t,e),t}(rn),Ln=function(e){function t(t){var r;void 0===t&&(t={});var n=ce(t,{kind:Zr[t.kind]||""});r=e.call(this,n)||this;var i=!1;return Object.defineProperty(s(s(r)),"selected",{get:function(){return i},set:function(e){"boolean"==typeof e&&e!==i&&(i=e,this.trigger("selectedchange"))}}),n.selected&&(r.selected=n.selected),r}return n(t,e),t}(rn),Nn=0,xn=2,jn=function(e){function t(t){var r;void 0===t&&(t={}),r=e.call(this)||this;var n,i=new Pn(t);return r.kind=i.kind,r.src=i.src,r.srclang=i.language,r.label=i.label,r.default=i.default,Object.defineProperties(s(s(r)),{readyState:{get:function(){return n}},track:{get:function(){return i}}}),n=Nn,i.addEventListener("loadeddata",function(){n=xn,r.trigger({type:"load",target:s(s(r))})}),r}return n(t,e),t}(Xt);jn.prototype.allowedEvents_={load:"load"},jn.NONE=Nn,jn.LOADING=1,jn.LOADED=xn,jn.ERROR=3;var Un={audio:{ListClass:Vr,TrackClass:kn,capitalName:"Audio"},video:{ListClass:Kr,TrackClass:Ln,capitalName:"Video"},text:{ListClass:zr,TrackClass:Pn,capitalName:"Text"}};Object.keys(Un).forEach(function(e){Un[e].getterName=e+"Tracks",Un[e].privateName=e+"Tracks_"});var Fn={remoteText:{ListClass:zr,TrackClass:Pn,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:Xr,TrackClass:jn,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},Qn=ce(Un,Fn);Fn.names=Object.keys(Fn),Un.names=Object.keys(Un),Qn.names=[].concat(Fn.names).concat(Un.names);var Gn=Object.create||function(){function e(){}return function(t){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return e.prototype=t,new e}}();Me.prototype=Gn(Error.prototype),Me.prototype.constructor=Me,Me.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},Be.prototype={set:function(e,t){this.get(e)||""===t||(this.values[e]=t)},get:function(e,t,r){return r?this.has(e)?this.values[e]:t[r]:this.has(e)?this.values[e]:t},has:function(e){return e in this.values},alt:function(e,t,r){for(var n=0;n<r.length;++n)if(t===r[n]){this.set(e,t);break}},integer:function(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))},percent:function(e,t){return!!(t.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(t=parseFloat(t))>=0&&t<=100)&&(this.set(e,t),!0)}};var Wn={"&amp;":"&","&lt;":"<","&gt;":">","&lrm;":"","&rlm;":"","&nbsp;":""},Hn={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},Yn={v:"title",lang:"lang"},Vn={rt:"ruby"},qn=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];je.prototype.applyStyles=function(e,t){t=t||this.div;for(var r in e)e.hasOwnProperty(r)&&(t.style[r]=e[r])},je.prototype.formatStyle=function(e,t){return 0===e?0:e+t},Ue.prototype=Gn(je.prototype),Ue.prototype.constructor=Ue,Fe.prototype.move=function(e,t){switch(t=void 0!==t?t:this.lineHeight,e){case"+x":this.left+=t,this.right+=t;break;case"-x":this.left-=t,this.right-=t;break;case"+y":this.top+=t,this.bottom+=t;break;case"-y":this.top-=t,this.bottom-=t}},Fe.prototype.overlaps=function(e){return this.left<e.right&&this.right>e.left&&this.top<e.bottom&&this.bottom>e.top},Fe.prototype.overlapsAny=function(e){for(var t=0;t<e.length;t++)if(this.overlaps(e[t]))return!0;return!1},Fe.prototype.within=function(e){return this.top>=e.top&&this.bottom<=e.bottom&&this.left>=e.left&&this.right<=e.right},Fe.prototype.overlapsOppositeAxis=function(e,t){switch(t){case"+x":return this.left<e.left;case"-x":return this.right>e.right;case"+y":return this.top<e.top;case"-y":return this.bottom>e.bottom}},Fe.prototype.intersectPercentage=function(e){return Math.max(0,Math.min(this.right,e.right)-Math.max(this.left,e.left))*Math.max(0,Math.min(this.bottom,e.bottom)-Math.max(this.top,e.top))/(this.height*this.width)},Fe.prototype.toCSSCompatValues=function(e){return{top:this.top-e.top,bottom:e.bottom-this.bottom,left:this.left-e.left,right:e.right-this.right,height:this.height,width:this.width}},Fe.getSimpleBoxPosition=function(e){var t=e.div?e.div.offsetHeight:e.tagName?e.offsetHeight:0,r=e.div?e.div.offsetWidth:e.tagName?e.offsetWidth:0,n=e.div?e.div.offsetTop:e.tagName?e.offsetTop:0;return e=e.div?e.div.getBoundingClientRect():e.tagName?e.getBoundingClientRect():e,{left:e.left,right:e.right,top:e.top||n,height:e.height||t,bottom:e.bottom||n+(e.height||t),width:e.width||r}},Ge.StringDecoder=function(){return{decode:function(e){if(!e)return"";if("string"!=typeof e)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}},Ge.convertCueToDOMTree=function(e,t){return e&&t?ke(e,t):null};Ge.processCues=function(e,t,r){if(!e||!t||!r)return null;for(;r.firstChild;)r.removeChild(r.firstChild);var n=e.document.createElement("div");if(n.style.position="absolute",n.style.left="0",n.style.right="0",n.style.top="0",n.style.bottom="0",n.style.margin="1.5%",r.appendChild(n),function(e){for(var t=0;t<e.length;t++)if(e[t].hasBeenReset||!e[t].displayState)return!0;return!1}(t)){var i=[],o=Fe.getSimpleBoxPosition(n),a=Math.round(.05*o.height*100)/100,s={font:a+"px sans-serif"};!function(){for(var r,a,u=0;u<t.length;u++)a=t[u],r=new Ue(e,a,s),n.appendChild(r.div),Qe(e,r,o,i),a.displayState=r.div,i.push(Fe.getSimpleBoxPosition(r))}()}else for(var u=0;u<t.length;u++)n.appendChild(t[u].displayState)},Ge.Parser=function(e,t,r){r||(r=t,t={}),t||(t={}),this.window=e,this.vttjs=t,this.state="INITIAL",this.buffer="",this.decoder=r||new TextDecoder("utf8"),this.regionList=[]},Ge.Parser.prototype={reportOrThrowError:function(e){if(!(e instanceof Me))throw e;this.onparsingerror&&this.onparsingerror(e)},parse:function(e){function t(){for(var e=i.buffer,t=0;t<e.length&&"\r"!==e[t]&&"\n"!==e[t];)++t;var r=e.substr(0,t);return"\r"===e[t]&&++t,"\n"===e[t]&&++t,i.buffer=e.substr(t),r}function r(e){var t=new Be;if(Re(e,function(e,r){switch(e){case"id":t.set(e,r);break;case"width":t.percent(e,r);break;case"lines":t.integer(e,r);break;case"regionanchor":case"viewportanchor":var n=r.split(",");if(2!==n.length)break;var i=new Be;if(i.percent("x",n[0]),i.percent("y",n[1]),!i.has("x")||!i.has("y"))break;t.set(e+"X",i.get("x")),t.set(e+"Y",i.get("y"));break;case"scroll":t.alt(e,r,["up"])}},/=/,/\s/),t.has("id")){var r=new(i.vttjs.VTTRegion||i.window.VTTRegion);r.width=t.get("width",100),r.lines=t.get("lines",3),r.regionAnchorX=t.get("regionanchorX",0),r.regionAnchorY=t.get("regionanchorY",100),r.viewportAnchorX=t.get("viewportanchorX",0),r.viewportAnchorY=t.get("viewportanchorY",100),r.scroll=t.get("scroll",""),i.onregion&&i.onregion(r),i.regionList.push({id:t.get("id"),region:r})}}function n(e){var t=new Be;Re(e,function(e,r){switch(e){case"MPEGT":t.integer(e+"S",r);break;case"LOCA":t.set(e+"L",Oe(r))}},/[^\d]:/,/,/),i.ontimestampmap&&i.ontimestampmap({MPEGTS:t.get("MPEGTS"),LOCAL:t.get("LOCAL")})}var i=this;e&&(i.buffer+=i.decoder.decode(e,{stream:!0}));try{var o;if("INITIAL"===i.state){if(!/\r\n|\n/.test(i.buffer))return this;o=t();var a=o.match(/^WEBVTT([ \t].*)?$/);if(!a||!a[0])throw new Me(Me.Errors.BadSignature);i.state="HEADER"}for(var s=!1;i.buffer;){if(!/\r\n|\n/.test(i.buffer))return this;switch(s?s=!1:o=t(),i.state){case"HEADER":/:/.test(o)?function(e){e.match(/X-TIMESTAMP-MAP/)?Re(e,function(e,t){switch(e){case"X-TIMESTAMP-MAP":n(t)}},/=/):Re(e,function(e,t){switch(e){case"Region":r(t)}},/:/)}(o):o||(i.state="ID");continue;case"NOTE":o||(i.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(o)){i.state="NOTE";break}if(!o)continue;if(i.cue=new(i.vttjs.VTTCue||i.window.VTTCue)(0,0,""),i.state="CUE",-1===o.indexOf("--\x3e")){i.cue.id=o;continue}case"CUE":try{Pe(o,i.cue,i.regionList)}catch(e){i.reportOrThrowError(e),i.cue=null,i.state="BADCUE";continue}i.state="CUETEXT";continue;case"CUETEXT":var u=-1!==o.indexOf("--\x3e");if(!o||u&&(s=!0)){i.oncue&&i.oncue(i.cue),i.cue=null,i.state="ID";continue}i.cue.text&&(i.cue.text+="\n"),i.cue.text+=o;continue;case"BADCUE":o||(i.state="ID");continue}}}catch(e){i.reportOrThrowError(e),"CUETEXT"===i.state&&i.cue&&i.oncue&&i.oncue(i.cue),i.cue=null,i.state="INITIAL"===i.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var e=this;try{if(e.buffer+=e.decoder.decode(),(e.cue||"HEADER"===e.state)&&(e.buffer+="\n\n",e.parse()),"INITIAL"===e.state)throw new Me(Me.Errors.BadSignature)}catch(t){e.reportOrThrowError(t)}return e.onflush&&e.onflush(),this}};var Kn=Ge,zn="auto",Xn={"":1,lr:1,rl:1},Jn={start:1,middle:1,end:1,left:1,right:1};Ye.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)};var Zn=Ye,$n={"":!0,up:!0},ei=Ke,ti=_e(function(e){var t=e.exports={WebVTT:Kn,VTTCue:Zn,VTTRegion:ei};r.vttjs=t,r.WebVTT=t.WebVTT;var n=t.VTTCue,i=t.VTTRegion,o=r.VTTCue,a=r.VTTRegion;t.shim=function(){r.VTTCue=n,r.VTTRegion=i},t.restore=function(){r.VTTCue=o,r.VTTRegion=a},r.VTTCue||t.shim()}),ri=(ti.WebVTT,ti.VTTCue,ti.VTTRegion,function(t){function i(e,r){var n;return void 0===e&&(e={}),void 0===r&&(r=function(){}),e.reportTouchActivity=!1,n=t.call(this,null,e,r)||this,n.hasStarted_=!1,n.on("playing",function(){this.hasStarted_=!0}),n.on("loadstart",function(){this.hasStarted_=!1}),Qn.names.forEach(function(t){var r=Qn[t];e&&e[r.getterName]&&(n[r.privateName]=e[r.getterName])}),n.featuresProgressEvents||n.manualProgressOn(),n.featuresTimeupdateEvents||n.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(function(t){!1===e["native"+t+"Tracks"]&&(n["featuresNative"+t+"Tracks"]=!1)}),!1===e.nativeCaptions||!1===e.nativeTextTracks?n.featuresNativeTextTracks=!1:!0!==e.nativeCaptions&&!0!==e.nativeTextTracks||(n.featuresNativeTextTracks=!0),n.featuresNativeTextTracks||n.emulateTextTracks(),n.autoRemoteTextTracks_=new Qn.text.ListClass,n.initTrackListeners(),e.nativeControlsForTouch||n.emitTapEvents(),n.constructor&&(n.name_=n.constructor.name||"Unknown Tech"),n}n(i,t);var o=i.prototype;return o.triggerSourceset=function(e){var t=this;this.isReady_||this.one("ready",function(){return t.setTimeout(function(){return t.triggerSourceset(e)},1)}),this.trigger({src:e,type:"sourceset"})},o.manualProgressOn=function(){this.on("durationchange",this.onDurationChange),this.manualProgress=!0,this.one("ready",this.trackProgress)},o.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange)},o.trackProgress=function(e){this.stopTrackingProgress(),this.progressInterval=this.setInterval(qt(this,function(){var e=this.bufferedPercent();this.bufferedPercent_!==e&&this.trigger("progress"),this.bufferedPercent_=e,1===e&&this.stopTrackingProgress()}),500)},o.onDurationChange=function(e){this.duration_=this.duration()},o.buffered=function(){return pe(0,0)},o.bufferedPercent=function(){return he(this.buffered(),this.duration_)},o.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},o.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime),this.on("pause",this.stopTrackingCurrentTime)},o.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime),this.off("pause",this.stopTrackingCurrentTime)},o.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)},o.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},o.dispose=function(){this.clearTracks(Un.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),t.prototype.dispose.call(this)},o.clearTracks=function(e){var t=this;e=[].concat(e),e.forEach(function(e){for(var r=t[e+"Tracks"]()||[],n=r.length;n--;){var i=r[n];"text"===e&&t.removeRemoteTextTrack(i),r.removeTrack(i)}})},o.cleanupAutoTextTracks=function(){for(var e=this.autoRemoteTextTracks_||[],t=e.length;t--;){var r=e[t];this.removeRemoteTextTrack(r)}},o.reset=function(){},o.error=function(e){return void 0!==e&&(this.error_=new ye(e),this.trigger("error")),this.error_},o.played=function(){return this.hasStarted_?pe(0,0):pe()},o.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},o.initTrackListeners=function(){var e=this;Un.names.forEach(function(t){var r=Un[t],n=function(){e.trigger(t+"trackchange")},i=e[r.getterName]();i.addEventListener("removetrack",n),i.addEventListener("addtrack",n),e.on("dispose",function(){i.removeEventListener("removetrack",n),i.removeEventListener("addtrack",n)})})},o.addWebVttScript_=function(){var t=this;if(!r.WebVTT)if(e.body.contains(this.el())){if(!this.options_["vtt.js"]&&h(ti)&&Object.keys(ti).length>0)return void this.trigger("vttjsloaded");var n=e.createElement("script");n.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",n.onload=function(){t.trigger("vttjsloaded")},n.onerror=function(){t.trigger("vttjserror")},this.on("dispose",function(){n.onload=null,n.onerror=null}),r.WebVTT=!0,this.el().parentNode.appendChild(n)}else this.ready(this.addWebVttScript_)},o.emulateTextTracks=function(){var e=this,t=this.textTracks(),r=this.remoteTextTracks(),n=function(e){return t.addTrack(e.track)},i=function(e){return t.removeTrack(e.track)};r.on("addtrack",n),r.on("removetrack",i),this.addWebVttScript_();var o=function(){return e.trigger("texttrackchange")},a=function(){o();for(var e=0;e<t.length;e++){var r=t[e];r.removeEventListener("cuechange",o),"showing"===r.mode&&r.addEventListener("cuechange",o)}};a(),t.addEventListener("change",a),t.addEventListener("addtrack",a),t.addEventListener("removetrack",a),this.on("dispose",function(){r.off("addtrack",n),r.off("removetrack",i),t.removeEventListener("change",a),t.removeEventListener("addtrack",a),t.removeEventListener("removetrack",a);for(var e=0;e<t.length;e++){t[e].removeEventListener("cuechange",o)}})},o.addTextTrack=function(e,t,r){if(!e)throw new Error("TextTrack kind is required but was not provided");return ze(this,e,t,r)},o.createRemoteTextTrack=function(e){var t=ce(e,{tech:this});return new Fn.remoteTextEl.TrackClass(t)},o.addRemoteTextTrack=function(e,t){var r=this;void 0===e&&(e={});var n=this.createRemoteTextTrack(e);return!0!==t&&!1!==t&&(Dt.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),t=!0),this.remoteTextTrackEls().addTrackElement_(n),this.remoteTextTracks().addTrack(n.track),!0!==t&&this.ready(function(){return r.autoRemoteTextTracks_.addTrack(n.track)}),n},o.removeRemoteTextTrack=function(e){var t=this.remoteTextTrackEls().getTrackElementByTrack_(e);this.remoteTextTrackEls().removeTrackElement_(t),this.remoteTextTracks().removeTrack(e),this.autoRemoteTextTracks_.removeTrack(e)},o.getVideoPlaybackQuality=function(){return{}},o.setPoster=function(){},o.playsinline=function(){},o.setPlaysinline=function(){},o.overrideNativeAudioTracks=function(){},o.overrideNativeVideoTracks=function(){},o.canPlayType=function(){return""},i.canPlayType=function(){return""},i.canPlaySource=function(e,t){return i.canPlayType(e.type)},i.isTech=function(e){return e.prototype instanceof i||e instanceof i||e===i},i.registerTech=function(e,t){if(i.techs_||(i.techs_={}),!i.isTech(t))throw new Error("Tech "+e+" must be a Tech");if(!i.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!i.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return e=ue(e),i.techs_[e]=t,"Tech"!==e&&i.defaultTechOrder_.push(e),t},i.getTech=function(e){if(e)return e=ue(e),i.techs_&&i.techs_[e]?i.techs_[e]:r&&r.videojs&&r.videojs[e]?(Dt.warn("The "+e+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),r.videojs[e]):void 0},i}(ur));Qn.names.forEach(function(e){var t=Qn[e];ri.prototype[t.getterName]=function(){return this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName]}}),ri.prototype.featuresVolumeControl=!0,ri.prototype.featuresMuteControl=!0,ri.prototype.featuresFullscreenResize=!1,ri.prototype.featuresPlaybackRate=!1,ri.prototype.featuresProgressEvents=!1,ri.prototype.featuresSourceset=!1,ri.prototype.featuresTimeupdateEvents=!1,ri.prototype.featuresNativeTextTracks=!1,ri.withSourceHandlers=function(e){e.registerSourceHandler=function(t,r){var n=e.sourceHandlers;n||(n=e.sourceHandlers=[]),void 0===r&&(r=n.length),n.splice(r,0,t)},e.canPlayType=function(t){for(var r,n=e.sourceHandlers||[],i=0;i<n.length;i++)if(r=n[i].canPlayType(t))return r;return""},e.selectSourceHandler=function(t,r){for(var n=e.sourceHandlers||[],i=0;i<n.length;i++)if(n[i].canHandleSource(t,r))return n[i];return null},e.canPlaySource=function(t,r){var n=e.selectSourceHandler(t,r);return n?n.canHandleSource(t,r):""},["seekable","seeking","duration","currentTime","setCurrentTime"].forEach(function(e){var t=this[e];"function"==typeof t&&(this[e]=function(){return this.sourceHandler_&&this.sourceHandler_[e]?this.sourceHandler_[e].apply(this.sourceHandler_,arguments):t.apply(this,arguments)})},e.prototype),e.prototype.setSource=function(t){var r=e.selectSourceHandler(t,this.options_);r||(e.nativeSourceHandler?r=e.nativeSourceHandler:Dt.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler),r!==e.nativeSourceHandler&&(this.currentSource_=t),this.sourceHandler_=r.handleSource(t,this,this.options_),this.on("dispose",this.disposeSourceHandler)},e.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}},ur.registerComponent("Tech",ri),ri.registerTech("Tech",ri),ri.defaultTechOrder_=[];var ni={},ii={},oi={},ai={buffered:1,currentTime:1,duration:1,seekable:1,played:1,paused:1},si={setCurrentTime:1},ui={play:1,pause:1},li={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",mp3:"audio/mpeg",aac:"audio/aac",oga:"audio/ogg",m3u8:"application/x-mpegURL"},ci=function(e){void 0===e&&(e="");var t=an(e);return li[t.toLowerCase()]||""},di=function(e,t){if(!t)return"";if(e.cache_.source.src===t&&e.cache_.source.type)return e.cache_.source.type;var r=e.cache_.sources.filter(function(e){return e.src===t});if(r.length)return r[0].type;for(var n=e.$$("source"),i=0;i<n.length;i++){var o=n[i];if(o.type&&o.src&&o.src===t)return o.type}return ci(t)},fi=function e(t){if(Array.isArray(t)){var r=[];t.forEach(function(t){t=e(t),Array.isArray(t)?r=r.concat(t):p(t)&&r.push(t)}),t=r}else t="string"==typeof t&&t.trim()?[st({src:t})]:p(t)&&"string"==typeof t.src&&t.src&&t.src.trim()?[st(t)]:[];return t},gi=function(e){function t(t,r,n){var i,o=ce({createEl:!1},r);if(i=e.call(this,t,o,n)||this,r.playerOptions.sources&&0!==r.playerOptions.sources.length)t.src(r.playerOptions.sources);else for(var a=0,s=r.playerOptions.techOrder;a<s.length;a++){var u=ue(s[a]),l=ri.getTech(u);if(u||(l=ur.getComponent(u)),l&&l.isSupported()){t.loadTech_(u);break}}return i}return n(t,e),t}(ur);ur.registerComponent("MediaLoader",gi);var pi=function(t){function r(e,r){var n;return n=t.call(this,e,r)||this,n.emitTapEvents(),n.enable(),n}n(r,t);var i=r.prototype;return i.createEl=function(e,r,n){void 0===e&&(e="div"),void 0===r&&(r={}),void 0===n&&(n={}),r=g({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass(),tabIndex:0},r),"button"===e&&Dt.error("Creating a ClickableComponent with an HTML element of "+e+" is not supported; use a Button instead."),n=g({role:"button"},n),this.tabIndex_=r.tabIndex;var i=t.prototype.createEl.call(this,e,r,n);return this.createControlTextEl(i),i},i.dispose=function(){this.controlTextEl_=null,t.prototype.dispose.call(this)},i.createControlTextEl=function(e){return this.controlTextEl_=I("span",{className:"vjs-control-text"},{"aria-live":"polite"}),e&&e.appendChild(this.controlTextEl_),this.controlText(this.controlText_,e),this.controlTextEl_},i.controlText=function(e,t){if(void 0===t&&(t=this.el()),void 0===e)return this.controlText_||"Need Text";var r=this.localize(e);this.controlText_=e,w(this.controlTextEl_,r),this.nonIconControl||t.setAttribute("title",r)},i.buildCSSClass=function(){return"vjs-control vjs-button "+t.prototype.buildCSSClass.call(this)},i.enable=function(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),void 0!==this.tabIndex_&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick),this.on("focus",this.handleFocus),this.on("blur",this.handleBlur))},i.disable=function(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),void 0!==this.tabIndex_&&this.el_.removeAttribute("tabIndex"),this.off(["tap","click"],this.handleClick),this.off("focus",this.handleFocus),this.off("blur",this.handleBlur)},i.handleClick=function(e){},i.handleFocus=function(t){te(e,"keydown",qt(this,this.handleKeyPress))},i.handleKeyPress=function(e){32===e.which||13===e.which?(e.preventDefault(),this.trigger("click")):t.prototype.handleKeyPress&&t.prototype.handleKeyPress.call(this,e)},i.handleBlur=function(t){re(e,"keydown",qt(this,this.handleKeyPress))},r}(ur);ur.registerComponent("ClickableComponent",pi);var hi=function(e){function t(t,r){var n;return n=e.call(this,t,r)||this,n.update(),t.on("posterchange",qt(s(s(n)),n.update)),n}n(t,e);var r=t.prototype;return r.dispose=function(){this.player().off("posterchange",this.update),e.prototype.dispose.call(this)},r.createEl=function(){return I("div",{className:"vjs-poster",tabIndex:-1})},r.update=function(e){var t=this.player().poster();this.setSrc(t),t?this.show():this.hide()},r.setSrc=function(e){var t="";e&&(t='url("'+e+'")'),this.el_.style.backgroundImage=t},r.handleClick=function(e){this.player_.controls()&&(this.player_.paused()?be(this.player_.play()):this.player_.pause())},t}(pi);ur.registerComponent("PosterImage",hi);var yi={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'},mi=function(e){function t(t,n,i){var o;o=e.call(this,t,n,i)||this;var a=qt(s(s(o)),o.updateDisplay);return t.on("loadstart",qt(s(s(o)),o.toggleDisplay)),t.on("texttrackchange",a),t.on("loadedmetadata",qt(s(s(o)),o.preselectTrack)),t.ready(qt(s(s(o)),function(){if(t.tech_&&t.tech_.featuresNativeTextTracks)return void this.hide();t.on("fullscreenchange",a),t.on("playerresize",a),r.addEventListener("orientationchange",a),t.on("dispose",function(){return r.removeEventListener("orientationchange",a)});for(var e=this.options_.playerOptions.tracks||[],n=0;n<e.length;n++)this.player_.addRemoteTextTrack(e[n],!0);this.preselectTrack()})),o}n(t,e);var i=t.prototype;return i.preselectTrack=function(){for(var e,t,r,n={captions:1,subtitles:1},i=this.player_.textTracks(),o=this.player_.cache_.selectedLanguage,a=0;a<i.length;a++){var s=i[a];o&&o.enabled&&o.language&&o.language===s.language&&s.kind in n?s.kind===o.kind?r=s:r||(r=s):o&&!o.enabled?(r=null,e=null,t=null):s.default&&("descriptions"!==s.kind||e?s.kind in n&&!t&&(t=s):e=s)}r?r.mode="showing":t?t.mode="showing":e&&(e.mode="showing")},i.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},i.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{"aria-live":"off","aria-atomic":"true"})},i.clearDisplay=function(){"function"==typeof r.WebVTT&&r.WebVTT.processCues(r,[],this.el_)},i.updateDisplay=function(){var e=this.player_.textTracks();this.clearDisplay();for(var t=null,r=null,n=e.length;n--;){var i=e[n];"showing"===i.mode&&("descriptions"===i.kind?t=i:r=i)}r?("off"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","off"),this.updateForTrack(r)):t&&("assertive"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","assertive"),this.updateForTrack(t))},i.updateForTrack=function(e){if("function"==typeof r.WebVTT&&e.activeCues){for(var t=[],n=0;n<e.activeCues.length;n++)t.push(e.activeCues[n]);if(r.WebVTT.processCues(r,t,this.el_),this.player_.textTrackSettings)for(var i=this.player_.textTrackSettings.getValues(),o=t.length;o--;){var a=t[o];if(a){var s=a.displayState;if(i.color&&(s.firstChild.style.color=i.color),i.textOpacity&&lt(s.firstChild,"color",ut(i.color||"#fff",i.textOpacity)),i.backgroundColor&&(s.firstChild.style.backgroundColor=i.backgroundColor),i.backgroundOpacity&&lt(s.firstChild,"backgroundColor",ut(i.backgroundColor||"#000",i.backgroundOpacity)),i.windowColor&&(i.windowOpacity?lt(s,"backgroundColor",ut(i.windowColor,i.windowOpacity)):s.style.backgroundColor=i.windowColor),i.edgeStyle&&("dropshadow"===i.edgeStyle?s.firstChild.style.textShadow="2px 2px 3px #222, 2px 2px 4px #222, 2px 2px 5px #222":"raised"===i.edgeStyle?s.firstChild.style.textShadow="1px 1px #222, 2px 2px #222, 3px 3px #222":"depressed"===i.edgeStyle?s.firstChild.style.textShadow="1px 1px #ccc, 0 1px #ccc, -1px -1px #222, 0 -1px #222":"uniform"===i.edgeStyle&&(s.firstChild.style.textShadow="0 0 4px #222, 0 0 4px #222, 0 0 4px #222, 0 0 4px #222")),i.fontPercent&&1!==i.fontPercent){var u=r.parseFloat(s.style.fontSize);s.style.fontSize=u*i.fontPercent+"px",s.style.height="auto",s.style.top="auto",s.style.bottom="2px"}i.fontFamily&&"default"!==i.fontFamily&&("small-caps"===i.fontFamily?s.firstChild.style.fontVariant="small-caps":s.firstChild.style.fontFamily=yi[i.fontFamily])}}}},t}(ur);ur.registerComponent("TextTrackDisplay",mi);var vi=function(e){function t(){return e.apply(this,arguments)||this}return n(t,e),t.prototype.createEl=function(){var t=this.player_.isAudio(),r=this.localize(t?"Audio Player":"Video Player"),n=I("span",{className:"vjs-control-text",innerHTML:this.localize("{1} is loading.",[r])}),i=e.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"});return i.appendChild(n),i},t}(ur);ur.registerComponent("LoadingSpinner",vi);var bi=function(e){function t(){return e.apply(this,arguments)||this}n(t,e);var r=t.prototype;return r.createEl=function(e,t,r){void 0===t&&(t={}),void 0===r&&(r={}),e="button",t=g({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass()},t),r=g({type:"button"},r);var n=ur.prototype.createEl.call(this,e,t,r);return this.createControlTextEl(n),n},r.addChild=function(e,t){void 0===t&&(t={});var r=this.constructor.name;return Dt.warn("Adding an actionable (user controllable) child to a Button ("+r+") is not supported; use a ClickableComponent instead."),ur.prototype.addChild.call(this,e,t)},r.enable=function(){e.prototype.enable.call(this),this.el_.removeAttribute("disabled")},r.disable=function(){e.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},r.handleKeyPress=function(t){32!==t.which&&13!==t.which&&e.prototype.handleKeyPress.call(this,t)},t}(pi);ur.registerComponent("Button",bi);var Ai=function(e){function t(t,r){var n;return n=e.call(this,t,r)||this,n.mouseused_=!1,n.on("mousedown",n.handleMouseDown),n}n(t,e);var r=t.prototype;return r.buildCSSClass=function(){return"vjs-big-play-button"},r.handleClick=function(e){var t=this.player_.play();if(this.mouseused_&&e.clientX&&e.clientY)return void be(t);var r=this.player_.getChild("controlBar"),n=r&&r.getChild("playToggle");if(!n)return void this.player_.focus();var i=function(){return n.focus()};ve(t)?t.then(i,function(){}):this.setTimeout(i,1)},r.handleKeyPress=function(t){this.mouseused_=!1,e.prototype.handleKeyPress.call(this,t)},r.handleMouseDown=function(e){this.mouseused_=!0},t}(bi);Ai.prototype.controlText_="Play Video",ur.registerComponent("BigPlayButton",Ai);var _i=function(e){function t(t,r){var n;return n=e.call(this,t,r)||this,n.controlText(r&&r.controlText||n.localize("Close")),n}n(t,e);var r=t.prototype;return r.buildCSSClass=function(){return"vjs-close-button "+e.prototype.buildCSSClass.call(this)},r.handleClick=function(e){this.trigger({type:"close",bubbles:!1})},t}(bi);ur.registerComponent("CloseButton",_i);var Ei=function(e){function t(t,r){var n;return void 0===r&&(r={}),n=e.call(this,t,r)||this,r.replay=void 0===r.replay||r.replay,n.on(t,"play",n.handlePlay),n.on(t,"pause",n.handlePause),r.replay&&n.on(t,"ended",n.handleEnded),n}n(t,e);var r=t.prototype;return r.buildCSSClass=function(){return"vjs-play-control "+e.prototype.buildCSSClass.call(this)},r.handleClick=function(e){this.player_.paused()?this.player_.play():this.player_.pause()},r.handleSeeked=function(e){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(e):this.handlePlay(e)},r.handlePlay=function(e){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},r.handlePause=function(e){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},r.handleEnded=function(e){Math.abs(this.player_.currentTime()-this.player_.duration())<.5&&(this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.controlText("Replay"),this.one(this.player_,"seeked",this.handleSeeked))},t}(bi);Ei.prototype.controlText_="Play",ur.registerComponent("PlayToggle",Ei);var Ti=function(e,t){e=e<0?0:e;var r=Math.floor(e%60),n=Math.floor(e/60%60),i=Math.floor(e/3600),o=Math.floor(t/60%60),a=Math.floor(t/3600);return(isNaN(e)||e===1/0)&&(i=n=r="-"),i=i>0||a>0?i+":":"",n=((i||o>=10)&&n<10?"0"+n:n)+":",r=r<10?"0"+r:r,i+n+r},Si=Ti,Ii=function(t){function r(e,r){var n;return n=t.call(this,e,r)||this,n.throttledUpdateContent=Kt(qt(s(s(n)),n.updateContent),25),n.on(e,"timeupdate",n.throttledUpdateContent),n}n(r,t);var i=r.prototype;return i.createEl=function(e){var r=this.buildCSSClass(),n=t.prototype.createEl.call(this,"div",{className:r+" vjs-time-control vjs-control",innerHTML:'<span class="vjs-control-text" role="presentation">'+this.localize(this.labelText_)+"</span>"});return this.contentEl_=I("span",{className:r+"-display"},{"aria-live":"off",role:"presentation"}),this.updateTextNode_(),n.appendChild(this.contentEl_),n},i.dispose=function(){this.contentEl_=null,this.textNode_=null,t.prototype.dispose.call(this)},i.updateTextNode_=function(){if(this.contentEl_){for(;this.contentEl_.firstChild;)this.contentEl_.removeChild(this.contentEl_.firstChild);this.textNode_=e.createTextNode(this.formattedTime_||this.formatTime_(0)),this.contentEl_.appendChild(this.textNode_)}},i.formatTime_=function(e,t){return void 0===t&&(t=e),ft(e,t)},i.updateFormattedTime_=function(e,t){void 0===t&&(t=e);var r=this.formatTime_(e,t);r!==this.formattedTime_&&(this.formattedTime_=r,this.requestAnimationFrame(this.updateTextNode_))},i.updateContent=function(e){},r}(ur);Ii.prototype.labelText_="Time",Ii.prototype.controlText_="Time",ur.registerComponent("TimeDisplay",Ii);var wi=function(e){function t(t,r){var n;return n=e.call(this,t,r)||this,n.on(t,"ended",n.handleEnded),n}n(t,e);var r=t.prototype;return r.buildCSSClass=function(){return"vjs-current-time"},r.updateContent=function(e){var t=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();this.updateFormattedTime_(t,this.player_.duration())},r.handleEnded=function(e){this.player_.duration()&&this.updateFormattedTime_(this.player_.duration())},t}(Ii);wi.prototype.labelText_="Current Time",wi.prototype.controlText_="Current Time",ur.registerComponent("CurrentTimeDisplay",wi);var Ci=function(e){function t(t,r){var n;return n=e.call(this,t,r)||this,n.on(t,"durationchange",n.updateContent),n.on(t,"loadstart",n.updateContent),n.on(t,"loadedmetadata",n.throttledUpdateContent),n}n(t,e);var r=t.prototype;return r.buildCSSClass=function(){return"vjs-duration"},r.updateContent=function(e){var t=this.player_.duration();this.duration_!==t&&(this.duration_=t,this.updateFormattedTime_(t))},t}(Ii);Ci.prototype.labelText_="Duration",Ci.prototype.controlText_="Duration",ur.registerComponent("DurationDisplay",Ci);var Di=function(e){function t(){return e.apply(this,arguments)||this}return n(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider",innerHTML:"<div><span>/</span></div>"},{"aria-hidden":!0})},t}(ur);ur.registerComponent("TimeDivider",Di);var Mi=function(e){function t(t,r){var n;return n=e.call(this,t,r)||this,n.on(t,"durationchange",n.throttledUpdateContent),n.on(t,"ended",n.handleEnded),n}n(t,e);var r=t.prototype;return r.buildCSSClass=function(){return"vjs-remaining-time"},r.formatTime_=function(t){return"-"+e.prototype.formatTime_.call(this,t)},r.updateContent=function(e){this.player_.duration()&&(this.player_.remainingTimeDisplay?this.updateFormattedTime_(this.player_.remainingTimeDisplay()):this.updateFormattedTime_(this.player_.remainingTime()))},r.handleEnded=function(e){this.player_.duration()&&this.updateFormattedTime_(0)},t}(Ii);Mi.prototype.labelText_="Remaining Time",Mi.prototype.controlText_="Remaining Time",ur.registerComponent("RemainingTimeDisplay",Mi);var Oi=function(e){function t(t,r){var n;return n=e.call(this,t,r)||this,n.updateShowing(),n.on(n.player(),"durationchange",n.updateShowing),n}n(t,e);var r=t.prototype;return r.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=I("div",{className:"vjs-live-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Stream Type")+"</span>"+this.localize("LIVE")},{"aria-live":"off"}),t.appendChild(this.contentEl_),t},r.dispose=function(){this.contentEl_=null,e.prototype.dispose.call(this)},r.updateShowing=function(e){this.player().duration()===1/0?this.show():this.hide()},t}(ur);ur.registerComponent("LiveDisplay",Oi);var Bi=function(e){function t(t,r){var n;return n=e.call(this,t,r)||this,n.updateLiveEdgeStatus(),n.player_.liveTracker&&n.on(n.player_.liveTracker,"liveedgechange",n.updateLiveEdgeStatus),n}n(t,e);var r=t.prototype;return r.createEl=function(){var t=e.prototype.createEl.call(this,"button",{className:"vjs-seek-to-live-control vjs-control"});return this.textEl_=I("span",{className:"vjs-seek-to-live-text",innerHTML:this.localize("LIVE")},{"aria-hidden":"true"}),t.appendChild(this.textEl_),t},r.updateLiveEdgeStatus=function(e){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))},r.handleClick=function(){this.player_.liveTracker.seekToLiveEdge()},r.dispose=function(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatus),this.textEl_=null,e.prototype.dispose.call(this)},t}(bi);Bi.prototype.controlText_="Seek to live, currently playing live",ur.registerComponent("SeekToLive",Bi);var Ri=function(e){function t(t,r){var n;return n=e.call(this,t,r)||this,n.bar=n.getChild(n.options_.barName),n.vertical(!!n.options_.vertical),n.enable(),n}n(t,e);var r=t.prototype;return r.enabled=function(){return this.enabled_},r.enable=function(){this.enabled()||(this.on("mousedown",this.handleMouseDown),this.on("touchstart",this.handleMouseDown),this.on("focus",this.handleFocus),this.on("blur",this.handleBlur),this.on("click",this.handleClick),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)},r.disable=function(){if(this.enabled()){var e=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown),this.off("touchstart",this.handleMouseDown),this.off("focus",this.handleFocus),this.off("blur",this.handleBlur),this.off("click",this.handleClick),this.off(this.player_,"controlsvisible",this.update),this.off(e,"mousemove",this.handleMouseMove),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchmove",this.handleMouseMove),this.off(e,"touchend",this.handleMouseUp),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}},r.createEl=function(t,r,n){return void 0===r&&(r={}),void 0===n&&(n={}),r.className=r.className+" vjs-slider",r=g({tabIndex:0},r),n=g({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},n),e.prototype.createEl.call(this,t,r,n)},r.handleMouseDown=function(e){var t=this.bar.el_.ownerDocument;"mousedown"===e.type&&e.preventDefault(),"touchstart"!==e.type||Tr||e.preventDefault(),x(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(t,"mousemove",this.handleMouseMove),this.on(t,"mouseup",this.handleMouseUp),this.on(t,"touchmove",this.handleMouseMove),this.on(t,"touchend",this.handleMouseUp),this.handleMouseMove(e)},r.handleMouseMove=function(e){},r.handleMouseUp=function(){var e=this.bar.el_.ownerDocument;j(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(e,"mousemove",this.handleMouseMove),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchmove",this.handleMouseMove),this.off(e,"touchend",this.handleMouseUp),this.update()},r.update=function(){if(this.el_){var e=this.getPercent(),t=this.bar;if(t){("number"!=typeof e||e!==e||e<0||e===1/0)&&(e=0);var r=(100*e).toFixed(2)+"%",n=t.el().style;return this.vertical()?n.height=r:n.width=r,e}}},r.calculateDistance=function(e){var t=Q(this.el_,e);return this.vertical()?t.y:t.x},r.handleFocus=function(){this.on(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)},r.handleKeyPress=function(e){37===e.which||40===e.which?(e.preventDefault(),this.stepBack()):38!==e.which&&39!==e.which||(e.preventDefault(),this.stepForward())},r.handleBlur=function(){this.off(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)},r.handleClick=function(e){e.stopImmediatePropagation(),e.preventDefault()},r.vertical=function(e){if(void 0===e)return this.vertical_||!1;this.vertical_=!!e,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")},t}(ur);ur.registerComponent("Slider",Ri);var Pi=function(e){function t(t,r){var n;return n=e.call(this,t,r)||this,n.partEls_=[],n.on(t,"progress",n.update),n}n(t,e);var r=t.prototype;return r.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Loaded")+'</span>: <span class="vjs-control-text-loaded-percentage">0%</span></span>'})},r.dispose=function(){this.partEls_=null,e.prototype.dispose.call(this)},r.update=function(e){var t=this.player_.liveTracker,r=this.player_.buffered(),n=t&&t.isLive()?t.seekableEnd():this.player_.duration(),i=this.player_.bufferedEnd(),o=this.partEls_,a=this.$(".vjs-control-text-loaded-percentage"),s=function(e,t,r){var n=e/t||0;return n=100*(n>=1?1:n),r&&(n=n.toFixed(2)),n+"%"};this.el_.style.width=s(i,n),w(a,s(i,n,!0));for(var u=0;u<r.length;u++){var l=r.start(u),c=r.end(u),d=o[u];d||(d=this.el_.appendChild(I()),o[u]=d),d.style.left=s(l,i),d.style.width=s(c-l,i)}for(var f=o.length;f>r.length;f--)this.el_.removeChild(o[f-1]);o.length=r.length},t}(ur);ur.registerComponent("LoadProgressBar",Pi);var ki=function(e){function t(){return e.apply(this,arguments)||this}n(t,e);var r=t.prototype;return r.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})},r.update=function(e,t,r){var n=U(this.el_),i=U(this.player_.el()),o=e.width*t;if(i&&n){var a=e.left-i.left+o,s=e.width-o+(i.right-e.right),u=n.width/2;a<u?u+=u-a:s<u&&(u=s),u<0?u=0:u>n.width&&(u=n.width),this.el_.style.right="-"+u+"px",w(this.el_,r)}},r.updateTime=function(e,t,r,n){var i=this;this.rafId_&&this.cancelAnimationFrame(this.rafId_),this.rafId_=this.requestAnimationFrame(function(){var o,a=i.player_.duration(),s=i.player_.liveTracker;if(s&&s.isLive()){var u=s.seekableEnd()-s.seekableStart(),l=u-t*u;o=(l<1?"":"-")+ft(l,u)}else o=ft(r,a);i.update(e,t,o),n&&n()})},t}(ur);ur.registerComponent("TimeTooltip",ki);var Li=function(e){function t(){return e.apply(this,arguments)||this}n(t,e);var r=t.prototype;return r.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})},r.update=function(e,t){var r=this.getChild("timeTooltip");if(r){var n=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();r.updateTime(e,t,n)}},t}(ur);Li.prototype.options_={children:[]},yr||vr||Li.prototype.options_.children.push("timeTooltip"),ur.registerComponent("PlayProgressBar",Li);var Ni=function(e){function t(t,r){var n;return n=e.call(this,t,r)||this,n.update=Kt(qt(s(s(n)),n.update),25),n}n(t,e);var r=t.prototype;return r.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},r.update=function(e,t){var r=this,n=t*this.player_.duration();this.getChild("timeTooltip").updateTime(e,t,n,function(){r.el_.style.left=e.width*t+"px"})},t}(ur);Ni.prototype.options_={children:["timeTooltip"]},ur.registerComponent("MouseTimeDisplay",Ni);var xi=function(e){function t(t,r){var n;return n=e.call(this,t,r)||this,n.setEventHandlers_(),n}n(t,e);var r=t.prototype;return r.setEventHandlers_=function(){var e=this;this.update=Kt(qt(this,this.update),30),this.on(this.player_,"timeupdate",this.update),this.on(this.player_,"ended",this.handleEnded),this.on(this.player_,"durationchange",this.update),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.on(this.player_,["playing"],function(){e.clearInterval(e.updateInterval),e.updateInterval=e.setInterval(function(){e.requestAnimationFrame(function(){e.update()})},30)}),this.on(this.player_,["ended","pause","waiting"],function(t){e.player_.liveTracker&&e.player_.liveTracker.isLive()&&"ended"!==t.type||e.clearInterval(e.updateInterval)}),this.on(this.player_,["timeupdate","ended"],this.update)},r.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})},r.update_=function(e,t){var r=this.player_.liveTracker,n=this.player_.duration();r&&r.isLive()&&(n=this.player_.liveTracker.liveCurrentTime()),r&&r.seekableEnd()===1/0?this.disable():this.enable(),this.el_.setAttribute("aria-valuenow",(100*t).toFixed(2)),this.el_.setAttribute("aria-valuetext",this.localize("progress bar timing: currentTime={1} duration={2}",[ft(e,n),ft(n,n)],"{1} of {2}")),this.bar.update(U(this.el_),t)},r.update=function(t){var r=e.prototype.update.call(this);return this.update_(this.getCurrentTime_(),r),r},r.getCurrentTime_=function(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()},r.handleEnded=function(e){this.update_(this.player_.duration(),1)},r.getPercent=function(){var e,t=this.getCurrentTime_(),r=this.player_.liveTracker;if(r&&r.isLive()){var n=r.seekableEnd()-r.seekableStart();e=(t-(r.seekableStart()+r.pastSeekEnd()))/n,r.atLiveEdge()&&(e=1)}else e=t/this.player_.duration();return e>=1?1:e||0},r.handleMouseDown=function(t){q(t)&&(t.stopPropagation(),this.player_.scrubbing(!0),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),e.prototype.handleMouseDown.call(this,t))},r.handleMouseMove=function(e){if(q(e)){var t,r=this.calculateDistance(e),n=this.player_.liveTracker;if(n&&n.isLive()){var i=n.seekableStart(),o=n.seekableEnd();if(t=i+r*(o-i),t+=n.pastSeekEnd(),t>=o&&(t=o),t<=i&&(t=i+.1),t===1/0)return}else(t=r*this.player_.duration())===this.player_.duration()&&(t-=.1);this.player_.currentTime(t)}},r.enable=function(){e.prototype.enable.call(this);var t=this.getChild("mouseTimeDisplay");t&&t.show()},r.disable=function(){e.prototype.disable.call(this);var t=this.getChild("mouseTimeDisplay");t&&t.hide()},r.handleMouseUp=function(t){e.prototype.handleMouseUp.call(this,t),t&&t.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying&&be(this.player_.play())},r.stepForward=function(){this.player_.currentTime(this.player_.currentTime()+5)},r.stepBack=function(){this.player_.currentTime(this.player_.currentTime()-5)},r.handleAction=function(e){this.player_.paused()?this.player_.play():this.player_.pause()},r.handleKeyPress=function(t){32===t.which||13===t.which?(t.preventDefault(),this.handleAction(t)):e.prototype.handleKeyPress&&e.prototype.handleKeyPress.call(this,t)},t}(Ri);xi.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"},yr||vr||xi.prototype.options_.children.splice(1,0,"mouseTimeDisplay"),xi.prototype.playerEvent="timeupdate",ur.registerComponent("SeekBar",xi);var ji=function(e){function t(t,r){var n;return n=e.call(this,t,r)||this,n.handleMouseMove=Kt(qt(s(s(n)),n.handleMouseMove),25),n.throttledHandleMouseSeek=Kt(qt(s(s(n)),n.handleMouseSeek),25),n.enable(),n}n(t,e);var r=t.prototype;return r.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},r.handleMouseMove=function(e){var t=this.getChild("seekBar");if(t){var r=t.getChild("mouseTimeDisplay"),n=t.el(),i=U(n),o=Q(n,e).x;o>1?o=1:o<0&&(o=0),r&&r.update(i,o)}},r.handleMouseSeek=function(e){var t=this.getChild("seekBar");t&&t.handleMouseMove(e)},r.enabled=function(){return this.enabled_},r.disable=function(){this.children().forEach(function(e){return e.disable&&e.disable()}),this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDown),this.off(this.el_,"mousemove",this.handleMouseMove),this.handleMouseUp(),this.addClass("disabled"),this.enabled_=!1)},r.enable=function(){this.children().forEach(function(e){return e.enable&&e.enable()}),this.enabled()||(this.on(["mousedown","touchstart"],this.handleMouseDown),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)},r.handleMouseDown=function(e){var t=this.el_.ownerDocument,r=this.getChild("seekBar");r&&r.handleMouseDown(e),this.on(t,"mousemove",this.throttledHandleMouseSeek),this.on(t,"touchmove",this.throttledHandleMouseSeek),this.on(t,"mouseup",this.handleMouseUp),this.on(t,"touchend",this.handleMouseUp)},r.handleMouseUp=function(e){var t=this.el_.ownerDocument,r=this.getChild("seekBar");r&&r.handleMouseUp(e),this.off(t,"mousemove",this.throttledHandleMouseSeek),this.off(t,"touchmove",this.throttledHandleMouseSeek),this.off(t,"mouseup",this.handleMouseUp),this.off(t,"touchend",this.handleMouseUp)},t}(ur);ji.prototype.options_={children:["seekBar"]},ur.registerComponent("ProgressControl",ji);var Ui=function(t){function r(r,n){var i;return i=t.call(this,r,n)||this,i.on(r,"fullscreenchange",i.handleFullscreenChange),!1===e[Or.fullscreenEnabled]&&i.disable(),i}n(r,t);var i=r.prototype;return i.buildCSSClass=function(){return"vjs-fullscreen-control "+t.prototype.buildCSSClass.call(this)},i.handleFullscreenChange=function(e){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},i.handleClick=function(e){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},r}(bi);Ui.prototype.controlText_="Fullscreen",ur.registerComponent("FullscreenToggle",Ui);var Fi=function(e,t){t.tech_&&!t.tech_.featuresVolumeControl&&e.addClass("vjs-hidden"),e.on(t,"loadstart",function(){t.tech_.featuresVolumeControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")})},Qi=function(e){function t(){return e.apply(this,arguments)||this}return n(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})},t}(ur);ur.registerComponent("VolumeLevel",Qi);var Gi=function(e){function t(t,r){var n;return n=e.call(this,t,r)||this,n.on("slideractive",n.updateLastVolume_),n.on(t,"volumechange",n.updateARIAAttributes),t.ready(function(){return n.updateARIAAttributes()}),n}n(t,e);var r=t.prototype;return r.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})},r.handleMouseDown=function(t){q(t)&&e.prototype.handleMouseDown.call(this,t)},r.handleMouseMove=function(e){q(e)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(e)))},r.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},r.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},r.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},r.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},r.updateARIAAttributes=function(e){var t=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",t),this.el_.setAttribute("aria-valuetext",t+"%")},r.volumeAsPercentage_=function(){return Math.round(100*this.player_.volume())},r.updateLastVolume_=function(){var e=this,t=this.player_.volume();this.one("sliderinactive",function(){0===e.player_.volume()&&e.player_.lastVolume_(t)})},t}(Ri);Gi.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},Gi.prototype.playerEvent="volumechange",ur.registerComponent("VolumeBar",Gi);var Wi=function(e){function t(t,r){var n;return void 0===r&&(r={}),r.vertical=r.vertical||!1,(void 0===r.volumeBar||h(r.volumeBar))&&(r.volumeBar=r.volumeBar||{},r.volumeBar.vertical=r.vertical),n=e.call(this,t,r)||this,Fi(s(s(n)),t),n.throttledHandleMouseMove=Kt(qt(s(s(n)),n.handleMouseMove),25),n.on("mousedown",n.handleMouseDown),n.on("touchstart",n.handleMouseDown),n.on(n.volumeBar,["focus","slideractive"],function(){n.volumeBar.addClass("vjs-slider-active"),n.addClass("vjs-slider-active"),n.trigger("slideractive")}),n.on(n.volumeBar,["blur","sliderinactive"],function(){n.volumeBar.removeClass("vjs-slider-active"),n.removeClass("vjs-slider-active"),n.trigger("sliderinactive")}),n}n(t,e);var r=t.prototype;return r.createEl=function(){var t="vjs-volume-horizontal";return this.options_.vertical&&(t="vjs-volume-vertical"),e.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control "+t})},r.handleMouseDown=function(e){var t=this.el_.ownerDocument;this.on(t,"mousemove",this.throttledHandleMouseMove),this.on(t,"touchmove",this.throttledHandleMouseMove),this.on(t,"mouseup",this.handleMouseUp),this.on(t,"touchend",this.handleMouseUp)},r.handleMouseUp=function(e){var t=this.el_.ownerDocument;this.off(t,"mousemove",this.throttledHandleMouseMove),this.off(t,"touchmove",this.throttledHandleMouseMove),this.off(t,"mouseup",this.handleMouseUp),this.off(t,"touchend",this.handleMouseUp)},r.handleMouseMove=function(e){this.volumeBar.handleMouseMove(e)},t}(ur);Wi.prototype.options_={children:["volumeBar"]},ur.registerComponent("VolumeControl",Wi);var Hi=function(e,t){t.tech_&&!t.tech_.featuresMuteControl&&e.addClass("vjs-hidden"),e.on(t,"loadstart",function(){t.tech_.featuresMuteControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")})},Yi=function(e){function t(t,r){var n;return n=e.call(this,t,r)||this,Hi(s(s(n)),t),n.on(t,["loadstart","volumechange"],n.update),n}n(t,e);var r=t.prototype;return r.buildCSSClass=function(){return"vjs-mute-control "+e.prototype.buildCSSClass.call(this)},r.handleClick=function(e){var t=this.player_.volume(),r=this.player_.lastVolume_();if(0===t){var n=r<.1?.1:r;this.player_.volume(n),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())},r.update=function(e){this.updateIcon_(),this.updateControlText_()},r.updateIcon_=function(){var e=this.player_.volume(),t=3;yr&&this.player_.muted(this.player_.tech_.el_.muted),0===e||this.player_.muted()?t=0:e<.33?t=1:e<.67&&(t=2);for(var r=0;r<4;r++)O(this.el_,"vjs-vol-"+r);M(this.el_,"vjs-vol-"+t)},r.updateControlText_=function(){var e=this.player_.muted()||0===this.player_.volume(),t=e?"Unmute":"Mute";this.controlText()!==t&&this.controlText(t)},t}(bi);Yi.prototype.controlText_="Mute",ur.registerComponent("MuteToggle",Yi);var Vi=function(e){function t(t,r){var n;return void 0===r&&(r={}),void 0!==r.inline?r.inline=r.inline:r.inline=!0,(void 0===r.volumeControl||h(r.volumeControl))&&(r.volumeControl=r.volumeControl||{},r.volumeControl.vertical=!r.inline),n=e.call(this,t,r)||this,n.on(t,["loadstart"],n.volumePanelState_),n.on(n.volumeControl,["slideractive"],n.sliderActive_),n.on(n.volumeControl,["sliderinactive"],n.sliderInactive_),n}n(t,e);var r=t.prototype;return r.sliderActive_=function(){this.addClass("vjs-slider-active")},r.sliderInactive_=function(){this.removeClass("vjs-slider-active")},r.volumePanelState_=function(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")},r.createEl=function(){var t="vjs-volume-panel-horizontal";return this.options_.inline||(t="vjs-volume-panel-vertical"),e.prototype.createEl.call(this,"div",{className:"vjs-volume-panel vjs-control "+t})},t}(ur);Vi.prototype.options_={children:["muteToggle","volumeControl"]},ur.registerComponent("VolumePanel",Vi);var qi=function(t){function r(e,r){var n;return n=t.call(this,e,r)||this,r&&(n.menuButton_=r.menuButton),n.focusedChild_=-1,n.on("keydown",n.handleKeyPress),n}n(r,t);var i=r.prototype;return i.addItem=function(e){this.addChild(e),e.on("blur",qt(this,this.handleBlur)),e.on(["tap","click"],qt(this,function(t){this.menuButton_&&(this.menuButton_.unpressButton(),"CaptionSettingsMenuItem"!==e.name()&&this.menuButton_.focus())}))},i.createEl=function(){var e=this.options_.contentElType||"ul";this.contentEl_=I(e,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var r=t.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return r.appendChild(this.contentEl_),te(r,"click",function(e){e.preventDefault(),e.stopImmediatePropagation()}),r},i.dispose=function(){this.contentEl_=null,t.prototype.dispose.call(this)},i.handleBlur=function(t){var r=t.relatedTarget||e.activeElement;if(!this.children().some(function(e){return e.el()===r})){var n=this.menuButton_;n&&n.buttonPressed_&&r!==n.el().firstChild&&n.unpressButton()}},i.handleKeyPress=function(e){37===e.which||40===e.which?(e.preventDefault(),this.stepForward()):38!==e.which&&39!==e.which||(e.preventDefault(),this.stepBack())},i.stepForward=function(){var e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_+1),this.focus(e)},i.stepBack=function(){var e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_-1),this.focus(e)},i.focus=function(e){void 0===e&&(e=0);var t=this.children().slice();t.length&&t[0].className&&/vjs-menu-title/.test(t[0].className)&&t.shift(),t.length>0&&(e<0?e=0:e>=t.length&&(e=t.length-1),this.focusedChild_=e,t[e].el_.focus())},r}(ur);ur.registerComponent("Menu",qi);var Ki=function(t){function r(e,r){var n;void 0===r&&(r={}),n=t.call(this,e,r)||this,n.menuButton_=new bi(e,r),n.menuButton_.controlText(n.controlText_),n.menuButton_.el_.setAttribute("aria-haspopup","true");var i=bi.prototype.buildCSSClass();return n.menuButton_.el_.className=n.buildCSSClass()+" "+i,n.menuButton_.removeClass("vjs-control"),n.addChild(n.menuButton_),n.update(),n.enabled_=!0,n.on(n.menuButton_,"tap",n.handleClick),n.on(n.menuButton_,"click",n.handleClick),n.on(n.menuButton_,"focus",n.handleFocus),n.on(n.menuButton_,"blur",n.handleBlur),n.on(n.menuButton_,"mouseenter",function(){n.menu.show()}),n.on("keydown",n.handleSubmenuKeyPress),n}n(r,t);var i=r.prototype;return i.update=function(){var e=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=e,this.addChild(e),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?this.hide():this.show()},i.createMenu=function(){var e=new qi(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){var t=I("li",{className:"vjs-menu-title",innerHTML:ue(this.options_.title),tabIndex:-1});this.hideThreshold_+=1,e.children_.unshift(t),C(t,e.contentEl())}if(this.items=this.createItems(),this.items)for(var r=0;r<this.items.length;r++)e.addItem(this.items[r]);return e},i.createItems=function(){},i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildWrapperCSSClass()},{})},i.buildWrapperCSSClass=function(){var e="vjs-menu-button";return!0===this.options_.inline?e+="-inline":e+="-popup","vjs-menu-button "+e+" "+bi.prototype.buildCSSClass()+" "+t.prototype.buildCSSClass.call(this)},i.buildCSSClass=function(){var e="vjs-menu-button";return!0===this.options_.inline?e+="-inline":e+="-popup","vjs-menu-button "+e+" "+t.prototype.buildCSSClass.call(this)},i.controlText=function(e,t){return void 0===t&&(t=this.menuButton_.el()),this.menuButton_.controlText(e,t)},i.handleClick=function(e){this.buttonPressed_?this.unpressButton():this.pressButton()},i.focus=function(){this.menuButton_.focus()},i.blur=function(){this.menuButton_.blur()},i.handleFocus=function(){te(e,"keydown",qt(this,this.handleKeyPress))},i.handleBlur=function(){re(e,"keydown",qt(this,this.handleKeyPress))},i.handleKeyPress=function(e){27===e.which||9===e.which?(this.buttonPressed_&&this.unpressButton(),9!==e.which&&(e.preventDefault(),this.menuButton_.el_.focus())):13!==e.which&&38!==e.which&&40!==e.which||this.buttonPressed_||(this.pressButton(),e.preventDefault())},i.handleSubmenuKeyPress=function(e){27!==e.which&&9!==e.which||(this.buttonPressed_&&this.unpressButton(),9!==e.which&&(e.preventDefault(),this.menuButton_.el_.focus()))},i.pressButton=function(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),yr&&T())return;this.menu.focus()}},i.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))},i.disable=function(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()},i.enable=function(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()},r}(ur);ur.registerComponent("MenuButton",Ki);var zi=function(e){function t(t,r){var n,i=r.tracks;if(n=e.call(this,t,r)||this,n.items.length<=1&&n.hide(),!i)return s(n);var o=qt(s(s(n)),n.update);return i.addEventListener("removetrack",o),i.addEventListener("addtrack",o),n.player_.on("ready",o),n.player_.on("dispose",function(){i.removeEventListener("removetrack",o),i.removeEventListener("addtrack",o)}),n}return n(t,e),t}(Ki);ur.registerComponent("TrackButton",zi);var Xi=function(e){function t(t,r){var n;return n=e.call(this,t,r)||this,n.selectable=r.selectable,n.isSelected_=r.selected||!1,n.multiSelectable=r.multiSelectable,n.selected(n.isSelected_),n.selectable?n.multiSelectable?n.el_.setAttribute("role","menuitemcheckbox"):n.el_.setAttribute("role","menuitemradio"):n.el_.setAttribute("role","menuitem"),n}n(t,e);var r=t.prototype;return r.createEl=function(t,r,n){return this.nonIconControl=!0,e.prototype.createEl.call(this,"li",g({className:"vjs-menu-item",innerHTML:'<span class="vjs-menu-item-text">'+this.localize(this.options_.label)+"</span>",tabIndex:-1},r),n)},r.handleClick=function(e){this.selected(!0)},r.selected=function(e){this.selectable&&(e?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))},t}(pi);ur.registerComponent("MenuItem",Xi);var Ji=function(t){function i(n,i){var o,a=i.track,u=n.textTracks();i.label=a.label||a.language||"Unknown",i.selected="showing"===a.mode,o=t.call(this,n,i)||this,o.track=a;var l=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];o.handleTracksChange.apply(s(s(o)),t)},c=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];o.handleSelectedLanguageChange.apply(s(s(o)),t)};if(n.on(["loadstart","texttrackchange"],l),u.addEventListener("change",l),u.addEventListener("selectedlanguagechange",c),o.on("dispose",function(){n.off(["loadstart","texttrackchange"],l),u.removeEventListener("change",l),u.removeEventListener("selectedlanguagechange",c)}),void 0===u.onchange){var d;o.on(["tap","click"],function(){if("object"!=typeof r.Event)try{d=new r.Event("change")}catch(e){}d||(d=e.createEvent("Event"),d.initEvent("change",!0,!0)),u.dispatchEvent(d)})}return o.handleTracksChange(),o}n(i,t);var o=i.prototype;return o.handleClick=function(e){var r=this.track.kind,n=this.track.kinds,i=this.player_.textTracks();if(n||(n=[r]),t.prototype.handleClick.call(this,e),i)for(var o=0;o<i.length;o++){var a=i[o];a===this.track&&n.indexOf(a.kind)>-1?"showing"!==a.mode&&(a.mode="showing"):"disabled"!==a.mode&&(a.mode="disabled")}},o.handleTracksChange=function(e){var t="showing"===this.track.mode;t!==this.isSelected_&&this.selected(t)},o.handleSelectedLanguageChange=function(e){if("showing"===this.track.mode){var t=this.player_.cache_.selectedLanguage;if(t&&t.enabled&&t.language===this.track.language&&t.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}},o.dispose=function(){this.track=null,t.prototype.dispose.call(this)},i}(Xi);ur.registerComponent("TextTrackMenuItem",Ji);var Zi=function(e){function t(t,r){return r.track={player:t,kind:r.kind,kinds:r.kinds,default:!1,mode:"disabled"},r.kinds||(r.kinds=[r.kind]),r.label?r.track.label=r.label:r.track.label=r.kinds.join(" and ")+" off",r.selectable=!0,r.multiSelectable=!1,e.call(this,t,r)||this}n(t,e);var r=t.prototype;return r.handleTracksChange=function(e){for(var t=this.player().textTracks(),r=!0,n=0,i=t.length;n<i;n++){var o=t[n];if(this.options_.kinds.indexOf(o.kind)>-1&&"showing"===o.mode){r=!1;break}}r!==this.isSelected_&&this.selected(r)},r.handleSelectedLanguageChange=function(e){for(var t=this.player().textTracks(),r=!0,n=0,i=t.length;n<i;n++){var o=t[n];if(["captions","descriptions","subtitles"].indexOf(o.kind)>-1&&"showing"===o.mode){r=!1;break}}r&&(this.player_.cache_.selectedLanguage={enabled:!1})},t}(Ji);ur.registerComponent("OffTextTrackMenuItem",Zi);var $i=function(e){function t(t,r){return void 0===r&&(r={}),r.tracks=t.textTracks(),e.call(this,t,r)||this}return n(t,e),t.prototype.createItems=function(e,t){void 0===e&&(e=[]),void 0===t&&(t=Ji);var r;this.label_&&(r=this.label_+" off"),e.push(new Zi(this.player_,{kinds:this.kinds_,kind:this.kind_,label:r})),this.hideThreshold_+=1;var n=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(var i=0;i<n.length;i++){var o=n[i];if(this.kinds_.indexOf(o.kind)>-1){var a=new t(this.player_,{track:o,selectable:!0,multiSelectable:!1});a.addClass("vjs-"+o.kind+"-menu-item"),e.push(a)}}return e},t}(zi);ur.registerComponent("TextTrackButton",$i);var eo=function(e){function t(t,r){var n,i=r.track,o=r.cue,a=t.currentTime();r.selectable=!0,r.multiSelectable=!1,r.label=o.text,r.selected=o.startTime<=a&&a<o.endTime,n=e.call(this,t,r)||this,n.track=i,n.cue=o;var u=qt(s(s(n)),n.update);return i.addEventListener("cuechange",u),n.on("dispose",function(){return i.removeEventListener("cuechange",u)}),n}n(t,e);var r=t.prototype;return r.handleClick=function(t){e.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime),this.update(this.cue.startTime)},r.update=function(e){var t=this.cue,r=this.player_.currentTime();this.selected(t.startTime<=r&&r<t.endTime)},t}(Xi);ur.registerComponent("ChaptersTrackMenuItem",eo);var to=function(e){function t(t,r,n){return e.call(this,t,r,n)||this}n(t,e);var r=t.prototype;return r.buildCSSClass=function(){return"vjs-chapters-button "+e.prototype.buildCSSClass.call(this)},r.buildWrapperCSSClass=function(){return"vjs-chapters-button "+e.prototype.buildWrapperCSSClass.call(this)},r.update=function(t){this.track_&&(!t||"addtrack"!==t.type&&"removetrack"!==t.type)||this.setTrack(this.findChaptersTrack()),e.prototype.update.call(this)},r.setTrack=function(e){if(this.track_!==e){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){var t=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);t&&t.removeEventListener("load",this.updateHandler_),this.track_=null}if(this.track_=e,this.track_){this.track_.mode="hidden";var r=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);r&&r.addEventListener("load",this.updateHandler_)}}},r.findChaptersTrack=function(){for(var e=this.player_.textTracks()||[],t=e.length-1;t>=0;t--){var r=e[t];if(r.kind===this.kind_)return r}},r.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize(ue(this.kind_))},r.createMenu=function(){return this.options_.title=this.getMenuCaption(),e.prototype.createMenu.call(this)},r.createItems=function(){var e=[];if(!this.track_)return e;var t=this.track_.cues;if(!t)return e;for(var r=0,n=t.length;r<n;r++){var i=t[r],o=new eo(this.player_,{track:this.track_,cue:i});e.push(o)}return e},t}($i);to.prototype.kind_="chapters",to.prototype.controlText_="Chapters",ur.registerComponent("ChaptersButton",to);var ro=function(e){function t(t,r,n){var i;i=e.call(this,t,r,n)||this;var o=t.textTracks(),a=qt(s(s(i)),i.handleTracksChange);return o.addEventListener("change",a),i.on("dispose",function(){o.removeEventListener("change",a)}),i}n(t,e);var r=t.prototype;return r.handleTracksChange=function(e){for(var t=this.player().textTracks(),r=!1,n=0,i=t.length;n<i;n++){var o=t[n];if(o.kind!==this.kind_&&"showing"===o.mode){r=!0;break}}r?this.disable():this.enable()},r.buildCSSClass=function(){return"vjs-descriptions-button "+e.prototype.buildCSSClass.call(this)},r.buildWrapperCSSClass=function(){return"vjs-descriptions-button "+e.prototype.buildWrapperCSSClass.call(this)},t}($i);ro.prototype.kind_="descriptions",ro.prototype.controlText_="Descriptions",ur.registerComponent("DescriptionsButton",ro);var no=function(e){function t(t,r,n){return e.call(this,t,r,n)||this}n(t,e);var r=t.prototype;return r.buildCSSClass=function(){return"vjs-subtitles-button "+e.prototype.buildCSSClass.call(this)},r.buildWrapperCSSClass=function(){return"vjs-subtitles-button "+e.prototype.buildWrapperCSSClass.call(this)},t}($i);no.prototype.kind_="subtitles",no.prototype.controlText_="Subtitles",ur.registerComponent("SubtitlesButton",no);var io=function(e){function t(t,r){var n;return r.track={player:t,kind:r.kind,label:r.kind+" settings",selectable:!1,default:!1,mode:"disabled"},r.selectable=!1,r.name="CaptionSettingsMenuItem",n=e.call(this,t,r)||this,n.addClass("vjs-texttrack-settings"),n.controlText(", opens "+r.kind+" settings dialog"),n}return n(t,e),t.prototype.handleClick=function(e){this.player().getChild("textTrackSettings").open()},t}(Ji);ur.registerComponent("CaptionSettingsMenuItem",io);var oo=function(e){function t(t,r,n){return e.call(this,t,r,n)||this}n(t,e);var r=t.prototype;return r.buildCSSClass=function(){return"vjs-captions-button "+e.prototype.buildCSSClass.call(this)},r.buildWrapperCSSClass=function(){return"vjs-captions-button "+e.prototype.buildWrapperCSSClass.call(this)},r.createItems=function(){var t=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(t.push(new io(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),e.prototype.createItems.call(this,t)},t}($i);oo.prototype.kind_="captions",oo.prototype.controlText_="Captions",ur.registerComponent("CaptionsButton",oo);var ao=function(e){function t(){return e.apply(this,arguments)||this}return n(t,e),t.prototype.createEl=function(t,r,n){var i='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);return"captions"===this.options_.track.kind&&(i+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> '+this.localize("Captions")+"</span>\n      "),i+="</span>",e.prototype.createEl.call(this,t,g({innerHTML:i},r),n)},t}(Ji);ur.registerComponent("SubsCapsMenuItem",ao);var so=function(e){function t(t,r){var n;return void 0===r&&(r={}),n=e.call(this,t,r)||this,n.label_="subtitles",["en","en-us","en-ca","fr-ca"].indexOf(n.player_.language_)>-1&&(n.label_="captions"),n.menuButton_.controlText(ue(n.label_)),n}n(t,e);var r=t.prototype;return r.buildCSSClass=function(){return"vjs-subs-caps-button "+e.prototype.buildCSSClass.call(this)},r.buildWrapperCSSClass=function(){return"vjs-subs-caps-button "+e.prototype.buildWrapperCSSClass.call(this)},r.createItems=function(){var t=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(t.push(new io(this.player_,{kind:this.label_})),this.hideThreshold_+=1),t=e.prototype.createItems.call(this,t,ao)},t}($i);so.prototype.kinds_=["captions","subtitles"],so.prototype.controlText_="Subtitles",ur.registerComponent("SubsCapsButton",so);var uo=function(e){function t(t,r){var n,i=r.track,o=t.audioTracks();r.label=i.label||i.language||"Unknown",r.selected=i.enabled,n=e.call(this,t,r)||this,n.track=i,n.addClass("vjs-"+i.kind+"-menu-item");var a=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];n.handleTracksChange.apply(s(s(n)),t)};return o.addEventListener("change",a),n.on("dispose",function(){o.removeEventListener("change",a)}),n}n(t,e);var r=t.prototype;return r.createEl=function(t,r,n){var i='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);return"main-desc"===this.options_.track.kind&&(i+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> '+this.localize("Descriptions")+"</span>\n      "),i+="</span>",e.prototype.createEl.call(this,t,g({innerHTML:i},r),n)},r.handleClick=function(t){var r=this.player_.audioTracks();e.prototype.handleClick.call(this,t);for(var n=0;n<r.length;n++){var i=r[n];i.enabled=i===this.track}},r.handleTracksChange=function(e){this.selected(this.track.enabled)},t}(Xi);ur.registerComponent("AudioTrackMenuItem",uo);var lo=function(e){function t(t,r){return void 0===r&&(r={}),r.tracks=t.audioTracks(),e.call(this,t,r)||this}n(t,e);var r=t.prototype;return r.buildCSSClass=function(){return"vjs-audio-button "+e.prototype.buildCSSClass.call(this)},r.buildWrapperCSSClass=function(){return"vjs-audio-button "+e.prototype.buildWrapperCSSClass.call(this)},r.createItems=function(e){void 0===e&&(e=[]),this.hideThreshold_=1;for(var t=this.player_.audioTracks(),r=0;r<t.length;r++){var n=t[r];e.push(new uo(this.player_,{track:n,selectable:!0,multiSelectable:!1}))}return e},t}(zi);lo.prototype.controlText_="Audio Track",ur.registerComponent("AudioTrackButton",lo);var co=function(e){function t(t,r){var n,i=r.rate,o=parseFloat(i,10);return r.label=i,r.selected=1===o,r.selectable=!0,r.multiSelectable=!1,n=e.call(this,t,r)||this,n.label=i,n.rate=o,n.on(t,"ratechange",n.update),n}n(t,e);var r=t.prototype;return r.handleClick=function(t){e.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},r.update=function(e){this.selected(this.player().playbackRate()===this.rate)},t}(Xi);co.prototype.contentElType="button",ur.registerComponent("PlaybackRateMenuItem",co);var fo=function(e){function t(t,r){var n;return n=e.call(this,t,r)||this,n.updateVisibility(),n.updateLabel(),n.on(t,"loadstart",n.updateVisibility),n.on(t,"ratechange",n.updateLabel),n}n(t,e);var r=t.prototype;return r.createEl=function(){var t=e.prototype.createEl.call(this);return this.labelEl_=I("div",{className:"vjs-playback-rate-value",innerHTML:"1x"}),t.appendChild(this.labelEl_),t},r.dispose=function(){this.labelEl_=null,e.prototype.dispose.call(this)},r.buildCSSClass=function(){return"vjs-playback-rate "+e.prototype.buildCSSClass.call(this)},r.buildWrapperCSSClass=function(){return"vjs-playback-rate "+e.prototype.buildWrapperCSSClass.call(this)},r.createMenu=function(){var e=new qi(this.player()),t=this.playbackRates();if(t)for(var r=t.length-1;r>=0;r--)e.addChild(new co(this.player(),{rate:t[r]+"x"}));return e},r.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},r.handleClick=function(e){for(var t=this.player().playbackRate(),r=this.playbackRates(),n=r[0],i=0;i<r.length;i++)if(r[i]>t){n=r[i];break}this.player().playbackRate(n)},r.playbackRates=function(){return this.options_.playbackRates||this.options_.playerOptions&&this.options_.playerOptions.playbackRates},r.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},r.updateVisibility=function(e){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},r.updateLabel=function(e){this.playbackRateSupported()&&(this.labelEl_.innerHTML=this.player().playbackRate()+"x")},t}(Ki);fo.prototype.controlText_="Playback Rate",ur.registerComponent("PlaybackRateMenuButton",fo);var go=function(e){function t(){return e.apply(this,arguments)||this}n(t,e);var r=t.prototype;return r.buildCSSClass=function(){return"vjs-spacer "+e.prototype.buildCSSClass.call(this)},r.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},t}(ur);ur.registerComponent("Spacer",go);var po=function(e){function t(){return e.apply(this,arguments)||this}n(t,e);var r=t.prototype;return r.buildCSSClass=function(){return"vjs-custom-control-spacer "+e.prototype.buildCSSClass.call(this)},r.createEl=function(){var t=e.prototype.createEl.call(this,{className:this.buildCSSClass()});return t.innerHTML="",t},t}(go);ur.registerComponent("CustomControlSpacer",po);var ho=function(e){function t(){return e.apply(this,arguments)||this}return n(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"})},t}(ur);ho.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]},ur.registerComponent("ControlBar",ho);var yo=function(e){function t(t,r){var n;return n=e.call(this,t,r)||this,n.on(t,"error",n.open),n}n(t,e);var r=t.prototype;return r.buildCSSClass=function(){return"vjs-error-display "+e.prototype.buildCSSClass.call(this)},r.content=function(){var e=this.player().error();return e?this.localize(e.message):""},t}(Gr);yo.prototype.options_=ce(Gr.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),ur.registerComponent("ErrorDisplay",yo);var mo=["#000","Black"],vo=["#00F","Blue"],bo=["#0FF","Cyan"],Ao=["#0F0","Green"],_o=["#F0F","Magenta"],Eo=["#F00","Red"],To=["#FFF","White"],So=["#FF0","Yellow"],Io=["1","Opaque"],wo=["0.5","Semi-Transparent"],Co=["0","Transparent"],Do={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[mo,To,Eo,Ao,vo,So,_o,bo]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[Io,wo,Co]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[To,mo,Eo,Ao,vo,So,_o,bo]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(e){return"1.00"===e?null:Number(e)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[Io,wo]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[Co,wo,Io]}};Do.windowColor.options=Do.backgroundColor.options;var Mo=function(t){function i(e,r){var n;return r.temporary=!1,n=t.call(this,e,r)||this,n.updateDisplay=qt(s(s(n)),n.updateDisplay),n.fill(),n.hasBeenOpened_=n.hasBeenFilled_=!0,n.endDialog=I("p",{className:"vjs-control-text",textContent:n.localize("End of dialog window.")}),n.el().appendChild(n.endDialog),n.setDefaults(),void 0===r.persistTextTrackSettings&&(n.options_.persistTextTrackSettings=n.options_.playerOptions.persistTextTrackSettings),n.on(n.$(".vjs-done-button"),"click",function(){n.saveSettings(),n.close()}),n.on(n.$(".vjs-default-button"),"click",function(){n.setDefaults(),n.updateDisplay()}),d(Do,function(e){n.on(n.$(e.selector),"change",n.updateDisplay)}),n.options_.persistTextTrackSettings&&n.restoreSettings(),n}n(i,t);var o=i.prototype;return o.dispose=function(){this.endDialog=null,t.prototype.dispose.call(this)},o.createElSelect_=function(e,t,r){var n=this;void 0===t&&(t=""),void 0===r&&(r="label");var i=Do[e],o=i.id.replace("%s",this.id_),a=[t,o].join(" ").trim();return["<"+r+' id="'+o+'" class="'+("label"===r?"vjs-label":"")+'">',this.localize(i.label),"</"+r+">",'<select aria-labelledby="'+a+'">'].concat(i.options.map(function(e){var t=o+"-"+e[1].replace(/\W+/g,"");return['<option id="'+t+'" value="'+e[0]+'" ','aria-labelledby="'+a+" "+t+'">',n.localize(e[1]),"</option>"].join("")})).concat("</select>").join("")},o.createElFgColor_=function(){var e="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Text"),"</legend>",this.createElSelect_("color",e),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",e),"</span>","</fieldset>"].join("")},o.createElBgColor_=function(){var e="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Background"),"</legend>",this.createElSelect_("backgroundColor",e),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",e),"</span>","</fieldset>"].join("")},o.createElWinColor_=function(){var e="captions-window-"+this.id_;return['<fieldset class="vjs-window-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Window"),"</legend>",this.createElSelect_("windowColor",e),'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",e),"</span>","</fieldset>"].join("")},o.createElColors_=function(){return I("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})},o.createElFont_=function(){return I("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})},o.createElControls_=function(){var e=this.localize("restore all settings to the default values");return I("div",{className:"vjs-track-settings-controls",innerHTML:['<button type="button" class="vjs-default-button" title="'+e+'">',this.localize("Reset"),'<span class="vjs-control-text"> '+e+"</span>","</button>",'<button type="button" class="vjs-done-button">'+this.localize("Done")+"</button>"].join("")})},o.content=function(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]},o.label=function(){return this.localize("Caption Settings Dialog")},o.description=function(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")},o.buildCSSClass=function(){return t.prototype.buildCSSClass.call(this)+" vjs-text-track-settings"},o.getValues=function(){var e=this;return f(Do,function(t,r,n){var i=pt(e.$(r.selector),r.parser);return void 0!==i&&(t[n]=i),t},{})},o.setValues=function(e){var t=this;d(Do,function(r,n){ht(t.$(r.selector),e[n],r.parser)})},o.setDefaults=function(){var e=this;d(Do,function(t){var r=t.hasOwnProperty("default")?t.default:0;e.$(t.selector).selectedIndex=r})},o.restoreSettings=function(){var e;try{e=JSON.parse(r.localStorage.getItem("vjs-text-track-settings"))}catch(e){Dt.warn(e)}e&&this.setValues(e)},o.saveSettings=function(){if(this.options_.persistTextTrackSettings){var e=this.getValues();try{Object.keys(e).length?r.localStorage.setItem("vjs-text-track-settings",JSON.stringify(e)):r.localStorage.removeItem("vjs-text-track-settings")}catch(e){Dt.warn(e)}}},o.updateDisplay=function(){var e=this.player_.getChild("textTrackDisplay");e&&e.updateDisplay()},o.conditionalBlur_=function(){this.previouslyActiveEl_=null,this.off(e,"keydown",this.handleKeyDown);var t=this.player_.controlBar,r=t&&t.subsCapsButton,n=t&&t.captionsButton;r?r.focus():n&&n.focus()},i}(Gr);ur.registerComponent("TextTrackSettings",Mo);var Oo=function(e){function t(t,n){var i,o=n.ResizeObserver||r.ResizeObserver;null===n.ResizeObserver&&(o=!1);var a=ce({createEl:!o,reportTouchActivity:!1},n);return i=e.call(this,t,a)||this,i.ResizeObserver=n.ResizeObserver||r.ResizeObserver,i.loadListener_=null,i.resizeObserver_=null,i.debouncedHandler_=zt(function(){i.resizeHandler()},100,!1,s(s(i))),o?(i.resizeObserver_=new i.ResizeObserver(i.debouncedHandler_),i.resizeObserver_.observe(t.el())):(i.loadListener_=function(){i.el_&&i.el_.contentWindow&&te(i.el_.contentWindow,"resize",i.debouncedHandler_)},i.one("load",i.loadListener_)),i}n(t,e);var i=t.prototype;return i.createEl=function(){return e.prototype.createEl.call(this,"iframe",{className:"vjs-resize-manager"})},i.resizeHandler=function(){this.player_&&this.player_.trigger&&this.player_.trigger("playerresize")},i.dispose=function(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.el_&&this.el_.contentWindow&&re(this.el_.contentWindow,"resize",this.debouncedHandler_),this.loadListener_&&this.off("load",this.loadListener_),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null},t}(ur);ur.registerComponent("ResizeManager",Oo);var Bo=function(e){function t(t,r){var n,i=ce({createEl:!1},r);return n=e.call(this,t,i)||this,n.reset_(),n.on(n.player_,"durationchange",n.handleDurationchange),n}n(t,e);var r=t.prototype;return r.isBehind_=function(){if(!this.timeupdateSeen_)return!1;var e=this.liveCurrentTime(),t=this.player_.currentTime(),r=this.seekableIncrement_,n=2*r+.07;return e!==1/0&&e-n>=t},r.trackLive_=function(){this.pastSeekEnd_=this.pastSeekEnd_;var e=this.player_.seekable();if(e&&e.length){var t=this.seekableEnd();t!==this.lastSeekEnd_&&(this.lastSeekEnd_&&(this.seekableIncrement_=Math.abs(t-this.lastSeekEnd_)),this.pastSeekEnd_=0,this.lastSeekEnd_=t,this.trigger("seekableendchange")),this.pastSeekEnd_=this.pastSeekEnd()+.03,this.isBehind_()!==this.behindLiveEdge()&&(this.behindLiveEdge_=this.isBehind_(),this.trigger("liveedgechange"))}},r.handleDurationchange=function(){this.player_.duration()===1/0?this.startTracking():this.stopTracking()},r.startTracking=function(){var e=this;this.isTracking()||(this.trackingInterval_=this.setInterval(this.trackLive_,30),this.trackLive_(),this.on(this.player_,"play",this.trackLive_),this.on(this.player_,"pause",this.trackLive_),this.player_.autoplay()||this.one(this.player_,"play",this.handlePlay),this.timeupdateSeen_||(this.handleTimeupdate=function(){e.timeupdateSeen_=!0,e.handleTimeupdate=null},this.one(this.player_,"timeupdate",this.handleTimeupdate)))},r.handlePlay=function(){this.one(this.player_,"timeupdate",this.seekToLiveEdge)},r.reset_=function(){this.pastSeekEnd_=0,this.lastSeekEnd_=null,this.behindLiveEdge_=null,this.timeupdateSeen_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.seekableIncrement_=2,this.off(this.player_,"play",this.trackLive_),this.off(this.player_,"pause",this.trackLive_),this.off(this.player_,"play",this.handlePlay),this.off(this.player_,"timeupdate",this.seekToLiveEdge),this.handleTimeupdate&&(this.off(this.player_,"timeupdate",this.handleTimeupdate),this.handleTimeupdate=null)},r.stopTracking=function(){this.isTracking()&&this.reset_()},r.seekableEnd=function(){for(var e=this.player_.seekable(),t=[],r=e?e.length:0;r--;)t.push(e.end(r));return t.length?t.sort()[t.length-1]:1/0},r.seekableStart=function(){for(var e=this.player_.seekable(),t=[],r=e?e.length:0;r--;)t.push(e.start(r));return t.length?t.sort()[0]:0},r.liveWindow=function(){var e=this.liveCurrentTime();return e===1/0?1/0:e-this.seekableStart()},r.isLive=function(){return this.isTracking()},r.atLiveEdge=function(){return!this.behindLiveEdge()},r.liveCurrentTime=function(){return this.pastSeekEnd()+this.seekableEnd()},r.pastSeekEnd=function(){return this.pastSeekEnd_},r.behindLiveEdge=function(){return this.behindLiveEdge_},r.isTracking=function(){return"number"==typeof this.trackingInterval_},r.seekToLiveEdge=function(){this.atLiveEdge()||(this.player_.currentTime(this.liveCurrentTime()),this.player_.paused()&&this.player_.play())},r.dispose=function(){this.stopTracking(),e.prototype.dispose.call(this)},t}(ur);ur.registerComponent("LiveTracker",Bo);var Ro=function(e){var t=e.el();if(t.hasAttribute("src"))return e.triggerSourceset(t.src),!0;var r=e.$$("source"),n=[],i="";if(!r.length)return!1;for(var o=0;o<r.length;o++){var a=r[o].src;a&&-1===n.indexOf(a)&&n.push(a)}return!!n.length&&(1===n.length&&(i=n[0]),e.triggerSourceset(i),!0)},Po=Object.defineProperty({},"innerHTML",{get:function(){return this.cloneNode(!0).innerHTML},set:function(t){var n=e.createElement(this.nodeName.toLowerCase());n.innerHTML=t;for(var i=e.createDocumentFragment();n.childNodes.length;)i.appendChild(n.childNodes[0]);return this.innerText="",r.Element.prototype.appendChild.call(this,i),this.innerHTML}}),ko=function(e,t){for(var r={},n=0;n<e.length&&!((r=Object.getOwnPropertyDescriptor(e[n],t))&&r.set&&r.get);n++);return r.enumerable=!0,r.configurable=!0,r},Lo=function(e){return ko([e.el(),r.HTMLMediaElement.prototype,r.Element.prototype,Po],"innerHTML")},No=function(e){var t=e.el();if(!t.resetSourceWatch_){var r={},n=Lo(e),i=function(r){return function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];var a=r.apply(t,i);return Ro(e),a}};["append","appendChild","insertAdjacentHTML"].forEach(function(e){t[e]&&(r[e]=t[e],t[e]=i(r[e]))}),Object.defineProperty(t,"innerHTML",ce(n,{set:i(n.set)})),t.resetSourceWatch_=function(){t.resetSourceWatch_=null,Object.keys(r).forEach(function(e){t[e]=r[e]}),Object.defineProperty(t,"innerHTML",n)},e.one("sourceset",t.resetSourceWatch_)}},xo=Object.defineProperty({},"src",{get:function(){return this.hasAttribute("src")?on(r.Element.prototype.getAttribute.call(this,"src")):""},set:function(e){return r.Element.prototype.setAttribute.call(this,"src",e),e}}),jo=function(e){return ko([e.el(),r.HTMLMediaElement.prototype,xo],"src")},Uo=function(e){if(e.featuresSourceset){var t=e.el();if(!t.resetSourceset_){var r=jo(e),n=t.setAttribute,i=t.load;Object.defineProperty(t,"src",ce(r,{set:function(n){var i=r.set.call(t,n);return e.triggerSourceset(t.src),i}})),t.setAttribute=function(r,i){var o=n.call(t,r,i);return/src/i.test(r)&&e.triggerSourceset(t.src),o},t.load=function(){var r=i.call(t);return Ro(e)||(e.triggerSourceset(""),No(e)),r},t.currentSrc?e.triggerSourceset(t.currentSrc):Ro(e)||No(e),t.resetSourceset_=function(){t.resetSourceset_=null,t.load=i,t.setAttribute=n,Object.defineProperty(t,"src",r),t.resetSourceWatch_&&t.resetSourceWatch_()}}}},Fo=function(t){function i(e,r){var n;n=t.call(this,e,r)||this;var i=e.source,o=!1;if(i&&(n.el_.currentSrc!==i.src||e.tag&&3===e.tag.initNetworkState_)?n.setSource(i):n.handleLateInit_(n.el_),e.enableSourceset&&n.setupSourcesetHandling_(),n.el_.hasChildNodes()){for(var a=n.el_.childNodes,s=a.length,u=[];s--;){var l=a[s];"track"===l.nodeName.toLowerCase()&&(n.featuresNativeTextTracks?(n.remoteTextTrackEls().addTrackElement_(l),n.remoteTextTracks().addTrack(l.track),n.textTracks().addTrack(l.track),o||n.el_.hasAttribute("crossorigin")||!sn(l.src)||(o=!0)):u.push(l))}for(var c=0;c<u.length;c++)n.el_.removeChild(u[c])}return n.proxyNativeTracks_(),n.featuresNativeTextTracks&&o&&Dt.warn(Ot(yt())),n.restoreMetadataTracksInIOSNativePlayer_(),(Dr||pr||Ar)&&!0===e.nativeControlsForTouch&&n.setControls(!0),n.proxyWebkitFullscreen_(),n.triggerReady(),n}n(i,t);var o=i.prototype;return o.dispose=function(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),i.disposeMediaElement(this.el_),this.options_=null,t.prototype.dispose.call(this)},o.setupSourcesetHandling_=function(){Uo(this)},o.restoreMetadataTracksInIOSNativePlayer_=function(){var e,t=this.textTracks(),r=function(){e=[];for(var r=0;r<t.length;r++){var n=t[r];"metadata"===n.kind&&e.push({track:n,storedMode:n.mode})}};r(),t.addEventListener("change",r),this.on("dispose",function(){return t.removeEventListener("change",r)});var n=function r(){for(var n=0;n<e.length;n++){var i=e[n];"disabled"===i.track.mode&&i.track.mode!==i.storedMode&&(i.track.mode=i.storedMode)}t.removeEventListener("change",r)};this.on("webkitbeginfullscreen",function(){t.removeEventListener("change",r),t.removeEventListener("change",n),t.addEventListener("change",n)}),this.on("webkitendfullscreen",function(){t.removeEventListener("change",r),t.addEventListener("change",r),t.removeEventListener("change",n)})},o.overrideNative_=function(e,t){var r=this;if(t===this["featuresNative"+e+"Tracks"]){var n=e.toLowerCase();this[n+"TracksListeners_"]&&Object.keys(this[n+"TracksListeners_"]).forEach(function(e){r.el()[n+"Tracks"].removeEventListener(e,r[n+"TracksListeners_"][e])}),this["featuresNative"+e+"Tracks"]=!t,this[n+"TracksListeners_"]=null,this.proxyNativeTracksForType_(n)}},o.overrideNativeAudioTracks=function(e){this.overrideNative_("Audio",e)},o.overrideNativeVideoTracks=function(e){this.overrideNative_("Video",e)},o.proxyNativeTracksForType_=function(e){var t=this,r=Un[e],n=this.el()[r.getterName],i=this[r.getterName]();if(this["featuresNative"+r.capitalName+"Tracks"]&&n&&n.addEventListener){var o={change:function(e){i.trigger({type:"change",target:i,currentTarget:i,srcElement:i})},addtrack:function(e){i.addTrack(e.track)},removetrack:function(e){i.removeTrack(e.track)}},a=function(){for(var e=[],t=0;t<i.length;t++){for(var r=!1,o=0;o<n.length;o++)if(n[o]===i[t]){r=!0;break}r||e.push(i[t])}for(;e.length;)i.removeTrack(e.shift())};this[r.getterName+"Listeners_"]=o,Object.keys(o).forEach(function(e){var r=o[e];n.addEventListener(e,r),t.on("dispose",function(t){return n.removeEventListener(e,r)})}),this.on("loadstart",a),this.on("dispose",function(e){return t.off("loadstart",a)})}},o.proxyNativeTracks_=function(){var e=this;Un.names.forEach(function(t){e.proxyNativeTracksForType_(t)})},o.createEl=function(){var t=this.options_.tag;if(!t||!this.options_.playerElIngest&&!this.movingMediaElementInDOM){if(t){var r=t.cloneNode(!0);t.parentNode&&t.parentNode.insertBefore(r,t),i.disposeMediaElement(t),t=r}else{t=e.createElement("video");var n=this.options_.tag&&P(this.options_.tag),o=ce({},n);Dr&&!0===this.options_.nativeControlsForTouch||delete o.controls,R(t,g(o,{id:this.options_.techId,class:"vjs-tech"}))}t.playerId=this.options_.playerId}void 0!==this.options_.preload&&L(t,"preload",this.options_.preload);for(var a=["loop","muted","playsinline","autoplay"],s=0;s<a.length;s++){var u=a[s],l=this.options_[u];void 0!==l&&(l?L(t,u,u):N(t,u),t[u]=l)}return t},o.handleLateInit_=function(e){if(0!==e.networkState&&3!==e.networkState){if(0===e.readyState){var t=!1,r=function(){t=!0};this.on("loadstart",r);var n=function(){t||this.trigger("loadstart")};return this.on("loadedmetadata",n),void this.ready(function(){this.off("loadstart",r),this.off("loadedmetadata",n),t||this.trigger("loadstart")})}var i=["loadstart"];i.push("loadedmetadata"),e.readyState>=2&&i.push("loadeddata"),e.readyState>=3&&i.push("canplay"),e.readyState>=4&&i.push("canplaythrough"),this.ready(function(){i.forEach(function(e){this.trigger(e)},this)})}},o.setCurrentTime=function(e){try{this.el_.currentTime=e}catch(e){Dt(e,"Video is not ready. (Video.js)")}},o.duration=function(){var e=this;if(this.el_.duration===1/0&&vr&&Tr&&0===this.el_.currentTime){var t=function t(){e.el_.currentTime>0&&(e.el_.duration===1/0&&e.trigger("durationchange"),e.off("timeupdate",t))};return this.on("timeupdate",t),NaN}return this.el_.duration||NaN},o.width=function(){return this.el_.offsetWidth},o.height=function(){return this.el_.offsetHeight},o.proxyWebkitFullscreen_=function(){var e=this;if("webkitDisplayingFullscreen"in this.el_){var t=function(){this.trigger("fullscreenchange",{isFullscreen:!1})},r=function(){"webkitPresentationMode"in this.el_&&"picture-in-picture"!==this.el_.webkitPresentationMode&&(this.one("webkitendfullscreen",t),this.trigger("fullscreenchange",{isFullscreen:!0}))};this.on("webkitbeginfullscreen",r),this.on("dispose",function(){e.off("webkitbeginfullscreen",r),e.off("webkitendfullscreen",t)})}},o.supportsFullScreen=function(){if("function"==typeof this.el_.webkitEnterFullScreen){var e=r.navigator&&r.navigator.userAgent||"";if(/Android/.test(e)||!/Chrome|Mac OS X 10.5/.test(e))return!0}return!1},o.enterFullScreen=function(){var e=this.el_;e.paused&&e.networkState<=e.HAVE_METADATA?(this.el_.play(),this.setTimeout(function(){e.pause(),e.webkitEnterFullScreen()},0)):e.webkitEnterFullScreen()},o.exitFullScreen=function(){this.el_.webkitExitFullScreen()},o.src=function(e){if(void 0===e)return this.el_.src;this.setSrc(e)},o.reset=function(){i.resetMediaElement(this.el_)},o.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},o.setControls=function(e){this.el_.controls=!!e},o.addTextTrack=function(e,r,n){return this.featuresNativeTextTracks?this.el_.addTextTrack(e,r,n):t.prototype.addTextTrack.call(this,e,r,n)},o.createRemoteTextTrack=function(r){if(!this.featuresNativeTextTracks)return t.prototype.createRemoteTextTrack.call(this,r);var n=e.createElement("track");return r.kind&&(n.kind=r.kind),r.label&&(n.label=r.label),(r.language||r.srclang)&&(n.srclang=r.language||r.srclang),r.default&&(n.default=r.default),r.id&&(n.id=r.id),r.src&&(n.src=r.src),n},o.addRemoteTextTrack=function(e,r){var n=t.prototype.addRemoteTextTrack.call(this,e,r);return this.featuresNativeTextTracks&&this.el().appendChild(n),n},o.removeRemoteTextTrack=function(e){if(t.prototype.removeRemoteTextTrack.call(this,e),this.featuresNativeTextTracks)for(var r=this.$$("track"),n=r.length;n--;)e!==r[n]&&e!==r[n].track||this.el().removeChild(r[n])},o.getVideoPlaybackQuality=function(){if("function"==typeof this.el().getVideoPlaybackQuality)return this.el().getVideoPlaybackQuality();var e={};return void 0!==this.el().webkitDroppedFrameCount&&void 0!==this.el().webkitDecodedFrameCount&&(e.droppedVideoFrames=this.el().webkitDroppedFrameCount,e.totalVideoFrames=this.el().webkitDecodedFrameCount),r.performance&&"function"==typeof r.performance.now?e.creationTime=r.performance.now():r.performance&&r.performance.timing&&"number"==typeof r.performance.timing.navigationStart&&(e.creationTime=r.Date.now()-r.performance.timing.navigationStart),e},i}(ri);if(_()){Fo.TEST_VID=e.createElement("video");var Qo=e.createElement("track");Qo.kind="captions",Qo.srclang="en",Qo.label="English",Fo.TEST_VID.appendChild(Qo)}Fo.isSupported=function(){try{Fo.TEST_VID.volume=.5}catch(e){return!1}return!(!Fo.TEST_VID||!Fo.TEST_VID.canPlayType)},Fo.canPlayType=function(e){return Fo.TEST_VID.canPlayType(e)},Fo.canPlaySource=function(e,t){return Fo.canPlayType(e.type)},Fo.canControlVolume=function(){try{var e=Fo.TEST_VID.volume;return Fo.TEST_VID.volume=e/2+.1,e!==Fo.TEST_VID.volume}catch(e){return!1}},Fo.canMuteVolume=function(){try{var e=Fo.TEST_VID.muted;return Fo.TEST_VID.muted=!e,Fo.TEST_VID.muted?L(Fo.TEST_VID,"muted","muted"):N(Fo.TEST_VID,"muted"),e!==Fo.TEST_VID.muted}catch(e){return!1}},Fo.canControlPlaybackRate=function(){if(vr&&Tr&&Sr<58)return!1;try{var e=Fo.TEST_VID.playbackRate;return Fo.TEST_VID.playbackRate=e/2+.1,e!==Fo.TEST_VID.playbackRate}catch(e){return!1}},Fo.canOverrideAttributes=function(){try{var t=function(){};Object.defineProperty(e.createElement("video"),"src",{get:t,set:t}),Object.defineProperty(e.createElement("audio"),"src",{get:t,set:t}),Object.defineProperty(e.createElement("video"),"innerHTML",{get:t,set:t}),Object.defineProperty(e.createElement("audio"),"innerHTML",{get:t,set:t})}catch(e){return!1}return!0},Fo.supportsNativeTextTracks=function(){return Cr||yr&&Tr},Fo.supportsNativeVideoTracks=function(){return!(!Fo.TEST_VID||!Fo.TEST_VID.videoTracks)},Fo.supportsNativeAudioTracks=function(){return!(!Fo.TEST_VID||!Fo.TEST_VID.audioTracks)},Fo.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"],Fo.prototype.featuresVolumeControl=Fo.canControlVolume(),Fo.prototype.featuresMuteControl=Fo.canMuteVolume(),Fo.prototype.featuresPlaybackRate=Fo.canControlPlaybackRate(),Fo.prototype.featuresSourceset=Fo.canOverrideAttributes(),Fo.prototype.movingMediaElementInDOM=!yr,Fo.prototype.featuresFullscreenResize=!0,Fo.prototype.featuresProgressEvents=!0,Fo.prototype.featuresTimeupdateEvents=!0,Fo.prototype.featuresNativeTextTracks=Fo.supportsNativeTextTracks(),Fo.prototype.featuresNativeVideoTracks=Fo.supportsNativeVideoTracks(),Fo.prototype.featuresNativeAudioTracks=Fo.supportsNativeAudioTracks();var Go=Fo.TEST_VID&&Fo.TEST_VID.constructor.prototype.canPlayType,Wo=/^application\/(?:x-|vnd\.apple\.)mpegurl/i;Fo.patchCanPlayType=function(){br>=4&&!_r&&!Tr&&(Fo.TEST_VID.constructor.prototype.canPlayType=function(e){return e&&Wo.test(e)?"maybe":Go.call(this,e)})},Fo.unpatchCanPlayType=function(){var e=Fo.TEST_VID.constructor.prototype.canPlayType;return Fo.TEST_VID.constructor.prototype.canPlayType=Go,e},Fo.patchCanPlayType(),Fo.disposeMediaElement=function(e){if(e){for(e.parentNode&&e.parentNode.removeChild(e);e.hasChildNodes();)e.removeChild(e.firstChild);e.removeAttribute("src"),"function"==typeof e.load&&function(){try{e.load()}catch(e){}}()}},Fo.resetMediaElement=function(e){if(e){for(var t=e.querySelectorAll("source"),r=t.length;r--;)e.removeChild(t[r]);e.removeAttribute("src"),"function"==typeof e.load&&function(){try{e.load()}catch(e){}}()}},["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(e){Fo.prototype[e]=function(){return this.el_[e]||this.el_.hasAttribute(e)}}),["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(e){Fo.prototype["set"+ue(e)]=function(t){this.el_[e]=t,t?this.el_.setAttribute(e,e):this.el_.removeAttribute(e)}}),["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","played","networkState","readyState","videoWidth","videoHeight"].forEach(function(e){Fo.prototype[e]=function(){return this.el_[e]}}),["volume","src","poster","preload","playbackRate","defaultPlaybackRate"].forEach(function(e){Fo.prototype["set"+ue(e)]=function(t){this.el_[e]=t}}),["pause","load","play"].forEach(function(e){Fo.prototype[e]=function(){return this.el_[e]()}}),ri.withSourceHandlers(Fo),Fo.nativeSourceHandler={},Fo.nativeSourceHandler.canPlayType=function(e){try{return Fo.TEST_VID.canPlayType(e)}catch(e){return""}},Fo.nativeSourceHandler.canHandleSource=function(e,t){if(e.type)return Fo.nativeSourceHandler.canPlayType(e.type);if(e.src){var r=an(e.src);return Fo.nativeSourceHandler.canPlayType("video/"+r)}return""},Fo.nativeSourceHandler.handleSource=function(e,t,r){t.setSrc(e.src)},Fo.nativeSourceHandler.dispose=function(){},Fo.registerSourceHandler(Fo.nativeSourceHandler),ri.registerTech("Html5",Fo);var Ho=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],Yo={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},Vo=["tiny","xsmall","small","medium","large","xlarge","huge"],qo={};Vo.forEach(function(e){var t="x"===e.charAt(0)?"x-"+e.substring(1):e;qo[e]="vjs-layout-"+t});var Ko={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0},zo=function(t){function i(e,r,n){var o;if(e.id=e.id||r.id||"vjs_video_"+K(),r=g(i.getTagSettings(e),r),r.initChildren=!1,r.createEl=!1,r.evented=!1,r.reportTouchActivity=!1,!r.language)if("function"==typeof e.closest){var a=e.closest("[lang]");a&&a.getAttribute&&(r.language=a.getAttribute("lang"))}else for(var u=e;u&&1===u.nodeType;){if(P(u).hasOwnProperty("lang")){r.language=u.getAttribute("lang");break}u=u.parentNode}if(o=t.call(this,null,r,n)||this,o.log=Mt(o.id_),o.isPosterFromTech_=!1,o.queuedCallbacks_=[],o.isReady_=!1,o.hasStarted_=!1,o.userActive_=!1,!o.options_||!o.options_.techOrder||!o.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(o.tag=e,o.tagAttributes=e&&P(e),o.language(o.options_.language),r.languages){var l={};Object.getOwnPropertyNames(r.languages).forEach(function(e){l[e.toLowerCase()]=r.languages[e]}),o.languages_=l}else o.languages_=i.prototype.options_.languages;o.cache_={},o.poster_=r.poster||"",o.controls_=!!r.controls,o.cache_.lastVolume=1,e.controls=!1,e.removeAttribute("controls"),e.hasAttribute("autoplay")?o.options_.autoplay=!0:o.autoplay(o.options_.autoplay),o.scrubbing_=!1,o.el_=o.createEl(),o.cache_.lastPlaybackRate=o.defaultPlaybackRate(),ae(s(s(o)),{eventBusKey:"el_"}),o.fluid_&&o.on("playerreset",o.updateStyleEl_);var c=ce(o.options_);if(r.plugins){var d=r.plugins;Object.keys(d).forEach(function(e){if("function"!=typeof this[e])throw new Error('plugin "'+e+'" does not exist');this[e](d[e])},s(s(o)))}o.options_.playerOptions=c,o.middleware_=[],o.initChildren(),o.isAudio("audio"===e.nodeName.toLowerCase()),o.controls()?o.addClass("vjs-controls-enabled"):o.addClass("vjs-controls-disabled"),o.el_.setAttribute("role","region"),o.isAudio()?o.el_.setAttribute("aria-label",o.localize("Audio Player")):o.el_.setAttribute("aria-label",o.localize("Video Player")),o.isAudio()&&o.addClass("vjs-audio"),o.flexNotSupported_()&&o.addClass("vjs-no-flex"),yr||o.addClass("vjs-workinghover"),i.players[o.id_]=s(s(o));var f=It.split(".")[0];return o.addClass("vjs-v"+f),o.userActive(!0),o.reportUserActivity(),o.one("play",o.listenForUserActivity_),o.on("fullscreenchange",o.handleFullscreenChange_),o.on("stageclick",o.handleStageClick_),o.breakpoints(o.options_.breakpoints),o.responsive(o.options_.responsive),o.changingSrc_=!1,o.playWaitingForReady_=!1,o.playOnLoadstart_=null,o}n(i,t);var o=i.prototype;return o.dispose=function(){this.trigger("dispose"),this.off("dispose"),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),i.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),it(this),t.prototype.dispose.call(this)},o.createEl=function(){var n,i=this.tag,o=this.playerElIngest_=i.parentNode&&i.parentNode.hasAttribute&&i.parentNode.hasAttribute("data-vjs-player"),a="video-js"===this.tag.tagName.toLowerCase();o?n=this.el_=i.parentNode:a||(n=this.el_=t.prototype.createEl.call(this,"div"));var s=P(i);if(a){for(n=this.el_=i,i=this.tag=e.createElement("video");n.children.length;)i.appendChild(n.firstChild);D(n,"video-js")||M(n,"video-js"),n.appendChild(i),o=this.playerElIngest_=n,Object.keys(n).forEach(function(e){i[e]=n[e]})}if(i.setAttribute("tabindex","-1"),s.tabindex="-1",Ir&&(i.setAttribute("role","application"),s.role="application"),i.removeAttribute("width"),i.removeAttribute("height"),"width"in s&&delete s.width,"height"in s&&delete s.height,Object.getOwnPropertyNames(s).forEach(function(e){a&&"class"===e||n.setAttribute(e,s[e]),a&&i.setAttribute(e,s[e])}),i.playerId=i.id,i.id+="_html5_api",i.className="vjs-tech",i.player=n.player=this,this.addClass("vjs-paused"),!0!==r.VIDEOJS_NO_DYNAMIC_STYLE){this.styleEl_=Yt("vjs-styles-dimensions");var u=Pt(".vjs-styles-defaults"),l=Pt("head");l.insertBefore(this.styleEl_,u?u.nextSibling:l.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio);for(var c=i.getElementsByTagName("a"),d=0;d<c.length;d++){var f=c.item(d);M(f,"vjs-hidden"),f.setAttribute("hidden","hidden")}return i.initNetworkState_=i.networkState,i.parentNode&&!o&&i.parentNode.insertBefore(n,i),C(i,n),this.children_.unshift(i),this.el_.setAttribute("lang",this.language_),this.el_=n,n},o.width=function(e){return this.dimension("width",e)},o.height=function(e){return this.dimension("height",e)},o.dimension=function(e,t){var r=e+"_";if(void 0===t)return this[r]||0;if(""===t)return this[r]=void 0,void this.updateStyleEl_();var n=parseFloat(t);if(isNaN(n))return void Dt.error('Improper value "'+t+'" supplied for for '+e);this[r]=n,this.updateStyleEl_()},o.fluid=function(e){if(void 0===e)return!!this.fluid_;this.fluid_=!!e,Zt(this)&&this.off("playerreset",this.updateStyleEl_),e?(this.addClass("vjs-fluid"),this.fill(!1),$t(function(){this.on("playerreset",this.updateStyleEl_)})):this.removeClass("vjs-fluid"),this.updateStyleEl_()},o.fill=function(e){if(void 0===e)return!!this.fill_;this.fill_=!!e,e?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")},o.aspectRatio=function(e){if(void 0===e)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(e))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=e,this.fluid(!0),this.updateStyleEl_()},o.updateStyleEl_=function(){if(!0===r.VIDEOJS_NO_DYNAMIC_STYLE){var e="number"==typeof this.width_?this.width_:this.options_.width,t="number"==typeof this.height_?this.height_:this.options_.height,n=this.tech_&&this.tech_.el();return void(n&&(e>=0&&(n.width=e),t>=0&&(n.height=t)))}var i,o,a,s;a=void 0!==this.aspectRatio_&&"auto"!==this.aspectRatio_?this.aspectRatio_:this.videoWidth()>0?this.videoWidth()+":"+this.videoHeight():"16:9";var u=a.split(":"),l=u[1]/u[0];i=void 0!==this.width_?this.width_:void 0!==this.height_?this.height_/l:this.videoWidth()||300,o=void 0!==this.height_?this.height_:i*l,s=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(s),Vt(this.styleEl_,"\n      ."+s+" {\n        width: "+i+"px;\n        height: "+o+"px;\n      }\n\n      ."+s+".vjs-fluid {\n        padding-top: "+100*l+"%;\n      }\n    ")},o.loadTech_=function(e,t){var r=this;this.tech_&&this.unloadTech_();var n=ue(e),i=e.charAt(0).toLowerCase()+e.slice(1);"Html5"!==n&&this.tag&&(ri.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=n,this.isReady_=!1;var o="string"!=typeof this.autoplay()&&this.autoplay(),a={source:t,autoplay:o,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+i+"_api",playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset};Qn.names.forEach(function(e){var t=Qn[e];a[t.getterName]=r[t.privateName]}),g(a,this.options_[n]),g(a,this.options_[i]),g(a,this.options_[e.toLowerCase()]),this.tag&&(a.tag=this.tag),t&&t.src===this.cache_.src&&this.cache_.currentTime>0&&(a.startTime=this.cache_.currentTime);var s=ri.getTech(e);if(!s)throw new Error("No Tech named '"+n+"' exists! '"+n+"' should be registered using videojs.registerTech()'");this.tech_=new s(a),this.tech_.ready(qt(this,this.handleTechReady_),!0),Fr.jsonToTextTracks(this.textTracksJson_||[],this.tech_),Ho.forEach(function(e){r.on(r.tech_,e,r["handleTech"+ue(e)+"_"])}),Object.keys(Yo).forEach(function(e){r.on(r.tech_,e,function(t){if(0===r.tech_.playbackRate()&&r.tech_.seeking())return void r.queuedCallbacks_.push({callback:r["handleTech"+Yo[e]+"_"].bind(r),event:t});r["handleTech"+Yo[e]+"_"](t)})}),this.on(this.tech_,"loadstart",this.handleTechLoadStart_),this.on(this.tech_,"sourceset",this.handleTechSourceset_),this.on(this.tech_,"waiting",this.handleTechWaiting_),this.on(this.tech_,"ended",this.handleTechEnded_),this.on(this.tech_,"seeking",this.handleTechSeeking_),this.on(this.tech_,"play",this.handleTechPlay_),this.on(this.tech_,"firstplay",this.handleTechFirstPlay_),this.on(this.tech_,"pause",this.handleTechPause_),this.on(this.tech_,"durationchange",this.handleTechDurationChange_),this.on(this.tech_,"fullscreenchange",this.handleTechFullscreenChange_),this.on(this.tech_,"error",this.handleTechError_),this.on(this.tech_,"loadedmetadata",this.updateStyleEl_),this.on(this.tech_,"posterchange",this.handleTechPosterChange_),this.on(this.tech_,"textdata",this.handleTechTextData_),this.on(this.tech_,"ratechange",this.handleTechRateChange_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode===this.el()||"Html5"===n&&this.tag||C(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},o.unloadTech_=function(){var e=this;Qn.names.forEach(function(t){var r=Qn[t];e[r.privateName]=e[r.getterName]()}),this.textTracksJson_=Fr.textTracksToJson(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1},o.tech=function(e){return void 0===e&&Dt.warn(Ot(mt())),this.tech_},o.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"mousedown",this.handleTechClick_),this.on(this.tech_,"dblclick",this.handleTechDoubleClick_),this.on(this.tech_,"touchstart",this.handleTechTouchStart_),this.on(this.tech_,"touchmove",this.handleTechTouchMove_),this.on(this.tech_,"touchend",this.handleTechTouchEnd_),this.on(this.tech_,"tap",this.handleTechTap_)},o.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.handleTechTap_),this.off(this.tech_,"touchstart",this.handleTechTouchStart_),this.off(this.tech_,"touchmove",this.handleTechTouchMove_),this.off(this.tech_,"touchend",this.handleTechTouchEnd_),this.off(this.tech_,"mousedown",this.handleTechClick_),this.off(this.tech_,"dblclick",this.handleTechDoubleClick_)},o.handleTechReady_=function(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()},o.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay")),this.manualAutoplay_(this.autoplay())},o.manualAutoplay_=function(e){var t=this;if(this.tech_&&"string"==typeof e){var r,n=function(){var e=t.muted();t.muted(!0);var r=t.play();if(r&&r.then&&r.catch)return r.catch(function(r){t.muted(e)})};if("any"===e?(r=this.play())&&r.then&&r.catch&&r.catch(function(){return n()}):r="muted"===e?n():this.play(),r&&r.then&&r.catch)return r.then(function(){t.trigger({type:"autoplay-success",autoplay:e})}).catch(function(r){t.trigger({type:"autoplay-failure",autoplay:e})})}},o.updateSourceCaches_=function(e){void 0===e&&(e="");var t=e,r="";"string"!=typeof t&&(t=e.src,r=e.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],t&&!r&&(r=di(this,t)),this.cache_.source=ce({},e,{src:t,type:r});for(var n=this.cache_.sources.filter(function(e){return e.src&&e.src===t}),i=[],o=this.$$("source"),a=[],s=0;s<o.length;s++){var u=P(o[s]);i.push(u),u.src&&u.src===t&&a.push(u.src)}a.length&&!n.length?this.cache_.sources=i:n.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=t},o.handleTechSourceset_=function(e){var t=this;if(!this.changingSrc_){var r=function(e){return t.updateSourceCaches_(e)},n=this.currentSource().src,i=e.src;if(n&&!/^blob:/.test(n)&&/^blob:/.test(i)&&(!this.lastSource_||this.lastSource_.tech!==i&&this.lastSource_.player!==n)&&(r=function(){}),r(i),!e.src){var o=function e(r){if("sourceset"!==r.type){var n=t.techGet("currentSrc");t.lastSource_.tech=n,t.updateSourceCaches_(n)}t.tech_.off(["sourceset","loadstart"],e)};this.tech_.one(["sourceset","loadstart"],o)}}this.lastSource_={player:this.currentSource().src,tech:e.src},this.trigger({src:e.src,type:"sourceset"})},o.hasStarted=function(e){if(void 0===e)return this.hasStarted_;e!==this.hasStarted_&&(this.hasStarted_=e,this.hasStarted_?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started"))},o.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},o.handleTechRateChange_=function(){this.tech_.playbackRate()>0&&0===this.cache_.lastPlaybackRate&&(this.queuedCallbacks_.forEach(function(e){return e.callback(e.event)}),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")},o.handleTechWaiting_=function(){var e=this;this.addClass("vjs-waiting"),this.trigger("waiting");var t=this.currentTime(),r=function r(){t!==e.currentTime()&&(e.removeClass("vjs-waiting"),e.off("timeupdate",r))};this.on("timeupdate",r)},o.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},o.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},o.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},o.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},o.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.trigger("seeked")},o.handleTechFirstPlay_=function(){this.options_.starttime&&(Dt.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},o.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},o.handleTechEnded_=function(){this.addClass("vjs-ended"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},o.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},o.handleTechClick_=function(e){q(e)&&this.controls_&&(this.paused()?be(this.play()):this.pause())},o.handleTechDoubleClick_=function(e){if(this.controls_){Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),function(t){return t.contains(e.target)})||(this.isFullscreen()?this.exitFullscreen():this.requestFullscreen())}},o.handleTechTap_=function(){this.userActive(!this.userActive())},o.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},o.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},o.handleTechTouchEnd_=function(e){e.preventDefault()},o.handleFullscreenChange_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},o.handleStageClick_=function(){this.reportUserActivity()},o.handleTechFullscreenChange_=function(e,t){t&&this.isFullscreen(t.isFullscreen),this.trigger("fullscreenchange")},o.handleTechError_=function(){var e=this.tech_.error();this.error(e)},o.handleTechTextData_=function(){var e=null;arguments.length>1&&(e=arguments[1]),this.trigger("textdata",e)},o.getCache=function(){return this.cache_},o.techCall_=function(e,t){this.ready(function(){if(e in si)return et(this.middleware_,this.tech_,e,t);if(e in ui)return tt(this.middleware_,this.tech_,e,t);try{this.tech_&&this.tech_[e](t)}catch(e){throw Dt(e),e}},!0)},o.techGet_=function(e){if(this.tech_&&this.tech_.isReady_){if(e in ai)return $e(this.middleware_,this.tech_,e);if(e in ui)return tt(this.middleware_,this.tech_,e);try{return this.tech_[e]()}catch(t){if(void 0===this.tech_[e])throw Dt("Video.js: "+e+" method not defined for "+this.techName_+" playback technology.",t),t;if("TypeError"===t.name)throw Dt("Video.js: "+e+" unavailable on "+this.techName_+" playback technology element.",t),this.tech_.isReady_=!1,t;throw Dt(t),t}}},o.play=function(){var e=this,t=this.options_.Promise||r.Promise;return t?new t(function(t){e.play_(t)}):this.play_()},o.play_=function(e){var t=this;if(void 0===e&&(e=be),this.playOnLoadstart_&&this.off("loadstart",this.playOnLoadstart_),this.isReady_){if(!this.changingSrc_&&(this.src()||this.currentSrc()))return void e(this.techGet_("play"));this.playOnLoadstart_=function(){t.playOnLoadstart_=null,e(t.play())},this.one("loadstart",this.playOnLoadstart_)}else{if(this.playWaitingForReady_)return;this.playWaitingForReady_=!0,this.ready(function(){t.playWaitingForReady_=!1,e(t.play())})}},o.pause=function(){this.techCall_("pause")},o.paused=function(){return!1!==this.techGet_("paused")},o.played=function(){return this.techGet_("played")||pe(0,0)},o.scrubbing=function(e){if(void 0===e)return this.scrubbing_;this.scrubbing_=!!e,e?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")},o.currentTime=function(e){return void 0!==e?(e<0&&(e=0),void this.techCall_("setCurrentTime",e)):(this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime)},o.duration=function(e){if(void 0===e)return void 0!==this.cache_.duration?this.cache_.duration:NaN;e=parseFloat(e),e<0&&(e=1/0),e!==this.cache_.duration&&(this.cache_.duration=e,e===1/0?(this.addClass("vjs-live"),this.options_.liveui&&this.player_.liveTracker&&this.addClass("vjs-liveui")):(this.removeClass("vjs-live"),this.removeClass("vjs-liveui")),isNaN(e)||this.trigger("durationchange"))},o.remainingTime=function(){return this.duration()-this.currentTime()},o.remainingTimeDisplay=function(){return Math.floor(this.duration())-Math.floor(this.currentTime())},o.buffered=function(){var e=this.techGet_("buffered");return e&&e.length||(e=pe(0,0)),e},o.bufferedPercent=function(){return he(this.buffered(),this.duration())},o.bufferedEnd=function(){var e=this.buffered(),t=this.duration(),r=e.end(e.length-1);return r>t&&(r=t),r},o.volume=function(e){var t;return void 0!==e?(t=Math.max(0,Math.min(1,parseFloat(e))),this.cache_.volume=t,this.techCall_("setVolume",t),void(t>0&&this.lastVolume_(t))):(t=parseFloat(this.techGet_("volume")),isNaN(t)?1:t)},o.muted=function(e){return void 0!==e?void this.techCall_("setMuted",e):this.techGet_("muted")||!1},o.defaultMuted=function(e){return void 0!==e?this.techCall_("setDefaultMuted",e):this.techGet_("defaultMuted")||!1},o.lastVolume_=function(e){return void 0!==e&&0!==e?void(this.cache_.lastVolume=e):this.cache_.lastVolume},o.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},o.isFullscreen=function(e){return void 0!==e?void(this.isFullscreen_=!!e):!!this.isFullscreen_},o.requestFullscreen=function(){var t=Or;this.isFullscreen(!0),t.requestFullscreen?(te(e,t.fullscreenchange,qt(this,function r(n){this.isFullscreen(e[t.fullscreenElement]),!1===this.isFullscreen()&&re(e,t.fullscreenchange,r),this.trigger("fullscreenchange")})),this.el_[t.requestFullscreen]()):this.tech_.supportsFullScreen()?this.techCall_("enterFullScreen"):(this.enterFullWindow(),this.trigger("fullscreenchange"))},o.exitFullscreen=function(){var t=Or;this.isFullscreen(!1),t.requestFullscreen?e[t.exitFullscreen]():this.tech_.supportsFullScreen()?this.techCall_("exitFullScreen"):(this.exitFullWindow(),this.trigger("fullscreenchange"))},o.enterFullWindow=function(){this.isFullWindow=!0,this.docOrigOverflow=e.documentElement.style.overflow,te(e,"keydown",qt(this,this.fullWindowOnEscKey)),e.documentElement.style.overflow="hidden",M(e.body,"vjs-full-window"),this.trigger("enterFullWindow")},o.fullWindowOnEscKey=function(e){27===e.keyCode&&(!0===this.isFullscreen()?this.exitFullscreen():this.exitFullWindow())},o.exitFullWindow=function(){this.isFullWindow=!1,re(e,"keydown",this.fullWindowOnEscKey),e.documentElement.style.overflow=this.docOrigOverflow,O(e.body,"vjs-full-window"),this.trigger("exitFullWindow")},o.canPlayType=function(e){for(var t,r=0,n=this.options_.techOrder;r<n.length;r++){var i=n[r],o=ri.getTech(i);if(o||(o=ur.getComponent(i)),o){if(o.isSupported()&&(t=o.canPlayType(e)))return t}else Dt.error('The "'+i+'" tech is undefined. Skipped browser support check for that tech.')}return""},o.selectSource=function(e){var t=this,r=this.options_.techOrder.map(function(e){return[e,ri.getTech(e)]}).filter(function(e){var t=e[0],r=e[1];return r?r.isSupported():(Dt.error('The "'+t+'" tech is undefined. Skipped browser support check for that tech.'),!1)}),n=function(e,t,r){var n;return e.some(function(e){return t.some(function(t){if(n=r(e,t))return!0})}),n},i=function(e,r){var n=e[0];if(e[1].canPlaySource(r,t.options_[n.toLowerCase()]))return{source:r,tech:n}};return(this.options_.sourceOrder?n(e,r,function(e){return function(t,r){return e(r,t)}}(i)):n(r,e,i))||!1},o.src=function(e){var t=this;if(void 0===e)return this.cache_.src||"";var r=fi(e);if(!r.length)return void this.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0);this.changingSrc_=!0,this.cache_.sources=r,this.updateSourceCaches_(r[0]),Je(this,r[0],function(e,n){if(t.middleware_=n,t.cache_.sources=r,t.updateSourceCaches_(e),t.src_(e))return r.length>1?t.src(r.slice(1)):(t.changingSrc_=!1,t.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0),void t.triggerReady());Ze(n,t.tech_)})},o.src_=function(e){var t=this,r=this.selectSource([e]);return!r||(le(r.tech,this.techName_)?(this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",e):this.techCall_("src",e.src),this.changingSrc_=!1},!0),!1):(this.changingSrc_=!0,this.loadTech_(r.tech,r.source),this.tech_.ready(function(){t.changingSrc_=!1}),!1))},o.load=function(){this.techCall_("load")},o.reset=function(){this.tech_&&this.tech_.clearTracks("text"),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),Zt(this)&&this.trigger("playerreset")},o.currentSources=function(){var e=this.currentSource(),t=[];return 0!==Object.keys(e).length&&t.push(e),this.cache_.sources||t},o.currentSource=function(){return this.cache_.source||{}},o.currentSrc=function(){return this.currentSource()&&this.currentSource().src||""},o.currentType=function(){return this.currentSource()&&this.currentSource().type||""},o.preload=function(e){return void 0!==e?(this.techCall_("setPreload",e),void(this.options_.preload=e)):this.techGet_("preload")},o.autoplay=function(e){if(void 0===e)return this.options_.autoplay||!1;var t;"string"==typeof e&&/(any|play|muted)/.test(e)?(this.options_.autoplay=e,this.manualAutoplay_(e),t=!1):this.options_.autoplay=!!e,t=t||this.options_.autoplay,this.tech_&&this.techCall_("setAutoplay",t)},o.playsinline=function(e){return void 0!==e?(this.techCall_("setPlaysinline",e),this.options_.playsinline=e,this):this.techGet_("playsinline")},o.loop=function(e){return void 0!==e?(this.techCall_("setLoop",e),void(this.options_.loop=e)):this.techGet_("loop")},o.poster=function(e){if(void 0===e)return this.poster_;e||(e=""),e!==this.poster_&&(this.poster_=e,this.techCall_("setPoster",e),this.isPosterFromTech_=!1,this.trigger("posterchange"))},o.handleTechPosterChange_=function(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){var e=this.tech_.poster()||"";e!==this.poster_&&(this.poster_=e,this.isPosterFromTech_=!0,this.trigger("posterchange"))}},o.controls=function(e){if(void 0===e)return!!this.controls_;e=!!e,this.controls_!==e&&(this.controls_=e,this.usingNativeControls()&&this.techCall_("setControls",e),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))},o.usingNativeControls=function(e){if(void 0===e)return!!this.usingNativeControls_;e=!!e,this.usingNativeControls_!==e&&(this.usingNativeControls_=e,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))},o.error=function(e){return void 0===e?this.error_||null:null===e?(this.error_=e,this.removeClass("vjs-error"),void(this.errorDisplay&&this.errorDisplay.close())):(this.error_=new ye(e),this.addClass("vjs-error"),Dt.error("(CODE:"+this.error_.code+" "+ye.errorTypes[this.error_.code]+")",this.error_.message,this.error_),void this.trigger("error"))},o.reportUserActivity=function(e){this.userActivity_=!0},o.userActive=function(e){if(void 0===e)return this.userActive_;if((e=!!e)!==this.userActive_){if(this.userActive_=e,this.userActive_)return this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),void this.trigger("useractive");this.tech_&&this.tech_.one("mousemove",function(e){e.stopPropagation(),e.preventDefault()}),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}},o.listenForUserActivity_=function(){var e,t,r,n=qt(this,this.reportUserActivity),i=function(e){e.screenX===t&&e.screenY===r||(t=e.screenX,r=e.screenY,n())},o=function(){n(),this.clearInterval(e),e=this.setInterval(n,250)},a=function(t){n(),this.clearInterval(e)};this.on("mousedown",o),this.on("mousemove",i),this.on("mouseup",a),this.on("keydown",n),this.on("keyup",n);var s;this.setInterval(function(){if(this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(s);var e=this.options_.inactivityTimeout;e<=0||(s=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},e))}},250)},o.playbackRate=function(e){return void 0!==e?void this.techCall_("setPlaybackRate",e):this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1},o.defaultPlaybackRate=function(e){return void 0!==e?this.techCall_("setDefaultPlaybackRate",e):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1},o.isAudio=function(e){return void 0!==e?void(this.isAudio_=!!e):!!this.isAudio_},o.addTextTrack=function(e,t,r){if(this.tech_)return this.tech_.addTextTrack(e,t,r)},o.addRemoteTextTrack=function(e,t){if(this.tech_)return this.tech_.addRemoteTextTrack(e,t)},o.removeRemoteTextTrack=function(e){void 0===e&&(e={});var t=e,r=t.track;if(r||(r=e),this.tech_)return this.tech_.removeRemoteTextTrack(r)},o.getVideoPlaybackQuality=function(){return this.techGet_("getVideoPlaybackQuality")},o.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},o.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},o.language=function(e){if(void 0===e)return this.language_;this.language_=String(e).toLowerCase()},o.languages=function(){return ce(i.prototype.options_.languages,this.languages_)},o.toJSON=function(){var e=ce(this.options_),t=e.tracks;e.tracks=[];for(var r=0;r<t.length;r++){var n=t[r];n=ce(n),n.player=void 0,e.tracks[r]=n}return e},o.createModal=function(e,t){var r=this;t=t||{},t.content=e||"";var n=new Gr(this,t);return this.addChild(n),n.on("dispose",function(){r.removeChild(n)}),n.open(),n},o.updateCurrentBreakpoint_=function(){if(this.responsive())for(var e=this.currentBreakpoint(),t=this.currentWidth(),r=0;r<Vo.length;r++){var n=Vo[r],i=this.breakpoints_[n];if(t<=i){if(e===n)return;e&&this.removeClass(qo[e]),this.addClass(qo[n]),this.breakpoint_=n;break}}},o.removeCurrentBreakpoint_=function(){var e=this.currentBreakpointClass();this.breakpoint_="",e&&this.removeClass(e)},o.breakpoints=function(e){return void 0===e?g(this.breakpoints_):(this.breakpoint_="",this.breakpoints_=g({},Ko,e),this.updateCurrentBreakpoint_(),g(this.breakpoints_))},o.responsive=function(e){return void 0===e?this.responsive_:(e=Boolean(e),e!==this.responsive_?(this.responsive_=e,e?(this.on("playerresize",this.updateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.updateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),e):void 0)},o.currentBreakpoint=function(){return this.breakpoint_},o.currentBreakpointClass=function(){return qo[this.breakpoint_]||""},i.getTagSettings=function(e){var t={sources:[],tracks:[]},r=P(e),n=r["data-setup"];if(D(e,"vjs-fill")&&(r.fill=!0),D(e,"vjs-fluid")&&(r.fluid=!0),null!==n){var i=Nr(n||"{}"),o=i[0],a=i[1];o&&Dt.error(o),g(r,a)}if(g(t,r),e.hasChildNodes())for(var s=e.childNodes,u=0,l=s.length;u<l;u++){var c=s[u],d=c.nodeName.toLowerCase();"source"===d?t.sources.push(P(c)):"track"===d&&t.tracks.push(P(c))}return t},o.flexNotSupported_=function(){var t=e.createElement("i");return!("flexBasis"in t.style||"webkitFlexBasis"in t.style||"mozFlexBasis"in t.style||"msFlexBasis"in t.style||"msFlexOrder"in t.style)},i}(ur);Qn.names.forEach(function(e){var t=Qn[e];zo.prototype[t.getterName]=function(){return this.tech_?this.tech_[t.getterName]():(this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName])}}),zo.players={};var Xo=r.navigator;zo.prototype.options_={techOrder:ri.defaultTechOrder_,html5:{},flash:{},inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:Xo&&(Xo.languages&&Xo.languages[0]||Xo.userLanguage||Xo.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",breakpoints:{},responsive:!1},["ended","seeking","seekable","networkState","readyState"].forEach(function(e){zo.prototype[e]=function(){return this.techGet_(e)}}),Ho.forEach(function(e){zo.prototype["handleTech"+ue(e)+"_"]=function(){return this.trigger(e)}}),ur.registerComponent("Player",zo);var Jo={},Zo=function(e){return Jo.hasOwnProperty(e)},$o=function(e){return Zo(e)?Jo[e]:void 0},ea=function(e,t){e.activePlugins_=e.activePlugins_||{},e.activePlugins_[t]=!0},ta=function(e,t,r){var n=(r?"before":"")+"pluginsetup";e.trigger(n,t),e.trigger(n+":"+t.name,t)},ra=function(e,t){var r=function(){ta(this,{name:e,plugin:t,instance:null},!0);var r=t.apply(this,arguments);return ea(this,e),ta(this,{name:e,plugin:t,instance:r}),r};return Object.keys(t).forEach(function(e){r[e]=t[e]}),r},na=function(e,t){return t.prototype.name=e,function(){ta(this,{name:e,plugin:t,instance:null},!0);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var o=a(t,[this].concat(n));return this[e]=function(){return o},ta(this,o.getEventHash()),o}},ia=function(){function e(t){if(this.constructor===e)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=t,ae(this),delete this.trigger,se(this,this.constructor.defaultState),ea(t,this.name),this.dispose=qt(this,this.dispose),t.on("dispose",this.dispose)}var t=e.prototype;return t.version=function(){return this.constructor.VERSION},t.getEventHash=function(e){return void 0===e&&(e={}),e.name=this.name,e.plugin=this.constructor,e.instance=this,e},t.trigger=function(e,t){return void 0===t&&(t={}),ne(this.eventBusEl_,e,this.getEventHash(t))},t.handleStateChanged=function(e){},t.dispose=function(){var e=this.name,t=this.player;this.trigger("dispose"),this.off(),t.off("dispose",this.dispose),t.activePlugins_[e]=!1,this.player=this.state=null,t[e]=na(e,Jo[e])},e.isBasic=function(t){var r="string"==typeof t?$o(t):t;return"function"==typeof r&&!e.prototype.isPrototypeOf(r.prototype)},e.registerPlugin=function(t,r){if("string"!=typeof t)throw new Error('Illegal plugin name, "'+t+'", must be a string, was '+typeof t+".");if(Zo(t))Dt.warn('A plugin named "'+t+'" already exists. You may want to avoid re-registering plugins!');else if(zo.prototype.hasOwnProperty(t))throw new Error('Illegal plugin name, "'+t+'", cannot share a name with an existing player method!');if("function"!=typeof r)throw new Error('Illegal plugin for "'+t+'", must be a function, was '+typeof r+".");return Jo[t]=r,"plugin"!==t&&(e.isBasic(r)?zo.prototype[t]=ra(t,r):zo.prototype[t]=na(t,r)),r},e.deregisterPlugin=function(e){if("plugin"===e)throw new Error("Cannot de-register base plugin.");Zo(e)&&(delete Jo[e],delete zo.prototype[e])},e.getPlugins=function(e){void 0===e&&(e=Object.keys(Jo));var t;return e.forEach(function(e){var r=$o(e);r&&(t=t||{},t[e]=r)}),t},e.getPluginVersion=function(e){var t=$o(e);return t&&t.VERSION||""},e}();ia.getPlugin=$o,ia.BASE_PLUGIN_NAME="plugin",ia.registerPlugin("plugin",ia),zo.prototype.usingPlugin=function(e){return!!this.activePlugins_&&!0===this.activePlugins_[e]},zo.prototype.hasPlugin=function(e){return!!Zo(e)};var oa=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.super_=t)},aa=function(e,t){void 0===t&&(t={});var r=function(){e.apply(this,arguments)},n={};"object"==typeof t?(t.constructor!==Object.prototype.constructor&&(r=t.constructor),n=t):"function"==typeof t&&(r=t),oa(r,e);for(var i in n)n.hasOwnProperty(i)&&(r.prototype[i]=n[i]);return r},sa=function(e){return 0===e.indexOf("#")?e.slice(1):e};if(vt.hooks_={},vt.hooks=function(e,t){return vt.hooks_[e]=vt.hooks_[e]||[],t&&(vt.hooks_[e]=vt.hooks_[e].concat(t)),vt.hooks_[e]},vt.hook=function(e,t){vt.hooks(e,t)},vt.hookOnce=function(e,t){vt.hooks(e,[].concat(t).map(function(t){return function r(){return vt.removeHook(e,r),t.apply(void 0,arguments)}}))},vt.removeHook=function(e,t){var r=vt.hooks(e).indexOf(t);return!(r<=-1)&&(vt.hooks_[e]=vt.hooks_[e].slice(),vt.hooks_[e].splice(r,1),!0)},!0!==r.VIDEOJS_NO_DYNAMIC_STYLE&&_()){var ua=Pt(".vjs-styles-defaults");if(!ua){ua=Yt("vjs-styles-defaults");var la=Pt("head");la&&la.insertBefore(ua,la.firstChild),Vt(ua,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    ")}}oe(1,vt),vt.VERSION=It,vt.options=zo.prototype.options_,vt.getPlayers=function(){return zo.players},vt.getPlayer=function(e){var t,r=zo.players;if("string"==typeof e){var n=sa(e),i=r[n];if(i)return i;t=Pt("#"+n)}else t=e;if(E(t)){var o=t,a=o.player,s=o.playerId;if(a||r[s])return a||r[s]}},vt.getAllPlayers=function(){return Object.keys(zo.players).map(function(e){return zo.players[e]}).filter(Boolean)},vt.players=zo.players,vt.getComponent=ur.getComponent,vt.registerComponent=function(e,t){ri.isTech(t)&&Dt.warn("The "+e+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),ur.registerComponent.call(ur,e,t)},vt.getTech=ri.getTech,vt.registerTech=ri.registerTech,vt.use=Xe,Object.defineProperty(vt,"middleware",{value:{},writeable:!1,enumerable:!0}),Object.defineProperty(vt.middleware,"TERMINATOR",{value:oi,writeable:!1,enumerable:!0}),vt.browser=Mr,vt.TOUCH_ENABLED=Dr,vt.extend=aa,vt.mergeOptions=ce,vt.bind=qt,vt.registerPlugin=ia.registerPlugin,vt.deregisterPlugin=ia.deregisterPlugin,vt.plugin=function(e,t){return Dt.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),ia.registerPlugin(e,t)},vt.getPlugins=ia.getPlugins,vt.getPlugin=ia.getPlugin,vt.getPluginVersion=ia.getPluginVersion,vt.addLanguage=function(e,t){var r;return e=(""+e).toLowerCase(),vt.options.languages=ce(vt.options.languages,(r={},r[e]=t,r)),vt.options.languages[e]},vt.log=Dt,vt.createLogger=Mt,vt.createTimeRange=vt.createTimeRanges=pe,vt.formatTime=ft,vt.setFormatTime=ct,vt.resetFormatTime=dt,vt.parseUrl=nn,vt.isCrossOrigin=sn,vt.EventTarget=Xt,vt.on=te,vt.one=ie,vt.off=re,vt.trigger=ne,vt.xhr=On,vt.TextTrack=Pn,vt.AudioTrack=kn,vt.VideoTrack=Ln,["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(function(e){vt[e]=function(){return Dt.warn("videojs."+e+"() is deprecated; use videojs.dom."+e+"() instead"),Lt[e].apply(null,arguments)}}),vt.computedStyle=y,vt.dom=Lt,vt.url=un;var ca,da,fa,ga,pa,ha=_e(function(e,t){!function(t){var r=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/\?#]*\/)*.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,n=/^([^\/?#]*)(.*)$/,i=/(?:\/|^)\.(?=\/)/g,o=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,a={buildAbsoluteURL:function(e,t,r){if(r=r||{},e=e.trim(),!(t=t.trim())){if(!r.alwaysNormalize)return e;var i=a.parseURL(e);if(!i)throw new Error("Error trying to parse base URL.");return i.path=a.normalizePath(i.path),a.buildURLFromParts(i)}var o=a.parseURL(t);if(!o)throw new Error("Error trying to parse relative URL.");if(o.scheme)return r.alwaysNormalize?(o.path=a.normalizePath(o.path),a.buildURLFromParts(o)):t;var s=a.parseURL(e);if(!s)throw new Error("Error trying to parse base URL.");if(!s.netLoc&&s.path&&"/"!==s.path[0]){var u=n.exec(s.path);s.netLoc=u[1],s.path=u[2]}s.netLoc&&!s.path&&(s.path="/");var l={scheme:s.scheme,netLoc:o.netLoc,path:null,params:o.params,query:o.query,fragment:o.fragment};if(!o.netLoc&&(l.netLoc=s.netLoc,"/"!==o.path[0]))if(o.path){var c=s.path,d=c.substring(0,c.lastIndexOf("/")+1)+o.path;l.path=a.normalizePath(d)}else l.path=s.path,o.params||(l.params=s.params,o.query||(l.query=s.query));return null===l.path&&(l.path=r.alwaysNormalize?a.normalizePath(o.path):o.path),a.buildURLFromParts(l)},parseURL:function(e){var t=r.exec(e);return t?{scheme:t[1]||"",netLoc:t[2]||"",path:t[3]||"",params:t[4]||"",query:t[5]||"",fragment:t[6]||""}:null},normalizePath:function(e){for(e=e.split("").reverse().join("").replace(i,"");e.length!==(e=e.replace(o,"")).length;);return e.split("").reverse().join("")},buildURLFromParts:function(e){return e.scheme+e.netLoc+e.path+e.params+e.query+e.fragment}};e.exports=a}()}),ya=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},ma=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},va=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},ba=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},Aa=function(){function e(){ya(this,e),this.listeners={}}return e.prototype.on=function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)},e.prototype.off=function(e,t){if(!this.listeners[e])return!1;var r=this.listeners[e].indexOf(t);return this.listeners[e].splice(r,1),r>-1},e.prototype.trigger=function(e){var t=this.listeners[e],r=void 0,n=void 0,i=void 0;if(t)if(2===arguments.length)for(n=t.length,r=0;r<n;++r)t[r].call(this,arguments[1]);else for(i=Array.prototype.slice.call(arguments,1),n=t.length,r=0;r<n;++r)t[r].apply(this,i)},e.prototype.dispose=function(){this.listeners={}},e.prototype.pipe=function(e){this.on("data",function(t){e.push(t)})},e}(),_a=function(e){function t(){ya(this,t);var r=ba(this,e.call(this));return r.buffer="",r}return va(t,e),t.prototype.push=function(e){var t=void 0;for(this.buffer+=e,t=this.buffer.indexOf("\n");t>-1;t=this.buffer.indexOf("\n"))this.trigger("data",this.buffer.substring(0,t)),this.buffer=this.buffer.substring(t+1)},t}(Aa),Ea=function(){return new RegExp('(?:^|,)((?:[^=]*)=(?:"[^"]*"|[^,]*))')},Ta=function(e){for(var t=e.split(Ea()),r={},n=t.length,i=void 0;n--;)""!==t[n]&&(i=/([^=]*)=(.*)/.exec(t[n]).slice(1),i[0]=i[0].replace(/^\s+|\s+$/g,""),i[1]=i[1].replace(/^\s+|\s+$/g,""),i[1]=i[1].replace(/^['"](.*)['"]$/g,"$1"),r[i[0]]=i[1]);return r},Sa=function(e){function t(){ya(this,t);var r=ba(this,e.call(this));return r.customParsers=[],r}return va(t,e),t.prototype.push=function(e){var t=void 0,r=void 0;if(e=e.replace(/^[\u0000\s]+|[\u0000\s]+$/g,""),0!==e.length){if("#"!==e[0])return void this.trigger("data",{type:"uri",uri:e});for(var n=0;n<this.customParsers.length;n++)if(this.customParsers[n].call(this,e))return;if(0!==e.indexOf("#EXT"))return void this.trigger("data",{type:"comment",text:e.slice(1)});if(e=e.replace("\r",""),t=/^#EXTM3U/.exec(e))return void this.trigger("data",{type:"tag",tagType:"m3u"});if(t=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(e))return r={type:"tag",tagType:"inf"},t[1]&&(r.duration=parseFloat(t[1])),t[2]&&(r.title=t[2]),void this.trigger("data",r);if(t=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(e))return r={type:"tag",tagType:"targetduration"},t[1]&&(r.duration=parseInt(t[1],10)),void this.trigger("data",r);if(t=/^#ZEN-TOTAL-DURATION:?([0-9.]*)?/.exec(e))return r={type:"tag",tagType:"totalduration"},t[1]&&(r.duration=parseInt(t[1],10)),void this.trigger("data",r);if(t=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(e))return r={type:"tag",tagType:"version"},t[1]&&(r.version=parseInt(t[1],10)),void this.trigger("data",r);if(t=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(e))return r={type:"tag",tagType:"media-sequence"},t[1]&&(r.number=parseInt(t[1],10)),void this.trigger("data",r);if(t=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(e))return r={type:"tag",tagType:"discontinuity-sequence"},t[1]&&(r.number=parseInt(t[1],10)),void this.trigger("data",r);if(t=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(e))return r={type:"tag",tagType:"playlist-type"},t[1]&&(r.playlistType=t[1]),void this.trigger("data",r);if(t=/^#EXT-X-BYTERANGE:?([0-9.]*)?@?([0-9.]*)?/.exec(e))return r={type:"tag",tagType:"byterange"},t[1]&&(r.length=parseInt(t[1],10)),t[2]&&(r.offset=parseInt(t[2],10)),void this.trigger("data",r);if(t=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(e))return r={type:"tag",tagType:"allow-cache"},t[1]&&(r.allowed=!/NO/.test(t[1])),void this.trigger("data",r);if(t=/^#EXT-X-MAP:?(.*)$/.exec(e)){if(r={type:"tag",tagType:"map"},t[1]){var i=Ta(t[1]);if(i.URI&&(r.uri=i.URI),i.BYTERANGE){var o=i.BYTERANGE.split("@"),a=o[0],s=o[1];r.byterange={},a&&(r.byterange.length=parseInt(a,10)),s&&(r.byterange.offset=parseInt(s,10))}}return void this.trigger("data",r)}if(t=/^#EXT-X-STREAM-INF:?(.*)$/.exec(e)){if(r={type:"tag",tagType:"stream-inf"},t[1]){if(r.attributes=Ta(t[1]),r.attributes.RESOLUTION){var u=r.attributes.RESOLUTION.split("x"),l={};u[0]&&(l.width=parseInt(u[0],10)),u[1]&&(l.height=parseInt(u[1],10)),r.attributes.RESOLUTION=l}r.attributes.BANDWIDTH&&(r.attributes.BANDWIDTH=parseInt(r.attributes.BANDWIDTH,10)),r.attributes["PROGRAM-ID"]&&(r.attributes["PROGRAM-ID"]=parseInt(r.attributes["PROGRAM-ID"],10))}return void this.trigger("data",r)}if(t=/^#EXT-X-MEDIA:?(.*)$/.exec(e))return r={type:"tag",tagType:"media"},t[1]&&(r.attributes=Ta(t[1])),void this.trigger("data",r);if(t=/^#EXT-X-ENDLIST/.exec(e))return void this.trigger("data",{type:"tag",tagType:"endlist"});if(t=/^#EXT-X-DISCONTINUITY/.exec(e))return void this.trigger("data",{type:"tag",tagType:"discontinuity"});if(t=/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(e))return r={type:"tag",tagType:"program-date-time"},t[1]&&(r.dateTimeString=t[1],r.dateTimeObject=new Date(t[1])),void this.trigger("data",r);if(t=/^#EXT-X-KEY:?(.*)$/.exec(e))return r={type:"tag",tagType:"key"},t[1]&&(r.attributes=Ta(t[1]),r.attributes.IV&&("0x"===r.attributes.IV.substring(0,2).toLowerCase()&&(r.attributes.IV=r.attributes.IV.substring(2)),r.attributes.IV=r.attributes.IV.match(/.{8}/g),r.attributes.IV[0]=parseInt(r.attributes.IV[0],16),r.attributes.IV[1]=parseInt(r.attributes.IV[1],16),r.attributes.IV[2]=parseInt(r.attributes.IV[2],16),r.attributes.IV[3]=parseInt(r.attributes.IV[3],16),r.attributes.IV=new Uint32Array(r.attributes.IV))),void this.trigger("data",r);if(t=/^#EXT-X-START:?(.*)$/.exec(e))return r={type:"tag",tagType:"start"},t[1]&&(r.attributes=Ta(t[1]),r.attributes["TIME-OFFSET"]=parseFloat(r.attributes["TIME-OFFSET"]),r.attributes.PRECISE=/YES/.test(r.attributes.PRECISE)),void this.trigger("data",r);if(t=/^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(e))return r={type:"tag",tagType:"cue-out-cont"},t[1]?r.data=t[1]:r.data="",void this.trigger("data",r);if(t=/^#EXT-X-CUE-OUT:?(.*)?$/.exec(e))return r={type:"tag",tagType:"cue-out"},t[1]?r.data=t[1]:r.data="",void this.trigger("data",r);if(t=/^#EXT-X-CUE-IN:?(.*)?$/.exec(e))return r={type:"tag",tagType:"cue-in"},t[1]?r.data=t[1]:r.data="",void this.trigger("data",r);this.trigger("data",{type:"tag",data:e.slice(4)})}},t.prototype.addParser=function(e){var t=this,r=e.expression,n=e.customType,i=e.dataParser,o=e.segment;"function"!=typeof i&&(i=function(e){return e}),this.customParsers.push(function(e){if(r.exec(e))return t.trigger("data",{type:"custom",data:i(e),customType:n,segment:o}),!0})},t}(Aa),Ia=function(e){function t(){ya(this,t);var r=ba(this,e.call(this));r.lineStream=new _a,r.parseStream=new Sa,r.lineStream.pipe(r.parseStream);var n=r,i=[],o={},a=void 0,s=void 0,u=function(){},l={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},c=0;return r.manifest={allowCache:!0,discontinuityStarts:[],segments:[]},r.parseStream.on("data",function(e){var t=void 0,r=void 0;({tag:function(){(({"allow-cache":function(){this.manifest.allowCache=e.allowed,"allowed"in e||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange:function(){var t={};"length"in e&&(o.byterange=t,t.length=e.length,"offset"in e||(this.trigger("info",{message:"defaulting offset to zero"}),e.offset=0)),"offset"in e&&(o.byterange=t,t.offset=e.offset)},endlist:function(){this.manifest.endList=!0},inf:function(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),e.duration>0&&(o.duration=e.duration),0===e.duration&&(o.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=i},key:function(){return e.attributes?"NONE"===e.attributes.METHOD?void(s=null):e.attributes.URI?(e.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),s={method:e.attributes.METHOD||"AES-128",uri:e.attributes.URI},void(void 0!==e.attributes.IV&&(s.iv=e.attributes.IV))):void this.trigger("warn",{message:"ignoring key declaration without URI"}):void this.trigger("warn",{message:"ignoring key declaration without attribute list"})},"media-sequence":function(){if(!isFinite(e.number))return void this.trigger("warn",{message:"ignoring invalid media sequence: "+e.number});this.manifest.mediaSequence=e.number},"discontinuity-sequence":function(){if(!isFinite(e.number))return void this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+e.number});this.manifest.discontinuitySequence=e.number,c=e.number},"playlist-type":function(){if(!/VOD|EVENT/.test(e.playlistType))return void this.trigger("warn",{message:"ignoring unknown playlist type: "+e.playlist});this.manifest.playlistType=e.playlistType},map:function(){a={},e.uri&&(a.uri=e.uri),e.byterange&&(a.byterange=e.byterange)},"stream-inf":function(){if(this.manifest.playlists=i,this.manifest.mediaGroups=this.manifest.mediaGroups||l,!e.attributes)return void this.trigger("warn",{message:"ignoring empty stream-inf attributes"});o.attributes||(o.attributes={}),ma(o.attributes,e.attributes)},media:function(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||l,!(e.attributes&&e.attributes.TYPE&&e.attributes["GROUP-ID"]&&e.attributes.NAME))return void this.trigger("warn",{message:"ignoring incomplete or missing media group"});var n=this.manifest.mediaGroups[e.attributes.TYPE];n[e.attributes["GROUP-ID"]]=n[e.attributes["GROUP-ID"]]||{},t=n[e.attributes["GROUP-ID"]],r={default:/yes/i.test(e.attributes.DEFAULT)},r.default?r.autoselect=!0:r.autoselect=/yes/i.test(e.attributes.AUTOSELECT),e.attributes.LANGUAGE&&(r.language=e.attributes.LANGUAGE),e.attributes.URI&&(r.uri=e.attributes.URI),e.attributes["INSTREAM-ID"]&&(r.instreamId=e.attributes["INSTREAM-ID"]),e.attributes.CHARACTERISTICS&&(r.characteristics=e.attributes.CHARACTERISTICS),e.attributes.FORCED&&(r.forced=/yes/i.test(e.attributes.FORCED)),t[e.attributes.NAME]=r},discontinuity:function(){c+=1,o.discontinuity=!0,this.manifest.discontinuityStarts.push(i.length)},"program-date-time":function(){void 0===this.manifest.dateTimeString&&(this.manifest.dateTimeString=e.dateTimeString,this.manifest.dateTimeObject=e.dateTimeObject),o.dateTimeString=e.dateTimeString,o.dateTimeObject=e.dateTimeObject},targetduration:function(){if(!isFinite(e.duration)||e.duration<0)return void this.trigger("warn",{message:"ignoring invalid target duration: "+e.duration});this.manifest.targetDuration=e.duration},totalduration:function(){if(!isFinite(e.duration)||e.duration<0)return void this.trigger("warn",{message:"ignoring invalid total duration: "+e.duration});this.manifest.totalDuration=e.duration},start:function(){if(!e.attributes||isNaN(e.attributes["TIME-OFFSET"]))return void this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"});this.manifest.start={timeOffset:e.attributes["TIME-OFFSET"],precise:e.attributes.PRECISE}},"cue-out":function(){o.cueOut=e.data},"cue-out-cont":function(){o.cueOutCont=e.data},"cue-in":function(){o.cueIn=e.data}})[e.tagType]||u).call(n)},uri:function(){o.uri=e.uri,i.push(o),!this.manifest.targetDuration||"duration"in o||(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),o.duration=this.manifest.targetDuration),s&&(o.key=s),o.timeline=c,a&&(o.map=a),o={}},comment:function(){},custom:function(){e.segment?(o.custom=o.custom||{},o.custom[e.customType]=e.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[e.customType]=e.data)}})[e.type].call(n)}),r}return va(t,e),t.prototype.push=function(e){this.lineStream.push(e)},t.prototype.end=function(){this.lineStream.push("\n")},t.prototype.addParser=function(e){this.parseStream.addParser(e)},t}(Aa),wa=function(e){return!!e&&"object"==typeof e},Ca=function e(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return r.reduce(function(t,r){return Object.keys(r).forEach(function(n){Array.isArray(t[n])&&Array.isArray(r[n])?t[n]=t[n].concat(r[n]):wa(t[n])&&wa(r[n])?t[n]=e(t[n],r[n]):t[n]=r[n]}),t},{})},Da=function(e){return Object.keys(e).map(function(t){return e[t]})},Ma=function(e,t){for(var r=[],n=e;n<t;n++)r.push(n);return r},Oa=function(e){return e.reduce(function(e,t){return e.concat(t)},[])},Ba=function(e){if(!e.length)return[];for(var t=[],r=0;r<e.length;r++)t.push(e[r]);return t},Ra=function(e,t){return e.reduce(function(e,r,n){return r[t]&&e.push(n),e},[])},Pa=function(e){return Da(e.reduce(function(e,t){var r=t.attributes.id+(t.attributes.lang||"");if(e[r]){var n;t.segments[0].discontinuity=!0,(n=e[r].segments).push.apply(n,t.segments),t.attributes.contentProtection&&(e[r].attributes.contentProtection=t.attributes.contentProtection)}else e[r]=t;return e},{})).map(function(e){return e.discontinuityStarts=Ra(e.segments,"discontinuity"),e})},ka=function(e){var t,r=e.attributes,n=e.segments,i={attributes:(t={NAME:r.id,BANDWIDTH:r.bandwidth,CODECS:r.codecs},t["PROGRAM-ID"]=1,t),uri:"",endList:"static"===(r.type||"static"),timeline:r.periodIndex,resolvedUri:"",targetDuration:r.duration,segments:n,mediaSequence:n.length?n[0].number:1};return r.contentProtection&&(i.contentProtection=r.contentProtection),i},La=function(e){var t,r=e.attributes,n=e.segments;return void 0===n&&(n=[{uri:r.baseUrl,timeline:r.periodIndex,resolvedUri:r.baseUrl||"",duration:r.sourceDuration,number:0}],r.duration=r.sourceDuration),{attributes:(t={NAME:r.id,BANDWIDTH:r.bandwidth},t["PROGRAM-ID"]=1,t),uri:"",endList:"static"===(r.type||"static"),timeline:r.periodIndex,resolvedUri:r.baseUrl||"",targetDuration:r.duration,segments:n,mediaSequence:n.length?n[0].number:1}},Na=function(e){return e.reduce(function(e,t){var r=t.attributes.role&&t.attributes.role.value||"main",n=t.attributes.lang||"",i="main";return n&&(i=t.attributes.lang+" ("+r+")"),e[i]&&e[i].playlists[0].attributes.BANDWIDTH>t.attributes.bandwidth?e:(e[i]={language:n,autoselect:!0,default:"main"===r,playlists:[ka(t)],uri:""},e)},{})},xa=function(e){return e.reduce(function(e,t){var r=t.attributes.lang||"text";return e[r]?e:(e[r]={language:r,default:!1,autoselect:!1,playlists:[La(t)],uri:""},e)},{})},ja=function(e){var t,r=e.attributes,n=e.segments,i={attributes:(t={NAME:r.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:r.width,height:r.height},CODECS:r.codecs,BANDWIDTH:r.bandwidth},t["PROGRAM-ID"]=1,t),uri:"",endList:"static"===(r.type||"static"),timeline:r.periodIndex,resolvedUri:"",targetDuration:r.duration,segments:n,mediaSequence:n.length?n[0].number:1};return r.contentProtection&&(i.contentProtection=r.contentProtection),i},Ua=function(e){var t;if(!e.length)return{};var r=e[0].attributes,n=r.sourceDuration,i=r.minimumUpdatePeriod,o=void 0===i?0:i,a=function(e){var t=e.attributes;return"video/mp4"===t.mimeType||"video"===t.contentType},s=function(e){var t=e.attributes;return"audio/mp4"===t.mimeType||"audio"===t.contentType},u=function(e){var t=e.attributes;return"text/vtt"===t.mimeType||"text"===t.contentType},l=Pa(e.filter(a)).map(ja),c=Pa(e.filter(s)),d=e.filter(u),f={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:(t={AUDIO:{},VIDEO:{}},t["CLOSED-CAPTIONS"]={},t.SUBTITLES={},t),uri:"",duration:n,playlists:l,minimumUpdatePeriod:1e3*o};return c.length&&(f.mediaGroups.AUDIO.audio=Na(c)),d.length&&(f.mediaGroups.SUBTITLES.subs=xa(d)),f},Fa=("undefined"!=typeof window?window:void 0!==t||"undefined"!=typeof self&&self,function(e,t){return t={exports:{}},e(t,t.exports),t.exports}(function(e,t){!function(t){var r=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/\?#]*\/)*.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,n=/^([^\/?#]*)(.*)$/,i=/(?:\/|^)\.(?=\/)/g,o=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,a={buildAbsoluteURL:function(e,t,r){if(r=r||{},e=e.trim(),!(t=t.trim())){if(!r.alwaysNormalize)return e;var i=a.parseURL(e);if(!i)throw new Error("Error trying to parse base URL.");return i.path=a.normalizePath(i.path),a.buildURLFromParts(i)}var o=a.parseURL(t);if(!o)throw new Error("Error trying to parse relative URL.");if(o.scheme)return r.alwaysNormalize?(o.path=a.normalizePath(o.path),a.buildURLFromParts(o)):t;var s=a.parseURL(e);if(!s)throw new Error("Error trying to parse base URL.");if(!s.netLoc&&s.path&&"/"!==s.path[0]){var u=n.exec(s.path);s.netLoc=u[1],s.path=u[2]}s.netLoc&&!s.path&&(s.path="/");var l={scheme:s.scheme,netLoc:o.netLoc,path:null,params:o.params,query:o.query,fragment:o.fragment};if(!o.netLoc&&(l.netLoc=s.netLoc,"/"!==o.path[0]))if(o.path){var c=s.path,d=c.substring(0,c.lastIndexOf("/")+1)+o.path;l.path=a.normalizePath(d)}else l.path=s.path,o.params||(l.params=s.params,o.query||(l.query=s.query));return null===l.path&&(l.path=r.alwaysNormalize?a.normalizePath(o.path):o.path),a.buildURLFromParts(l)},parseURL:function(e){var t=r.exec(e);return t?{scheme:t[1]||"",netLoc:t[2]||"",path:t[3]||"",params:t[4]||"",query:t[5]||"",fragment:t[6]||""}:null},normalizePath:function(e){for(e=e.split("").reverse().join("").replace(i,"");e.length!==(e=e.replace(o,"")).length;);return e.split("").reverse().join("")},buildURLFromParts:function(e){return e.scheme+e.netLoc+e.path+e.params+e.query+e.fragment}};e.exports=a}()})),Qa=function(e,t){return/^[a-z]+:/i.test(t)?t:(/\/\//i.test(e)||(e=Fa.buildAbsoluteURL(r.location.href,e)),Fa.buildAbsoluteURL(e,t))},Ga=function(e){var t=e.baseUrl,r=void 0===t?"":t,n=e.source,i=void 0===n?"":n,o=e.range,a=void 0===o?"":o,s={uri:i,resolvedUri:Qa(r||"",i)};if(a){var u=a.split("-"),l=parseInt(u[0],10),c=parseInt(u[1],10);s.byterange={length:c-l,offset:l}}return s},Wa=function(e,t,r){var n=e.NOW,i=e.clientOffset,o=e.availabilityStartTime,a=e.timescale,s=void 0===a?1:a,u=e.start,l=void 0===u?0:u,c=e.minimumUpdatePeriod,d=void 0===c?0:c,f=(n+i)/1e3,g=o+l,p=f+d,h=p-g;return Math.ceil((h*s-t)/r)},Ha=function(e,t){for(var r=e.type,n=void 0===r?"static":r,i=e.minimumUpdatePeriod,o=void 0===i?0:i,a=e.media,s=void 0===a?"":a,u=e.sourceDuration,l=e.timescale,c=void 0===l?1:l,d=e.startNumber,f=void 0===d?1:d,g=e.periodIndex,p=[],h=-1,y=0;y<t.length;y++){var m=t[y],v=m.d,b=m.r||0,A=m.t||0;h<0&&(h=A),A&&A>h&&(h=A);var _=void 0;if(b<0){var E=y+1;_=E===t.length?"dynamic"===n&&o>0&&s.indexOf("$Number$")>0?Wa(e,h,v):(u*c-h)/v:(t[E].t-h)/v}else _=b+1;for(var T=f+p.length+_,S=f+p.length;S<T;)p.push({number:S,duration:v/c,time:h,timeline:g}),h+=v,S++}return p},Ya={static:function(e){var t=e.duration,r=e.timescale,n=void 0===r?1:r,i=e.sourceDuration;return{start:0,end:Math.ceil(i/(t/n))}},dynamic:function(e){var t=e.NOW,r=e.clientOffset,n=e.availabilityStartTime,i=e.timescale,o=void 0===i?1:i,a=e.duration,s=e.start,u=void 0===s?0:s,l=e.minimumUpdatePeriod,c=void 0===l?0:l,d=e.timeShiftBufferDepth,f=void 0===d?1/0:d,g=(t+r)/1e3,p=n+u,h=g+c,y=h-p,m=Math.ceil(y*o/a),v=Math.floor((g-p-f)*o/a),b=Math.floor((g-p)*o/a);return{start:Math.max(0,v),end:Math.min(m,b)}}},Va=function(e){return function(t,r){var n=e.duration,i=e.timescale,o=void 0===i?1:i,a=e.periodIndex,s=e.startNumber;return{number:(void 0===s?1:s)+t,duration:n/o,timeline:a,time:r*n}}},qa=function(e){var t=e.type,r=void 0===t?"static":t,n=e.duration,i=e.timescale,o=void 0===i?1:i,a=e.sourceDuration,s=Ya[r](e),u=s.start,l=s.end,c=Ma(u,l).map(Va(e));if("static"===r){var d=c.length-1;c[d].duration=a-n/o*d}return c},Ka=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,za=function(e){return function(t,r,n,i){if("$$"===t)return"$";if(void 0===e[r])return t;var o=""+e[r];return"RepresentationID"===r?o:(i=n?parseInt(i,10):1,o.length>=i?o:""+new Array(i-o.length+1).join("0")+o)}},Xa=function(e,t){return e.replace(Ka,za(t))},Ja=function(e,t){return e.duration||t?e.duration?qa(e):Ha(e,t):[{number:e.startNumber||1,duration:e.sourceDuration,time:0,timeline:e.periodIndex}]},Za=function(e,t){var r={RepresentationID:e.id,Bandwidth:e.bandwidth||0},n=e.initialization,i=void 0===n?{sourceURL:"",range:""}:n,o=Ga({baseUrl:e.baseUrl,source:Xa(i.sourceURL,r),range:i.range});return Ja(e,t).map(function(t){r.Number=t.number,r.Time=t.time;var n=Xa(e.media||"",r);return{uri:n,timeline:t.timeline,duration:t.duration,resolvedUri:Qa(e.baseUrl||"",n),map:o,number:t.number}})},$a={INVALID_NUMBER_OF_PERIOD:"INVALID_NUMBER_OF_PERIOD",DASH_EMPTY_MANIFEST:"DASH_EMPTY_MANIFEST",DASH_INVALID_XML:"DASH_INVALID_XML",NO_BASE_URL:"NO_BASE_URL",MISSING_SEGMENT_INFORMATION:"MISSING_SEGMENT_INFORMATION",SEGMENT_TIME_UNSPECIFIED:"SEGMENT_TIME_UNSPECIFIED",UNSUPPORTED_UTC_TIMING_SCHEME:"UNSUPPORTED_UTC_TIMING_SCHEME"},es=function(e,t){var r=e.baseUrl,n=e.initialization,i=void 0===n?{}:n,o=Ga({baseUrl:r,source:i.sourceURL,range:i.range}),a=Ga({baseUrl:r,source:t.media,range:t.mediaRange});return a.map=o,a},ts=function(e,t){var r=e.duration,n=e.segmentUrls,i=void 0===n?[]:n;if(!r&&!t||r&&t)throw new Error($a.SEGMENT_TIME_UNSPECIFIED);var o,a=i.map(function(t){return es(e,t)});return r&&(o=qa(e)),t&&(o=Ha(e,t)),o.map(function(e,t){if(a[t]){var r=a[t];return r.timeline=e.timeline,r.duration=e.duration,r.number=e.number,r}}).filter(function(e){return e})},rs=function(e){var t=e.baseUrl,r=e.initialization,n=void 0===r?{}:r,i=e.sourceDuration,o=e.timescale,a=void 0===o?1:o,s=e.indexRange,u=void 0===s?"":s,l=e.duration;if(!t)throw new Error($a.NO_BASE_URL);var c=Ga({baseUrl:t,source:n.sourceURL,range:n.range}),d=Ga({baseUrl:t,source:t,range:u});if(d.map=c,l){var f=qa(e);f.length&&(d.duration=f[0].duration,d.timeline=f[0].timeline)}else i&&(d.duration=i/a,d.timeline=0);return d.number=0,[d]},ns=function(e){var t,r,n=e.attributes,i=e.segmentInfo;if(i.template?(r=Za,t=Ca(n,i.template)):i.base?(r=rs,t=Ca(n,i.base)):i.list&&(r=ts,t=Ca(n,i.list)),!r)return{attributes:n};var o=r(t,i.timeline);if(t.duration){var a=t,s=a.duration,u=a.timescale,l=void 0===u?1:u;t.duration=s/l}else o.length?t.duration=o.reduce(function(e,t){return Math.max(e,Math.ceil(t.duration))},0):t.duration=0;return{attributes:t,segments:o}},is=function(e){return e.map(ns)},os=function(e,t){return Ba(e.childNodes).filter(function(e){return e.tagName===t})},as=function(e){return e.textContent.trim()},ss=function(e){var t=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/,r=t.exec(e);if(!r)return 0;var n=r.slice(1),i=n[0],o=n[1],a=n[2],s=n[3],u=n[4],l=n[5];return 31536e3*parseFloat(i||0)+2592e3*parseFloat(o||0)+86400*parseFloat(a||0)+3600*parseFloat(s||0)+60*parseFloat(u||0)+parseFloat(l||0)},us=function(e){return/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(e)&&(e+="Z"),Date.parse(e)},ls={mediaPresentationDuration:function(e){return ss(e)},availabilityStartTime:function(e){return us(e)/1e3},minimumUpdatePeriod:function(e){return ss(e)},timeShiftBufferDepth:function(e){return ss(e)},start:function(e){return ss(e)},width:function(e){return parseInt(e,10)},height:function(e){return parseInt(e,10)},bandwidth:function(e){return parseInt(e,10)},startNumber:function(e){return parseInt(e,10)},timescale:function(e){return parseInt(e,10)},duration:function(e){var t=parseInt(e,10);return isNaN(t)?ss(e):t},d:function(e){return parseInt(e,10)},t:function(e){return parseInt(e,10)},r:function(e){return parseInt(e,10)},DEFAULT:function(e){return e}},cs=function(e){return e&&e.attributes?Ba(e.attributes).reduce(function(e,t){var r=ls[t.name]||ls.DEFAULT;return e[t.name]=r(t.value),e},{}):{}},ds={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"},fs=function(e,t){return t.length?Oa(e.map(function(e){return t.map(function(t){return Qa(e,as(t))})})):e},gs=function(e){var t=os(e,"SegmentTemplate")[0],r=os(e,"SegmentList")[0],n=r&&os(r,"SegmentURL").map(function(e){return Ca({tag:"SegmentURL"},cs(e))}),i=os(e,"SegmentBase")[0],o=r||t,a=o&&os(o,"SegmentTimeline")[0],s=r||i||t,u=s&&os(s,"Initialization")[0],l=t&&cs(t);l&&u?l.initialization=u&&cs(u):l&&l.initialization&&(l.initialization={sourceURL:l.initialization});var c={template:l,timeline:a&&os(a,"S").map(function(e){return cs(e)}),list:r&&Ca(cs(r),{segmentUrls:n,initialization:cs(u)}),base:i&&Ca(cs(i),{initialization:cs(u)})};return Object.keys(c).forEach(function(e){c[e]||delete c[e]}),c},ps=function(e,t,r){return function(n){var i=os(n,"BaseURL"),o=fs(t,i),a=Ca(e,cs(n)),s=gs(n);return o.map(function(e){return{segmentInfo:Ca(r,s),attributes:Ca(a,{baseUrl:e})}})}},hs=function(e){return e.reduce(function(e,t){var r=cs(t),n=ds[r.schemeIdUri];if(n){e[n]={attributes:r};var i=os(t,"cenc:pssh")[0];if(i){var o=as(i),a=o&&bt(o);e[n].pssh=a}}return e},{})},ys=function(e,t,r){return function(n){var i=cs(n),o=fs(t,os(n,"BaseURL")),a=os(n,"Role")[0],s={role:cs(a)},u=Ca(e,i,s),l=hs(os(n,"ContentProtection"));Object.keys(l).length&&(u=Ca(u,{contentProtection:l}));var c=gs(n),d=os(n,"Representation"),f=Ca(r,c);return Oa(d.map(ps(u,o,f)))}},ms=function(e,t){return function(n,i){var o=fs(t,os(n,"BaseURL")),a=cs(n),s=parseInt(a.id,10),u=r.isNaN(s)?i:s,l=Ca(e,{periodIndex:u}),c=os(n,"AdaptationSet"),d=gs(n);return Oa(c.map(ys(l,o,d)))}},vs=function(e,t){void 0===t&&(t={});var r=t,n=r.manifestUri,i=void 0===n?"":n,o=r.NOW,a=void 0===o?Date.now():o,s=r.clientOffset,u=void 0===s?0:s,l=os(e,"Period");if(!l.length)throw new Error($a.INVALID_NUMBER_OF_PERIOD);var c=cs(e),d=fs([i],os(e,"BaseURL"));return c.sourceDuration=c.mediaPresentationDuration||0,c.NOW=a,c.clientOffset=u,Oa(l.map(ms(c,d)))},bs=function(e){if(""===e)throw new Error($a.DASH_EMPTY_MANIFEST);var t=new r.DOMParser,n=t.parseFromString(e,"application/xml"),i=n&&"MPD"===n.documentElement.tagName?n.documentElement:null;if(!i||i&&i.getElementsByTagName("parsererror").length>0)throw new Error($a.DASH_INVALID_XML);return i},As=function(e){var t=os(e,"UTCTiming")[0];if(!t)return null;var r=cs(t);switch(r.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":r.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":r.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":r.method="DIRECT",r.value=Date.parse(r.value);break;case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":default:throw new Error($a.UNSUPPORTED_UTC_TIMING_SCHEME)}return r},_s=function(e,t){return Ua(is(vs(bs(e),t)))},Es=function(e){return As(bs(e))},Ts=function(e){return e>>>0},Ss={toUnsigned:Ts},Is=Ss.toUnsigned;ca=function(e,t){var r,n,i,o,a,s=[];if(!t.length)return null;for(r=0;r<e.byteLength;)n=Is(e[r]<<24|e[r+1]<<16|e[r+2]<<8|e[r+3]),i=da(e.subarray(r+4,r+8)),o=n>1?r+n:e.byteLength,i===t[0]&&(1===t.length?s.push(e.subarray(r+8,o)):(a=ca(e.subarray(r+8,o),t.slice(1)),a.length&&(s=s.concat(a)))),r=o;return s},da=function(e){var t="";return t+=String.fromCharCode(e[0]),t+=String.fromCharCode(e[1]),t+=String.fromCharCode(e[2]),t+=String.fromCharCode(e[3])},fa=function(e){var t={};return ca(e,["moov","trak"]).reduce(function(e,t){var r,n,i,o,a;return(r=ca(t,["tkhd"])[0])?(n=r[0],i=0===n?12:20,o=Is(r[i]<<24|r[i+1]<<16|r[i+2]<<8|r[i+3]),(a=ca(t,["mdia","mdhd"])[0])?(n=a[0],i=0===n?12:20,e[o]=Is(a[i]<<24|a[i+1]<<16|a[i+2]<<8|a[i+3]),e):null):null},t)},ga=function(e,t){var r,n,i;return r=ca(t,["moof","traf"]),n=[].concat.apply([],r.map(function(t){return ca(t,["tfhd"]).map(function(r){var n,i,o;return n=Is(r[4]<<24|r[5]<<16|r[6]<<8|r[7]),i=e[n]||9e4,o=ca(t,["tfdt"]).map(function(e){var t,r;return t=e[0],r=Is(e[4]<<24|e[5]<<16|e[6]<<8|e[7]),1===t&&(r*=Math.pow(2,32),r+=Is(e[8]<<24|e[9]<<16|e[10]<<8|e[11])),r})[0],(o=o||1/0)/i})})),i=Math.min.apply(null,n),isFinite(i)?i:0},pa=function(e){var t=ca(e,["moov","trak"]),r=[];return t.forEach(function(e){var t=ca(e,["mdia","hdlr"]),n=ca(e,["tkhd"]);t.forEach(function(e,t){var i,o,a,s=da(e.subarray(8,12)),u=n[t];"vide"===s&&(i=new DataView(u.buffer,u.byteOffset,u.byteLength),o=i.getUint8(0),a=0===o?i.getUint32(12):i.getUint32(20),r.push(a))})}),r};var ws,Cs,Ds,Ms,Os,Bs,Rs,Ps,ks,Ls,Ns,xs,js,Us,Fs,Qs,Gs,Ws,Hs,Ys,Vs,qs,Ks,zs,Xs,Js,Zs,$s,eu,tu,ru,nu,iu,ou,au,su,uu={findBox:ca,parseType:da,timescale:fa,startTime:ga,videoTrackIds:pa},lu=Math.pow(2,32)-1;!function(){var e;if(Ks={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},"undefined"!=typeof Uint8Array){for(e in Ks)Ks.hasOwnProperty(e)&&(Ks[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);zs=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),Js=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),Xs=new Uint8Array([0,0,0,1]),Zs=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),$s=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),eu={video:Zs,audio:$s},nu=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),ru=new Uint8Array([0,0,0,0,0,0,0,0]),iu=new Uint8Array([0,0,0,0,0,0,0,0]),ou=iu,au=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),su=iu,tu=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}}(),ws=function(e){var t,r,n,i=[],o=0;for(t=1;t<arguments.length;t++)i.push(arguments[t]);for(t=i.length;t--;)o+=i[t].byteLength;for(r=new Uint8Array(o+8),n=new DataView(r.buffer,r.byteOffset,r.byteLength),n.setUint32(0,r.byteLength),r.set(e,4),t=0,o=8;t<i.length;t++)r.set(i[t],o),o+=i[t].byteLength;return r},Cs=function(){return ws(Ks.dinf,ws(Ks.dref,nu))},Ds=function(e){return ws(Ks.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,e.audioobjecttype<<3|e.samplingfrequencyindex>>>1,e.samplingfrequencyindex<<7|e.channelcount<<3,6,1,2]))},Ms=function(){return ws(Ks.ftyp,zs,Xs,zs,Js)},Qs=function(e){return ws(Ks.hdlr,eu[e])},Os=function(e){return ws(Ks.mdat,e)},Fs=function(e){var t=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,e.duration>>>24&255,e.duration>>>16&255,e.duration>>>8&255,255&e.duration,85,196,0,0]);return e.samplerate&&(t[12]=e.samplerate>>>24&255,t[13]=e.samplerate>>>16&255,t[14]=e.samplerate>>>8&255,t[15]=255&e.samplerate),ws(Ks.mdhd,t)},Us=function(e){return ws(Ks.mdia,Fs(e),Qs(e.type),Rs(e))},Bs=function(e){return ws(Ks.mfhd,new Uint8Array([0,0,0,0,(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e]))},Rs=function(e){return ws(Ks.minf,"video"===e.type?ws(Ks.vmhd,tu):ws(Ks.smhd,ru),Cs(),Ws(e))},Ps=function(e,t){for(var r=[],n=t.length;n--;)r[n]=Ys(t[n]);return ws.apply(null,[Ks.moof,Bs(e)].concat(r))},ks=function(e){for(var t=e.length,r=[];t--;)r[t]=xs(e[t]);return ws.apply(null,[Ks.moov,Ns(4294967295)].concat(r).concat(Ls(e)))},Ls=function(e){for(var t=e.length,r=[];t--;)r[t]=Vs(e[t]);return ws.apply(null,[Ks.mvex].concat(r))},Ns=function(e){var t=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return ws(Ks.mvhd,t)},Gs=function(e){var t,r,n=e.samples||[],i=new Uint8Array(4+n.length);for(r=0;r<n.length;r++)t=n[r].flags,i[r+4]=t.dependsOn<<4|t.isDependedOn<<2|t.hasRedundancy;return ws(Ks.sdtp,i)},Ws=function(e){return ws(Ks.stbl,Hs(e),ws(Ks.stts,su),ws(Ks.stsc,ou),ws(Ks.stsz,au),ws(Ks.stco,iu))},function(){var e,t;Hs=function(r){return ws(Ks.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),"video"===r.type?e(r):t(r))},e=function(e){var t,r=e.sps||[],n=e.pps||[],i=[],o=[];for(t=0;t<r.length;t++)i.push((65280&r[t].byteLength)>>>8),i.push(255&r[t].byteLength),i=i.concat(Array.prototype.slice.call(r[t]));for(t=0;t<n.length;t++)o.push((65280&n[t].byteLength)>>>8),o.push(255&n[t].byteLength),o=o.concat(Array.prototype.slice.call(n[t]));return ws(Ks.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(65280&e.width)>>8,255&e.width,(65280&e.height)>>8,255&e.height,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),ws(Ks.avcC,new Uint8Array([1,e.profileIdc,e.profileCompatibility,e.levelIdc,255].concat([r.length]).concat(i).concat([n.length]).concat(o))),ws(Ks.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])))},t=function(e){return ws(Ks.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(65280&e.channelcount)>>8,255&e.channelcount,(65280&e.samplesize)>>8,255&e.samplesize,0,0,0,0,(65280&e.samplerate)>>8,255&e.samplerate,0,0]),Ds(e))}}(),js=function(e){var t=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,0,(4278190080&e.duration)>>24,(16711680&e.duration)>>16,(65280&e.duration)>>8,255&e.duration,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(65280&e.width)>>8,255&e.width,0,0,(65280&e.height)>>8,255&e.height,0,0]);return ws(Ks.tkhd,t)},Ys=function(e){var t,r,n,i,o,a,s;return t=ws(Ks.tfhd,new Uint8Array([0,0,0,58,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),a=Math.floor(e.baseMediaDecodeTime/(lu+1)),s=Math.floor(e.baseMediaDecodeTime%(lu+1)),r=ws(Ks.tfdt,new Uint8Array([1,0,0,0,a>>>24&255,a>>>16&255,a>>>8&255,255&a,s>>>24&255,s>>>16&255,s>>>8&255,255&s])),o=92,"audio"===e.type?(n=qs(e,o),ws(Ks.traf,t,r,n)):(i=Gs(e),n=qs(e,i.length+o),ws(Ks.traf,t,r,n,i))},xs=function(e){return e.duration=e.duration||4294967295,ws(Ks.trak,js(e),Us(e))},Vs=function(e){var t=new Uint8Array([0,0,0,0,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return"video"!==e.type&&(t[t.length-1]=0),ws(Ks.trex,t)},function(){var e,t,r;r=function(e,t){var r=0,n=0,i=0,o=0;return e.length&&(void 0!==e[0].duration&&(r=1),void 0!==e[0].size&&(n=2),void 0!==e[0].flags&&(i=4),void 0!==e[0].compositionTimeOffset&&(o=8)),[0,0,r|n|i|o,1,(4278190080&e.length)>>>24,(16711680&e.length)>>>16,(65280&e.length)>>>8,255&e.length,(4278190080&t)>>>24,(16711680&t)>>>16,(65280&t)>>>8,255&t]},t=function(e,t){var n,i,o,a;for(i=e.samples||[],t+=20+16*i.length,n=r(i,t),a=0;a<i.length;a++)o=i[a],n=n.concat([(4278190080&o.duration)>>>24,(16711680&o.duration)>>>16,(65280&o.duration)>>>8,255&o.duration,(4278190080&o.size)>>>24,(16711680&o.size)>>>16,(65280&o.size)>>>8,255&o.size,o.flags.isLeading<<2|o.flags.dependsOn,o.flags.isDependedOn<<6|o.flags.hasRedundancy<<4|o.flags.paddingValue<<1|o.flags.isNonSyncSample,61440&o.flags.degradationPriority,15&o.flags.degradationPriority,(4278190080&o.compositionTimeOffset)>>>24,(16711680&o.compositionTimeOffset)>>>16,(65280&o.compositionTimeOffset)>>>8,255&o.compositionTimeOffset]);return ws(Ks.trun,new Uint8Array(n))},e=function(e,t){var n,i,o,a;for(i=e.samples||[],t+=20+8*i.length,n=r(i,t),a=0;a<i.length;a++)o=i[a],n=n.concat([(4278190080&o.duration)>>>24,(16711680&o.duration)>>>16,(65280&o.duration)>>>8,255&o.duration,(4278190080&o.size)>>>24,(16711680&o.size)>>>16,(65280&o.size)>>>8,255&o.size]);return ws(Ks.trun,new Uint8Array(n))},qs=function(r,n){return"audio"===r.type?e(r,n):t(r,n)}}();var cu={ftyp:Ms,mdat:Os,moof:Ps,moov:ks,initSegment:function(e){var t,r=Ms(),n=ks(e);return t=new Uint8Array(r.byteLength+n.byteLength),t.set(r),t.set(n,r.byteLength),t}},du=function(){this.init=function(){var e={};this.on=function(t,r){e[t]||(e[t]=[]),e[t]=e[t].concat(r)},this.off=function(t,r){var n;return!!e[t]&&(n=e[t].indexOf(r),e[t]=e[t].slice(),e[t].splice(n,1),n>-1)},this.trigger=function(t){var r,n,i,o;if(r=e[t])if(2===arguments.length)for(i=r.length,n=0;n<i;++n)r[n].call(this,arguments[1]);else{for(o=[],n=arguments.length,n=1;n<arguments.length;++n)o.push(arguments[n]);for(i=r.length,n=0;n<i;++n)r[n].apply(this,o)}},this.dispose=function(){e={}}}};du.prototype.pipe=function(e){return this.on("data",function(t){e.push(t)}),this.on("done",function(t){e.flush(t)}),e},du.prototype.push=function(e){this.trigger("data",e)},du.prototype.flush=function(e){this.trigger("done",e)};var fu,gu,pu,hu,yu,mu,vu=du,bu=function(e){var t,r,n=[],i=[];for(n.byteLength=0,t=0;t<e.length;t++)r=e[t],"access_unit_delimiter_rbsp"===r.nalUnitType?(n.length&&(n.duration=r.dts-n.dts,i.push(n)),n=[r],n.byteLength=r.data.byteLength,n.pts=r.pts,n.dts=r.dts):("slice_layer_without_partitioning_rbsp_idr"===r.nalUnitType&&(n.keyFrame=!0),n.duration=r.dts-n.dts,n.byteLength+=r.data.byteLength,n.push(r));return i.length&&(!n.duration||n.duration<=0)&&(n.duration=i[i.length-1].duration),i.push(n),i},Au=function(e){var t,r,n=[],i=[];for(n.byteLength=0,n.nalCount=0,n.duration=0,n.pts=e[0].pts,n.dts=e[0].dts,i.byteLength=0,i.nalCount=0,i.duration=0,i.pts=e[0].pts,i.dts=e[0].dts,t=0;t<e.length;t++)r=e[t],r.keyFrame?(n.length&&(i.push(n),i.byteLength+=n.byteLength,i.nalCount+=n.nalCount,i.duration+=n.duration),n=[r],n.nalCount=r.length,n.byteLength=r.byteLength,n.pts=r.pts,n.dts=r.dts,n.duration=r.duration):(n.duration+=r.duration,n.nalCount+=r.length,n.byteLength+=r.byteLength,n.push(r));return i.length&&n.duration<=0&&(n.duration=i[i.length-1].duration),i.byteLength+=n.byteLength,i.nalCount+=n.nalCount,i.duration+=n.duration,i.push(n),i},_u=function(e){var t;return!e[0][0].keyFrame&&e.length>1&&(t=e.shift(),e.byteLength-=t.byteLength,e.nalCount-=t.nalCount,e[0][0].dts=t.dts,e[0][0].pts=t.pts,e[0][0].duration+=t.duration),e},Eu=function(){return{size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}}},Tu=function(e,t){var r=Eu();return r.dataOffset=t,r.compositionTimeOffset=e.pts-e.dts,r.duration=e.duration,r.size=4*e.length,r.size+=e.byteLength,e.keyFrame&&(r.flags.dependsOn=2,r.flags.isNonSyncSample=0),r},Su=function(e,t){var r,n,i,o,a,s=t||0,u=[];for(r=0;r<e.length;r++)for(o=e[r],n=0;n<o.length;n++)a=o[n],i=Tu(a,s),s+=i.size,u.push(i);return u},Iu=function(e){var t,r,n,i,o,a,s=0,u=e.byteLength,l=e.nalCount,c=u+4*l,d=new Uint8Array(c),f=new DataView(d.buffer);for(t=0;t<e.length;t++)for(i=e[t],r=0;r<i.length;r++)for(o=i[r],n=0;n<o.length;n++)a=o[n],f.setUint32(s,a.data.byteLength),s+=4,d.set(a.data,s),s+=a.data.byteLength;return d},wu={groupNalsIntoFrames:bu,groupFramesIntoGops:Au,extendFirstKeyFrame:_u,generateSampleTable:Su,concatenateNalData:Iu},Cu=[33,16,5,32,164,27],Du=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],Mu=function(e){for(var t=[];e--;)t.push(0);return t},Ou={96e3:[Cu,[227,64],Mu(154),[56]],88200:[Cu,[231],Mu(170),[56]],64e3:[Cu,[248,192],Mu(240),[56]],48e3:[Cu,[255,192],Mu(268),[55,148,128],Mu(54),[112]],44100:[Cu,[255,192],Mu(268),[55,163,128],Mu(84),[112]],32e3:[Cu,[255,192],Mu(268),[55,234],Mu(226),[112]],24e3:[Cu,[255,192],Mu(268),[55,255,128],Mu(268),[111,112],Mu(126),[224]],16e3:[Cu,[255,192],Mu(268),[55,255,128],Mu(268),[111,255],Mu(269),[223,108],Mu(195),[1,192]],12e3:[Du,Mu(268),[3,127,248],Mu(268),[6,255,240],Mu(268),[13,255,224],Mu(268),[27,253,128],Mu(259),[56]],11025:[Du,Mu(268),[3,127,248],Mu(268),[6,255,240],Mu(268),[13,255,224],Mu(268),[27,255,192],Mu(268),[55,175,128],Mu(108),[112]],8e3:[Du,Mu(268),[3,121,16],Mu(47),[7]]},Bu=function(e){return Object.keys(e).reduce(function(t,r){return t[r]=new Uint8Array(e[r].reduce(function(e,t){return e.concat(t)},[])),t},{})}(Ou);fu=function(e){return 9e4*e},gu=function(e,t){return e*t},pu=function(e){return e/9e4},hu=function(e,t){return e/t},yu=function(e,t){return fu(hu(e,t))},mu=function(e,t){return gu(pu(e),t)};var Ru={secondsToVideoTs:fu,secondsToAudioTs:gu,videoTsToSeconds:pu,audioTsToSeconds:hu,audioTsToVideoTs:yu,videoTsToAudioTs:mu},Pu=function(e){var t,r,n=0;for(t=0;t<e.length;t++)r=e[t],n+=r.data.byteLength;return n},ku=function(e,t,r,n){var i,o,a,s=0,u=0,l=0,c=0;if(t.length&&(i=Ru.audioTsToVideoTs(e.baseMediaDecodeTime,e.samplerate),s=Math.ceil(9e4/(e.samplerate/1024)),r&&n&&(u=i-Math.max(r,n),l=Math.floor(u/s),c=l*s),!(l<1||c>45e3))){for(o=Bu[e.samplerate],o||(o=t[0].data),a=0;a<l;a++)t.splice(a,0,{data:o});e.baseMediaDecodeTime-=Math.floor(Ru.videoTsToAudioTs(c,e.samplerate))}},Lu=function(e,t,r){return t.minSegmentDts>=r?e:(t.minSegmentDts=1/0,e.filter(function(e){return e.dts>=r&&(t.minSegmentDts=Math.min(t.minSegmentDts,e.dts),t.minSegmentPts=t.minSegmentDts,!0)}))},Nu=function(e){var t,r,n=[];for(t=0;t<e.length;t++)r=e[t],n.push({size:r.data.byteLength,duration:1024});return n},xu=function(e){var t,r,n=0,i=new Uint8Array(Pu(e));for(t=0;t<e.length;t++)r=e[t],i.set(r.data,n),n+=r.data.byteLength;return i},ju={prefixWithSilence:ku,trimAdtsFramesByEarliestDts:Lu,generateSampleTable:Nu,concatenateFrameData:xu},Uu=function(e,t){"number"==typeof t.pts&&(void 0===e.timelineStartInfo.pts&&(e.timelineStartInfo.pts=t.pts),void 0===e.minSegmentPts?e.minSegmentPts=t.pts:e.minSegmentPts=Math.min(e.minSegmentPts,t.pts),void 0===e.maxSegmentPts?e.maxSegmentPts=t.pts:e.maxSegmentPts=Math.max(e.maxSegmentPts,t.pts)),"number"==typeof t.dts&&(void 0===e.timelineStartInfo.dts&&(e.timelineStartInfo.dts=t.dts),void 0===e.minSegmentDts?e.minSegmentDts=t.dts:e.minSegmentDts=Math.min(e.minSegmentDts,t.dts),void 0===e.maxSegmentDts?e.maxSegmentDts=t.dts:e.maxSegmentDts=Math.max(e.maxSegmentDts,t.dts))},Fu=function(e){delete e.minSegmentDts,delete e.maxSegmentDts,delete e.minSegmentPts,delete e.maxSegmentPts},Qu=function(e,t){var r,n,i=e.minSegmentDts;return t||(i-=e.timelineStartInfo.dts),r=e.timelineStartInfo.baseMediaDecodeTime,r+=i,r=Math.max(0,r),"audio"===e.type&&(n=e.samplerate/9e4,r*=n,r=Math.floor(r)),r},Gu={clearDtsInfo:Fu,calculateTrackBaseMediaDecodeTime:Qu,collectDtsInfo:Uu},Wu=function(e){for(var t=0,r={payloadType:-1,payloadSize:0},n=0,i=0;t<e.byteLength&&128!==e[t];){for(;255===e[t];)n+=255,t++;for(n+=e[t++];255===e[t];)i+=255,t++;if(i+=e[t++],!r.payload&&4===n){r.payloadType=n,r.payloadSize=i,r.payload=e.subarray(t,t+i);break}t+=i,n=0,i=0}return r},Hu=function(e){return 181!==e.payload[0]?null:49!=(e.payload[1]<<8|e.payload[2])?null:"GA94"!==String.fromCharCode(e.payload[3],e.payload[4],e.payload[5],e.payload[6])?null:3!==e.payload[7]?null:e.payload.subarray(8,e.payload.length-1)},Yu=function(e,t){var r,n,i,o,a=[];if(!(64&t[0]))return a;for(n=31&t[0],r=0;r<n;r++)i=3*r,o={type:3&t[i+2],pts:e},4&t[i+2]&&(o.ccData=t[i+3]<<8|t[i+4],a.push(o));return a},Vu=function(e){for(var t,r,n=e.byteLength,i=[],o=1;o<n-2;)0===e[o]&&0===e[o+1]&&3===e[o+2]?(i.push(o+2),o+=2):o++;if(0===i.length)return e;t=n-i.length,r=new Uint8Array(t);var a=0;for(o=0;o<t;a++,o++)a===i[0]&&(a++,i.shift()),r[o]=e[a];return r},qu={parseSei:Wu,parseUserData:Hu,parseCaptionPackets:Yu,discardEmulationPreventionBytes:Vu,USER_DATA_REGISTERED_ITU_T_T35:4},Ku=function e(){e.prototype.init.call(this),this.captionPackets_=[],this.ccStreams_=[new $u(0,0),new $u(0,1),new $u(1,0),new $u(1,1)],this.reset(),this.ccStreams_.forEach(function(e){e.on("data",this.trigger.bind(this,"data")),e.on("done",this.trigger.bind(this,"done"))},this)};Ku.prototype=new vu,Ku.prototype.push=function(e){var t,r,n;if("sei_rbsp"===e.nalUnitType&&(t=qu.parseSei(e.escapedRBSP),t.payloadType===qu.USER_DATA_REGISTERED_ITU_T_T35&&(r=qu.parseUserData(t)))){if(e.dts<this.latestDts_)return void(this.ignoreNextEqualDts_=!0);if(e.dts===this.latestDts_&&this.ignoreNextEqualDts_)return void(--this.numSameDts_||(this.ignoreNextEqualDts_=!1));n=qu.parseCaptionPackets(e.pts,r),this.captionPackets_=this.captionPackets_.concat(n),this.latestDts_!==e.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=e.dts}},Ku.prototype.flush=function(){if(!this.captionPackets_.length)return void this.ccStreams_.forEach(function(e){e.flush()},this);this.captionPackets_.forEach(function(e,t){e.presortIndex=t}),this.captionPackets_.sort(function(e,t){return e.pts===t.pts?e.presortIndex-t.presortIndex:e.pts-t.pts}),this.captionPackets_.forEach(function(e){e.type<2&&this.dispatchCea608Packet(e)},this),this.captionPackets_.length=0,this.ccStreams_.forEach(function(e){e.flush()},this)},Ku.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(e){e.reset()})},Ku.prototype.dispatchCea608Packet=function(e){this.setsChannel1Active(e)?this.activeCea608Channel_[e.type]=0:this.setsChannel2Active(e)&&(this.activeCea608Channel_[e.type]=1),null!==this.activeCea608Channel_[e.type]&&this.ccStreams_[(e.type<<1)+this.activeCea608Channel_[e.type]].push(e)},Ku.prototype.setsChannel1Active=function(e){return 4096==(30720&e.ccData)},Ku.prototype.setsChannel2Active=function(e){return 6144==(30720&e.ccData)};var zu={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},Xu=function(e){return null===e?"":(e=zu[e]||e,String.fromCharCode(e))},Ju=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],Zu=function(){for(var e=[],t=15;t--;)e.push("");return e},$u=function e(t,r){e.prototype.init.call(this),this.field_=t||0,this.dataChannel_=r||0,this.name_="CC"+(1+(this.field_<<1|this.dataChannel_)),this.setConstants(),this.reset(),this.push=function(e){var t,r,n,i,o;if((t=32639&e.ccData)===this.lastControlCode_)return void(this.lastControlCode_=null);if(4096==(61440&t)?this.lastControlCode_=t:t!==this.PADDING_&&(this.lastControlCode_=null),n=t>>>8,i=255&t,t!==this.PADDING_)if(t===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(t===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(e.pts),this.flushDisplayed(e.pts),r=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=r,this.startPts_=e.pts;else if(t===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(e.pts);else if(t===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(e.pts);else if(t===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(e.pts);else if(t===this.CARRIAGE_RETURN_)this.clearFormatting(e.pts),this.flushDisplayed(e.pts),this.shiftRowsUp_(),this.startPts_=e.pts;else if(t===this.BACKSPACE_)"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1);else if(t===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(e.pts),this.displayed_=Zu();else if(t===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=Zu();else if(t===this.RESUME_DIRECT_CAPTIONING_)"paintOn"!==this.mode_&&(this.flushDisplayed(e.pts),this.displayed_=Zu()),this.mode_="paintOn",this.startPts_=e.pts;else if(this.isSpecialCharacter(n,i))n=(3&n)<<8,o=Xu(n|i),this[this.mode_](e.pts,o),this.column_++;else if(this.isExtCharacter(n,i))"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),n=(3&n)<<8,o=Xu(n|i),this[this.mode_](e.pts,o),this.column_++;else if(this.isMidRowCode(n,i))this.clearFormatting(e.pts),this[this.mode_](e.pts," "),this.column_++,14==(14&i)&&this.addFormatting(e.pts,["i"]),1==(1&i)&&this.addFormatting(e.pts,["u"]);else if(this.isOffsetControlCode(n,i))this.column_+=3&i;else if(this.isPAC(n,i)){var a=Ju.indexOf(7968&t);"rollUp"===this.mode_&&(a-this.rollUpRows_+1<0&&(a=this.rollUpRows_-1),this.setRollUp(e.pts,a)),a!==this.row_&&(this.clearFormatting(e.pts),this.row_=a),1&i&&-1===this.formatting_.indexOf("u")&&this.addFormatting(e.pts,["u"]),16==(16&t)&&(this.column_=4*((14&t)>>1)),this.isColorPAC(i)&&14==(14&i)&&this.addFormatting(e.pts,["i"])}else this.isNormalChar(n)&&(0===i&&(i=null),o=Xu(n),o+=Xu(i),this[this.mode_](e.pts,o),this.column_+=o.length)}};$u.prototype=new vu,$u.prototype.flushDisplayed=function(e){var t=this.displayed_.map(function(e){try{return e.trim()}catch(e){return""}}).join("\n").replace(/^\n+|\n+$/g,"");t.length&&this.trigger("data",{startPts:this.startPts_,endPts:e,text:t,stream:this.name_})},$u.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=Zu(),this.nonDisplayed_=Zu(),this.lastControlCode_=null,this.column_=0,this.row_=14,this.rollUpRows_=2,this.formatting_=[]},$u.prototype.setConstants=function(){0===this.dataChannel_?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):1===this.dataChannel_&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=32|this.CONTROL_,this.END_OF_CAPTION_=47|this.CONTROL_,this.ROLL_UP_2_ROWS_=37|this.CONTROL_,this.ROLL_UP_3_ROWS_=38|this.CONTROL_,this.ROLL_UP_4_ROWS_=39|this.CONTROL_,this.CARRIAGE_RETURN_=45|this.CONTROL_,this.RESUME_DIRECT_CAPTIONING_=41|this.CONTROL_,this.BACKSPACE_=33|this.CONTROL_,this.ERASE_DISPLAYED_MEMORY_=44|this.CONTROL_,this.ERASE_NON_DISPLAYED_MEMORY_=46|this.CONTROL_},$u.prototype.isSpecialCharacter=function(e,t){return e===this.EXT_&&t>=48&&t<=63},$u.prototype.isExtCharacter=function(e,t){return(e===this.EXT_+1||e===this.EXT_+2)&&t>=32&&t<=63},$u.prototype.isMidRowCode=function(e,t){return e===this.EXT_&&t>=32&&t<=47},$u.prototype.isOffsetControlCode=function(e,t){return e===this.OFFSET_&&t>=33&&t<=35},$u.prototype.isPAC=function(e,t){return e>=this.BASE_&&e<this.BASE_+8&&t>=64&&t<=127},$u.prototype.isColorPAC=function(e){return e>=64&&e<=79||e>=96&&e<=127},$u.prototype.isNormalChar=function(e){return e>=32&&e<=127},$u.prototype.setRollUp=function(e,t){if("rollUp"!==this.mode_&&(this.row_=14,this.mode_="rollUp",this.flushDisplayed(e),this.nonDisplayed_=Zu(),this.displayed_=Zu()),void 0!==t&&t!==this.row_)for(var r=0;r<this.rollUpRows_;r++)this.displayed_[t-r]=this.displayed_[this.row_-r],this.displayed_[this.row_-r]="";void 0===t&&(t=this.row_),this.topRow_=t-this.rollUpRows_+1},$u.prototype.addFormatting=function(e,t){this.formatting_=this.formatting_.concat(t);var r=t.reduce(function(e,t){return e+"<"+t+">"},"");this[this.mode_](e,r)},$u.prototype.clearFormatting=function(e){if(this.formatting_.length){var t=this.formatting_.reverse().reduce(function(e,t){return e+"</"+t+">"},"");this.formatting_=[],this[this.mode_](e,t)}},$u.prototype.popOn=function(e,t){var r=this.nonDisplayed_[this.row_];r+=t,this.nonDisplayed_[this.row_]=r},$u.prototype.rollUp=function(e,t){var r=this.displayed_[this.row_];r+=t,this.displayed_[this.row_]=r},$u.prototype.shiftRowsUp_=function(){var e;for(e=0;e<this.topRow_;e++)this.displayed_[e]="";for(e=this.row_+1;e<15;e++)this.displayed_[e]="";for(e=this.topRow_;e<this.row_;e++)this.displayed_[e]=this.displayed_[e+1];this.displayed_[this.row_]=""},$u.prototype.paintOn=function(e,t){var r=this.displayed_[this.row_];r+=t,this.displayed_[this.row_]=r};var el={CaptionStream:Ku,Cea608Stream:$u},tl={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},rl=function(e,t){var r=1;for(e>t&&(r=-1);Math.abs(t-e)>4294967296;)e+=8589934592*r;return e},nl=function e(t){var r,n;e.prototype.init.call(this),this.type_=t,this.push=function(e){e.type===this.type_&&(void 0===n&&(n=e.dts),e.dts=rl(e.dts,n),e.pts=rl(e.pts,n),r=e.dts,this.trigger("data",e))},this.flush=function(){n=r,this.trigger("done")},this.discontinuity=function(){n=void 0,r=void 0}};nl.prototype=new vu;var il,ol={TimestampRolloverStream:nl,handleRollover:rl},al=function(e,t,r){var n,i="";for(n=t;n<r;n++)i+="%"+("00"+e[n].toString(16)).slice(-2);return i},sl=function(e,t,r){return decodeURIComponent(al(e,t,r))},ul=function(e,t,r){return unescape(al(e,t,r))},ll=function(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]},cl={TXXX:function(e){var t;if(3===e.data[0]){for(t=1;t<e.data.length;t++)if(0===e.data[t]){e.description=sl(e.data,1,t),e.value=sl(e.data,t+1,e.data.length).replace(/\0*$/,"");break}e.data=e.value}},WXXX:function(e){var t;if(3===e.data[0])for(t=1;t<e.data.length;t++)if(0===e.data[t]){e.description=sl(e.data,1,t),e.url=sl(e.data,t+1,e.data.length);break}},PRIV:function(e){var t;for(t=0;t<e.data.length;t++)if(0===e.data[t]){e.owner=ul(e.data,0,t);break}e.privateData=e.data.subarray(t+1),e.data=e.privateData}};il=function(e){var t,r={debug:!(!e||!e.debug),descriptor:e&&e.descriptor},n=0,i=[],o=0;if(il.prototype.init.call(this),this.dispatchType=tl.METADATA_STREAM_TYPE.toString(16),r.descriptor)for(t=0;t<r.descriptor.length;t++)this.dispatchType+=("00"+r.descriptor[t].toString(16)).slice(-2);this.push=function(e){var t,a,s,u,l,c;if("timed-metadata"===e.type){if(e.dataAlignmentIndicator&&(o=0,i.length=0),0===i.length&&(e.data.length<10||e.data[0]!=="I".charCodeAt(0)||e.data[1]!=="D".charCodeAt(0)||e.data[2]!=="3".charCodeAt(0)))return void r.debug;if(i.push(e),o+=e.data.byteLength,1===i.length&&(n=ll(e.data.subarray(6,10)),n+=10),!(o<n)){for(t={data:new Uint8Array(n),frames:[],pts:i[0].pts,dts:i[0].dts},l=0;l<n;)t.data.set(i[0].data.subarray(0,n-l),l),l+=i[0].data.byteLength,o-=i[0].data.byteLength,i.shift();a=10,64&t.data[5]&&(a+=4,a+=ll(t.data.subarray(10,14)),n-=ll(t.data.subarray(16,20)));do{if((s=ll(t.data.subarray(a+4,a+8)))<1)return;if(c=String.fromCharCode(t.data[a],t.data[a+1],t.data[a+2],t.data[a+3]),u={id:c,data:t.data.subarray(a+10,a+s+10)},u.key=u.id,cl[u.id]&&(cl[u.id](u),"com.apple.streaming.transportStreamTimestamp"===u.owner)){var d=u.data,f=(1&d[3])<<30|d[4]<<22|d[5]<<14|d[6]<<6|d[7]>>>2;f*=4,f+=3&d[7],u.timeStamp=f,void 0===t.pts&&void 0===t.dts&&(t.pts=u.timeStamp,t.dts=u.timeStamp),this.trigger("timestamp",u)}t.frames.push(u),a+=10,a+=s}while(a<n);this.trigger("data",t)}}}},il.prototype=new vu;var dl,fl,gl,pl=il,hl=ol.TimestampRolloverStream;dl=function(){var e=new Uint8Array(188),t=0;dl.prototype.init.call(this),this.push=function(r){var n,i=0,o=188;for(t?(n=new Uint8Array(r.byteLength+t),n.set(e.subarray(0,t)),n.set(r,t),t=0):n=r;o<n.byteLength;)71!==n[i]||71!==n[o]?(i++,o++):(this.trigger("data",n.subarray(i,o)),i+=188,o+=188);i<n.byteLength&&(e.set(n.subarray(i),0),t=n.byteLength-i)},this.flush=function(){188===t&&71===e[0]&&(this.trigger("data",e),t=0),this.trigger("done")}},dl.prototype=new vu,fl=function(){var e,t,r,n;fl.prototype.init.call(this),n=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,e=function(e,n){var i=0;n.payloadUnitStartIndicator&&(i+=e[i]+1),"pat"===n.type?t(e.subarray(i),n):r(e.subarray(i),n)},t=function(e,t){t.section_number=e[7],t.last_section_number=e[8],n.pmtPid=(31&e[10])<<8|e[11],t.pmtPid=n.pmtPid},r=function(e,t){var r,i,o,a;if(1&e[5]){for(n.programMapTable={video:null,audio:null,"timed-metadata":{}},r=(15&e[1])<<8|e[2],i=3+r-4,o=(15&e[10])<<8|e[11],a=12+o;a<i;){var s=e[a],u=(31&e[a+1])<<8|e[a+2];s===tl.H264_STREAM_TYPE&&null===n.programMapTable.video?n.programMapTable.video=u:s===tl.ADTS_STREAM_TYPE&&null===n.programMapTable.audio?n.programMapTable.audio=u:s===tl.METADATA_STREAM_TYPE&&(n.programMapTable["timed-metadata"][u]=s),a+=5+((15&e[a+3])<<8|e[a+4])}t.programMapTable=n.programMapTable}},this.push=function(t){var r={},n=4;if(r.payloadUnitStartIndicator=!!(64&t[1]),r.pid=31&t[1],r.pid<<=8,r.pid|=t[2],(48&t[3])>>>4>1&&(n+=t[n]+1),0===r.pid)r.type="pat",e(t.subarray(n),r),this.trigger("data",r);else if(r.pid===this.pmtPid)for(r.type="pmt",e(t.subarray(n),r),this.trigger("data",r);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else void 0===this.programMapTable?this.packetsWaitingForPmt.push([t,n,r]):this.processPes_(t,n,r)},this.processPes_=function(e,t,r){r.pid===this.programMapTable.video?r.streamType=tl.H264_STREAM_TYPE:r.pid===this.programMapTable.audio?r.streamType=tl.ADTS_STREAM_TYPE:r.streamType=this.programMapTable["timed-metadata"][r.pid],r.type="pes",r.data=e.subarray(t),this.trigger("data",r)}},fl.prototype=new vu,fl.STREAM_TYPES={h264:27,adts:15},gl=function(){var e=this,t={data:[],size:0},r={data:[],size:0},n={data:[],size:0},i=function(e,t){var r;t.packetLength=6+(e[4]<<8|e[5]),t.dataAlignmentIndicator=0!=(4&e[6]),r=e[7],192&r&&(t.pts=(14&e[9])<<27|(255&e[10])<<20|(254&e[11])<<12|(255&e[12])<<5|(254&e[13])>>>3,t.pts*=4,t.pts+=(6&e[13])>>>1,t.dts=t.pts,64&r&&(t.dts=(14&e[14])<<27|(255&e[15])<<20|(254&e[16])<<12|(255&e[17])<<5|(254&e[18])>>>3,t.dts*=4,t.dts+=(6&e[18])>>>1)),t.data=e.subarray(9+e[8])},o=function(t,r,n){var o,a=new Uint8Array(t.size),s={type:r},u=0,l=0,c=!1;if(t.data.length&&!(t.size<9)){for(s.trackId=t.data[0].pid,u=0;u<t.data.length;u++)o=t.data[u],a.set(o.data,l),l+=o.data.byteLength;i(a,s),c="video"===r||s.packetLength<=t.size,(n||c)&&(t.size=0,t.data.length=0),c&&e.trigger("data",s)}};gl.prototype.init.call(this),this.push=function(i){({pat:function(){},pes:function(){var e,a;switch(i.streamType){case tl.H264_STREAM_TYPE:case tl.H264_STREAM_TYPE:e=t,a="video";break;case tl.ADTS_STREAM_TYPE:e=r,a="audio";break;case tl.METADATA_STREAM_TYPE:e=n,a="timed-metadata";break;default:return}i.payloadUnitStartIndicator&&o(e,a,!0),e.data.push(i),e.size+=i.data.byteLength},pmt:function(){var t={type:"metadata",tracks:[]},r=i.programMapTable;null!==r.video&&t.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+r.video,codec:"avc",type:"video"}),null!==r.audio&&t.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+r.audio,codec:"adts",type:"audio"}),e.trigger("data",t)}})[i.type]()},this.flush=function(){o(t,"video"),o(r,"audio"),o(n,"timed-metadata"),this.trigger("done")}},gl.prototype=new vu;var yl={PAT_PID:0,MP2T_PACKET_LENGTH:188,TransportPacketStream:dl,TransportParseStream:fl,ElementaryStream:gl,TimestampRolloverStream:hl,CaptionStream:el.CaptionStream,Cea608Stream:el.Cea608Stream,MetadataStream:pl};for(var ml in tl)tl.hasOwnProperty(ml)&&(yl[ml]=tl[ml]);var vl,bl=yl,Al=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];vl=function(){var e;vl.prototype.init.call(this),this.push=function(t){var r,n,i,o,a,s,u=0,l=0;if("audio"===t.type)for(e?(o=e,e=new Uint8Array(o.byteLength+t.data.byteLength),e.set(o),e.set(t.data,o.byteLength)):e=t.data;u+5<e.length;)if(255===e[u]&&240==(246&e[u+1])){if(n=2*(1&~e[u+1]),r=(3&e[u+3])<<11|e[u+4]<<3|(224&e[u+5])>>5,a=1024*(1+(3&e[u+6])),s=9e4*a/Al[(60&e[u+2])>>>2],i=u+r,e.byteLength<i)return;if(this.trigger("data",{pts:t.pts+l*s,dts:t.dts+l*s,sampleCount:a,audioobjecttype:1+(e[u+2]>>>6&3),channelcount:(1&e[u+2])<<2|(192&e[u+3])>>>6,samplerate:Al[(60&e[u+2])>>>2],samplingfrequencyindex:(60&e[u+2])>>>2,samplesize:16,data:e.subarray(u+7+n,i)}),e.byteLength===i)return void(e=void 0);l++,e=e.subarray(i)}else u++},this.flush=function(){this.trigger("done")}},vl.prototype=new vu;var _l,El=vl;_l=function(e){var t=e.byteLength,r=0,n=0;this.length=function(){return 8*t},this.bitsAvailable=function(){return 8*t+n},this.loadWord=function(){var i=e.byteLength-t,o=new Uint8Array(4),a=Math.min(4,t);if(0===a)throw new Error("no bytes available");o.set(e.subarray(i,i+a)),r=new DataView(o.buffer).getUint32(0),n=8*a,t-=a},this.skipBits=function(e){var i;n>e?(r<<=e,n-=e):(e-=n,i=Math.floor(e/8),e-=8*i,t-=i,this.loadWord(),r<<=e,n-=e)},this.readBits=function(e){var i=Math.min(n,e),o=r>>>32-i;return n-=i,n>0?r<<=i:t>0&&this.loadWord(),i=e-i,i>0?o<<i|this.readBits(i):o},this.skipLeadingZeros=function(){var e;for(e=0;e<n;++e)if(0!=(r&2147483648>>>e))return r<<=e,n-=e,e;return this.loadWord(),e+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var e=this.skipLeadingZeros();return this.readBits(e+1)-1},this.readExpGolomb=function(){var e=this.readUnsignedExpGolomb();return 1&e?1+e>>>1:-1*(e>>>1)},this.readBoolean=function(){return 1===this.readBits(1)},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};var Tl,Sl,Il,wl=_l;Sl=function(){var e,t,r=0;Sl.prototype.init.call(this),this.push=function(n){var i;for(t?(i=new Uint8Array(t.byteLength+n.data.byteLength),i.set(t),i.set(n.data,t.byteLength),t=i):t=n.data;r<t.byteLength-3;r++)if(1===t[r+2]){e=r+5;break}for(;e<t.byteLength;)switch(t[e]){case 0:if(0!==t[e-1]){e+=2;break}if(0!==t[e-2]){e++;break}r+3!==e-2&&this.trigger("data",t.subarray(r+3,e-2));do{e++}while(1!==t[e]&&e<t.length);r=e-2,e+=3;break;case 1:if(0!==t[e-1]||0!==t[e-2]){e+=3;break}this.trigger("data",t.subarray(r+3,e-2)),r=e-2,e+=3;break;default:e+=3}t=t.subarray(r),e-=r,r=0},this.flush=function(){t&&t.byteLength>3&&this.trigger("data",t.subarray(r+3)),t=null,r=0,this.trigger("done")}},Sl.prototype=new vu,Il={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},Tl=function(){var e,t,r,n,i,o,a,s=new Sl;Tl.prototype.init.call(this),e=this,this.push=function(e){"video"===e.type&&(t=e.trackId,r=e.pts,n=e.dts,s.push(e))},s.on("data",function(a){var s={trackId:t,pts:r,dts:n,data:a};switch(31&a[0]){case 5:s.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:s.nalUnitType="sei_rbsp",s.escapedRBSP=i(a.subarray(1));break;case 7:s.nalUnitType="seq_parameter_set_rbsp",s.escapedRBSP=i(a.subarray(1)),s.config=o(s.escapedRBSP);break;case 8:s.nalUnitType="pic_parameter_set_rbsp";break;case 9:s.nalUnitType="access_unit_delimiter_rbsp"}e.trigger("data",s)}),s.on("done",function(){e.trigger("done")}),this.flush=function(){s.flush()},a=function(e,t){var r,n,i=8,o=8;for(r=0;r<e;r++)0!==o&&(n=t.readExpGolomb(),o=(i+n+256)%256),i=0===o?i:o},i=function(e){for(var t,r,n=e.byteLength,i=[],o=1;o<n-2;)0===e[o]&&0===e[o+1]&&3===e[o+2]?(i.push(o+2),o+=2):o++;if(0===i.length)return e;t=n-i.length,r=new Uint8Array(t);var a=0;for(o=0;o<t;a++,o++)a===i[0]&&(a++,i.shift()),r[o]=e[a];return r},o=function(e){var t,r,n,i,o,s,u,l,c,d,f,g,p,h=0,y=0,m=0,v=0,b=1;if(t=new wl(e),r=t.readUnsignedByte(),i=t.readUnsignedByte(),n=t.readUnsignedByte(),t.skipUnsignedExpGolomb(),Il[r]&&(o=t.readUnsignedExpGolomb(),3===o&&t.skipBits(1),t.skipUnsignedExpGolomb(),t.skipUnsignedExpGolomb(),t.skipBits(1),t.readBoolean()))for(f=3!==o?8:12,p=0;p<f;p++)t.readBoolean()&&(p<6?a(16,t):a(64,t));if(t.skipUnsignedExpGolomb(),0===(s=t.readUnsignedExpGolomb()))t.readUnsignedExpGolomb();else if(1===s)for(t.skipBits(1),t.skipExpGolomb(),t.skipExpGolomb(),u=t.readUnsignedExpGolomb(),p=0;p<u;p++)t.skipExpGolomb();if(t.skipUnsignedExpGolomb(),t.skipBits(1),l=t.readUnsignedExpGolomb(),c=t.readUnsignedExpGolomb(),d=t.readBits(1),0===d&&t.skipBits(1),t.skipBits(1),t.readBoolean()&&(h=t.readUnsignedExpGolomb(),y=t.readUnsignedExpGolomb(),m=t.readUnsignedExpGolomb(),v=t.readUnsignedExpGolomb()),t.readBoolean()&&t.readBoolean()){switch(t.readUnsignedByte()){case 1:g=[1,1];break;case 2:g=[12,11];break;case 3:g=[10,11];break;case 4:g=[16,11];break;case 5:g=[40,33];break;case 6:g=[24,11];break;case 7:g=[20,11];break;case 8:g=[32,11];break;case 9:g=[80,33];break;case 10:g=[18,11];break;case 11:g=[15,11];break;case 12:g=[64,33];break;case 13:g=[160,99];break;case 14:g=[4,3];break;case 15:g=[3,2];break;case 16:g=[2,1];break;case 255:g=[t.readUnsignedByte()<<8|t.readUnsignedByte(),t.readUnsignedByte()<<8|t.readUnsignedByte()]}g&&(b=g[0]/g[1])}return{profileIdc:r,levelIdc:n,profileCompatibility:i,width:Math.ceil((16*(l+1)-2*h-2*y)*b),height:(2-d)*(c+1)*16-2*m-2*v}}},Tl.prototype=new vu;var Cl,Dl={H264Stream:Tl,NalByteStream:Sl},Ml=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],Ol=function(e){return e[0]==="I".charCodeAt(0)&&e[1]==="D".charCodeAt(0)&&e[2]==="3".charCodeAt(0)},Bl=function(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]},Rl=function(e,t,r){var n,i="";for(n=t;n<r;n++)i+="%"+("00"+e[n].toString(16)).slice(-2);return i},Pl=function(e,t,r){return unescape(Rl(e,t,r))},kl=function(e,t){var r=e[t+6]<<21|e[t+7]<<14|e[t+8]<<7|e[t+9];return(16&e[t+5])>>4?r+20:r+10},Ll=function(e,t){var r=(224&e[t+5])>>5,n=e[t+4]<<3;return 6144&e[t+3]|n|r},Nl=function(e,t){return e[t]==="I".charCodeAt(0)&&e[t+1]==="D".charCodeAt(0)&&e[t+2]==="3".charCodeAt(0)?"timed-metadata":!0&e[t]&&240==(240&e[t+1])?"audio":null},xl=function(e){for(var t=0;t+5<e.length;){if(255===e[t]&&240==(246&e[t+1]))return Ml[(60&e[t+2])>>>2];t++}return null},jl=function(e){var t,r,n;t=10,64&e[5]&&(t+=4,t+=Bl(e.subarray(10,14)));do{if((r=Bl(e.subarray(t+4,t+8)))<1)return null;if("PRIV"===String.fromCharCode(e[t],e[t+1],e[t+2],e[t+3])){n=e.subarray(t+10,t+r+10);for(var i=0;i<n.byteLength;i++)if(0===n[i]){var o=Pl(n,0,i);if("com.apple.streaming.transportStreamTimestamp"===o){var a=n.subarray(i+1),s=(1&a[3])<<30|a[4]<<22|a[5]<<14|a[6]<<6|a[7]>>>2;return s*=4,s+=3&a[7]}break}}t+=10,t+=r}while(t<e.byteLength);return null},Ul={isLikelyAacData:Ol,parseId3TagSize:kl,parseAdtsSize:Ll,parseType:Nl,parseSampleRate:xl,parseAacTimestamp:jl};Cl=function(){var e=new Uint8Array,t=0;Cl.prototype.init.call(this),this.setTimestamp=function(e){t=e},this.push=function(r){var n,i,o,a,s=0,u=0;for(e.length?(a=e.length,e=new Uint8Array(r.byteLength+a),e.set(e.subarray(0,a)),e.set(r,a)):e=r;e.length-u>=3;)if(e[u]!=="I".charCodeAt(0)||e[u+1]!=="D".charCodeAt(0)||e[u+2]!=="3".charCodeAt(0))if(255!=(255&e[u])||240!=(240&e[u+1]))u++;else{if(e.length-u<7)break;if(s=Ul.parseAdtsSize(e,u),u+s>e.length)break;o={type:"audio",data:e.subarray(u,u+s),pts:t,dts:t},this.trigger("data",o),u+=s}else{if(e.length-u<10)break;if(s=Ul.parseId3TagSize(e,u),u+s>e.length)break;i={type:"timed-metadata",data:e.subarray(u,u+s)},this.trigger("data",i),u+=s}n=e.length-u,e=n>0?e.subarray(u):new Uint8Array}},Cl.prototype=new vu;var Fl,Ql,Gl,Wl,Hl=Cl,Yl=Dl.H264Stream,Vl=Ul.isLikelyAacData,ql=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],Kl=["width","height","profileIdc","levelIdc","profileCompatibility"],zl=function(e,t){var r;if(e.length!==t.length)return!1;for(r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0};Ql=function(e,t){var r=[],n=0,i=0,o=0,a=1/0;t=t||{},Ql.prototype.init.call(this),this.push=function(t){Gu.collectDtsInfo(e,t),e&&ql.forEach(function(r){e[r]=t[r]}),r.push(t)},this.setEarliestDts=function(t){i=t-e.timelineStartInfo.baseMediaDecodeTime},this.setVideoBaseMediaDecodeTime=function(e){a=e},this.setAudioAppendStart=function(e){o=e},this.flush=function(){var s,u,l,c;if(0===r.length)return void this.trigger("done","AudioSegmentStream");s=ju.trimAdtsFramesByEarliestDts(r,e,i),e.baseMediaDecodeTime=Gu.calculateTrackBaseMediaDecodeTime(e,t.keepOriginalTimestamps),ju.prefixWithSilence(e,s,o,a),e.samples=ju.generateSampleTable(s),l=cu.mdat(ju.concatenateFrameData(s)),r=[],u=cu.moof(n,[e]),c=new Uint8Array(u.byteLength+l.byteLength),n++,c.set(u),c.set(l,u.byteLength),Gu.clearDtsInfo(e),this.trigger("data",{track:e,boxes:c}),this.trigger("done","AudioSegmentStream")}},Ql.prototype=new vu,Fl=function(e,t){var r,n,i=0,o=[],a=[];t=t||{},Fl.prototype.init.call(this),delete e.minPTS,this.gopCache_=[],this.push=function(t){Gu.collectDtsInfo(e,t),"seq_parameter_set_rbsp"!==t.nalUnitType||r||(r=t.config,e.sps=[t.data],Kl.forEach(function(t){e[t]=r[t]},this)),"pic_parameter_set_rbsp"!==t.nalUnitType||n||(n=t.data,e.pps=[t.data]),o.push(t)},this.flush=function(){for(var r,n,s,u,l,c;o.length&&"access_unit_delimiter_rbsp"!==o[0].nalUnitType;)o.shift();if(0===o.length)return this.resetStream_(),void this.trigger("done","VideoSegmentStream");if(r=wu.groupNalsIntoFrames(o),s=wu.groupFramesIntoGops(r),s[0][0].keyFrame||(n=this.getGopForFusion_(o[0],e),n?(s.unshift(n),s.byteLength+=n.byteLength,s.nalCount+=n.nalCount,s.pts=n.pts,s.dts=n.dts,s.duration+=n.duration):s=wu.extendFirstKeyFrame(s)),a.length){var d;if(!(d=t.alignGopsAtEnd?this.alignGopsAtEnd_(s):this.alignGopsAtStart_(s)))return this.gopCache_.unshift({gop:s.pop(),pps:e.pps,sps:e.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),o=[],this.resetStream_(),void this.trigger("done","VideoSegmentStream");Gu.clearDtsInfo(e),s=d}Gu.collectDtsInfo(e,s),e.samples=wu.generateSampleTable(s),l=cu.mdat(wu.concatenateNalData(s)),e.baseMediaDecodeTime=Gu.calculateTrackBaseMediaDecodeTime(e,t.keepOriginalTimestamps),this.trigger("processedGopsInfo",s.map(function(e){return{pts:e.pts,dts:e.dts,byteLength:e.byteLength}})),this.gopCache_.unshift({gop:s.pop(),pps:e.pps,sps:e.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),o=[],this.trigger("baseMediaDecodeTime",e.baseMediaDecodeTime),this.trigger("timelineStartInfo",e.timelineStartInfo),u=cu.moof(i,[e]),c=new Uint8Array(u.byteLength+l.byteLength),i++,c.set(u),c.set(l,u.byteLength),this.trigger("data",{track:e,boxes:c}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.resetStream_=function(){Gu.clearDtsInfo(e),r=void 0,n=void 0},this.getGopForFusion_=function(t){var r,n,i,o,a,s=1/0;for(a=0;a<this.gopCache_.length;a++)o=this.gopCache_[a],i=o.gop,e.pps&&zl(e.pps[0],o.pps[0])&&e.sps&&zl(e.sps[0],o.sps[0])&&(i.dts<e.timelineStartInfo.dts||(r=t.dts-i.dts-i.duration)>=-1e4&&r<=45e3&&(!n||s>r)&&(n=o,s=r));return n?n.gop:null},this.alignGopsAtStart_=function(e){var t,r,n,i,o,s,u,l;for(o=e.byteLength,s=e.nalCount,u=e.duration,t=r=0;t<a.length&&r<e.length&&(n=a[t],i=e[r],n.pts!==i.pts);)i.pts>n.pts?t++:(r++,o-=i.byteLength,s-=i.nalCount,u-=i.duration);return 0===r?e:r===e.length?null:(l=e.slice(r),l.byteLength=o,l.duration=u,l.nalCount=s,l.pts=l[0].pts,l.dts=l[0].dts,l)},this.alignGopsAtEnd_=function(e){var t,r,n,i,o,s;for(t=a.length-1,r=e.length-1,o=null,s=!1;t>=0&&r>=0;){if(n=a[t],i=e[r],n.pts===i.pts){s=!0;break}n.pts>i.pts?t--:(t===a.length-1&&(o=r),r--)}if(!s&&null===o)return null;var u;if(0===(u=s?r:o))return e;var l=e.slice(u),c=l.reduce(function(e,t){return e.byteLength+=t.byteLength,e.duration+=t.duration,e.nalCount+=t.nalCount,e},{byteLength:0,duration:0,nalCount:0});return l.byteLength=c.byteLength,l.duration=c.duration,l.nalCount=c.nalCount,l.pts=l[0].pts,l.dts=l[0].dts,l},this.alignGopsWith=function(e){a=e}},Fl.prototype=new vu,Wl=function(e,t){this.numberOfTracks=0,this.metadataStream=t,e=e||{},void 0!==e.remux?this.remuxTracks=!!e.remux:this.remuxTracks=!0,"boolean"==typeof e.keepOriginalTimestamps&&(this.keepOriginalTimestamps=e.keepOriginalTimestamps),this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,Wl.prototype.init.call(this),this.push=function(e){return e.text?this.pendingCaptions.push(e):e.frames?this.pendingMetadata.push(e):(this.pendingTracks.push(e.track),this.pendingBoxes.push(e.boxes),this.pendingBytes+=e.boxes.byteLength,"video"===e.track.type&&(this.videoTrack=e.track),void("audio"===e.track.type&&(this.audioTrack=e.track)))}},Wl.prototype=new vu,Wl.prototype.flush=function(e){var t,r,n,i,o=0,a={captions:[],captionStreams:{},metadata:[],info:{}},s=0;if(this.pendingTracks.length<this.numberOfTracks){if("VideoSegmentStream"!==e&&"AudioSegmentStream"!==e)return;if(this.remuxTracks)return;if(0===this.pendingTracks.length)return void(++this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0))}for(this.videoTrack?(s=this.videoTrack.timelineStartInfo.pts,Kl.forEach(function(e){a.info[e]=this.videoTrack[e]},this)):this.audioTrack&&(s=this.audioTrack.timelineStartInfo.pts,ql.forEach(function(e){a.info[e]=this.audioTrack[e]},this)),1===this.pendingTracks.length?a.type=this.pendingTracks[0].type:a.type="combined",this.emittedTracks+=this.pendingTracks.length,n=cu.initSegment(this.pendingTracks),a.initSegment=new Uint8Array(n.byteLength),a.initSegment.set(n),a.data=new Uint8Array(this.pendingBytes),i=0;i<this.pendingBoxes.length;i++)a.data.set(this.pendingBoxes[i],o),o+=this.pendingBoxes[i].byteLength;for(i=0;i<this.pendingCaptions.length;i++)t=this.pendingCaptions[i],t.startTime=t.startPts,this.keepOriginalTimestamps||(t.startTime-=s),t.startTime/=9e4,t.endTime=t.endPts,this.keepOriginalTimestamps||(t.endTime-=s),t.endTime/=9e4,a.captionStreams[t.stream]=!0,a.captions.push(t);for(i=0;i<this.pendingMetadata.length;i++)r=this.pendingMetadata[i],r.cueTime=r.pts,this.keepOriginalTimestamps||(r.cueTime-=s),r.cueTime/=9e4,a.metadata.push(r);a.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",a),this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},Gl=function(e){var t,r,n=this,i=!0;Gl.prototype.init.call(this),e=e||{},this.baseMediaDecodeTime=e.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var t={};this.transmuxPipeline_=t,t.type="aac",t.metadataStream=new bl.MetadataStream,t.aacStream=new Hl,t.audioTimestampRolloverStream=new bl.TimestampRolloverStream("audio"),t.timedMetadataTimestampRolloverStream=new bl.TimestampRolloverStream("timed-metadata"),t.adtsStream=new El,t.coalesceStream=new Wl(e,t.metadataStream),t.headOfPipeline=t.aacStream,t.aacStream.pipe(t.audioTimestampRolloverStream).pipe(t.adtsStream),t.aacStream.pipe(t.timedMetadataTimestampRolloverStream).pipe(t.metadataStream).pipe(t.coalesceStream),t.metadataStream.on("timestamp",function(e){t.aacStream.setTimestamp(e.timeStamp)}),t.aacStream.on("data",function(i){"timed-metadata"!==i.type||t.audioSegmentStream||(r=r||{timelineStartInfo:{baseMediaDecodeTime:n.baseMediaDecodeTime},codec:"adts",type:"audio"},t.coalesceStream.numberOfTracks++,t.audioSegmentStream=new Ql(r,e),t.adtsStream.pipe(t.audioSegmentStream).pipe(t.coalesceStream))}),t.coalesceStream.on("data",this.trigger.bind(this,"data")),t.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setupTsPipeline=function(){var i={};this.transmuxPipeline_=i,i.type="ts",i.metadataStream=new bl.MetadataStream,i.packetStream=new bl.TransportPacketStream,i.parseStream=new bl.TransportParseStream,i.elementaryStream=new bl.ElementaryStream,i.videoTimestampRolloverStream=new bl.TimestampRolloverStream("video"),i.audioTimestampRolloverStream=new bl.TimestampRolloverStream("audio"),i.timedMetadataTimestampRolloverStream=new bl.TimestampRolloverStream("timed-metadata"),i.adtsStream=new El,i.h264Stream=new Yl,i.captionStream=new bl.CaptionStream,i.coalesceStream=new Wl(e,i.metadataStream),i.headOfPipeline=i.packetStream,i.packetStream.pipe(i.parseStream).pipe(i.elementaryStream),i.elementaryStream.pipe(i.videoTimestampRolloverStream).pipe(i.h264Stream),i.elementaryStream.pipe(i.audioTimestampRolloverStream).pipe(i.adtsStream),i.elementaryStream.pipe(i.timedMetadataTimestampRolloverStream).pipe(i.metadataStream).pipe(i.coalesceStream),i.h264Stream.pipe(i.captionStream).pipe(i.coalesceStream),i.elementaryStream.on("data",function(o){var a;if("metadata"===o.type){for(a=o.tracks.length;a--;)t||"video"!==o.tracks[a].type?r||"audio"!==o.tracks[a].type||(r=o.tracks[a],r.timelineStartInfo.baseMediaDecodeTime=n.baseMediaDecodeTime):(t=o.tracks[a],t.timelineStartInfo.baseMediaDecodeTime=n.baseMediaDecodeTime);t&&!i.videoSegmentStream&&(i.coalesceStream.numberOfTracks++,i.videoSegmentStream=new Fl(t,e),i.videoSegmentStream.on("timelineStartInfo",function(e){r&&(r.timelineStartInfo=e,i.audioSegmentStream.setEarliestDts(e.dts))}),i.videoSegmentStream.on("processedGopsInfo",n.trigger.bind(n,"gopInfo")),i.videoSegmentStream.on("baseMediaDecodeTime",function(e){r&&i.audioSegmentStream.setVideoBaseMediaDecodeTime(e)}),i.h264Stream.pipe(i.videoSegmentStream).pipe(i.coalesceStream)),r&&!i.audioSegmentStream&&(i.coalesceStream.numberOfTracks++,i.audioSegmentStream=new Ql(r,e),i.adtsStream.pipe(i.audioSegmentStream).pipe(i.coalesceStream))}}),i.coalesceStream.on("data",this.trigger.bind(this,"data")),i.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setBaseMediaDecodeTime=function(n){var i=this.transmuxPipeline_;e.keepOriginalTimestamps||(this.baseMediaDecodeTime=n),r&&(r.timelineStartInfo.dts=void 0,r.timelineStartInfo.pts=void 0,Gu.clearDtsInfo(r),e.keepOriginalTimestamps||(r.timelineStartInfo.baseMediaDecodeTime=n),i.audioTimestampRolloverStream&&i.audioTimestampRolloverStream.discontinuity()),t&&(i.videoSegmentStream&&(i.videoSegmentStream.gopCache_=[],i.videoTimestampRolloverStream.discontinuity()),t.timelineStartInfo.dts=void 0,t.timelineStartInfo.pts=void 0,Gu.clearDtsInfo(t),i.captionStream.reset(),e.keepOriginalTimestamps||(t.timelineStartInfo.baseMediaDecodeTime=n)),i.timedMetadataTimestampRolloverStream&&i.timedMetadataTimestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(e){r&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(e)},this.alignGopsWith=function(e){t&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(e)},this.push=function(e){if(i){var t=Vl(e);t&&"aac"!==this.transmuxPipeline_.type?this.setupAacPipeline():t||"ts"===this.transmuxPipeline_.type||this.setupTsPipeline(),i=!1}this.transmuxPipeline_.headOfPipeline.push(e)},this.flush=function(){i=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}},Gl.prototype=new vu;var Xl,Jl,Zl={Transmuxer:Gl,VideoSegmentStream:Fl,AudioSegmentStream:Ql,AUDIO_PROPERTIES:ql,VIDEO_PROPERTIES:Kl},$l=uu.parseType,ec=function(e){return new Date(1e3*e-20828448e5)},tc=function(e){return{isLeading:(12&e[0])>>>2,dependsOn:3&e[0],isDependedOn:(192&e[1])>>>6,hasRedundancy:(48&e[1])>>>4,paddingValue:(14&e[1])>>>1,isNonSyncSample:1&e[1],degradationPriority:e[2]<<8|e[3]}},rc=function(e){var t,r,n=new DataView(e.buffer,e.byteOffset,e.byteLength),i=[];for(t=0;t+4<e.length;t+=r)if(r=n.getUint32(t),t+=4,r<=0)i.push("<span style='color:red;'>MALFORMED DATA</span>");else switch(31&e[t]){case 1:i.push("slice_layer_without_partitioning_rbsp");break;case 5:i.push("slice_layer_without_partitioning_rbsp_idr");break;case 6:i.push("sei_rbsp");break;case 7:i.push("seq_parameter_set_rbsp");break;case 8:i.push("pic_parameter_set_rbsp");break;case 9:i.push("access_unit_delimiter_rbsp");break;default:i.push("UNKNOWN NAL - "+e[t]&31)}return i},nc={avc1:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{dataReferenceIndex:t.getUint16(6),width:t.getUint16(24),height:t.getUint16(26),horizresolution:t.getUint16(28)+t.getUint16(30)/16,vertresolution:t.getUint16(32)+t.getUint16(34)/16,frameCount:t.getUint16(40),depth:t.getUint16(74),config:Xl(e.subarray(78,e.byteLength))}},avcC:function(e){var t,r,n,i,o=new DataView(e.buffer,e.byteOffset,e.byteLength),a={configurationVersion:e[0],avcProfileIndication:e[1],profileCompatibility:e[2],avcLevelIndication:e[3],lengthSizeMinusOne:3&e[4],sps:[],pps:[]},s=31&e[5];for(n=6,i=0;i<s;i++)r=o.getUint16(n),n+=2,a.sps.push(new Uint8Array(e.subarray(n,n+r))),n+=r;for(t=e[n],n++,i=0;i<t;i++)r=o.getUint16(n),n+=2,a.pps.push(new Uint8Array(e.subarray(n,n+r))),n+=r;return a},btrt:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{bufferSizeDB:t.getUint32(0),maxBitrate:t.getUint32(4),avgBitrate:t.getUint32(8)}},esds:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),esId:e[6]<<8|e[7],streamPriority:31&e[8],decoderConfig:{objectProfileIndication:e[11],streamType:e[12]>>>2&63,bufferSize:e[13]<<16|e[14]<<8|e[15],maxBitrate:e[16]<<24|e[17]<<16|e[18]<<8|e[19],avgBitrate:e[20]<<24|e[21]<<16|e[22]<<8|e[23],decoderConfigDescriptor:{tag:e[24],length:e[25],audioObjectType:e[26]>>>3&31,samplingFrequencyIndex:(7&e[26])<<1|e[27]>>>7&1,channelConfiguration:e[27]>>>3&15}}}},ftyp:function(e){for(var t=new DataView(e.buffer,e.byteOffset,e.byteLength),r={majorBrand:$l(e.subarray(0,4)),minorVersion:t.getUint32(4),compatibleBrands:[]},n=8;n<e.byteLength;)r.compatibleBrands.push($l(e.subarray(n,n+4))),n+=4;return r},dinf:function(e){return{boxes:Xl(e)}},dref:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),dataReferences:Xl(e.subarray(8))}},hdlr:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),r={version:t.getUint8(0),flags:new Uint8Array(e.subarray(1,4)),handlerType:$l(e.subarray(8,12)),name:""},n=8;for(n=24;n<e.byteLength;n++){if(0===e[n]){n++;break}r.name+=String.fromCharCode(e[n])}return r.name=decodeURIComponent(escape(r.name)),r},mdat:function(e){return{byteLength:e.byteLength,nals:rc(e)}},mdhd:function(e){var t,r=new DataView(e.buffer,e.byteOffset,e.byteLength),n=4,i={version:r.getUint8(0),flags:new Uint8Array(e.subarray(1,4)),language:""};return 1===i.version?(n+=4,i.creationTime=ec(r.getUint32(n)),n+=8,i.modificationTime=ec(r.getUint32(n)),n+=4,i.timescale=r.getUint32(n),n+=8,i.duration=r.getUint32(n)):(i.creationTime=ec(r.getUint32(n)),n+=4,i.modificationTime=ec(r.getUint32(n)),n+=4,i.timescale=r.getUint32(n),n+=4,i.duration=r.getUint32(n)),n+=4,t=r.getUint16(n),i.language+=String.fromCharCode(96+(t>>10)),i.language+=String.fromCharCode(96+((992&t)>>5)),i.language+=String.fromCharCode(96+(31&t)),i},mdia:function(e){return{boxes:Xl(e)}},mfhd:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),sequenceNumber:e[4]<<24|e[5]<<16|e[6]<<8|e[7]}},minf:function(e){return{boxes:Xl(e)}},mp4a:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),r={dataReferenceIndex:t.getUint16(6),channelcount:t.getUint16(16),samplesize:t.getUint16(18),samplerate:t.getUint16(24)+t.getUint16(26)/65536};return e.byteLength>28&&(r.streamDescriptor=Xl(e.subarray(28))[0]),r},moof:function(e){return{boxes:Xl(e)}},moov:function(e){return{boxes:Xl(e)}},mvex:function(e){return{boxes:Xl(e)}},mvhd:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),r=4,n={version:t.getUint8(0),flags:new Uint8Array(e.subarray(1,4))};return 1===n.version?(r+=4,n.creationTime=ec(t.getUint32(r)),r+=8,n.modificationTime=ec(t.getUint32(r)),r+=4,n.timescale=t.getUint32(r),r+=8,n.duration=t.getUint32(r)):(n.creationTime=ec(t.getUint32(r)),r+=4,n.modificationTime=ec(t.getUint32(r)),r+=4,n.timescale=t.getUint32(r),r+=4,n.duration=t.getUint32(r)),r+=4,n.rate=t.getUint16(r)+t.getUint16(r+2)/16,r+=4,n.volume=t.getUint8(r)+t.getUint8(r+1)/8,r+=2,r+=2,r+=8,n.matrix=new Uint32Array(e.subarray(r,r+36)),r+=36,r+=24,n.nextTrackId=t.getUint32(r),n},pdin:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{version:t.getUint8(0),flags:new Uint8Array(e.subarray(1,4)),rate:t.getUint32(4),initialDelay:t.getUint32(8)}},sdtp:function(e){var t,r={version:e[0],flags:new Uint8Array(e.subarray(1,4)),samples:[]};for(t=4;t<e.byteLength;t++)r.samples.push({dependsOn:(48&e[t])>>4,isDependedOn:(12&e[t])>>2,hasRedundancy:3&e[t]});return r},sidx:function(e){var t,r=new DataView(e.buffer,e.byteOffset,e.byteLength),n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),references:[],referenceId:r.getUint32(4),timescale:r.getUint32(8),earliestPresentationTime:r.getUint32(12),firstOffset:r.getUint32(16)},i=r.getUint16(22);for(t=24;i;t+=12,i--)n.references.push({referenceType:(128&e[t])>>>7,referencedSize:2147483647&r.getUint32(t),subsegmentDuration:r.getUint32(t+4),startsWithSap:!!(128&e[t+8]),sapType:(112&e[t+8])>>>4,sapDeltaTime:268435455&r.getUint32(t+8)});return n},smhd:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),balance:e[4]+e[5]/256}},stbl:function(e){return{boxes:Xl(e)}},stco:function(e){var t,r=new DataView(e.buffer,e.byteOffset,e.byteLength),n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),chunkOffsets:[]},i=r.getUint32(4);for(t=8;i;t+=4,i--)n.chunkOffsets.push(r.getUint32(t));return n},stsc:function(e){var t,r=new DataView(e.buffer,e.byteOffset,e.byteLength),n=r.getUint32(4),i={version:e[0],flags:new Uint8Array(e.subarray(1,4)),sampleToChunks:[]};for(t=8;n;t+=12,n--)i.sampleToChunks.push({firstChunk:r.getUint32(t),samplesPerChunk:r.getUint32(t+4),sampleDescriptionIndex:r.getUint32(t+8)});return i},stsd:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),sampleDescriptions:Xl(e.subarray(8))}},stsz:function(e){var t,r=new DataView(e.buffer,e.byteOffset,e.byteLength),n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),sampleSize:r.getUint32(4),entries:[]};for(t=12;t<e.byteLength;t+=4)n.entries.push(r.getUint32(t));return n},stts:function(e){var t,r=new DataView(e.buffer,e.byteOffset,e.byteLength),n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),timeToSamples:[]},i=r.getUint32(4);for(t=8;i;t+=8,i--)n.timeToSamples.push({sampleCount:r.getUint32(t),sampleDelta:r.getUint32(t+4)});return n},styp:function(e){return nc.ftyp(e)},tfdt:function(e){var t={version:e[0],flags:new Uint8Array(e.subarray(1,4)),baseMediaDecodeTime:e[4]<<24|e[5]<<16|e[6]<<8|e[7]};return 1===t.version&&(t.baseMediaDecodeTime*=Math.pow(2,32),t.baseMediaDecodeTime+=e[8]<<24|e[9]<<16|e[10]<<8|e[11]),t},tfhd:function(e){var t,r=new DataView(e.buffer,e.byteOffset,e.byteLength),n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),trackId:r.getUint32(4)},i=1&n.flags[2],o=2&n.flags[2],a=8&n.flags[2],s=16&n.flags[2],u=32&n.flags[2],l=65536&n.flags[0],c=131072&n.flags[0];return t=8,i&&(t+=4,n.baseDataOffset=r.getUint32(12),t+=4),o&&(n.sampleDescriptionIndex=r.getUint32(t),t+=4),a&&(n.defaultSampleDuration=r.getUint32(t),t+=4),s&&(n.defaultSampleSize=r.getUint32(t),t+=4),u&&(n.defaultSampleFlags=r.getUint32(t)),l&&(n.durationIsEmpty=!0),!i&&c&&(n.baseDataOffsetIsMoof=!0),n},tkhd:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),r=4,n={version:t.getUint8(0),flags:new Uint8Array(e.subarray(1,4))};return 1===n.version?(r+=4,n.creationTime=ec(t.getUint32(r)),r+=8,n.modificationTime=ec(t.getUint32(r)),r+=4,n.trackId=t.getUint32(r),r+=4,r+=8,n.duration=t.getUint32(r)):(n.creationTime=ec(t.getUint32(r)),r+=4,n.modificationTime=ec(t.getUint32(r)),r+=4,n.trackId=t.getUint32(r),r+=4,r+=4,n.duration=t.getUint32(r)),r+=4,r+=8,n.layer=t.getUint16(r),r+=2,n.alternateGroup=t.getUint16(r),r+=2,n.volume=t.getUint8(r)+t.getUint8(r+1)/8,r+=2,r+=2,n.matrix=new Uint32Array(e.subarray(r,r+36)),r+=36,n.width=t.getUint16(r)+t.getUint16(r+2)/16,r+=4,n.height=t.getUint16(r)+t.getUint16(r+2)/16,n},traf:function(e){return{boxes:Xl(e)}},trak:function(e){return{boxes:Xl(e)}},trex:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),trackId:t.getUint32(4),defaultSampleDescriptionIndex:t.getUint32(8),defaultSampleDuration:t.getUint32(12),defaultSampleSize:t.getUint32(16),sampleDependsOn:3&e[20],sampleIsDependedOn:(192&e[21])>>6,sampleHasRedundancy:(48&e[21])>>4,samplePaddingValue:(14&e[21])>>1,sampleIsDifferenceSample:!!(1&e[21]),sampleDegradationPriority:t.getUint16(22)}},trun:function(e){var t,r={version:e[0],flags:new Uint8Array(e.subarray(1,4)),samples:[]},n=new DataView(e.buffer,e.byteOffset,e.byteLength),i=1&r.flags[2],o=4&r.flags[2],a=1&r.flags[1],s=2&r.flags[1],u=4&r.flags[1],l=8&r.flags[1],c=n.getUint32(4),d=8;for(i&&(r.dataOffset=n.getInt32(d),d+=4),o&&c&&(t={flags:tc(e.subarray(d,d+4))},d+=4,a&&(t.duration=n.getUint32(d),d+=4),s&&(t.size=n.getUint32(d),d+=4),l&&(t.compositionTimeOffset=n.getUint32(d),d+=4),r.samples.push(t),c--);c--;)t={},a&&(t.duration=n.getUint32(d),d+=4),s&&(t.size=n.getUint32(d),d+=4),u&&(t.flags=tc(e.subarray(d,d+4)),d+=4),l&&(t.compositionTimeOffset=n.getUint32(d),d+=4),r.samples.push(t);return r},"url ":function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4))}},vmhd:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),graphicsmode:t.getUint16(4),opcolor:new Uint16Array([t.getUint16(6),t.getUint16(8),t.getUint16(10)])}}};Xl=function(e){for(var t,r,n,i,o,a=0,s=[],u=new ArrayBuffer(e.length),l=new Uint8Array(u),c=0;c<e.length;++c)l[c]=e[c];for(t=new DataView(u);a<e.byteLength;)r=t.getUint32(a),n=$l(e.subarray(a+4,a+8)),i=r>1?a+r:e.byteLength,o=(nc[n]||function(e){return{data:e}})(e.subarray(a+8,i)),o.size=r,o.type=n,s.push(o),a=i;return s},Jl=function(e,t){var r;return t=t||0,r=new Array(2*t+1).join(" "),e.map(function(e,n){return r+e.type+"\n"+Object.keys(e).filter(function(e){return"type"!==e&&"boxes"!==e}).map(function(t){var n=r+"  "+t+": ",i=e[t];if(i instanceof Uint8Array||i instanceof Uint32Array){var o=Array.prototype.slice.call(new Uint8Array(i.buffer,i.byteOffset,i.byteLength)).map(function(e){return" "+("00"+e.toString(16)).slice(-2)}).join("").match(/.{1,24}/g);return o?1===o.length?n+"<"+o.join("").slice(1)+">":n+"<\n"+o.map(function(e){return r+"  "+e}).join("\n")+"\n"+r+"  >":n+"<>"}return n+JSON.stringify(i,null,2).split("\n").map(function(e,t){return 0===t?e:r+"  "+e}).join("\n")}).join("\n")+(e.boxes?"\n"+Jl(e.boxes,t+1):"")}).join("\n")};var ic={inspect:Xl,textify:Jl,parseTfdt:nc.tfdt,parseHdlr:nc.hdlr,parseTfhd:nc.tfhd,parseTrun:nc.trun},oc=qu.discardEmulationPreventionBytes,ac=el.CaptionStream,sc=function(e,t){for(var r=e,n=0;n<t.length;n++){var i=t[n];if(r<i.size)return i;r-=i.size}return null},uc=function(e,t,r){var n,i,o,a,s=new DataView(e.buffer,e.byteOffset,e.byteLength),u=[];for(i=0;i+4<e.length;i+=o)if(o=s.getUint32(i),i+=4,!(o<=0))switch(31&e[i]){case 6:var l=e.subarray(i+1,i+1+o),c=sc(i,t);n={nalUnitType:"sei_rbsp",size:o,data:l,escapedRBSP:oc(l),trackId:r},c?(n.pts=c.pts,n.dts=c.dts,a=c):(n.pts=a.pts,n.dts=a.dts),u.push(n)}return u},lc=function(e,t,r){var n=t,i=r.defaultSampleDuration||0,o=r.defaultSampleSize||0,a=r.trackId,s=[];return e.forEach(function(e){var t=ic.parseTrun(e),r=t.samples;r.forEach(function(e){void 0===e.duration&&(e.duration=i),void 0===e.size&&(e.size=o),e.trackId=a,e.dts=n,void 0===e.compositionTimeOffset&&(e.compositionTimeOffset=0),e.pts=n+e.compositionTimeOffset,n+=e.duration}),s=s.concat(r)}),s},cc=function(e,t){var r=uu.findBox(e,["moof","traf"]),n=uu.findBox(e,["mdat"]),i={},o=[];return n.forEach(function(e,t){var n=r[t];o.push({mdat:e,traf:n})}),o.forEach(function(e){var r,n,o=e.mdat,a=e.traf,s=uu.findBox(a,["tfhd"]),u=ic.parseTfhd(s[0]),l=u.trackId,c=uu.findBox(a,["tfdt"]),d=c.length>0?ic.parseTfdt(c[0]).baseMediaDecodeTime:0,f=uu.findBox(a,["trun"]);t===l&&f.length>0&&(r=lc(f,d,u),n=uc(o,r,l),i[l]||(i[l]=[]),i[l]=i[l].concat(n))}),i},dc=function(e,t,r){var n;return t?(n=cc(e,t),{seiNals:n[t],timescale:r}):null},fc=function(){var e,t,r,n,i,o=!1;this.isInitialized=function(){return o},this.init=function(){e=new ac,o=!0,e.on("data",function(e){e.startTime=e.startPts/n,e.endTime=e.endPts/n,i.captions.push(e),i.captionStreams[e.stream]=!0})},this.isNewInit=function(e,t){return!(e&&0===e.length||t&&"object"==typeof t&&0===Object.keys(t).length)&&(r!==e[0]||n!==t[r])},this.parse=function(e,o,a){var s;if(!this.isInitialized())return null;if(!o||!a)return null;if(this.isNewInit(o,a))r=o[0],n=a[r];else if(!r||!n)return t.push(e),null;for(;t.length>0;){var u=t.shift();this.parse(u,o,a)}return null!==(s=dc(e,r,n))&&s.seiNals?(this.pushNals(s.seiNals),this.flushStream(),i):null},this.pushNals=function(t){if(!this.isInitialized()||!t||0===t.length)return null;t.forEach(function(t){e.push(t)})},this.flushStream=function(){if(!this.isInitialized())return null;e.flush()},this.clearParsedCaptions=function(){i.captions=[],i.captionStreams={}},this.resetCaptionStream=function(){if(!this.isInitialized())return null;e.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){t=[],r=null,n=null,i?this.clearParsedCaptions():i={captions:[],captionStreams:{}},this.resetCaptionStream()},this.reset()},gc=fc,pc={generator:cu,probe:uu,Transmuxer:Zl.Transmuxer,AudioSegmentStream:Zl.AudioSegmentStream,VideoSegmentStream:Zl.VideoSegmentStream,CaptionParser:gc},hc=pc.CaptionParser,yc=function(e){var t=31&e[1];return t<<=8,t|=e[2]},mc=function(e){return!!(64&e[1])},vc=function(e){var t=0;return(48&e[3])>>>4>1&&(t+=e[4]+1),t},bc=function(e,t){var r=yc(e);return 0===r?"pat":r===t?"pmt":t?"pes":null},Ac=function(e){var t=mc(e),r=4+vc(e);return t&&(r+=e[r]+1),(31&e[r+10])<<8|e[r+11]},_c=function(e){var t={},r=mc(e),n=4+vc(e);if(r&&(n+=e[n]+1),1&e[n+5]){var i,o,a;i=(15&e[n+1])<<8|e[n+2],o=3+i-4,a=(15&e[n+10])<<8|e[n+11];for(var s=12+a;s<o;){var u=n+s;t[(31&e[u+1])<<8|e[u+2]]=e[u],s+=5+((15&e[u+3])<<8|e[u+4])}return t}},Ec=function(e,t){switch(t[yc(e)]){case tl.H264_STREAM_TYPE:return"video";case tl.ADTS_STREAM_TYPE:return"audio";case tl.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},Tc=function(e){if(!mc(e))return null;var t=4+vc(e);if(t>=e.byteLength)return null;var r,n=null;return r=e[t+7],192&r&&(n={},n.pts=(14&e[t+9])<<27|(255&e[t+10])<<20|(254&e[t+11])<<12|(255&e[t+12])<<5|(254&e[t+13])>>>3,n.pts*=4,n.pts+=(6&e[t+13])>>>1,n.dts=n.pts,64&r&&(n.dts=(14&e[t+14])<<27|(255&e[t+15])<<20|(254&e[t+16])<<12|(255&e[t+17])<<5|(254&e[t+18])>>>3,n.dts*=4,n.dts+=(6&e[t+18])>>>1)),n},Sc=function(e){switch(e){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}},Ic=function(e){for(var t,r=4+vc(e),n=e.subarray(r),i=0,o=0,a=!1;o<n.byteLength-3;o++)if(1===n[o+2]){i=o+5;break}for(;i<n.byteLength;)switch(n[i]){case 0:if(0!==n[i-1]){i+=2;break}if(0!==n[i-2]){i++;break}o+3!==i-2&&"slice_layer_without_partitioning_rbsp_idr"===(t=Sc(31&n[o+3]))&&(a=!0);do{i++}while(1!==n[i]&&i<n.length);o=i-2,i+=3;break;case 1:if(0!==n[i-1]||0!==n[i-2]){i+=3;break}t=Sc(31&n[o+3]),"slice_layer_without_partitioning_rbsp_idr"===t&&(a=!0),o=i-2,i+=3;break;default:i+=3}return n=n.subarray(o),i-=o,o=0,n&&n.byteLength>3&&"slice_layer_without_partitioning_rbsp_idr"===(t=Sc(31&n[o+3]))&&(a=!0),a},wc={parseType:bc,parsePat:Ac,parsePmt:_c,parsePayloadUnitStartIndicator:mc,parsePesType:Ec,parsePesTime:Tc,videoPacketContainsKeyFrame:Ic},Cc=ol.handleRollover,Dc={};Dc.ts=wc,Dc.aac=Ul;var Mc=function(e,t){for(var r,n=0,i=188;i<e.byteLength;)if(71!==e[n]||71!==e[i])n++,i++;else{switch(r=e.subarray(n,i),Dc.ts.parseType(r,t.pid)){case"pat":t.pid||(t.pid=Dc.ts.parsePat(r));break;case"pmt":t.table||(t.table=Dc.ts.parsePmt(r))}if(t.pid&&t.table)return;n+=188,i+=188}},Oc=function(e,t,r){for(var n,i,o,a,s=0,u=188,l=!1;u<=e.byteLength;)if(71!==e[s]||71!==e[u]&&u!==e.byteLength)s++,u++;else{switch(n=e.subarray(s,u),Dc.ts.parseType(n,t.pid)){case"pes":i=Dc.ts.parsePesType(n,t.table),o=Dc.ts.parsePayloadUnitStartIndicator(n),"audio"===i&&o&&(a=Dc.ts.parsePesTime(n))&&(a.type="audio",r.audio.push(a),l=!0)}if(l)break;s+=188,u+=188}for(u=e.byteLength,s=u-188,l=!1;s>=0;)if(71!==e[s]||71!==e[u]&&u!==e.byteLength)s--,u--;else{switch(n=e.subarray(s,u),Dc.ts.parseType(n,t.pid)){case"pes":i=Dc.ts.parsePesType(n,t.table),o=Dc.ts.parsePayloadUnitStartIndicator(n),"audio"===i&&o&&(a=Dc.ts.parsePesTime(n))&&(a.type="audio",r.audio.push(a),l=!0)}if(l)break;s-=188,u-=188}},Bc=function(e,t,r){for(var n,i,o,a,s,u,l,c=0,d=188,f=!1,g={data:[],size:0};d<e.byteLength;)if(71!==e[c]||71!==e[d])c++,d++;else{switch(n=e.subarray(c,d),Dc.ts.parseType(n,t.pid)){case"pes":if(i=Dc.ts.parsePesType(n,t.table),o=Dc.ts.parsePayloadUnitStartIndicator(n),"video"===i&&(o&&!f&&(a=Dc.ts.parsePesTime(n))&&(a.type="video",r.video.push(a),f=!0),!r.firstKeyFrame)){if(o&&0!==g.size){for(s=new Uint8Array(g.size),u=0;g.data.length;)l=g.data.shift(),s.set(l,u),u+=l.byteLength;Dc.ts.videoPacketContainsKeyFrame(s)&&(r.firstKeyFrame=Dc.ts.parsePesTime(s),r.firstKeyFrame.type="video"),g.size=0}g.data.push(n),g.size+=n.byteLength}}if(f&&r.firstKeyFrame)break;c+=188,d+=188}for(d=e.byteLength,c=d-188,f=!1;c>=0;)if(71!==e[c]||71!==e[d])c--,d--;else{switch(n=e.subarray(c,d),Dc.ts.parseType(n,t.pid)){case"pes":i=Dc.ts.parsePesType(n,t.table),o=Dc.ts.parsePayloadUnitStartIndicator(n),"video"===i&&o&&(a=Dc.ts.parsePesTime(n))&&(a.type="video",r.video.push(a),f=!0)}if(f)break;c-=188,d-=188}},Rc=function(e,t){if(e.audio&&e.audio.length){var r=t;void 0===r&&(r=e.audio[0].dts),e.audio.forEach(function(e){e.dts=Cc(e.dts,r),e.pts=Cc(e.pts,r),e.dtsTime=e.dts/9e4,e.ptsTime=e.pts/9e4})}if(e.video&&e.video.length){var n=t;if(void 0===n&&(n=e.video[0].dts),e.video.forEach(function(e){e.dts=Cc(e.dts,n),e.pts=Cc(e.pts,n),e.dtsTime=e.dts/9e4,e.ptsTime=e.pts/9e4}),e.firstKeyFrame){var i=e.firstKeyFrame;i.dts=Cc(i.dts,n),i.pts=Cc(i.pts,n),i.dtsTime=i.dts/9e4,i.ptsTime=i.dts/9e4}}},Pc=function(e){for(var t,r=!1,n=0,i=null,o=null,a=0,s=0;e.length-s>=3;){switch(Dc.aac.parseType(e,s)){case"timed-metadata":if(e.length-s<10){r=!0;break}if((a=Dc.aac.parseId3TagSize(e,s))>e.length){r=!0;break}null===o&&(t=e.subarray(s,s+a),o=Dc.aac.parseAacTimestamp(t)),s+=a;break;case"audio":if(e.length-s<7){r=!0;break}if((a=Dc.aac.parseAdtsSize(e,s))>e.length){r=!0;break}null===i&&(t=e.subarray(s,s+a),i=Dc.aac.parseSampleRate(t)),n++,s+=a;break;default:s++}if(r)return null}if(null===i||null===o)return null;var u=9e4/i;return{audio:[{type:"audio",dts:o,pts:o},{type:"audio",dts:o+1024*n*u,pts:o+1024*n*u}]}},kc=function(e){var t={pid:null,table:null},r={};Mc(e,t);for(var n in t.table)if(t.table.hasOwnProperty(n)){var i=t.table[n];switch(i){case tl.H264_STREAM_TYPE:r.video=[],Bc(e,t,r),0===r.video.length&&delete r.video;break;case tl.ADTS_STREAM_TYPE:r.audio=[],Oc(e,t,r),0===r.audio.length&&delete r.audio}}return r},Lc=function(e,t){var r,n=Dc.aac.isLikelyAacData(e);return(r=n?Pc(e):kc(e))&&(r.audio||r.video)?(Rc(r,t),r):null},Nc={inspect:Lc,parseAudioPes_:Oc},xc=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},jc=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),Uc=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},Fc=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},Qc=function(){var e=[[[],[],[],[],[]],[[],[],[],[],[]]],t=e[0],r=e[1],n=t[4],i=r[4],o=void 0,a=void 0,s=void 0,u=[],l=[],c=void 0,d=void 0,f=void 0,g=void 0,p=void 0,h=void 0;for(o=0;o<256;o++)l[(u[o]=o<<1^283*(o>>7))^o]=o;for(a=s=0;!n[a];a^=c||1,s=l[s]||1)for(g=s^s<<1^s<<2^s<<3^s<<4,g=g>>8^255&g^99,n[a]=g,i[g]=a,f=u[d=u[c=u[a]]],h=16843009*f^65537*d^257*c^16843008*a,p=257*u[g]^16843008*g,o=0;o<4;o++)t[o][a]=p=p<<24^p>>>8,r[o][g]=h=h<<24^h>>>8;for(o=0;o<5;o++)t[o]=t[o].slice(0),r[o]=r[o].slice(0);return e},Gc=null,Wc=function(){function e(t){xc(this,e),Gc||(Gc=Qc()),this._tables=[[Gc[0][0].slice(),Gc[0][1].slice(),Gc[0][2].slice(),Gc[0][3].slice(),Gc[0][4].slice()],[Gc[1][0].slice(),Gc[1][1].slice(),Gc[1][2].slice(),Gc[1][3].slice(),Gc[1][4].slice()]];var r=void 0,n=void 0,i=void 0,o=void 0,a=void 0,s=this._tables[0][4],u=this._tables[1],l=t.length,c=1;if(4!==l&&6!==l&&8!==l)throw new Error("Invalid aes key size");for(o=t.slice(0),a=[],this._key=[o,a],r=l;r<4*l+28;r++)i=o[r-1],(r%l==0||8===l&&r%l==4)&&(i=s[i>>>24]<<24^s[i>>16&255]<<16^s[i>>8&255]<<8^s[255&i],r%l==0&&(i=i<<8^i>>>24^c<<24,c=c<<1^283*(c>>7))),o[r]=o[r-l]^i;for(n=0;r;n++,r--)i=o[3&n?r:r-4],a[n]=r<=4||n<4?i:u[0][s[i>>>24]]^u[1][s[i>>16&255]]^u[2][s[i>>8&255]]^u[3][s[255&i]]}return e.prototype.decrypt=function(e,t,r,n,i,o){var a=this._key[1],s=e^a[0],u=n^a[1],l=r^a[2],c=t^a[3],d=void 0,f=void 0,g=void 0,p=a.length/4-2,h=void 0,y=4,m=this._tables[1],v=m[0],b=m[1],A=m[2],_=m[3],E=m[4];for(h=0;h<p;h++)d=v[s>>>24]^b[u>>16&255]^A[l>>8&255]^_[255&c]^a[y],f=v[u>>>24]^b[l>>16&255]^A[c>>8&255]^_[255&s]^a[y+1],g=v[l>>>24]^b[c>>16&255]^A[s>>8&255]^_[255&u]^a[y+2],c=v[c>>>24]^b[s>>16&255]^A[u>>8&255]^_[255&l]^a[y+3],y+=4,s=d,u=f,l=g;for(h=0;h<4;h++)i[(3&-h)+o]=E[s>>>24]<<24^E[u>>16&255]<<16^E[l>>8&255]<<8^E[255&c]^a[y++],d=s,s=u,u=l,l=c,c=d},e}(),Hc=function(){function e(){xc(this,e),this.listeners={}}return e.prototype.on=function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)},e.prototype.off=function(e,t){if(!this.listeners[e])return!1;var r=this.listeners[e].indexOf(t);return this.listeners[e].splice(r,1),r>-1},e.prototype.trigger=function(e){var t=this.listeners[e];if(t)if(2===arguments.length)for(var r=t.length,n=0;n<r;++n)t[n].call(this,arguments[1]);else for(var i=Array.prototype.slice.call(arguments,1),o=t.length,a=0;a<o;++a)t[a].apply(this,i)},e.prototype.dispose=function(){this.listeners={}},e.prototype.pipe=function(e){this.on("data",function(t){e.push(t)})},e}(),Yc=function(e){function t(){xc(this,t);var r=Fc(this,e.call(this,Hc));return r.jobs=[],r.delay=1,r.timeout_=null,r}return Uc(t,e),t.prototype.processJob_=function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null},t.prototype.push=function(e){this.jobs.push(e),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))},t}(Hc),Vc=function(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24},qc=function(e,t,r){var n=new Int32Array(e.buffer,e.byteOffset,e.byteLength>>2),i=new Wc(Array.prototype.slice.call(t)),o=new Uint8Array(e.byteLength),a=new Int32Array(o.buffer),s=void 0,u=void 0,l=void 0,c=void 0,d=void 0,f=void 0,g=void 0,p=void 0,h=void 0;for(s=r[0],u=r[1],l=r[2],c=r[3],h=0;h<n.length;h+=4)d=Vc(n[h]),f=Vc(n[h+1]),g=Vc(n[h+2]),p=Vc(n[h+3]),i.decrypt(d,f,g,p,a,h),a[h]=Vc(a[h]^s),a[h+1]=Vc(a[h+1]^u),a[h+2]=Vc(a[h+2]^l),a[h+3]=Vc(a[h+3]^c),s=d,u=f,l=g,c=p;return o},Kc=function(){function e(t,r,n,i){xc(this,e);var o=e.STEP,a=new Int32Array(t.buffer),s=new Uint8Array(t.byteLength),u=0;for(this.asyncStream_=new Yc,this.asyncStream_.push(this.decryptChunk_(a.subarray(u,u+o),r,n,s)),u=o;u<a.length;u+=o)n=new Uint32Array([Vc(a[u-4]),Vc(a[u-3]),Vc(a[u-2]),Vc(a[u-1])]),this.asyncStream_.push(this.decryptChunk_(a.subarray(u,u+o),r,n,s));this.asyncStream_.push(function(){i(null,At(s))})}return e.prototype.decryptChunk_=function(e,t,r,n){return function(){var i=qc(e,t,r);n.set(i,e.byteOffset)}},jc(e,null,[{key:"STEP",get:function(){return 32e3}}]),e}(),zc=function(e,t){return/^[a-z]+:/i.test(t)?t:(/\/\//i.test(e)||(e=ha.buildAbsoluteURL(r.location.href,e)),ha.buildAbsoluteURL(e,t))},Xc=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},Jc=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),Zc=function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(n)},$c=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},ed=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},td=function(){function e(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw o}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),rd=vt.mergeOptions,nd=vt.EventTarget,id=vt.log,od=function(e,t){["AUDIO","SUBTITLES"].forEach(function(r){for(var n in e.mediaGroups[r])for(var i in e.mediaGroups[r][n]){var o=e.mediaGroups[r][n][i];t(o,r,n,i)}})},ad=function(e,t,r){var n=t.slice();r=r||0;for(var i=Math.min(e.length,t.length+r),o=r;o<i;o++)n[o-r]=rd(e[o],n[o-r]);return n},sd=function(e,t){e.resolvedUri||(e.resolvedUri=zc(t,e.uri)),e.key&&!e.key.resolvedUri&&(e.key.resolvedUri=zc(t,e.key.uri)),e.map&&!e.map.resolvedUri&&(e.map.resolvedUri=zc(t,e.map.uri))},ud=function(e,t){var r=rd(e,{}),n=r.playlists[t.uri];if(!n)return null;if(n.segments&&t.segments&&n.segments.length===t.segments.length&&n.mediaSequence===t.mediaSequence)return null;var i=rd(n,t);n.segments&&(i.segments=ad(n.segments,t.segments,t.mediaSequence-n.mediaSequence)),i.segments.forEach(function(e){sd(e,i.resolvedUri)});for(var o=0;o<r.playlists.length;o++)r.playlists[o].uri===t.uri&&(r.playlists[o]=i);return r.playlists[t.uri]=i,r},ld=function(e){for(var t=e.playlists.length;t--;){var r=e.playlists[t];e.playlists[r.uri]=r,r.resolvedUri=zc(e.uri,r.uri),r.id=t,r.attributes||(r.attributes={},id.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute."))}},cd=function(e){od(e,function(t){t.uri&&(t.resolvedUri=zc(e.uri,t.uri))})},dd=function(e,t){var r=e.segments[e.segments.length-1];return t&&r&&r.duration?1e3*r.duration:500*(e.targetDuration||10)},fd=function(e){function t(e,r,n){Xc(this,t);var i=ed(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));if(i.srcUrl=e,i.hls_=r,i.withCredentials=n,!i.srcUrl)throw new Error("A non-empty playlist URL is required");return i.state="HAVE_NOTHING",i.on("mediaupdatetimeout",function(){"HAVE_METADATA"===i.state&&(i.state="HAVE_CURRENT_METADATA",i.request=i.hls_.xhr({uri:zc(i.master.uri,i.media().uri),withCredentials:i.withCredentials},function(e,t){if(i.request)return e?i.playlistRequestError(i.request,i.media().uri,"HAVE_METADATA"):void i.haveMetadata(i.request,i.media().uri)}))}),i}return $c(t,e),Jc(t,[{key:"playlistRequestError",value:function(e,t,r){this.request=null,r&&(this.state=r),this.error={playlist:this.master.playlists[t],status:e.status,message:"HLS playlist request error at URL: "+t,responseText:e.responseText,code:e.status>=500?4:2},this.trigger("error")}},{key:"haveMetadata",value:function(e,t){var n=this;this.request=null,this.state="HAVE_METADATA";var i=new Ia;i.push(e.responseText),i.end(),i.manifest.uri=t,i.manifest.attributes=i.manifest.attributes||{};var o=ud(this.master,i.manifest);this.targetDuration=i.manifest.targetDuration,o?(this.master=o,this.media_=this.master.playlists[i.manifest.uri]):this.trigger("playlistunchanged"),this.media().endList||(r.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=r.setTimeout(function(){n.trigger("mediaupdatetimeout")},dd(this.media(),!!o))),this.trigger("loadedplaylist")}},{key:"dispose",value:function(){this.stopRequest(),r.clearTimeout(this.mediaUpdateTimeout)}},{key:"stopRequest",value:function(){if(this.request){var e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}}},{key:"media",value:function(e){var t=this;if(!e)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);var r=this.state;if("string"==typeof e){if(!this.master.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.master.playlists[e]}var n=!this.media_||e.uri!==this.media_.uri;if(this.master.playlists[e.uri].endList)return this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=e,void(n&&(this.trigger("mediachanging"),this.trigger("mediachange")));if(n){if(this.state="SWITCHING_MEDIA",this.request){if(zc(this.master.uri,e.uri)===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.request=this.hls_.xhr({uri:zc(this.master.uri,e.uri),withCredentials:this.withCredentials},function(n,i){if(t.request){if(n)return t.playlistRequestError(t.request,e.uri,r);t.haveMetadata(i,e.uri),"HAVE_MASTER"===r?t.trigger("loadedmetadata"):t.trigger("mediachange")}})}}},{key:"pause",value:function(){this.stopRequest(),r.clearTimeout(this.mediaUpdateTimeout),"HAVE_NOTHING"===this.state&&(this.started=!1),"SWITCHING_MEDIA"===this.state?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MASTER":"HAVE_CURRENT_METADATA"===this.state&&(this.state="HAVE_METADATA")}},{key:"load",value:function(e){var t=this;r.clearTimeout(this.mediaUpdateTimeout);var n=this.media();if(e){var i=n?n.targetDuration/2*1e3:5e3;return void(this.mediaUpdateTimeout=r.setTimeout(function(){return t.load()},i))}if(!this.started)return void this.start();n&&!n.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist")}},{key:"start",value:function(){var e=this;this.started=!0,this.request=this.hls_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},function(t,n){if(e.request){if(e.request=null,t)return e.error={status:n.status,message:"HLS playlist request error at URL: "+e.srcUrl,responseText:n.responseText,code:2},"HAVE_NOTHING"===e.state&&(e.started=!1),e.trigger("error");var i=new Ia;return i.push(n.responseText),(i.end(),e.state="HAVE_MASTER",i.manifest.uri=e.srcUrl,i.manifest.playlists)?(e.master=i.manifest,ld(e.master),cd(e.master),e.trigger("loadedplaylist"),void(e.request||e.media(i.manifest.playlists[0]))):(e.master={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:r.location.href,playlists:[{uri:e.srcUrl,id:0}]},e.master.playlists[e.srcUrl]=e.master.playlists[0],e.master.playlists[0].resolvedUri=e.srcUrl,e.master.playlists[0].attributes=e.master.playlists[0].attributes||{},e.haveMetadata(n,e.srcUrl),e.trigger("loadedmetadata"))}})}}]),t}(nd),gd=vt.createTimeRange,pd=function(e,t){var r=0,n=t-e.mediaSequence,i=e.segments[n];if(i){if(void 0!==i.start)return{result:i.start,precise:!0};if(void 0!==i.end)return{result:i.end-i.duration,precise:!0}}for(;n--;){if(i=e.segments[n],void 0!==i.end)return{result:r+i.end,precise:!0};if(r+=i.duration,void 0!==i.start)return{result:r+i.start,precise:!0}}return{result:r,precise:!1}},hd=function(e,t){for(var r=0,n=void 0,i=t-e.mediaSequence;i<e.segments.length;i++){if(n=e.segments[i],void 0!==n.start)return{result:n.start-r,precise:!0};if(r+=n.duration,void 0!==n.end)return{result:n.end-r,precise:!0}}return{result:-1,precise:!1}},yd=function(e,t,r){var n=void 0,i=void 0;return void 0===t&&(t=e.mediaSequence+e.segments.length),t<e.mediaSequence?0:(n=pd(e,t),n.precise?n.result:(i=hd(e,t),i.precise?i.result:n.result+r))},md=function(e,t,n){if(!e)return 0;if("number"!=typeof n&&(n=0),void 0===t){if(e.totalDuration)return e.totalDuration;if(!e.endList)return r.Infinity}return yd(e,t,n)},vd=function(e,t,r){var n=0;if(t>r){var i=[r,t];t=i[0],r=i[1]}if(t<0){for(var o=t;o<Math.min(0,r);o++)n+=e.targetDuration;t=0}for(var a=t;a<r;a++)n+=e.segments[a].duration;return n},bd=function(e){if(!e.segments.length)return 0;for(var t=e.segments.length-1,r=e.segments[t].duration||e.targetDuration,n=r+2*e.targetDuration;t--&&!((r+=e.segments[t].duration)>=n););return Math.max(0,t)},Ad=function(e,t,r){if(!e||!e.segments)return null;if(e.endList)return md(e);if(null===t)return null;t=t||0;var n=r?bd(e):e.segments.length;return yd(e,e.mediaSequence+n,t)},_d=function(e,t){var r=t||0,n=Ad(e,t,!0);return null===n?gd():gd(r,n)},Ed=function(e){return e-Math.floor(e)==0},Td=function(e,t){if(Ed(t))return t+.1*e;for(var r=t.toString().split(".")[1].length,n=1;n<=r;n++){var i=Math.pow(10,n),o=t*i;if(Ed(o)||n===r)return(o+e)/i}},Sd=Td.bind(null,1),Id=Td.bind(null,-1),wd=function(e,t,r,n){var i=void 0,o=void 0,a=e.segments.length,s=t-n;if(s<0){if(r>0)for(i=r-1;i>=0;i--)if(o=e.segments[i],(s+=Id(o.duration))>0)return{mediaIndex:i,startTime:n-vd(e,r,i)};return{mediaIndex:0,startTime:t}}if(r<0){for(i=r;i<0;i++)if((s-=e.targetDuration)<0)return{mediaIndex:0,startTime:t};r=0}for(i=r;i<a;i++)if(o=e.segments[i],(s-=Sd(o.duration))<0)return{mediaIndex:i,startTime:n+vd(e,r,i)};return{mediaIndex:a-1,startTime:t}},Cd=function(e){return e.excludeUntil&&e.excludeUntil>Date.now()},Dd=function(e){return e.excludeUntil&&e.excludeUntil===1/0},Md=function(e){var t=Cd(e);return!e.disabled&&!t},Od=function(e){return e.disabled},Bd=function(e){for(var t=0;t<e.segments.length;t++)if(e.segments[t].key)return!0;return!1},Rd=function(e){for(var t=0;t<e.segments.length;t++)if(e.segments[t].map)return!0;return!1},Pd=function(e,t){return t.attributes&&t.attributes[e]},kd=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return Pd("BANDWIDTH",r)?(e*r.attributes.BANDWIDTH-8*n)/t:NaN},Ld=function(e,t){if(1===e.playlists.length)return!0;var r=t.attributes.BANDWIDTH||Number.MAX_VALUE;return 0===e.playlists.filter(function(e){return!!Md(e)&&(e.attributes.BANDWIDTH||0)<r}).length},Nd={duration:md,seekable:_d,safeLiveIndex:bd,getMediaInfoForTime:wd,isEnabled:Md,isDisabled:Od,isBlacklisted:Cd,isIncompatible:Dd,playlistEnd:Ad,isAes:Bd,isFmp4:Rd,hasAttribute:Pd,estimateSegmentRequestTime:kd,isLowestEnabledRendition:Ld},xd=vt.xhr,jd=vt.mergeOptions,Ud=function(){return function e(t,r){t=jd({timeout:45e3},t);var n=e.beforeRequest||vt.Hls.xhr.beforeRequest;if(n&&"function"==typeof n){var i=n(t);i&&(t=i)}var o=xd(t,function(e,t){var n=o.response;!e&&n&&(o.responseTime=Date.now(),o.roundTripTime=o.responseTime-o.requestTime,o.bytesReceived=n.byteLength||n.length,o.bandwidth||(o.bandwidth=Math.floor(o.bytesReceived/o.roundTripTime*8*1e3))),t.headers&&(o.responseHeaders=t.headers),e&&"ETIMEDOUT"===e.code&&(o.timedout=!0),e||o.aborted||200===t.statusCode||206===t.statusCode||0===t.statusCode||(e=new Error("XHR Failed with a response of: "+(o&&(n||o.responseText)))),r(e,o)}),a=o.abort;return o.abort=function(){return o.aborted=!0,a.apply(o,arguments)},o.uri=t.uri,o.requestTime=Date.now(),o}},Fd=function(e,t){return e.start(t)+"-"+e.end(t)},Qd=function(e,t){var r=e.toString(16);return"00".substring(0,2-r.length)+r+(t%2?" ":"")},Gd=function(e){return e>=32&&e<126?String.fromCharCode(e):"."},Wd=function(e){var t={};return Object.keys(e).forEach(function(r){var n=e[r];ArrayBuffer.isView(n)?t[r]={bytes:n.buffer,byteOffset:n.byteOffset,byteLength:n.byteLength}:t[r]=n}),t},Hd=function(e){var t=e.byterange||{length:1/0,offset:0};return[t.length,t.offset,e.resolvedUri].join(",")},Yd=function(e){for(var t=Array.prototype.slice.call(e),r="",n=void 0,i=void 0,o=0;o<t.length/16;o++)n=t.slice(16*o,16*o+16).map(Qd).join(""),i=t.slice(16*o,16*o+16).map(Gd).join(""),r+=n+" "+i+"\n";return r},Vd=function(e){var t=e.bytes;return Yd(t)},qd=function(e){var t="",r=void 0;for(r=0;r<e.length;r++)t+=Fd(e,r)+" ";return t},Kd=Object.freeze({createTransferableMessage:Wd,initSegmentId:Hd,hexDump:Yd,tagDump:Vd,textRanges:qd}),zd=function(e,t,r,n){var i=void 0;if("stream"===t){i=new Date(1e3*n+r.getTime());var o=e.toISOString(),a=r.toISOString(),s=i.toISOString();return a<=o&&o<=s}if("player"===t)return i=n+r,r<=e&&e<=i},Xd=function(e,t,r){if(!r.segments||0===r.segments.length)return null;if("player"!==t&&"stream"!==t)return null;for(var n=0,i=0;i<r.segments.length;i++){var o=r.segments[i],a=n+o.duration,s=void 0,u=void 0;"player"===t?(s=o.start,u=n):(s=o.dateTimeObject,u=o.dateTimeObject);var l=void 0!==o.start&&void 0!==o.end&&zd(e,t,s,o.end-o.start),c=zd(e,t,u,o.duration);if(l)return{segment:o,estimatedStart:u,type:"accurate"};if(c)return{segment:o,estimatedStart:u,type:"estimate"};n=a}return null},Jd=function(e,t){return Xd(e,"player",t)},Zd=function(e,t){var r=void 0;try{r=new Date(e)}catch(e){return null}return Xd(r,"stream",t)},$d=function(e,t){var r=void 0,n=void 0;try{r=new Date(e),n=new Date(t)}catch(e){}var i=r.getTime();return(n.getTime()-i)/1e3},ef=function(e){if(!e.segments||0===e.segments.length)return!1;for(var t=0;t<e.segments.length;t++){if(!e.segments[t].dateTimeObject)return!1}return!0},tf=function(e){var t=e.playlist,r=e.time,n=void 0===r?void 0:r,i=e.callback;if(!i)throw new Error("getStreamTime: callback must be provided");if(!t||void 0===n)return i({message:"getStreamTime: playlist and time must be provided"});var o=Jd(n,t);if(!o)return i({message:"valid streamTime was not found"});if("estimate"===o.type)return i({message:"Accurate streamTime could not be determined. Please seek to e.seekTime and try again",seekTime:o.estimatedStart});var a={mediaSeconds:n};return o.segment.dateTimeObject&&(a.programDateTime=o.segment.dateTimeObject.toISOString()),i(null,a)},rf=function e(t){var r=t.streamTime,n=t.playlist,i=t.retryCount,o=void 0===i?2:i,a=t.seekTo,s=t.pauseAfterSeek,u=void 0===s||s,l=t.tech,c=t.callback;if(!c)throw new Error("seekToStreamTime: callback must be provided");if(void 0===r||!n||!a)return c({message:"seekToStreamTime: streamTime, seekTo and playlist must be provided"});if(!n.endList&&!l.hasStarted_)return c({message:"player must be playing a live stream to start buffering"});if(!ef(n))return c({message:"programDateTime tags must be provided in the manifest "+n.resolvedUri});var d=Zd(r,n);if(!d)return c({message:r+" was not found in the stream"});if("estimate"===d.type)return 0===o?c({message:r+" is not buffered yet. Try again"}):e({streamTime:r,playlist:n,retryCount:o-1,seekTo:a,pauseAfterSeek:u,tech:l,callback:c});var f=d.segment,g=$d(f.dateTimeObject,r),p=f.start+g,h=function(){return c(null,l.currentTime())};l.one("seeked",h),u&&l.pause(),a(p)},nf=function(e,t){var r=[],n=void 0;if(e&&e.length)for(n=0;n<e.length;n++)t(e.start(n),e.end(n))&&r.push([e.start(n),e.end(n)]);return vt.createTimeRanges(r)},of=function(e,t){return nf(e,function(e,r){return e-1/30<=t&&r+1/30>=t})},af=function(e,t){return nf(e,function(e){return e-1/30>=t})},sf=function(e){if(e.length<2)return vt.createTimeRanges();for(var t=[],r=1;r<e.length;r++){var n=e.end(r-1),i=e.start(r);t.push([n,i])}return vt.createTimeRanges(t)},uf=function(e){var t=[];if(!e||!e.length)return"";for(var r=0;r<e.length;r++)t.push(e.start(r)+" => "+e.end(r));return t.join(", ")},lf=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return((e.length?e.end(e.length-1):0)-t)/r},cf=function(e){for(var t=[],r=0;r<e.length;r++)t.push({start:e.start(r),end:e.end(r)});return t},df=function(e,t,r){var n=t.player_;if(r.captions&&r.captions.length){e.inbandTextTracks_||(e.inbandTextTracks_={});for(var i in r.captionStreams)if(!e.inbandTextTracks_[i]){n.tech_.trigger({type:"usage",name:"hls-608"});var o=n.textTracks().getTrackById(i);e.inbandTextTracks_[i]=o||n.addRemoteTextTrack({kind:"captions",id:i,label:i},!1).track}}r.metadata&&r.metadata.length&&!e.metadataTrack_&&(e.metadataTrack_=n.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,e.metadataTrack_.inBandMetadataTrackDispatchType=r.metadata.dispatchType)},ff=function(e,t,r){var n=void 0,i=void 0;if(r&&r.cues)for(n=r.cues.length;n--;)i=r.cues[n],i.startTime<=t&&i.endTime>=e&&r.removeCue(i)},gf=function(e){Object.defineProperties(e.frame,{id:{get:function(){return vt.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),e.value.key}},value:{get:function(){return vt.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),e.value.data}},privateData:{get:function(){return vt.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),e.value.data}}})},pf=function(e){return isNaN(e)||Math.abs(e)===1/0?Number.MAX_VALUE:e},hf=function(e,t,n){var i=r.WebKitDataCue||r.VTTCue;if(t&&t.forEach(function(e){var t=e.stream;this.inbandTextTracks_[t].addCue(new i(e.startTime+this.timestampOffset,e.endTime+this.timestampOffset,e.text))},e),n){var o=pf(e.mediaSource_.duration);if(n.forEach(function(e){var t=e.cueTime+this.timestampOffset;e.frames.forEach(function(e){var r=new i(t,t,e.value||e.url||e.data||"");r.frame=e,r.value=e,gf(r),this.metadataTrack_.addCue(r)},this)},e),e.metadataTrack_&&e.metadataTrack_.cues&&e.metadataTrack_.cues.length){for(var a=e.metadataTrack_.cues,s=[],u=0;u<a.length;u++)a[u]&&s.push(a[u]);var l=s.reduce(function(e,t){var r=e[t.startTime]||[];return r.push(t),e[t.startTime]=r,e},{}),c=Object.keys(l).sort(function(e,t){return Number(e)-Number(t)});c.forEach(function(e,t){var r=l[e],n=Number(c[t+1])||o;r.forEach(function(e){e.endTime=n})})}}},yf="undefined"!=typeof window?window:{},mf="undefined"==typeof Symbol?"__target":Symbol(),vf="application/javascript",bf=yf.BlobBuilder||yf.WebKitBlobBuilder||yf.MozBlobBuilder||yf.MSBlobBuilder,Af=yf.URL||yf.webkitURL||Af&&Af.msURL,_f=yf.Worker;if(_f){var Ef,Tf=Et("self.onmessage = function () {}"),Sf=new Uint8Array(1);try{Ef=new _f(Tf),Ef.postMessage(Sf,[Sf.buffer])}catch(e){_f=null}finally{Af.revokeObjectURL(Tf),Ef&&Ef.terminate()}}var If=new _t("./transmuxer-worker.worker.js",function(e,t){var r=this;!function(){var e,t,n,i,o,a,s,u,l,c,d,f,g,p,h,y,m,v,b,A,_,E,T,S,I,w,C,D,M,O,B,R,P,k,L,N,x=Math.pow(2,32)-1;!function(){var e;if(T={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},"undefined"!=typeof Uint8Array){for(e in T)T.hasOwnProperty(e)&&(T[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);S=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),w=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),I=new Uint8Array([0,0,0,1]),C=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),D=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),M={video:C,audio:D},R=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),B=new Uint8Array([0,0,0,0,0,0,0,0]),P=new Uint8Array([0,0,0,0,0,0,0,0]),k=P,L=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),N=P,O=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}}(),e=function(e){var t,r,n,i=[],o=0;for(t=1;t<arguments.length;t++)i.push(arguments[t]);for(t=i.length;t--;)o+=i[t].byteLength;for(r=new Uint8Array(o+8),n=new DataView(r.buffer,r.byteOffset,r.byteLength),n.setUint32(0,r.byteLength),r.set(e,4),t=0,o=8;t<i.length;t++)r.set(i[t],o),o+=i[t].byteLength;return r},t=function(){return e(T.dinf,e(T.dref,R))},n=function(t){return e(T.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,t.audioobjecttype<<3|t.samplingfrequencyindex>>>1,t.samplingfrequencyindex<<7|t.channelcount<<3,6,1,2]))},i=function(){return e(T.ftyp,S,I,S,w)},y=function(t){return e(T.hdlr,M[t])},o=function(t){return e(T.mdat,t)},h=function(t){var r=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,t.duration>>>24&255,t.duration>>>16&255,t.duration>>>8&255,255&t.duration,85,196,0,0]);return t.samplerate&&(r[12]=t.samplerate>>>24&255,r[13]=t.samplerate>>>16&255,r[14]=t.samplerate>>>8&255,r[15]=255&t.samplerate),e(T.mdhd,r)},p=function(t){return e(T.mdia,h(t),y(t.type),s(t))},a=function(t){return e(T.mfhd,new Uint8Array([0,0,0,0,(4278190080&t)>>24,(16711680&t)>>16,(65280&t)>>8,255&t]))},s=function(r){return e(T.minf,"video"===r.type?e(T.vmhd,O):e(T.smhd,B),t(),v(r))},u=function(t,r){for(var n=[],i=r.length;i--;)n[i]=A(r[i]);return e.apply(null,[T.moof,a(t)].concat(n))},l=function(t){for(var r=t.length,n=[];r--;)n[r]=f(t[r]);return e.apply(null,[T.moov,d(4294967295)].concat(n).concat(c(t)))},c=function(t){for(var r=t.length,n=[];r--;)n[r]=_(t[r]);return e.apply(null,[T.mvex].concat(n))},d=function(t){var r=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(4278190080&t)>>24,(16711680&t)>>16,(65280&t)>>8,255&t,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return e(T.mvhd,r)},m=function(t){var r,n,i=t.samples||[],o=new Uint8Array(4+i.length);for(n=0;n<i.length;n++)r=i[n].flags,o[n+4]=r.dependsOn<<4|r.isDependedOn<<2|r.hasRedundancy;return e(T.sdtp,o)},v=function(t){return e(T.stbl,b(t),e(T.stts,N),e(T.stsc,k),e(T.stsz,L),e(T.stco,P))},function(){var t,r;b=function(n){return e(T.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),"video"===n.type?t(n):r(n))},t=function(t){var r,n=t.sps||[],i=t.pps||[],o=[],a=[];for(r=0;r<n.length;r++)o.push((65280&n[r].byteLength)>>>8),o.push(255&n[r].byteLength),o=o.concat(Array.prototype.slice.call(n[r]));for(r=0;r<i.length;r++)a.push((65280&i[r].byteLength)>>>8),a.push(255&i[r].byteLength),a=a.concat(Array.prototype.slice.call(i[r]));return e(T.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(65280&t.width)>>8,255&t.width,(65280&t.height)>>8,255&t.height,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),e(T.avcC,new Uint8Array([1,t.profileIdc,t.profileCompatibility,t.levelIdc,255].concat([n.length]).concat(o).concat([i.length]).concat(a))),e(T.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])))},r=function(t){return e(T.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(65280&t.channelcount)>>8,255&t.channelcount,(65280&t.samplesize)>>8,255&t.samplesize,0,0,0,0,(65280&t.samplerate)>>8,255&t.samplerate,0,0]),n(t))}}(),g=function(t){var r=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(4278190080&t.id)>>24,(16711680&t.id)>>16,(65280&t.id)>>8,255&t.id,0,0,0,0,(4278190080&t.duration)>>24,(16711680&t.duration)>>16,(65280&t.duration)>>8,255&t.duration,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(65280&t.width)>>8,255&t.width,0,0,(65280&t.height)>>8,255&t.height,0,0]);return e(T.tkhd,r)},A=function(t){var r,n,i,o,a,s,u;return r=e(T.tfhd,new Uint8Array([0,0,0,58,(4278190080&t.id)>>24,(16711680&t.id)>>16,(65280&t.id)>>8,255&t.id,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),s=Math.floor(t.baseMediaDecodeTime/(x+1)),u=Math.floor(t.baseMediaDecodeTime%(x+1)),n=e(T.tfdt,new Uint8Array([1,0,0,0,s>>>24&255,s>>>16&255,s>>>8&255,255&s,u>>>24&255,u>>>16&255,u>>>8&255,255&u])),a=92,"audio"===t.type?(i=E(t,a),e(T.traf,r,n,i)):(o=m(t),i=E(t,o.length+a),e(T.traf,r,n,i,o))},f=function(t){return t.duration=t.duration||4294967295,e(T.trak,g(t),p(t))},_=function(t){var r=new Uint8Array([0,0,0,0,(4278190080&t.id)>>24,(16711680&t.id)>>16,(65280&t.id)>>8,255&t.id,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return"video"!==t.type&&(r[r.length-1]=0),e(T.trex,r)},function(){var t,r,n;n=function(e,t){var r=0,n=0,i=0,o=0;return e.length&&(void 0!==e[0].duration&&(r=1),void 0!==e[0].size&&(n=2),void 0!==e[0].flags&&(i=4),void 0!==e[0].compositionTimeOffset&&(o=8)),[0,0,r|n|i|o,1,(4278190080&e.length)>>>24,(16711680&e.length)>>>16,(65280&e.length)>>>8,255&e.length,(4278190080&t)>>>24,(16711680&t)>>>16,(65280&t)>>>8,255&t]},r=function(t,r){var i,o,a,s;for(o=t.samples||[],r+=20+16*o.length,i=n(o,r),s=0;s<o.length;s++)a=o[s],i=i.concat([(4278190080&a.duration)>>>24,(16711680&a.duration)>>>16,(65280&a.duration)>>>8,255&a.duration,(4278190080&a.size)>>>24,(16711680&a.size)>>>16,(65280&a.size)>>>8,255&a.size,a.flags.isLeading<<2|a.flags.dependsOn,a.flags.isDependedOn<<6|a.flags.hasRedundancy<<4|a.flags.paddingValue<<1|a.flags.isNonSyncSample,61440&a.flags.degradationPriority,15&a.flags.degradationPriority,(4278190080&a.compositionTimeOffset)>>>24,(16711680&a.compositionTimeOffset)>>>16,(65280&a.compositionTimeOffset)>>>8,255&a.compositionTimeOffset]);return e(T.trun,new Uint8Array(i))},t=function(t,r){var i,o,a,s;for(o=t.samples||[],r+=20+8*o.length,i=n(o,r),s=0;s<o.length;s++)a=o[s],i=i.concat([(4278190080&a.duration)>>>24,(16711680&a.duration)>>>16,(65280&a.duration)>>>8,255&a.duration,(4278190080&a.size)>>>24,(16711680&a.size)>>>16,(65280&a.size)>>>8,255&a.size]);return e(T.trun,new Uint8Array(i))},E=function(e,n){return"audio"===e.type?t(e,n):r(e,n)}}();var j,U,F,Q,G,W={ftyp:i,mdat:o,moof:u,moov:l,initSegment:function(e){var t,r=i(),n=l(e);return t=new Uint8Array(r.byteLength+n.byteLength),t.set(r),t.set(n,r.byteLength),t}},H=function(e){return e>>>0},Y={toUnsigned:H},V=Y.toUnsigned;j=function(e,t){var r,n,i,o,a,s=[];if(!t.length)return null;for(r=0;r<e.byteLength;)n=V(e[r]<<24|e[r+1]<<16|e[r+2]<<8|e[r+3]),i=U(e.subarray(r+4,r+8)),o=n>1?r+n:e.byteLength,i===t[0]&&(1===t.length?s.push(e.subarray(r+8,o)):(a=j(e.subarray(r+8,o),t.slice(1)),a.length&&(s=s.concat(a)))),r=o;return s},U=function(e){var t="";return t+=String.fromCharCode(e[0]),t+=String.fromCharCode(e[1]),t+=String.fromCharCode(e[2]),t+=String.fromCharCode(e[3])},F=function(e){var t={};return j(e,["moov","trak"]).reduce(function(e,t){var r,n,i,o,a;return(r=j(t,["tkhd"])[0])?(n=r[0],i=0===n?12:20,o=V(r[i]<<24|r[i+1]<<16|r[i+2]<<8|r[i+3]),(a=j(t,["mdia","mdhd"])[0])?(n=a[0],i=0===n?12:20,e[o]=V(a[i]<<24|a[i+1]<<16|a[i+2]<<8|a[i+3]),e):null):null},t)},Q=function(e,t){var r,n,i;return r=j(t,["moof","traf"]),n=[].concat.apply([],r.map(function(t){return j(t,["tfhd"]).map(function(r){var n,i,o;return n=V(r[4]<<24|r[5]<<16|r[6]<<8|r[7]),i=e[n]||9e4,o=j(t,["tfdt"]).map(function(e){var t,r;return t=e[0],r=V(e[4]<<24|e[5]<<16|e[6]<<8|e[7]),1===t&&(r*=Math.pow(2,32),r+=V(e[8]<<24|e[9]<<16|e[10]<<8|e[11])),r})[0],(o=o||1/0)/i})})),i=Math.min.apply(null,n),isFinite(i)?i:0},G=function(e){var t=j(e,["moov","trak"]),r=[];return t.forEach(function(e){var t=j(e,["mdia","hdlr"]),n=j(e,["tkhd"]);t.forEach(function(e,t){var i,o,a,s=U(e.subarray(8,12)),u=n[t];"vide"===s&&(i=new DataView(u.buffer,u.byteOffset,u.byteLength),o=i.getUint8(0),a=0===o?i.getUint32(12):i.getUint32(20),r.push(a))})}),r};var q={findBox:j,parseType:U,timescale:F,startTime:Q,videoTrackIds:G},K=function(){this.init=function(){var e={};this.on=function(t,r){e[t]||(e[t]=[]),e[t]=e[t].concat(r)},this.off=function(t,r){var n;return!!e[t]&&(n=e[t].indexOf(r),e[t]=e[t].slice(),e[t].splice(n,1),n>-1)},this.trigger=function(t){var r,n,i,o;if(r=e[t])if(2===arguments.length)for(i=r.length,n=0;n<i;++n)r[n].call(this,arguments[1]);else{for(o=[],n=arguments.length,n=1;n<arguments.length;++n)o.push(arguments[n]);for(i=r.length,n=0;n<i;++n)r[n].apply(this,o)}},this.dispose=function(){e={}}}};K.prototype.pipe=function(e){return this.on("data",function(t){e.push(t)}),this.on("done",function(t){e.flush(t)}),e},K.prototype.push=function(e){this.trigger("data",e)},K.prototype.flush=function(e){this.trigger("done",e)};var z,X,J,Z,$,ee,te=K,re=function(e){var t,r,n=[],i=[];for(n.byteLength=0,t=0;t<e.length;t++)r=e[t],"access_unit_delimiter_rbsp"===r.nalUnitType?(n.length&&(n.duration=r.dts-n.dts,i.push(n)),n=[r],n.byteLength=r.data.byteLength,n.pts=r.pts,n.dts=r.dts):("slice_layer_without_partitioning_rbsp_idr"===r.nalUnitType&&(n.keyFrame=!0),n.duration=r.dts-n.dts,n.byteLength+=r.data.byteLength,n.push(r));return i.length&&(!n.duration||n.duration<=0)&&(n.duration=i[i.length-1].duration),i.push(n),i},ne=function(e){var t,r,n=[],i=[];for(n.byteLength=0,n.nalCount=0,n.duration=0,n.pts=e[0].pts,n.dts=e[0].dts,i.byteLength=0,i.nalCount=0,i.duration=0,i.pts=e[0].pts,i.dts=e[0].dts,t=0;t<e.length;t++)r=e[t],r.keyFrame?(n.length&&(i.push(n),i.byteLength+=n.byteLength,i.nalCount+=n.nalCount,i.duration+=n.duration),n=[r],n.nalCount=r.length,n.byteLength=r.byteLength,n.pts=r.pts,n.dts=r.dts,n.duration=r.duration):(n.duration+=r.duration,n.nalCount+=r.length,n.byteLength+=r.byteLength,n.push(r));return i.length&&n.duration<=0&&(n.duration=i[i.length-1].duration),i.byteLength+=n.byteLength,i.nalCount+=n.nalCount,i.duration+=n.duration,i.push(n),i},ie=function(e){var t;return!e[0][0].keyFrame&&e.length>1&&(t=e.shift(),e.byteLength-=t.byteLength,e.nalCount-=t.nalCount,e[0][0].dts=t.dts,e[0][0].pts=t.pts,e[0][0].duration+=t.duration),e},oe=function(){return{size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}}},ae=function(e,t){var r=oe();return r.dataOffset=t,r.compositionTimeOffset=e.pts-e.dts,r.duration=e.duration,r.size=4*e.length,r.size+=e.byteLength,e.keyFrame&&(r.flags.dependsOn=2,r.flags.isNonSyncSample=0),r},se=function(e,t){var r,n,i,o,a,s=t||0,u=[];for(r=0;r<e.length;r++)for(o=e[r],n=0;n<o.length;n++)a=o[n],i=ae(a,s),s+=i.size,u.push(i);return u},ue=function(e){var t,r,n,i,o,a,s=0,u=e.byteLength,l=e.nalCount,c=u+4*l,d=new Uint8Array(c),f=new DataView(d.buffer);for(t=0;t<e.length;t++)for(i=e[t],r=0;r<i.length;r++)for(o=i[r],n=0;n<o.length;n++)a=o[n],f.setUint32(s,a.data.byteLength),s+=4,d.set(a.data,s),s+=a.data.byteLength;return d},le={groupNalsIntoFrames:re,groupFramesIntoGops:ne,extendFirstKeyFrame:ie,generateSampleTable:se,concatenateNalData:ue},ce=[33,16,5,32,164,27],de=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],fe=function(e){for(var t=[];e--;)t.push(0);return t},ge={96e3:[ce,[227,64],fe(154),[56]],88200:[ce,[231],fe(170),[56]],64e3:[ce,[248,192],fe(240),[56]],48e3:[ce,[255,192],fe(268),[55,148,128],fe(54),[112]],44100:[ce,[255,192],fe(268),[55,163,128],fe(84),[112]],32e3:[ce,[255,192],fe(268),[55,234],fe(226),[112]],24e3:[ce,[255,192],fe(268),[55,255,128],fe(268),[111,112],fe(126),[224]],16e3:[ce,[255,192],fe(268),[55,255,128],fe(268),[111,255],fe(269),[223,108],fe(195),[1,192]],12e3:[de,fe(268),[3,127,248],fe(268),[6,255,240],fe(268),[13,255,224],fe(268),[27,253,128],fe(259),[56]],11025:[de,fe(268),[3,127,248],fe(268),[6,255,240],fe(268),[13,255,224],fe(268),[27,255,192],fe(268),[55,175,128],fe(108),[112]],8e3:[de,fe(268),[3,121,16],fe(47),[7]]},pe=function(e){return Object.keys(e).reduce(function(t,r){return t[r]=new Uint8Array(e[r].reduce(function(e,t){return e.concat(t)},[])),t},{})}(ge);z=function(e){return 9e4*e},X=function(e,t){return e*t},J=function(e){return e/9e4},Z=function(e,t){return e/t},$=function(e,t){return z(Z(e,t))},ee=function(e,t){return X(J(e),t)};var he={secondsToVideoTs:z,secondsToAudioTs:X,videoTsToSeconds:J,audioTsToSeconds:Z,audioTsToVideoTs:$,videoTsToAudioTs:ee},ye=function(e){var t,r,n=0;for(t=0;t<e.length;t++)r=e[t],n+=r.data.byteLength;return n},me=function(e,t,r,n){var i,o,a,s=0,u=0,l=0,c=0;if(t.length&&(i=he.audioTsToVideoTs(e.baseMediaDecodeTime,e.samplerate),s=Math.ceil(9e4/(e.samplerate/1024)),r&&n&&(u=i-Math.max(r,n),l=Math.floor(u/s),c=l*s),!(l<1||c>45e3))){for(o=pe[e.samplerate],o||(o=t[0].data),a=0;a<l;a++)t.splice(a,0,{data:o});e.baseMediaDecodeTime-=Math.floor(he.videoTsToAudioTs(c,e.samplerate))}},ve=function(e,t,r){return t.minSegmentDts>=r?e:(t.minSegmentDts=1/0,e.filter(function(e){return e.dts>=r&&(t.minSegmentDts=Math.min(t.minSegmentDts,e.dts),t.minSegmentPts=t.minSegmentDts,!0)}))},be=function(e){var t,r,n=[];for(t=0;t<e.length;t++)r=e[t],n.push({size:r.data.byteLength,duration:1024});return n},Ae=function(e){var t,r,n=0,i=new Uint8Array(ye(e));for(t=0;t<e.length;t++)r=e[t],i.set(r.data,n),n+=r.data.byteLength;return i},_e={prefixWithSilence:me,trimAdtsFramesByEarliestDts:ve,generateSampleTable:be,concatenateFrameData:Ae},Ee=function(e,t){"number"==typeof t.pts&&(void 0===e.timelineStartInfo.pts&&(e.timelineStartInfo.pts=t.pts),void 0===e.minSegmentPts?e.minSegmentPts=t.pts:e.minSegmentPts=Math.min(e.minSegmentPts,t.pts),void 0===e.maxSegmentPts?e.maxSegmentPts=t.pts:e.maxSegmentPts=Math.max(e.maxSegmentPts,t.pts)),"number"==typeof t.dts&&(void 0===e.timelineStartInfo.dts&&(e.timelineStartInfo.dts=t.dts),void 0===e.minSegmentDts?e.minSegmentDts=t.dts:e.minSegmentDts=Math.min(e.minSegmentDts,t.dts),void 0===e.maxSegmentDts?e.maxSegmentDts=t.dts:e.maxSegmentDts=Math.max(e.maxSegmentDts,t.dts))},Te=function(e){delete e.minSegmentDts,delete e.maxSegmentDts,delete e.minSegmentPts,delete e.maxSegmentPts},Se=function(e,t){var r,n,i=e.minSegmentDts;return t||(i-=e.timelineStartInfo.dts),r=e.timelineStartInfo.baseMediaDecodeTime,r+=i,r=Math.max(0,r),"audio"===e.type&&(n=e.samplerate/9e4,r*=n,r=Math.floor(r)),r},Ie={clearDtsInfo:Te,calculateTrackBaseMediaDecodeTime:Se,collectDtsInfo:Ee},we=function(e){for(var t=0,r={payloadType:-1,payloadSize:0},n=0,i=0;t<e.byteLength&&128!==e[t];){for(;255===e[t];)n+=255,t++;for(n+=e[t++];255===e[t];)i+=255,t++;if(i+=e[t++],!r.payload&&4===n){r.payloadType=n,r.payloadSize=i,r.payload=e.subarray(t,t+i);break}t+=i,n=0,i=0}return r},Ce=function(e){return 181!==e.payload[0]?null:49!=(e.payload[1]<<8|e.payload[2])?null:"GA94"!==String.fromCharCode(e.payload[3],e.payload[4],e.payload[5],e.payload[6])?null:3!==e.payload[7]?null:e.payload.subarray(8,e.payload.length-1)},De=function(e,t){var r,n,i,o,a=[];if(!(64&t[0]))return a;for(n=31&t[0],r=0;r<n;r++)i=3*r,o={type:3&t[i+2],pts:e},4&t[i+2]&&(o.ccData=t[i+3]<<8|t[i+4],a.push(o));return a},Me=function(e){for(var t,r,n=e.byteLength,i=[],o=1;o<n-2;)0===e[o]&&0===e[o+1]&&3===e[o+2]?(i.push(o+2),o+=2):o++;if(0===i.length)return e;t=n-i.length,r=new Uint8Array(t);var a=0;for(o=0;o<t;a++,o++)a===i[0]&&(a++,i.shift()),r[o]=e[a];return r},Oe={parseSei:we,parseUserData:Ce,parseCaptionPackets:De,discardEmulationPreventionBytes:Me,USER_DATA_REGISTERED_ITU_T_T35:4},Be=function e(){e.prototype.init.call(this),this.captionPackets_=[],this.ccStreams_=[new Ne(0,0),new Ne(0,1),new Ne(1,0),new Ne(1,1)],this.reset(),this.ccStreams_.forEach(function(e){e.on("data",this.trigger.bind(this,"data")),e.on("done",this.trigger.bind(this,"done"))},this)};Be.prototype=new te,Be.prototype.push=function(e){var t,r,n;if("sei_rbsp"===e.nalUnitType&&(t=Oe.parseSei(e.escapedRBSP),t.payloadType===Oe.USER_DATA_REGISTERED_ITU_T_T35&&(r=Oe.parseUserData(t)))){if(e.dts<this.latestDts_)return void(this.ignoreNextEqualDts_=!0);if(e.dts===this.latestDts_&&this.ignoreNextEqualDts_)return void(--this.numSameDts_||(this.ignoreNextEqualDts_=!1));n=Oe.parseCaptionPackets(e.pts,r),this.captionPackets_=this.captionPackets_.concat(n),this.latestDts_!==e.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=e.dts}},Be.prototype.flush=function(){if(!this.captionPackets_.length)return void this.ccStreams_.forEach(function(e){e.flush()},this);this.captionPackets_.forEach(function(e,t){e.presortIndex=t}),this.captionPackets_.sort(function(e,t){return e.pts===t.pts?e.presortIndex-t.presortIndex:e.pts-t.pts}),this.captionPackets_.forEach(function(e){e.type<2&&this.dispatchCea608Packet(e)},this),this.captionPackets_.length=0,this.ccStreams_.forEach(function(e){e.flush()},this)},Be.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(e){e.reset()})},Be.prototype.dispatchCea608Packet=function(e){this.setsChannel1Active(e)?this.activeCea608Channel_[e.type]=0:this.setsChannel2Active(e)&&(this.activeCea608Channel_[e.type]=1),null!==this.activeCea608Channel_[e.type]&&this.ccStreams_[(e.type<<1)+this.activeCea608Channel_[e.type]].push(e)},Be.prototype.setsChannel1Active=function(e){return 4096==(30720&e.ccData)},Be.prototype.setsChannel2Active=function(e){return 6144==(30720&e.ccData)};var Re={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},Pe=function(e){return null===e?"":(e=Re[e]||e,String.fromCharCode(e))},ke=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],Le=function(){for(var e=[],t=15;t--;)e.push("");return e},Ne=function e(t,r){e.prototype.init.call(this),this.field_=t||0,this.dataChannel_=r||0,this.name_="CC"+(1+(this.field_<<1|this.dataChannel_)),this.setConstants(),this.reset(),this.push=function(e){var t,r,n,i,o;if((t=32639&e.ccData)===this.lastControlCode_)return void(this.lastControlCode_=null);if(4096==(61440&t)?this.lastControlCode_=t:t!==this.PADDING_&&(this.lastControlCode_=null),n=t>>>8,i=255&t,t!==this.PADDING_)if(t===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(t===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(e.pts),this.flushDisplayed(e.pts),r=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=r,this.startPts_=e.pts;else if(t===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(e.pts);else if(t===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(e.pts);else if(t===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(e.pts);else if(t===this.CARRIAGE_RETURN_)this.clearFormatting(e.pts),this.flushDisplayed(e.pts),this.shiftRowsUp_(),this.startPts_=e.pts;else if(t===this.BACKSPACE_)"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1);else if(t===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(e.pts),this.displayed_=Le();else if(t===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=Le();else if(t===this.RESUME_DIRECT_CAPTIONING_)"paintOn"!==this.mode_&&(this.flushDisplayed(e.pts),this.displayed_=Le()),this.mode_="paintOn",this.startPts_=e.pts;else if(this.isSpecialCharacter(n,i))n=(3&n)<<8,o=Pe(n|i),this[this.mode_](e.pts,o),this.column_++;else if(this.isExtCharacter(n,i))"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),n=(3&n)<<8,o=Pe(n|i),this[this.mode_](e.pts,o),this.column_++;else if(this.isMidRowCode(n,i))this.clearFormatting(e.pts),this[this.mode_](e.pts," "),this.column_++,14==(14&i)&&this.addFormatting(e.pts,["i"]),1==(1&i)&&this.addFormatting(e.pts,["u"]);else if(this.isOffsetControlCode(n,i))this.column_+=3&i;else if(this.isPAC(n,i)){var a=ke.indexOf(7968&t);"rollUp"===this.mode_&&(a-this.rollUpRows_+1<0&&(a=this.rollUpRows_-1),this.setRollUp(e.pts,a)),a!==this.row_&&(this.clearFormatting(e.pts),this.row_=a),1&i&&-1===this.formatting_.indexOf("u")&&this.addFormatting(e.pts,["u"]),16==(16&t)&&(this.column_=4*((14&t)>>1)),this.isColorPAC(i)&&14==(14&i)&&this.addFormatting(e.pts,["i"])}else this.isNormalChar(n)&&(0===i&&(i=null),o=Pe(n),o+=Pe(i),this[this.mode_](e.pts,o),this.column_+=o.length)}};Ne.prototype=new te,Ne.prototype.flushDisplayed=function(e){var t=this.displayed_.map(function(e){try{return e.trim()}catch(e){return""}}).join("\n").replace(/^\n+|\n+$/g,"");t.length&&this.trigger("data",{startPts:this.startPts_,endPts:e,text:t,stream:this.name_})},Ne.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=Le(),this.nonDisplayed_=Le(),this.lastControlCode_=null,this.column_=0,this.row_=14,this.rollUpRows_=2,this.formatting_=[]},Ne.prototype.setConstants=function(){0===this.dataChannel_?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):1===this.dataChannel_&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=32|this.CONTROL_,this.END_OF_CAPTION_=47|this.CONTROL_,this.ROLL_UP_2_ROWS_=37|this.CONTROL_,this.ROLL_UP_3_ROWS_=38|this.CONTROL_,this.ROLL_UP_4_ROWS_=39|this.CONTROL_,this.CARRIAGE_RETURN_=45|this.CONTROL_,this.RESUME_DIRECT_CAPTIONING_=41|this.CONTROL_,this.BACKSPACE_=33|this.CONTROL_,this.ERASE_DISPLAYED_MEMORY_=44|this.CONTROL_,this.ERASE_NON_DISPLAYED_MEMORY_=46|this.CONTROL_},Ne.prototype.isSpecialCharacter=function(e,t){return e===this.EXT_&&t>=48&&t<=63},Ne.prototype.isExtCharacter=function(e,t){return(e===this.EXT_+1||e===this.EXT_+2)&&t>=32&&t<=63},Ne.prototype.isMidRowCode=function(e,t){return e===this.EXT_&&t>=32&&t<=47},Ne.prototype.isOffsetControlCode=function(e,t){return e===this.OFFSET_&&t>=33&&t<=35},Ne.prototype.isPAC=function(e,t){return e>=this.BASE_&&e<this.BASE_+8&&t>=64&&t<=127},Ne.prototype.isColorPAC=function(e){return e>=64&&e<=79||e>=96&&e<=127},Ne.prototype.isNormalChar=function(e){return e>=32&&e<=127},Ne.prototype.setRollUp=function(e,t){if("rollUp"!==this.mode_&&(this.row_=14,this.mode_="rollUp",this.flushDisplayed(e),this.nonDisplayed_=Le(),this.displayed_=Le()),void 0!==t&&t!==this.row_)for(var r=0;r<this.rollUpRows_;r++)this.displayed_[t-r]=this.displayed_[this.row_-r],this.displayed_[this.row_-r]="";void 0===t&&(t=this.row_),this.topRow_=t-this.rollUpRows_+1},Ne.prototype.addFormatting=function(e,t){this.formatting_=this.formatting_.concat(t);var r=t.reduce(function(e,t){return e+"<"+t+">"},"");this[this.mode_](e,r)},Ne.prototype.clearFormatting=function(e){if(this.formatting_.length){var t=this.formatting_.reverse().reduce(function(e,t){return e+"</"+t+">"},"");this.formatting_=[],this[this.mode_](e,t)}},Ne.prototype.popOn=function(e,t){var r=this.nonDisplayed_[this.row_];r+=t,this.nonDisplayed_[this.row_]=r},Ne.prototype.rollUp=function(e,t){var r=this.displayed_[this.row_];r+=t,this.displayed_[this.row_]=r},Ne.prototype.shiftRowsUp_=function(){var e;for(e=0;e<this.topRow_;e++)this.displayed_[e]="";for(e=this.row_+1;e<15;e++)this.displayed_[e]="";for(e=this.topRow_;e<this.row_;e++)this.displayed_[e]=this.displayed_[e+1];this.displayed_[this.row_]=""},Ne.prototype.paintOn=function(e,t){var r=this.displayed_[this.row_];r+=t,this.displayed_[this.row_]=r};var xe={CaptionStream:Be,Cea608Stream:Ne},je={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},Ue=function(e,t){var r=1;for(e>t&&(r=-1);Math.abs(t-e)>4294967296;)e+=8589934592*r;return e},Fe=function e(t){var r,n;e.prototype.init.call(this),this.type_=t,this.push=function(e){e.type===this.type_&&(void 0===n&&(n=e.dts),e.dts=Ue(e.dts,n),e.pts=Ue(e.pts,n),r=e.dts,this.trigger("data",e))},this.flush=function(){n=r,this.trigger("done")},this.discontinuity=function(){n=void 0,r=void 0}};Fe.prototype=new te;var Qe,Ge={TimestampRolloverStream:Fe,handleRollover:Ue},We=function(e,t,r){var n,i="";for(n=t;n<r;n++)i+="%"+("00"+e[n].toString(16)).slice(-2);return i},He=function(e,t,r){return decodeURIComponent(We(e,t,r))},Ye=function(e,t,r){return unescape(We(e,t,r))},Ve=function(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]},qe={TXXX:function(e){var t;if(3===e.data[0]){for(t=1;t<e.data.length;t++)if(0===e.data[t]){e.description=He(e.data,1,t),e.value=He(e.data,t+1,e.data.length).replace(/\0*$/,"");break}e.data=e.value}},WXXX:function(e){var t;if(3===e.data[0])for(t=1;t<e.data.length;t++)if(0===e.data[t]){e.description=He(e.data,1,t),e.url=He(e.data,t+1,e.data.length);break}},PRIV:function(e){var t;for(t=0;t<e.data.length;t++)if(0===e.data[t]){e.owner=Ye(e.data,0,t);break}e.privateData=e.data.subarray(t+1),e.data=e.privateData}};Qe=function(e){var t,r={debug:!(!e||!e.debug),descriptor:e&&e.descriptor},n=0,i=[],o=0;if(Qe.prototype.init.call(this),this.dispatchType=je.METADATA_STREAM_TYPE.toString(16),r.descriptor)for(t=0;t<r.descriptor.length;t++)this.dispatchType+=("00"+r.descriptor[t].toString(16)).slice(-2);this.push=function(e){var t,a,s,u,l,c;if("timed-metadata"===e.type){if(e.dataAlignmentIndicator&&(o=0,i.length=0),0===i.length&&(e.data.length<10||e.data[0]!=="I".charCodeAt(0)||e.data[1]!=="D".charCodeAt(0)||e.data[2]!=="3".charCodeAt(0)))return void r.debug;if(i.push(e),o+=e.data.byteLength,1===i.length&&(n=Ve(e.data.subarray(6,10)),n+=10),!(o<n)){for(t={data:new Uint8Array(n),frames:[],pts:i[0].pts,dts:i[0].dts},l=0;l<n;)t.data.set(i[0].data.subarray(0,n-l),l),l+=i[0].data.byteLength,o-=i[0].data.byteLength,i.shift();a=10,64&t.data[5]&&(a+=4,a+=Ve(t.data.subarray(10,14)),n-=Ve(t.data.subarray(16,20)));do{if((s=Ve(t.data.subarray(a+4,a+8)))<1)return;if(c=String.fromCharCode(t.data[a],t.data[a+1],t.data[a+2],t.data[a+3]),u={id:c,data:t.data.subarray(a+10,a+s+10)},u.key=u.id,qe[u.id]&&(qe[u.id](u),"com.apple.streaming.transportStreamTimestamp"===u.owner)){var d=u.data,f=(1&d[3])<<30|d[4]<<22|d[5]<<14|d[6]<<6|d[7]>>>2;f*=4,f+=3&d[7],u.timeStamp=f,void 0===t.pts&&void 0===t.dts&&(t.pts=u.timeStamp,t.dts=u.timeStamp),this.trigger("timestamp",u)}t.frames.push(u),a+=10,a+=s}while(a<n);this.trigger("data",t)}}}},Qe.prototype=new te;var Ke,ze,Xe,Je=Qe,Ze=Ge.TimestampRolloverStream;Ke=function(){var e=new Uint8Array(188),t=0;Ke.prototype.init.call(this),this.push=function(r){var n,i=0,o=188;for(t?(n=new Uint8Array(r.byteLength+t),n.set(e.subarray(0,t)),n.set(r,t),t=0):n=r;o<n.byteLength;)71!==n[i]||71!==n[o]?(i++,o++):(this.trigger("data",n.subarray(i,o)),i+=188,o+=188);i<n.byteLength&&(e.set(n.subarray(i),0),t=n.byteLength-i)},this.flush=function(){188===t&&71===e[0]&&(this.trigger("data",e),t=0),this.trigger("done")}},Ke.prototype=new te,ze=function(){var e,t,r,n;ze.prototype.init.call(this),n=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,e=function(e,n){var i=0;n.payloadUnitStartIndicator&&(i+=e[i]+1),"pat"===n.type?t(e.subarray(i),n):r(e.subarray(i),n)},t=function(e,t){t.section_number=e[7],t.last_section_number=e[8],n.pmtPid=(31&e[10])<<8|e[11],t.pmtPid=n.pmtPid},r=function(e,t){var r,i,o,a;if(1&e[5]){for(n.programMapTable={video:null,audio:null,"timed-metadata":{}},r=(15&e[1])<<8|e[2],i=3+r-4,o=(15&e[10])<<8|e[11],a=12+o;a<i;){var s=e[a],u=(31&e[a+1])<<8|e[a+2];s===je.H264_STREAM_TYPE&&null===n.programMapTable.video?n.programMapTable.video=u:s===je.ADTS_STREAM_TYPE&&null===n.programMapTable.audio?n.programMapTable.audio=u:s===je.METADATA_STREAM_TYPE&&(n.programMapTable["timed-metadata"][u]=s),a+=5+((15&e[a+3])<<8|e[a+4])}t.programMapTable=n.programMapTable}},this.push=function(t){var r={},n=4;if(r.payloadUnitStartIndicator=!!(64&t[1]),r.pid=31&t[1],r.pid<<=8,r.pid|=t[2],(48&t[3])>>>4>1&&(n+=t[n]+1),0===r.pid)r.type="pat",e(t.subarray(n),r),this.trigger("data",r);else if(r.pid===this.pmtPid)for(r.type="pmt",e(t.subarray(n),r),this.trigger("data",r);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else void 0===this.programMapTable?this.packetsWaitingForPmt.push([t,n,r]):this.processPes_(t,n,r)},this.processPes_=function(e,t,r){r.pid===this.programMapTable.video?r.streamType=je.H264_STREAM_TYPE:r.pid===this.programMapTable.audio?r.streamType=je.ADTS_STREAM_TYPE:r.streamType=this.programMapTable["timed-metadata"][r.pid],r.type="pes",r.data=e.subarray(t),this.trigger("data",r)}},ze.prototype=new te,ze.STREAM_TYPES={h264:27,adts:15},Xe=function(){var e=this,t={data:[],size:0},r={data:[],size:0},n={data:[],size:0},i=function(e,t){var r;t.packetLength=6+(e[4]<<8|e[5]),t.dataAlignmentIndicator=0!=(4&e[6]),r=e[7],192&r&&(t.pts=(14&e[9])<<27|(255&e[10])<<20|(254&e[11])<<12|(255&e[12])<<5|(254&e[13])>>>3,t.pts*=4,t.pts+=(6&e[13])>>>1,t.dts=t.pts,64&r&&(t.dts=(14&e[14])<<27|(255&e[15])<<20|(254&e[16])<<12|(255&e[17])<<5|(254&e[18])>>>3,t.dts*=4,t.dts+=(6&e[18])>>>1)),t.data=e.subarray(9+e[8])},o=function(t,r,n){var o,a=new Uint8Array(t.size),s={type:r},u=0,l=0,c=!1;if(t.data.length&&!(t.size<9)){for(s.trackId=t.data[0].pid,u=0;u<t.data.length;u++)o=t.data[u],a.set(o.data,l),l+=o.data.byteLength;i(a,s),c="video"===r||s.packetLength<=t.size,(n||c)&&(t.size=0,t.data.length=0),c&&e.trigger("data",s)}};Xe.prototype.init.call(this),this.push=function(i){({pat:function(){},pes:function(){var e,a;switch(i.streamType){case je.H264_STREAM_TYPE:case je.H264_STREAM_TYPE:e=t,a="video";break;case je.ADTS_STREAM_TYPE:e=r,a="audio";break;case je.METADATA_STREAM_TYPE:e=n,a="timed-metadata";break;default:return}i.payloadUnitStartIndicator&&o(e,a,!0),e.data.push(i),e.size+=i.data.byteLength},pmt:function(){var t={type:"metadata",tracks:[]},r=i.programMapTable;null!==r.video&&t.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+r.video,codec:"avc",type:"video"}),null!==r.audio&&t.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+r.audio,codec:"adts",type:"audio"}),e.trigger("data",t)}})[i.type]()},this.flush=function(){o(t,"video"),o(r,"audio"),o(n,"timed-metadata"),this.trigger("done")}},Xe.prototype=new te;var $e={PAT_PID:0,MP2T_PACKET_LENGTH:188,TransportPacketStream:Ke,TransportParseStream:ze,ElementaryStream:Xe,TimestampRolloverStream:Ze,CaptionStream:xe.CaptionStream,Cea608Stream:xe.Cea608Stream,MetadataStream:Je};for(var et in je)je.hasOwnProperty(et)&&($e[et]=je[et]);var tt,rt=$e,nt=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];tt=function(){var e;tt.prototype.init.call(this),this.push=function(t){var r,n,i,o,a,s,u=0,l=0;if("audio"===t.type)for(e?(o=e,e=new Uint8Array(o.byteLength+t.data.byteLength),e.set(o),e.set(t.data,o.byteLength)):e=t.data;u+5<e.length;)if(255===e[u]&&240==(246&e[u+1])){if(n=2*(1&~e[u+1]),r=(3&e[u+3])<<11|e[u+4]<<3|(224&e[u+5])>>5,a=1024*(1+(3&e[u+6])),s=9e4*a/nt[(60&e[u+2])>>>2],i=u+r,e.byteLength<i)return;if(this.trigger("data",{pts:t.pts+l*s,dts:t.dts+l*s,sampleCount:a,audioobjecttype:1+(e[u+2]>>>6&3),channelcount:(1&e[u+2])<<2|(192&e[u+3])>>>6,samplerate:nt[(60&e[u+2])>>>2],samplingfrequencyindex:(60&e[u+2])>>>2,samplesize:16,data:e.subarray(u+7+n,i)}),e.byteLength===i)return void(e=void 0);l++,e=e.subarray(i)}else u++},this.flush=function(){this.trigger("done")}},tt.prototype=new te;var it,ot=tt;it=function(e){var t=e.byteLength,r=0,n=0;this.length=function(){return 8*t},this.bitsAvailable=function(){return 8*t+n},this.loadWord=function(){var i=e.byteLength-t,o=new Uint8Array(4),a=Math.min(4,t);if(0===a)throw new Error("no bytes available");o.set(e.subarray(i,i+a)),r=new DataView(o.buffer).getUint32(0),n=8*a,t-=a},this.skipBits=function(e){var i;n>e?(r<<=e,n-=e):(e-=n,i=Math.floor(e/8),e-=8*i,t-=i,this.loadWord(),r<<=e,n-=e)},this.readBits=function(e){var i=Math.min(n,e),o=r>>>32-i;return n-=i,n>0?r<<=i:t>0&&this.loadWord(),i=e-i,i>0?o<<i|this.readBits(i):o},this.skipLeadingZeros=function(){var e;for(e=0;e<n;++e)if(0!=(r&2147483648>>>e))return r<<=e,n-=e,e;return this.loadWord(),e+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var e=this.skipLeadingZeros();return this.readBits(e+1)-1},this.readExpGolomb=function(){var e=this.readUnsignedExpGolomb();return 1&e?1+e>>>1:-1*(e>>>1)},this.readBoolean=function(){return 1===this.readBits(1)},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};var at,st,ut,lt=it;st=function(){var e,t,r=0;st.prototype.init.call(this),this.push=function(n){var i;for(t?(i=new Uint8Array(t.byteLength+n.data.byteLength),i.set(t),i.set(n.data,t.byteLength),t=i):t=n.data;r<t.byteLength-3;r++)if(1===t[r+2]){e=r+5;break}for(;e<t.byteLength;)switch(t[e]){case 0:if(0!==t[e-1]){e+=2;break}if(0!==t[e-2]){e++;break}r+3!==e-2&&this.trigger("data",t.subarray(r+3,e-2));do{e++}while(1!==t[e]&&e<t.length);r=e-2,e+=3;break;case 1:if(0!==t[e-1]||0!==t[e-2]){e+=3;break}this.trigger("data",t.subarray(r+3,e-2)),r=e-2,e+=3;break;default:e+=3}t=t.subarray(r),e-=r,r=0},this.flush=function(){t&&t.byteLength>3&&this.trigger("data",t.subarray(r+3)),t=null,r=0,this.trigger("done")}},st.prototype=new te,ut={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},at=function(){var e,t,r,n,i,o,a,s=new st;at.prototype.init.call(this),e=this,this.push=function(e){"video"===e.type&&(t=e.trackId,r=e.pts,n=e.dts,s.push(e))},s.on("data",function(a){var s={trackId:t,pts:r,dts:n,data:a};switch(31&a[0]){case 5:s.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:s.nalUnitType="sei_rbsp",s.escapedRBSP=i(a.subarray(1));break;case 7:s.nalUnitType="seq_parameter_set_rbsp",s.escapedRBSP=i(a.subarray(1)),s.config=o(s.escapedRBSP);break;case 8:s.nalUnitType="pic_parameter_set_rbsp";break;case 9:s.nalUnitType="access_unit_delimiter_rbsp"}e.trigger("data",s)}),s.on("done",function(){e.trigger("done")}),this.flush=function(){s.flush()},a=function(e,t){var r,n,i=8,o=8;for(r=0;r<e;r++)0!==o&&(n=t.readExpGolomb(),o=(i+n+256)%256),i=0===o?i:o},i=function(e){for(var t,r,n=e.byteLength,i=[],o=1;o<n-2;)0===e[o]&&0===e[o+1]&&3===e[o+2]?(i.push(o+2),o+=2):o++;if(0===i.length)return e;t=n-i.length,r=new Uint8Array(t);var a=0;for(o=0;o<t;a++,o++)a===i[0]&&(a++,i.shift()),r[o]=e[a];return r},o=function(e){var t,r,n,i,o,s,u,l,c,d,f,g,p,h=0,y=0,m=0,v=0,b=1;if(t=new lt(e),r=t.readUnsignedByte(),i=t.readUnsignedByte(),n=t.readUnsignedByte(),t.skipUnsignedExpGolomb(),ut[r]&&(o=t.readUnsignedExpGolomb(),3===o&&t.skipBits(1),t.skipUnsignedExpGolomb(),t.skipUnsignedExpGolomb(),t.skipBits(1),t.readBoolean()))for(f=3!==o?8:12,p=0;p<f;p++)t.readBoolean()&&(p<6?a(16,t):a(64,t));if(t.skipUnsignedExpGolomb(),0===(s=t.readUnsignedExpGolomb()))t.readUnsignedExpGolomb();else if(1===s)for(t.skipBits(1),t.skipExpGolomb(),t.skipExpGolomb(),u=t.readUnsignedExpGolomb(),p=0;p<u;p++)t.skipExpGolomb();if(t.skipUnsignedExpGolomb(),t.skipBits(1),l=t.readUnsignedExpGolomb(),c=t.readUnsignedExpGolomb(),d=t.readBits(1),0===d&&t.skipBits(1),t.skipBits(1),t.readBoolean()&&(h=t.readUnsignedExpGolomb(),y=t.readUnsignedExpGolomb(),m=t.readUnsignedExpGolomb(),v=t.readUnsignedExpGolomb()),t.readBoolean()&&t.readBoolean()){switch(t.readUnsignedByte()){case 1:g=[1,1];break;case 2:g=[12,11];break;case 3:g=[10,11];break;case 4:g=[16,11];break;case 5:g=[40,33];break;case 6:g=[24,11];break;case 7:g=[20,11];break;case 8:g=[32,11];break;case 9:g=[80,33];break;case 10:g=[18,11];break;case 11:g=[15,11];break;case 12:g=[64,33];break;case 13:g=[160,99];break;case 14:g=[4,3];break;case 15:g=[3,2];break;case 16:g=[2,1];break;case 255:g=[t.readUnsignedByte()<<8|t.readUnsignedByte(),t.readUnsignedByte()<<8|t.readUnsignedByte()]}g&&(b=g[0]/g[1])}return{profileIdc:r,levelIdc:n,profileCompatibility:i,width:Math.ceil((16*(l+1)-2*h-2*y)*b),height:(2-d)*(c+1)*16-2*m-2*v}}},at.prototype=new te;var ct,dt={H264Stream:at,NalByteStream:st},ft=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],gt=function(e){return e[0]==="I".charCodeAt(0)&&e[1]==="D".charCodeAt(0)&&e[2]==="3".charCodeAt(0)},pt=function(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]},ht=function(e,t,r){var n,i="";for(n=t;n<r;n++)i+="%"+("00"+e[n].toString(16)).slice(-2);return i},yt=function(e,t,r){return unescape(ht(e,t,r))},mt=function(e,t){var r=e[t+6]<<21|e[t+7]<<14|e[t+8]<<7|e[t+9];return(16&e[t+5])>>4?r+20:r+10},vt=function(e,t){var r=(224&e[t+5])>>5,n=e[t+4]<<3;return 6144&e[t+3]|n|r},bt=function(e,t){return e[t]==="I".charCodeAt(0)&&e[t+1]==="D".charCodeAt(0)&&e[t+2]==="3".charCodeAt(0)?"timed-metadata":!0&e[t]&&240==(240&e[t+1])?"audio":null},At=function(e){for(var t=0;t+5<e.length;){if(255===e[t]&&240==(246&e[t+1]))return ft[(60&e[t+2])>>>2];t++}return null},_t=function(e){var t,r,n;t=10,64&e[5]&&(t+=4,t+=pt(e.subarray(10,14)));do{if((r=pt(e.subarray(t+4,t+8)))<1)return null;if("PRIV"===String.fromCharCode(e[t],e[t+1],e[t+2],e[t+3])){n=e.subarray(t+10,t+r+10);for(var i=0;i<n.byteLength;i++)if(0===n[i]){var o=yt(n,0,i);if("com.apple.streaming.transportStreamTimestamp"===o){var a=n.subarray(i+1),s=(1&a[3])<<30|a[4]<<22|a[5]<<14|a[6]<<6|a[7]>>>2;return s*=4,s+=3&a[7]}break}}t+=10,t+=r}while(t<e.byteLength);return null},Et={isLikelyAacData:gt,parseId3TagSize:mt,parseAdtsSize:vt,parseType:bt,parseSampleRate:At,parseAacTimestamp:_t};ct=function(){var e=new Uint8Array,t=0;ct.prototype.init.call(this),this.setTimestamp=function(e){t=e},this.push=function(r){var n,i,o,a,s=0,u=0;for(e.length?(a=e.length,e=new Uint8Array(r.byteLength+a),e.set(e.subarray(0,a)),e.set(r,a)):e=r;e.length-u>=3;)if(e[u]!=="I".charCodeAt(0)||e[u+1]!=="D".charCodeAt(0)||e[u+2]!=="3".charCodeAt(0))if(255!=(255&e[u])||240!=(240&e[u+1]))u++;else{if(e.length-u<7)break;if(s=Et.parseAdtsSize(e,u),u+s>e.length)break;o={type:"audio",data:e.subarray(u,u+s),pts:t,dts:t},this.trigger("data",o),u+=s}else{if(e.length-u<10)break;if(s=Et.parseId3TagSize(e,u),u+s>e.length)break;i={type:"timed-metadata",data:e.subarray(u,u+s)},this.trigger("data",i),u+=s}n=e.length-u,e=n>0?e.subarray(u):new Uint8Array}},ct.prototype=new te;var Tt,St,It,wt,Ct=ct,Dt=dt.H264Stream,Mt=Et.isLikelyAacData,Ot=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],Bt=["width","height","profileIdc","levelIdc","profileCompatibility"],Rt=function(e,t){var r;if(e.length!==t.length)return!1;for(r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0};St=function(e,t){var r=[],n=0,i=0,o=0,a=1/0;t=t||{},St.prototype.init.call(this),this.push=function(t){Ie.collectDtsInfo(e,t),e&&Ot.forEach(function(r){e[r]=t[r]}),r.push(t)},this.setEarliestDts=function(t){i=t-e.timelineStartInfo.baseMediaDecodeTime},this.setVideoBaseMediaDecodeTime=function(e){a=e},this.setAudioAppendStart=function(e){o=e},this.flush=function(){var s,u,l,c;if(0===r.length)return void this.trigger("done","AudioSegmentStream");s=_e.trimAdtsFramesByEarliestDts(r,e,i),e.baseMediaDecodeTime=Ie.calculateTrackBaseMediaDecodeTime(e,t.keepOriginalTimestamps),_e.prefixWithSilence(e,s,o,a),e.samples=_e.generateSampleTable(s),l=W.mdat(_e.concatenateFrameData(s)),r=[],u=W.moof(n,[e]),c=new Uint8Array(u.byteLength+l.byteLength),n++,c.set(u),c.set(l,u.byteLength),Ie.clearDtsInfo(e),this.trigger("data",{track:e,boxes:c}),this.trigger("done","AudioSegmentStream")}},St.prototype=new te,Tt=function(e,t){var r,n,i=0,o=[],a=[];t=t||{},Tt.prototype.init.call(this),delete e.minPTS,this.gopCache_=[],this.push=function(t){Ie.collectDtsInfo(e,t),"seq_parameter_set_rbsp"!==t.nalUnitType||r||(r=t.config,e.sps=[t.data],Bt.forEach(function(t){e[t]=r[t]},this)),"pic_parameter_set_rbsp"!==t.nalUnitType||n||(n=t.data,e.pps=[t.data]),o.push(t)},this.flush=function(){for(var r,n,s,u,l,c;o.length&&"access_unit_delimiter_rbsp"!==o[0].nalUnitType;)o.shift();if(0===o.length)return this.resetStream_(),void this.trigger("done","VideoSegmentStream");if(r=le.groupNalsIntoFrames(o),s=le.groupFramesIntoGops(r),s[0][0].keyFrame||(n=this.getGopForFusion_(o[0],e),n?(s.unshift(n),s.byteLength+=n.byteLength,s.nalCount+=n.nalCount,s.pts=n.pts,s.dts=n.dts,s.duration+=n.duration):s=le.extendFirstKeyFrame(s)),a.length){var d;if(!(d=t.alignGopsAtEnd?this.alignGopsAtEnd_(s):this.alignGopsAtStart_(s)))return this.gopCache_.unshift({gop:s.pop(),pps:e.pps,sps:e.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),o=[],this.resetStream_(),void this.trigger("done","VideoSegmentStream");Ie.clearDtsInfo(e),s=d}Ie.collectDtsInfo(e,s),e.samples=le.generateSampleTable(s),l=W.mdat(le.concatenateNalData(s)),e.baseMediaDecodeTime=Ie.calculateTrackBaseMediaDecodeTime(e,t.keepOriginalTimestamps),this.trigger("processedGopsInfo",s.map(function(e){return{pts:e.pts,dts:e.dts,byteLength:e.byteLength}})),this.gopCache_.unshift({gop:s.pop(),pps:e.pps,sps:e.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),o=[],this.trigger("baseMediaDecodeTime",e.baseMediaDecodeTime),this.trigger("timelineStartInfo",e.timelineStartInfo),u=W.moof(i,[e]),c=new Uint8Array(u.byteLength+l.byteLength),i++,c.set(u),c.set(l,u.byteLength),this.trigger("data",{track:e,boxes:c}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.resetStream_=function(){Ie.clearDtsInfo(e),r=void 0,n=void 0},this.getGopForFusion_=function(t){var r,n,i,o,a,s=1/0;for(a=0;a<this.gopCache_.length;a++)o=this.gopCache_[a],i=o.gop,e.pps&&Rt(e.pps[0],o.pps[0])&&e.sps&&Rt(e.sps[0],o.sps[0])&&(i.dts<e.timelineStartInfo.dts||(r=t.dts-i.dts-i.duration)>=-1e4&&r<=45e3&&(!n||s>r)&&(n=o,s=r));return n?n.gop:null},this.alignGopsAtStart_=function(e){var t,r,n,i,o,s,u,l;for(o=e.byteLength,s=e.nalCount,u=e.duration,t=r=0;t<a.length&&r<e.length&&(n=a[t],i=e[r],n.pts!==i.pts);)i.pts>n.pts?t++:(r++,o-=i.byteLength,s-=i.nalCount,u-=i.duration);return 0===r?e:r===e.length?null:(l=e.slice(r),l.byteLength=o,l.duration=u,l.nalCount=s,l.pts=l[0].pts,l.dts=l[0].dts,l)},this.alignGopsAtEnd_=function(e){var t,r,n,i,o,s;for(t=a.length-1,r=e.length-1,o=null,s=!1;t>=0&&r>=0;){if(n=a[t],i=e[r],n.pts===i.pts){s=!0;break}n.pts>i.pts?t--:(t===a.length-1&&(o=r),r--)}if(!s&&null===o)return null;var u;if(0===(u=s?r:o))return e;var l=e.slice(u),c=l.reduce(function(e,t){return e.byteLength+=t.byteLength,e.duration+=t.duration,e.nalCount+=t.nalCount,e},{byteLength:0,duration:0,nalCount:0});return l.byteLength=c.byteLength,l.duration=c.duration,l.nalCount=c.nalCount,l.pts=l[0].pts,l.dts=l[0].dts,l},this.alignGopsWith=function(e){a=e}},Tt.prototype=new te,wt=function(e,t){this.numberOfTracks=0,this.metadataStream=t,e=e||{},void 0!==e.remux?this.remuxTracks=!!e.remux:this.remuxTracks=!0,"boolean"==typeof e.keepOriginalTimestamps&&(this.keepOriginalTimestamps=e.keepOriginalTimestamps),this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,wt.prototype.init.call(this),this.push=function(e){return e.text?this.pendingCaptions.push(e):e.frames?this.pendingMetadata.push(e):(this.pendingTracks.push(e.track),this.pendingBoxes.push(e.boxes),this.pendingBytes+=e.boxes.byteLength,"video"===e.track.type&&(this.videoTrack=e.track),void("audio"===e.track.type&&(this.audioTrack=e.track)))}},wt.prototype=new te,wt.prototype.flush=function(e){var t,r,n,i,o=0,a={captions:[],captionStreams:{},metadata:[],info:{}},s=0;if(this.pendingTracks.length<this.numberOfTracks){if("VideoSegmentStream"!==e&&"AudioSegmentStream"!==e)return;if(this.remuxTracks)return;if(0===this.pendingTracks.length)return void(++this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0))}for(this.videoTrack?(s=this.videoTrack.timelineStartInfo.pts,Bt.forEach(function(e){a.info[e]=this.videoTrack[e]},this)):this.audioTrack&&(s=this.audioTrack.timelineStartInfo.pts,Ot.forEach(function(e){a.info[e]=this.audioTrack[e]},this)),1===this.pendingTracks.length?a.type=this.pendingTracks[0].type:a.type="combined",this.emittedTracks+=this.pendingTracks.length,n=W.initSegment(this.pendingTracks),a.initSegment=new Uint8Array(n.byteLength),a.initSegment.set(n),a.data=new Uint8Array(this.pendingBytes),i=0;i<this.pendingBoxes.length;i++)a.data.set(this.pendingBoxes[i],o),o+=this.pendingBoxes[i].byteLength;for(i=0;i<this.pendingCaptions.length;i++)t=this.pendingCaptions[i],t.startTime=t.startPts,this.keepOriginalTimestamps||(t.startTime-=s),t.startTime/=9e4,t.endTime=t.endPts,this.keepOriginalTimestamps||(t.endTime-=s),t.endTime/=9e4,a.captionStreams[t.stream]=!0,a.captions.push(t);for(i=0;i<this.pendingMetadata.length;i++)r=this.pendingMetadata[i],r.cueTime=r.pts,this.keepOriginalTimestamps||(r.cueTime-=s),r.cueTime/=9e4,a.metadata.push(r);a.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",a),this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},It=function(e){var t,r,n=this,i=!0;It.prototype.init.call(this),e=e||{},this.baseMediaDecodeTime=e.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var t={};this.transmuxPipeline_=t,t.type="aac",t.metadataStream=new rt.MetadataStream,t.aacStream=new Ct,t.audioTimestampRolloverStream=new rt.TimestampRolloverStream("audio"),t.timedMetadataTimestampRolloverStream=new rt.TimestampRolloverStream("timed-metadata"),t.adtsStream=new ot,t.coalesceStream=new wt(e,t.metadataStream),t.headOfPipeline=t.aacStream,t.aacStream.pipe(t.audioTimestampRolloverStream).pipe(t.adtsStream),t.aacStream.pipe(t.timedMetadataTimestampRolloverStream).pipe(t.metadataStream).pipe(t.coalesceStream),t.metadataStream.on("timestamp",function(e){t.aacStream.setTimestamp(e.timeStamp)}),t.aacStream.on("data",function(i){"timed-metadata"!==i.type||t.audioSegmentStream||(r=r||{timelineStartInfo:{baseMediaDecodeTime:n.baseMediaDecodeTime},codec:"adts",type:"audio"},t.coalesceStream.numberOfTracks++,t.audioSegmentStream=new St(r,e),t.adtsStream.pipe(t.audioSegmentStream).pipe(t.coalesceStream))}),t.coalesceStream.on("data",this.trigger.bind(this,"data")),t.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setupTsPipeline=function(){var i={};this.transmuxPipeline_=i,i.type="ts",i.metadataStream=new rt.MetadataStream,i.packetStream=new rt.TransportPacketStream,i.parseStream=new rt.TransportParseStream,i.elementaryStream=new rt.ElementaryStream,i.videoTimestampRolloverStream=new rt.TimestampRolloverStream("video"),i.audioTimestampRolloverStream=new rt.TimestampRolloverStream("audio"),i.timedMetadataTimestampRolloverStream=new rt.TimestampRolloverStream("timed-metadata"),i.adtsStream=new ot,i.h264Stream=new Dt,i.captionStream=new rt.CaptionStream,i.coalesceStream=new wt(e,i.metadataStream),i.headOfPipeline=i.packetStream,i.packetStream.pipe(i.parseStream).pipe(i.elementaryStream),i.elementaryStream.pipe(i.videoTimestampRolloverStream).pipe(i.h264Stream),i.elementaryStream.pipe(i.audioTimestampRolloverStream).pipe(i.adtsStream),i.elementaryStream.pipe(i.timedMetadataTimestampRolloverStream).pipe(i.metadataStream).pipe(i.coalesceStream),i.h264Stream.pipe(i.captionStream).pipe(i.coalesceStream),i.elementaryStream.on("data",function(o){var a;if("metadata"===o.type){for(a=o.tracks.length;a--;)t||"video"!==o.tracks[a].type?r||"audio"!==o.tracks[a].type||(r=o.tracks[a],r.timelineStartInfo.baseMediaDecodeTime=n.baseMediaDecodeTime):(t=o.tracks[a],t.timelineStartInfo.baseMediaDecodeTime=n.baseMediaDecodeTime);t&&!i.videoSegmentStream&&(i.coalesceStream.numberOfTracks++,i.videoSegmentStream=new Tt(t,e),i.videoSegmentStream.on("timelineStartInfo",function(e){r&&(r.timelineStartInfo=e,i.audioSegmentStream.setEarliestDts(e.dts))}),i.videoSegmentStream.on("processedGopsInfo",n.trigger.bind(n,"gopInfo")),i.videoSegmentStream.on("baseMediaDecodeTime",function(e){r&&i.audioSegmentStream.setVideoBaseMediaDecodeTime(e)}),i.h264Stream.pipe(i.videoSegmentStream).pipe(i.coalesceStream)),r&&!i.audioSegmentStream&&(i.coalesceStream.numberOfTracks++,i.audioSegmentStream=new St(r,e),i.adtsStream.pipe(i.audioSegmentStream).pipe(i.coalesceStream))}}),i.coalesceStream.on("data",this.trigger.bind(this,"data")),i.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setBaseMediaDecodeTime=function(n){var i=this.transmuxPipeline_;e.keepOriginalTimestamps||(this.baseMediaDecodeTime=n),r&&(r.timelineStartInfo.dts=void 0,r.timelineStartInfo.pts=void 0,Ie.clearDtsInfo(r),e.keepOriginalTimestamps||(r.timelineStartInfo.baseMediaDecodeTime=n),i.audioTimestampRolloverStream&&i.audioTimestampRolloverStream.discontinuity()),t&&(i.videoSegmentStream&&(i.videoSegmentStream.gopCache_=[],i.videoTimestampRolloverStream.discontinuity()),t.timelineStartInfo.dts=void 0,t.timelineStartInfo.pts=void 0,Ie.clearDtsInfo(t),i.captionStream.reset(),e.keepOriginalTimestamps||(t.timelineStartInfo.baseMediaDecodeTime=n)),i.timedMetadataTimestampRolloverStream&&i.timedMetadataTimestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(e){r&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(e)},this.alignGopsWith=function(e){t&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(e)},this.push=function(e){if(i){var t=Mt(e);t&&"aac"!==this.transmuxPipeline_.type?this.setupAacPipeline():t||"ts"===this.transmuxPipeline_.type||this.setupTsPipeline(),i=!1}this.transmuxPipeline_.headOfPipeline.push(e)},this.flush=function(){i=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}},It.prototype=new te;var Pt,kt,Lt={Transmuxer:It,VideoSegmentStream:Tt,AudioSegmentStream:St,AUDIO_PROPERTIES:Ot,VIDEO_PROPERTIES:Bt},Nt=q.parseType,xt=function(e){return new Date(1e3*e-20828448e5)},jt=function(e){return{isLeading:(12&e[0])>>>2,dependsOn:3&e[0],isDependedOn:(192&e[1])>>>6,hasRedundancy:(48&e[1])>>>4,paddingValue:(14&e[1])>>>1,isNonSyncSample:1&e[1],degradationPriority:e[2]<<8|e[3]}},Ut=function(e){var t,r,n=new DataView(e.buffer,e.byteOffset,e.byteLength),i=[];for(t=0;t+4<e.length;t+=r)if(r=n.getUint32(t),t+=4,r<=0)i.push("<span style='color:red;'>MALFORMED DATA</span>");else switch(31&e[t]){case 1:i.push("slice_layer_without_partitioning_rbsp");break;case 5:i.push("slice_layer_without_partitioning_rbsp_idr");break;case 6:i.push("sei_rbsp");break;case 7:i.push("seq_parameter_set_rbsp");break;case 8:i.push("pic_parameter_set_rbsp");break;case 9:i.push("access_unit_delimiter_rbsp");break;default:i.push("UNKNOWN NAL - "+e[t]&31)}return i},Ft={avc1:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{dataReferenceIndex:t.getUint16(6),width:t.getUint16(24),height:t.getUint16(26),horizresolution:t.getUint16(28)+t.getUint16(30)/16,vertresolution:t.getUint16(32)+t.getUint16(34)/16,frameCount:t.getUint16(40),depth:t.getUint16(74),config:Pt(e.subarray(78,e.byteLength))}},avcC:function(e){var t,r,n,i,o=new DataView(e.buffer,e.byteOffset,e.byteLength),a={configurationVersion:e[0],avcProfileIndication:e[1],profileCompatibility:e[2],avcLevelIndication:e[3],lengthSizeMinusOne:3&e[4],sps:[],pps:[]},s=31&e[5];for(n=6,i=0;i<s;i++)r=o.getUint16(n),n+=2,a.sps.push(new Uint8Array(e.subarray(n,n+r))),n+=r;for(t=e[n],n++,i=0;i<t;i++)r=o.getUint16(n),n+=2,a.pps.push(new Uint8Array(e.subarray(n,n+r))),n+=r;return a},btrt:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{bufferSizeDB:t.getUint32(0),maxBitrate:t.getUint32(4),avgBitrate:t.getUint32(8)}},esds:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),esId:e[6]<<8|e[7],streamPriority:31&e[8],decoderConfig:{objectProfileIndication:e[11],streamType:e[12]>>>2&63,bufferSize:e[13]<<16|e[14]<<8|e[15],maxBitrate:e[16]<<24|e[17]<<16|e[18]<<8|e[19],avgBitrate:e[20]<<24|e[21]<<16|e[22]<<8|e[23],decoderConfigDescriptor:{tag:e[24],length:e[25],audioObjectType:e[26]>>>3&31,samplingFrequencyIndex:(7&e[26])<<1|e[27]>>>7&1,channelConfiguration:e[27]>>>3&15}}}},ftyp:function(e){for(var t=new DataView(e.buffer,e.byteOffset,e.byteLength),r={majorBrand:Nt(e.subarray(0,4)),minorVersion:t.getUint32(4),compatibleBrands:[]},n=8;n<e.byteLength;)r.compatibleBrands.push(Nt(e.subarray(n,n+4))),n+=4;return r},dinf:function(e){return{boxes:Pt(e)}},dref:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),dataReferences:Pt(e.subarray(8))}},hdlr:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),r={version:t.getUint8(0),flags:new Uint8Array(e.subarray(1,4)),handlerType:Nt(e.subarray(8,12)),name:""},n=8;for(n=24;n<e.byteLength;n++){if(0===e[n]){n++;break}r.name+=String.fromCharCode(e[n])}return r.name=decodeURIComponent(escape(r.name)),r},mdat:function(e){return{byteLength:e.byteLength,nals:Ut(e)}},mdhd:function(e){var t,r=new DataView(e.buffer,e.byteOffset,e.byteLength),n=4,i={version:r.getUint8(0),flags:new Uint8Array(e.subarray(1,4)),language:""};return 1===i.version?(n+=4,i.creationTime=xt(r.getUint32(n)),n+=8,i.modificationTime=xt(r.getUint32(n)),n+=4,i.timescale=r.getUint32(n),n+=8,i.duration=r.getUint32(n)):(i.creationTime=xt(r.getUint32(n)),n+=4,i.modificationTime=xt(r.getUint32(n)),n+=4,i.timescale=r.getUint32(n),n+=4,i.duration=r.getUint32(n)),n+=4,t=r.getUint16(n),i.language+=String.fromCharCode(96+(t>>10)),i.language+=String.fromCharCode(96+((992&t)>>5)),i.language+=String.fromCharCode(96+(31&t)),i},mdia:function(e){return{boxes:Pt(e)}},mfhd:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),sequenceNumber:e[4]<<24|e[5]<<16|e[6]<<8|e[7]}},minf:function(e){return{boxes:Pt(e)}},mp4a:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),r={dataReferenceIndex:t.getUint16(6),channelcount:t.getUint16(16),samplesize:t.getUint16(18),samplerate:t.getUint16(24)+t.getUint16(26)/65536};return e.byteLength>28&&(r.streamDescriptor=Pt(e.subarray(28))[0]),r},moof:function(e){return{boxes:Pt(e)}},moov:function(e){return{boxes:Pt(e)}},mvex:function(e){return{boxes:Pt(e)}},mvhd:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),r=4,n={version:t.getUint8(0),flags:new Uint8Array(e.subarray(1,4))};return 1===n.version?(r+=4,n.creationTime=xt(t.getUint32(r)),r+=8,n.modificationTime=xt(t.getUint32(r)),r+=4,n.timescale=t.getUint32(r),r+=8,n.duration=t.getUint32(r)):(n.creationTime=xt(t.getUint32(r)),r+=4,n.modificationTime=xt(t.getUint32(r)),r+=4,n.timescale=t.getUint32(r),r+=4,n.duration=t.getUint32(r)),r+=4,n.rate=t.getUint16(r)+t.getUint16(r+2)/16,r+=4,n.volume=t.getUint8(r)+t.getUint8(r+1)/8,r+=2,r+=2,r+=8,n.matrix=new Uint32Array(e.subarray(r,r+36)),r+=36,r+=24,n.nextTrackId=t.getUint32(r),n},pdin:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{version:t.getUint8(0),flags:new Uint8Array(e.subarray(1,4)),rate:t.getUint32(4),initialDelay:t.getUint32(8)}},sdtp:function(e){var t,r={version:e[0],flags:new Uint8Array(e.subarray(1,4)),samples:[]};for(t=4;t<e.byteLength;t++)r.samples.push({dependsOn:(48&e[t])>>4,isDependedOn:(12&e[t])>>2,hasRedundancy:3&e[t]});return r},sidx:function(e){var t,r=new DataView(e.buffer,e.byteOffset,e.byteLength),n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),references:[],referenceId:r.getUint32(4),timescale:r.getUint32(8),earliestPresentationTime:r.getUint32(12),firstOffset:r.getUint32(16)},i=r.getUint16(22);for(t=24;i;t+=12,i--)n.references.push({referenceType:(128&e[t])>>>7,referencedSize:2147483647&r.getUint32(t),subsegmentDuration:r.getUint32(t+4),startsWithSap:!!(128&e[t+8]),sapType:(112&e[t+8])>>>4,sapDeltaTime:268435455&r.getUint32(t+8)});return n},smhd:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),balance:e[4]+e[5]/256}},stbl:function(e){return{boxes:Pt(e)}},stco:function(e){var t,r=new DataView(e.buffer,e.byteOffset,e.byteLength),n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),chunkOffsets:[]},i=r.getUint32(4);for(t=8;i;t+=4,i--)n.chunkOffsets.push(r.getUint32(t));return n},stsc:function(e){var t,r=new DataView(e.buffer,e.byteOffset,e.byteLength),n=r.getUint32(4),i={version:e[0],flags:new Uint8Array(e.subarray(1,4)),sampleToChunks:[]};for(t=8;n;t+=12,n--)i.sampleToChunks.push({firstChunk:r.getUint32(t),samplesPerChunk:r.getUint32(t+4),sampleDescriptionIndex:r.getUint32(t+8)});return i},stsd:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),sampleDescriptions:Pt(e.subarray(8))}},stsz:function(e){var t,r=new DataView(e.buffer,e.byteOffset,e.byteLength),n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),sampleSize:r.getUint32(4),entries:[]};for(t=12;t<e.byteLength;t+=4)n.entries.push(r.getUint32(t));return n},stts:function(e){var t,r=new DataView(e.buffer,e.byteOffset,e.byteLength),n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),timeToSamples:[]},i=r.getUint32(4);for(t=8;i;t+=8,i--)n.timeToSamples.push({sampleCount:r.getUint32(t),sampleDelta:r.getUint32(t+4)});return n},styp:function(e){return Ft.ftyp(e)},tfdt:function(e){var t={version:e[0],flags:new Uint8Array(e.subarray(1,4)),baseMediaDecodeTime:e[4]<<24|e[5]<<16|e[6]<<8|e[7]};return 1===t.version&&(t.baseMediaDecodeTime*=Math.pow(2,32),t.baseMediaDecodeTime+=e[8]<<24|e[9]<<16|e[10]<<8|e[11]),t},tfhd:function(e){var t,r=new DataView(e.buffer,e.byteOffset,e.byteLength),n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),trackId:r.getUint32(4)},i=1&n.flags[2],o=2&n.flags[2],a=8&n.flags[2],s=16&n.flags[2],u=32&n.flags[2],l=65536&n.flags[0],c=131072&n.flags[0];return t=8,i&&(t+=4,n.baseDataOffset=r.getUint32(12),t+=4),o&&(n.sampleDescriptionIndex=r.getUint32(t),t+=4),a&&(n.defaultSampleDuration=r.getUint32(t),t+=4),s&&(n.defaultSampleSize=r.getUint32(t),t+=4),u&&(n.defaultSampleFlags=r.getUint32(t)),l&&(n.durationIsEmpty=!0),!i&&c&&(n.baseDataOffsetIsMoof=!0),n},tkhd:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),r=4,n={version:t.getUint8(0),flags:new Uint8Array(e.subarray(1,4))};return 1===n.version?(r+=4,n.creationTime=xt(t.getUint32(r)),r+=8,n.modificationTime=xt(t.getUint32(r)),r+=4,n.trackId=t.getUint32(r),r+=4,r+=8,n.duration=t.getUint32(r)):(n.creationTime=xt(t.getUint32(r)),r+=4,n.modificationTime=xt(t.getUint32(r)),r+=4,n.trackId=t.getUint32(r),r+=4,r+=4,n.duration=t.getUint32(r)),r+=4,r+=8,n.layer=t.getUint16(r),r+=2,n.alternateGroup=t.getUint16(r),r+=2,n.volume=t.getUint8(r)+t.getUint8(r+1)/8,r+=2,r+=2,n.matrix=new Uint32Array(e.subarray(r,r+36)),r+=36,n.width=t.getUint16(r)+t.getUint16(r+2)/16,r+=4,n.height=t.getUint16(r)+t.getUint16(r+2)/16,n},traf:function(e){return{boxes:Pt(e)}},trak:function(e){return{boxes:Pt(e)}},trex:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),trackId:t.getUint32(4),defaultSampleDescriptionIndex:t.getUint32(8),defaultSampleDuration:t.getUint32(12),defaultSampleSize:t.getUint32(16),sampleDependsOn:3&e[20],sampleIsDependedOn:(192&e[21])>>6,sampleHasRedundancy:(48&e[21])>>4,samplePaddingValue:(14&e[21])>>1,sampleIsDifferenceSample:!!(1&e[21]),sampleDegradationPriority:t.getUint16(22)}},trun:function(e){var t,r={version:e[0],flags:new Uint8Array(e.subarray(1,4)),samples:[]},n=new DataView(e.buffer,e.byteOffset,e.byteLength),i=1&r.flags[2],o=4&r.flags[2],a=1&r.flags[1],s=2&r.flags[1],u=4&r.flags[1],l=8&r.flags[1],c=n.getUint32(4),d=8;for(i&&(r.dataOffset=n.getInt32(d),d+=4),o&&c&&(t={flags:jt(e.subarray(d,d+4))},d+=4,a&&(t.duration=n.getUint32(d),d+=4),s&&(t.size=n.getUint32(d),d+=4),l&&(t.compositionTimeOffset=n.getUint32(d),d+=4),r.samples.push(t),c--);c--;)t={},a&&(t.duration=n.getUint32(d),d+=4),s&&(t.size=n.getUint32(d),d+=4),u&&(t.flags=jt(e.subarray(d,d+4)),d+=4),l&&(t.compositionTimeOffset=n.getUint32(d),d+=4),r.samples.push(t);return r},"url ":function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4))}},vmhd:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),graphicsmode:t.getUint16(4),opcolor:new Uint16Array([t.getUint16(6),t.getUint16(8),t.getUint16(10)])}}};Pt=function(e){for(var t,r,n,i,o,a=0,s=[],u=new ArrayBuffer(e.length),l=new Uint8Array(u),c=0;c<e.length;++c)l[c]=e[c];for(t=new DataView(u);a<e.byteLength;)r=t.getUint32(a),n=Nt(e.subarray(a+4,a+8)),i=r>1?a+r:e.byteLength,o=(Ft[n]||function(e){return{data:e}})(e.subarray(a+8,i)),o.size=r,o.type=n,s.push(o),a=i;return s},kt=function(e,t){var r;return t=t||0,r=new Array(2*t+1).join(" "),e.map(function(e,n){return r+e.type+"\n"+Object.keys(e).filter(function(e){return"type"!==e&&"boxes"!==e}).map(function(t){var n=r+"  "+t+": ",i=e[t];if(i instanceof Uint8Array||i instanceof Uint32Array){var o=Array.prototype.slice.call(new Uint8Array(i.buffer,i.byteOffset,i.byteLength)).map(function(e){return" "+("00"+e.toString(16)).slice(-2)}).join("").match(/.{1,24}/g);return o?1===o.length?n+"<"+o.join("").slice(1)+">":n+"<\n"+o.map(function(e){return r+"  "+e}).join("\n")+"\n"+r+"  >":n+"<>"}return n+JSON.stringify(i,null,2).split("\n").map(function(e,t){return 0===t?e:r+"  "+e}).join("\n")}).join("\n")+(e.boxes?"\n"+kt(e.boxes,t+1):"")}).join("\n")};var Qt={inspect:Pt,textify:kt,parseTfdt:Ft.tfdt,parseHdlr:Ft.hdlr,parseTfhd:Ft.tfhd,parseTrun:Ft.trun},Gt=Oe.discardEmulationPreventionBytes,Wt=xe.CaptionStream,Ht=function(e,t){for(var r=e,n=0;n<t.length;n++){var i=t[n];if(r<i.size)return i;r-=i.size}return null},Yt=function(e,t,r){var n,i,o,a,s=new DataView(e.buffer,e.byteOffset,e.byteLength),u=[];for(i=0;i+4<e.length;i+=o)if(o=s.getUint32(i),i+=4,!(o<=0))switch(31&e[i]){case 6:var l=e.subarray(i+1,i+1+o),c=Ht(i,t);n={nalUnitType:"sei_rbsp",size:o,data:l,escapedRBSP:Gt(l),trackId:r},c?(n.pts=c.pts,n.dts=c.dts,a=c):(n.pts=a.pts,n.dts=a.dts),u.push(n)}return u},Vt=function(e,t,r){var n=t,i=r.defaultSampleDuration||0,o=r.defaultSampleSize||0,a=r.trackId,s=[];return e.forEach(function(e){var t=Qt.parseTrun(e),r=t.samples;r.forEach(function(e){void 0===e.duration&&(e.duration=i),void 0===e.size&&(e.size=o),e.trackId=a,e.dts=n,void 0===e.compositionTimeOffset&&(e.compositionTimeOffset=0),e.pts=n+e.compositionTimeOffset,n+=e.duration}),s=s.concat(r)}),s},qt=function(e,t){var r=q.findBox(e,["moof","traf"]),n=q.findBox(e,["mdat"]),i={},o=[];return n.forEach(function(e,t){var n=r[t];o.push({mdat:e,traf:n})}),o.forEach(function(e){var r,n,o=e.mdat,a=e.traf,s=q.findBox(a,["tfhd"]),u=Qt.parseTfhd(s[0]),l=u.trackId,c=q.findBox(a,["tfdt"]),d=c.length>0?Qt.parseTfdt(c[0]).baseMediaDecodeTime:0,f=q.findBox(a,["trun"]);t===l&&f.length>0&&(r=Vt(f,d,u),n=Yt(o,r,l),i[l]||(i[l]=[]),i[l]=i[l].concat(n))}),i},Kt=function(e,t,r){var n;return t?(n=qt(e,t),{seiNals:n[t],timescale:r}):null},zt=function(){var e,t,r,n,i,o=!1;this.isInitialized=function(){return o},this.init=function(){e=new Wt,o=!0,e.on("data",function(e){e.startTime=e.startPts/n,e.endTime=e.endPts/n,i.captions.push(e),i.captionStreams[e.stream]=!0})},this.isNewInit=function(e,t){return!(e&&0===e.length||t&&"object"==typeof t&&0===Object.keys(t).length)&&(r!==e[0]||n!==t[r])},this.parse=function(e,o,a){var s;if(!this.isInitialized())return null;if(!o||!a)return null;if(this.isNewInit(o,a))r=o[0],n=a[r];else if(!r||!n)return t.push(e),null;for(;t.length>0;){var u=t.shift();this.parse(u,o,a)}return null!==(s=Kt(e,r,n))&&s.seiNals?(this.pushNals(s.seiNals),this.flushStream(),i):null},this.pushNals=function(t){if(!this.isInitialized()||!t||0===t.length)return null;t.forEach(function(t){e.push(t)})},this.flushStream=function(){if(!this.isInitialized())return null;e.flush()},this.clearParsedCaptions=function(){i.captions=[],i.captionStreams={}},this.resetCaptionStream=function(){if(!this.isInitialized())return null;e.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){t=[],r=null,n=null,i?this.clearParsedCaptions():i={captions:[],captionStreams:{}},this.resetCaptionStream()},this.reset()},Xt=zt,Jt={generator:W,probe:q,Transmuxer:Lt.Transmuxer,AudioSegmentStream:Lt.AudioSegmentStream,VideoSegmentStream:Lt.VideoSegmentStream,CaptionParser:Xt},Zt=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},$t=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),er=function(e,t){t.on("data",function(t){var r=t.initSegment;t.initSegment={data:r.buffer,byteOffset:r.byteOffset,byteLength:r.byteLength};var n=t.data;t.data=n.buffer,e.postMessage({action:"data",segment:t,byteOffset:n.byteOffset,byteLength:n.byteLength},[t.data])}),t.captionStream&&t.captionStream.on("data",function(t){e.postMessage({action:"caption",data:t})}),t.on("done",function(t){e.postMessage({action:"done"})}),t.on("gopInfo",function(t){e.postMessage({action:"gopInfo",gopInfo:t})})},tr=function(){function e(t,r){Zt(this,e),this.options=r||{},this.self=t,this.init()}return $t(e,[{key:"init",value:function(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new Jt.Transmuxer(this.options),er(this.self,this.transmuxer)}},{key:"push",value:function(e){var t=new Uint8Array(e.data,e.byteOffset,e.byteLength);this.transmuxer.push(t)}},{key:"reset",value:function(){this.init()}},{key:"setTimestampOffset",value:function(e){var t=e.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(9e4*t))}},{key:"setAudioAppendStart",value:function(e){this.transmuxer.setAudioAppendStart(Math.ceil(9e4*e.appendStart))}},{key:"flush",value:function(e){this.transmuxer.flush()}},{key:"resetCaptions",value:function(){this.transmuxer.resetCaptions()}},{key:"alignGopsWith",value:function(e){this.transmuxer.alignGopsWith(e.gopsToAlignWith.slice())}}]),e}();new function(e){e.onmessage=function(t){if("init"===t.data.action&&t.data.options)return void(this.messageHandlers=new tr(e,t.data.options));this.messageHandlers||(this.messageHandlers=new tr(e)),t.data&&t.data.action&&"init"!==t.data.action&&this.messageHandlers[t.data.action]&&this.messageHandlers[t.data.action](t.data)}}(r)}()}),wf={videoCodec:"avc1",videoObjectTypeIndicator:".4d400d",audioProfile:"2"},Cf=function(e){return e.map(function(e){return e.replace(/avc1\.(\d+)\.(\d+)/i,function(e,t,r){return"avc1."+("00"+Number(t).toString(16)).slice(-2)+"00"+("00"+Number(r).toString(16)).slice(-2)})})},Df=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t={codecCount:0},r=void 0;return t.codecCount=e.split(",").length,t.codecCount=t.codecCount||2,r=/(^|\s|,)+(avc[13])([^ ,]*)/i.exec(e),r&&(t.videoCodec=r[2],t.videoObjectTypeIndicator=r[3]),t.audioProfile=/(^|\s|,)+mp4a.[0-9A-Fa-f]+\.([0-9A-Fa-f]+)/i.exec(e),t.audioProfile=t.audioProfile&&t.audioProfile[2],t},Mf=function(e){return e.replace(/avc1\.(\d+)\.(\d+)/i,function(e){return Cf([e])[0]})},Of=function(e,t,r){return e+"/"+t+'; codecs="'+r.filter(function(e){return!!e}).join(", ")+'"'},Bf=function(e){return e.segments&&e.segments.length&&e.segments[0].map?"mp4":"mp2t"},Rf=function(e){var t=e.attributes||{};return t.CODECS?Df(t.CODECS):wf},Pf=function(e,t){if(!e.mediaGroups.AUDIO||!t)return null;var r=e.mediaGroups.AUDIO[t];if(!r)return null;for(var n in r){var i=r[n];if(i.default&&i.playlists)return Df(i.playlists[0].attributes.CODECS).audioProfile}return null},kf=function(e,t){var r=Bf(t),n=Rf(t),i=t.attributes||{},o=!0,a=!1;if(!t)return[];if(e.mediaGroups.AUDIO&&i.AUDIO){var s=e.mediaGroups.AUDIO[i.AUDIO];if(s){a=!0,o=!1;for(var u in s)if(!s[u].uri&&!s[u].playlists){o=!0;break}}}a&&!n.audioProfile&&(o||(n.audioProfile=Pf(e,i.AUDIO)),n.audioProfile||(vt.log.warn("Multiple audio tracks present but no audio codec string is specified. Attempting to use the default audio codec (mp4a.40.2)"),n.audioProfile=wf.audioProfile));var l={};n.videoCodec&&(l.video=""+n.videoCodec+n.videoObjectTypeIndicator),n.audioProfile&&(l.audio="mp4a.40."+n.audioProfile);var c=Of("audio",r,[l.audio]),d=Of("video",r,[l.video]),f=Of("video",r,[l.video,l.audio]);return a?!o&&l.video?[d,c]:o||l.video?[f,c]:[c,c]:l.video?[f]:[c]},Lf=function(e){var t={type:"",parameters:{}},r=e.trim().split(";");return t.type=r.shift().trim(),r.forEach(function(e){var r=e.trim().split("=");if(r.length>1){var n=r[0].replace(/"/g,"").trim(),i=r[1].replace(/"/g,"").trim();t.parameters[n]=i}}),t},Nf=function(e){return/mp4a\.\d+.\d+/i.test(e)},xf=function(e){return/avc1\.[\da-f]+/i.test(e)},jf=function(e,t,r){if(void 0===t||null===t||!e.length)return[];var n=Math.ceil(9e4*(t-r+3)),i=void 0;for(i=0;i<e.length&&!(e[i].pts>n);i++);return e.slice(i)},Uf=function(e,t,r){if(!t.length)return e;if(r)return t.slice();var n=t[0].pts,i=0;for(i;i<e.length&&!(e[i].pts>=n);i++);return e.slice(0,i).concat(t)},Ff=function(e,t,r,n){for(var i=Math.ceil(9e4*(t-n)),o=Math.ceil(9e4*(r-n)),a=e.slice(),s=e.length;s--&&!(e[s].pts<=o););if(-1===s)return a;for(var u=s+1;u--&&!(e[u].pts<=i););return u=Math.max(u,0),a.splice(u,s-u+1),a},Qf=function(e,t,r){var n=null,i=null,o=0,a=[],s=[];if(!e&&!t)return vt.createTimeRange();if(!e)return t.buffered;if(!t)return e.buffered;if(r)return e.buffered;if(0===e.buffered.length&&0===t.buffered.length)return vt.createTimeRange();for(var u=e.buffered,l=t.buffered,c=u.length;c--;)a.push({time:u.start(c),type:"start"}),a.push({time:u.end(c),type:"end"});for(c=l.length;c--;)a.push({time:l.start(c),type:"start"}),a.push({time:l.end(c),type:"end"});for(a.sort(function(e,t){return e.time-t.time}),c=0;c<a.length;c++)"start"===a[c].type?2===++o&&(n=a[c].time):"end"===a[c].type&&1===--o&&(i=a[c].time),null!==n&&null!==i&&(s.push([n,i]),n=null,i=null);return vt.createTimeRanges(s)},Gf=function(e,t){var r=e.addSourceBuffer(t),n=Object.create(null);n.updating=!1,n.realBuffer_=r;for(var i in r)!function(e){"function"==typeof r[e]?n[e]=function(){return r[e].apply(r,arguments)}:void 0===n[e]&&Object.defineProperty(n,e,{get:function(){return r[e]},set:function(t){return r[e]=t}})}(i);return n},Wf=function(e){function t(e,r){Xc(this,t);var n=ed(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,vt.EventTarget));n.timestampOffset_=0,n.pendingBuffers_=[],n.bufferUpdating_=!1,n.mediaSource_=e,n.codecs_=r,n.audioCodec_=null,n.videoCodec_=null,n.audioDisabled_=!1,n.appendAudioInitSegment_=!0,n.gopBuffer_=[],n.timeMapping_=0,n.safeAppend_=vt.browser.IE_VERSION>=11;var i={remux:!1,alignGopsAtEnd:n.safeAppend_};return n.codecs_.forEach(function(e){Nf(e)?n.audioCodec_=e:xf(e)&&(n.videoCodec_=e)}),n.transmuxer_=new If,n.transmuxer_.postMessage({action:"init",options:i}),n.transmuxer_.onmessage=function(e){return"data"===e.data.action?n.data_(e):"done"===e.data.action?n.done_(e):"gopInfo"===e.data.action?n.appendGopInfo_(e):void 0},Object.defineProperty(n,"timestampOffset",{get:function(){return this.timestampOffset_},set:function(e){"number"==typeof e&&e>=0&&(this.timestampOffset_=e,this.appendAudioInitSegment_=!0,this.gopBuffer_.length=0,this.timeMapping_=0,this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:e}))}}),Object.defineProperty(n,"appendWindowStart",{get:function(){return(this.videoBuffer_||this.audioBuffer_).appendWindowStart},set:function(e){this.videoBuffer_&&(this.videoBuffer_.appendWindowStart=e),this.audioBuffer_&&(this.audioBuffer_.appendWindowStart=e)}}),Object.defineProperty(n,"updating",{get:function(){return!!(this.bufferUpdating_||!this.audioDisabled_&&this.audioBuffer_&&this.audioBuffer_.updating||this.videoBuffer_&&this.videoBuffer_.updating)}}),Object.defineProperty(n,"buffered",{get:function(){return Qf(this.videoBuffer_,this.audioBuffer_,this.audioDisabled_)}}),n}return $c(t,e),Jc(t,[{key:"data_",value:function(e){var t=e.data.segment;t.data=new Uint8Array(t.data,e.data.byteOffset,e.data.byteLength),t.initSegment=new Uint8Array(t.initSegment.data,t.initSegment.byteOffset,t.initSegment.byteLength),df(this,this.mediaSource_,t),this.pendingBuffers_.push(t)}},{key:"done_",value:function(e){if("closed"===this.mediaSource_.readyState)return void(this.pendingBuffers_.length=0);this.processPendingSegments_()}},{key:"createRealSourceBuffers_",value:function(){var e=this,t=["audio","video"];t.forEach(function(r){if(e[r+"Codec_"]&&!e[r+"Buffer_"]){var n=null;if(e.mediaSource_[r+"Buffer_"])n=e.mediaSource_[r+"Buffer_"],n.updating=!1;else{var i=r+"Codec_",o=r+'/mp4;codecs="'+e[i]+'"';n=Gf(e.mediaSource_.nativeMediaSource_,o),e.mediaSource_[r+"Buffer_"]=n}e[r+"Buffer_"]=n,["update","updatestart","updateend"].forEach(function(i){n.addEventListener(i,function(){if("audio"!==r||!e.audioDisabled_){"updateend"===i&&(e[r+"Buffer_"].updating=!1);return t.every(function(t){return!("audio"!==t||!e.audioDisabled_)||(r===t||!e[t+"Buffer_"]||!e[t+"Buffer_"].updating)})?e.trigger(i):void 0}})})}})}},{key:"appendBuffer",value:function(e){if(this.bufferUpdating_=!0,this.audioBuffer_&&this.audioBuffer_.buffered.length){var t=this.audioBuffer_.buffered;this.transmuxer_.postMessage({action:"setAudioAppendStart",appendStart:t.end(t.length-1)})}this.videoBuffer_&&this.transmuxer_.postMessage({action:"alignGopsWith",gopsToAlignWith:jf(this.gopBuffer_,this.mediaSource_.player_?this.mediaSource_.player_.currentTime():null,this.timeMapping_)}),this.transmuxer_.postMessage({action:"push",data:e.buffer,byteOffset:e.byteOffset,byteLength:e.byteLength},[e.buffer]),this.transmuxer_.postMessage({action:"flush"})}},{key:"appendGopInfo_",value:function(e){this.gopBuffer_=Uf(this.gopBuffer_,e.data.gopInfo,this.safeAppend_)}},{key:"remove",value:function(e,t){if(this.videoBuffer_&&(this.videoBuffer_.updating=!0,this.videoBuffer_.remove(e,t),this.gopBuffer_=Ff(this.gopBuffer_,e,t,this.timeMapping_)),!this.audioDisabled_&&this.audioBuffer_&&(this.audioBuffer_.updating=!0,this.audioBuffer_.remove(e,t)),ff(e,t,this.metadataTrack_),this.inbandTextTracks_)for(var r in this.inbandTextTracks_)ff(e,t,this.inbandTextTracks_[r])}},{key:"processPendingSegments_",value:function(){var e={video:{segments:[],bytes:0},audio:{segments:[],bytes:0},captions:[],metadata:[]};e=this.pendingBuffers_.reduce(function(e,t){var r=t.type,n=t.data,i=t.initSegment;return e[r].segments.push(n),e[r].bytes+=n.byteLength,e[r].initSegment=i,t.captions&&(e.captions=e.captions.concat(t.captions)),t.info&&(e[r].info=t.info),t.metadata&&(e.metadata=e.metadata.concat(t.metadata)),e},e),this.videoBuffer_||this.audioBuffer_||(0===e.video.bytes&&(this.videoCodec_=null),0===e.audio.bytes&&(this.audioCodec_=null),this.createRealSourceBuffers_()),e.audio.info&&this.mediaSource_.trigger({type:"audioinfo",info:e.audio.info}),e.video.info&&this.mediaSource_.trigger({type:"videoinfo",info:e.video.info}),this.appendAudioInitSegment_&&(!this.audioDisabled_&&this.audioBuffer_&&(e.audio.segments.unshift(e.audio.initSegment),e.audio.bytes+=e.audio.initSegment.byteLength),this.appendAudioInitSegment_=!1);var t=!1;this.videoBuffer_&&e.video.bytes?(e.video.segments.unshift(e.video.initSegment),e.video.bytes+=e.video.initSegment.byteLength,this.concatAndAppendSegments_(e.video,this.videoBuffer_),hf(this,e.captions,e.metadata)):!this.videoBuffer_||!this.audioDisabled_&&this.audioBuffer_||(t=!0),!this.audioDisabled_&&this.audioBuffer_&&this.concatAndAppendSegments_(e.audio,this.audioBuffer_),this.pendingBuffers_.length=0,t&&this.trigger("updateend"),this.bufferUpdating_=!1}},{key:"concatAndAppendSegments_",value:function(e,t){var r=0,n=void 0;if(e.bytes){n=new Uint8Array(e.bytes),e.segments.forEach(function(e){n.set(e,r),r+=e.byteLength});try{t.updating=!0,t.appendBuffer(n)}catch(e){this.mediaSource_.player_&&this.mediaSource_.player_.error({code:-3,type:"APPEND_BUFFER_ERR",message:e.message,originalError:e})}}}},{key:"abort",value:function(){this.videoBuffer_&&this.videoBuffer_.abort(),!this.audioDisabled_&&this.audioBuffer_&&this.audioBuffer_.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"reset"}),this.pendingBuffers_.length=0,this.bufferUpdating_=!1}}]),t}(vt.EventTarget),Hf=function(t){function n(){Xc(this,n);var t=ed(this,(n.__proto__||Object.getPrototypeOf(n)).call(this)),i=void 0;t.nativeMediaSource_=new r.MediaSource;for(i in t.nativeMediaSource_)i in n.prototype||"function"!=typeof t.nativeMediaSource_[i]||(t[i]=t.nativeMediaSource_[i].bind(t.nativeMediaSource_));return t.duration_=NaN,Object.defineProperty(t,"duration",{get:function(){return this.duration_===1/0?this.duration_:this.nativeMediaSource_.duration},set:function(e){if(this.duration_=e,e!==1/0)return void(this.nativeMediaSource_.duration=e)}}),Object.defineProperty(t,"seekable",{get:function(){return this.duration_===1/0?vt.createTimeRanges([[0,this.nativeMediaSource_.duration]]):this.nativeMediaSource_.seekable}}),Object.defineProperty(t,"readyState",{get:function(){return this.nativeMediaSource_.readyState}}),Object.defineProperty(t,"activeSourceBuffers",{get:function(){return this.activeSourceBuffers_}}),t.sourceBuffers=[],t.activeSourceBuffers_=[],t.updateActiveSourceBuffers_=function(){if(t.activeSourceBuffers_.length=0,1===t.sourceBuffers.length){var e=t.sourceBuffers[0];return e.appendAudioInitSegment_=!0,e.audioDisabled_=!e.audioCodec_,void t.activeSourceBuffers_.push(e)}for(var r=!1,n=!0,i=0;i<t.player_.audioTracks().length;i++){var o=t.player_.audioTracks()[i];if(o.enabled&&"main"!==o.kind){r=!0,n=!1;break}}t.sourceBuffers.forEach(function(e,i){if(e.appendAudioInitSegment_=!0,e.videoCodec_&&e.audioCodec_)e.audioDisabled_=r;else if(e.videoCodec_&&!e.audioCodec_)e.audioDisabled_=!0,n=!1;else if(!e.videoCodec_&&e.audioCodec_&&(e.audioDisabled_=i?n:!n,e.audioDisabled_))return;t.activeSourceBuffers_.push(e)})},t.onPlayerMediachange_=function(){t.sourceBuffers.forEach(function(e){e.appendAudioInitSegment_=!0})},t.onHlsReset_=function(){t.sourceBuffers.forEach(function(e){e.transmuxer_&&e.transmuxer_.postMessage({action:"resetCaptions"})})},t.onHlsSegmentTimeMapping_=function(e){t.sourceBuffers.forEach(function(t){return t.timeMapping_=e.mapping})},["sourceopen","sourceclose","sourceended"].forEach(function(e){this.nativeMediaSource_.addEventListener(e,this.trigger.bind(this))},t),t.on("sourceopen",function(r){var n=e.querySelector('[src="'+t.url_+'"]');n&&(t.player_=vt(n.parentNode),t.player_&&(t.player_.tech_.on("hls-reset",t.onHlsReset_),t.player_.tech_.on("hls-segment-time-mapping",t.onHlsSegmentTimeMapping_),t.player_.audioTracks&&t.player_.audioTracks()&&(t.player_.audioTracks().on("change",t.updateActiveSourceBuffers_),t.player_.audioTracks().on("addtrack",t.updateActiveSourceBuffers_),t.player_.audioTracks().on("removetrack",t.updateActiveSourceBuffers_)),t.player_.on("mediachange",t.onPlayerMediachange_)))}),t.on("sourceended",function(e){for(var r=pf(t.duration),n=0;n<t.sourceBuffers.length;n++){var i=t.sourceBuffers[n],o=i.metadataTrack_&&i.metadataTrack_.cues;o&&o.length&&(o[o.length-1].endTime=r)}}),t.on("sourceclose",function(e){this.sourceBuffers.forEach(function(e){e.transmuxer_&&e.transmuxer_.terminate()}),this.sourceBuffers.length=0,this.player_&&(this.player_.audioTracks&&this.player_.audioTracks()&&(this.player_.audioTracks().off("change",this.updateActiveSourceBuffers_),this.player_.audioTracks().off("addtrack",this.updateActiveSourceBuffers_),this.player_.audioTracks().off("removetrack",this.updateActiveSourceBuffers_)),this.player_.el_&&this.player_.off("mediachange",this.onPlayerMediachange_),this.player_.tech_&&this.player_.tech_.el_&&(this.player_.tech_.off("hls-reset",this.onHlsReset_),this.player_.tech_.off("hls-segment-time-mapping",this.onHlsSegmentTimeMapping_)))}),t}return $c(n,t),Jc(n,[{key:"addSeekableRange_",value:function(e,t){var r=void 0;if(this.duration!==1/0)throw r=new Error("MediaSource.addSeekableRange() can only be invoked when the duration is Infinity"),r.name="InvalidStateError",r.code=11,r;(t>this.nativeMediaSource_.duration||isNaN(this.nativeMediaSource_.duration))&&(this.nativeMediaSource_.duration=t)}},{key:"addSourceBuffer",value:function(e){var t=void 0,r=Lf(e);if(/^(video|audio)\/mp2t$/i.test(r.type)){var n=[];r.parameters&&r.parameters.codecs&&(n=r.parameters.codecs.split(","),n=Cf(n),n=n.filter(function(e){return Nf(e)||xf(e)})),0===n.length&&(n=["avc1.4d400d","mp4a.40.2"]),t=new Wf(this,n),0!==this.sourceBuffers.length&&(this.sourceBuffers[0].createRealSourceBuffers_(),t.createRealSourceBuffers_(),this.sourceBuffers[0].audioDisabled_=!0)}else t=this.nativeMediaSource_.addSourceBuffer(e);return this.sourceBuffers.push(t),t}}]),n}(vt.EventTarget),Yf=0;vt.mediaSources={};var Vf=function(e,t){var r=vt.mediaSources[e];if(!r)throw new Error("Media Source not found (Video.js)");r.trigger({type:"sourceopen",swfId:t})},qf=function(){return!!r.MediaSource&&!!r.MediaSource.isTypeSupported&&r.MediaSource.isTypeSupported('video/mp4;codecs="avc1.4d400d,mp4a.40.2"')},Kf=function(){if(this.MediaSource={open:Vf,supportsNativeMediaSources:qf},qf())return new Hf;throw new Error("Cannot use create a virtual MediaSource for this video")};Kf.open=Vf,Kf.supportsNativeMediaSources=qf;var zf={createObjectURL:function(e){var t=void 0;return e instanceof Hf?(t=r.URL.createObjectURL(e.nativeMediaSource_),e.url_=t,t):e instanceof Hf?(t="blob:vjs-media-source/"+Yf,Yf++,vt.mediaSources[t]=e,t):(t=r.URL.createObjectURL(e),e.url_=t,t)}};vt.MediaSource=Kf,vt.URL=zf;var Xf=vt.EventTarget,Jf=vt.mergeOptions,Zf=function(e,t){for(var r=Jf(e,{duration:t.duration,minimumUpdatePeriod:t.minimumUpdatePeriod}),n=0;n<t.playlists.length;n++){var i=ud(r,t.playlists[n]);i&&(r=i)}return od(t,function(e,t,n,i){if(e.playlists&&e.playlists.length){var o=e.playlists[0].uri,a=ud(r,e.playlists[0]);a&&(r=a,r.mediaGroups[t][n][i].playlists[0]=r.playlists[o])}}),r},$f=function(e){function t(e,n,i,o){Xc(this,t);var a=ed(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));if(a.hls_=n,a.withCredentials=i,!e)throw new Error("A non-empty playlist URL or playlist is required");return a.on("minimumUpdatePeriod",function(){a.refreshXml_()}),a.on("mediaupdatetimeout",function(){a.refreshMedia_()}),"string"==typeof e?(a.srcUrl=e,a.state="HAVE_NOTHING",ed(a)):(a.masterPlaylistLoader_=o,a.state="HAVE_METADATA",a.started=!0,a.media(e),r.setTimeout(function(){a.trigger("loadedmetadata")},0),a)}return $c(t,e),Jc(t,[{key:"dispose",value:function(){this.stopRequest(),r.clearTimeout(this.mediaUpdateTimeout)}},{key:"stopRequest",value:function(){if(this.request){var e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}}},{key:"media",value:function(e){if(!e)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);var t=this.state;if("string"==typeof e){if(!this.master.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.master.playlists[e]}var r=!this.media_||e.uri!==this.media_.uri;this.state="HAVE_METADATA",r&&(this.media_&&this.trigger("mediachanging"),this.media_=e,this.refreshMedia_(),"HAVE_MASTER"!==t&&this.trigger("mediachange"))}},{key:"pause",value:function(){this.stopRequest(),r.clearTimeout(this.mediaUpdateTimeout),"HAVE_NOTHING"===this.state&&(this.started=!1)}},{key:"load",value:function(e){var t=this;r.clearTimeout(this.mediaUpdateTimeout);var n=this.media();if(e){var i=n?n.targetDuration/2*1e3:5e3;return void(this.mediaUpdateTimeout=r.setTimeout(function(){return t.load()},i))}if(!this.started)return void this.start();this.trigger("loadedplaylist")}},{key:"parseMasterXml",value:function(){var e=_s(this.masterXml_,{manifestUri:this.srcUrl,clientOffset:this.clientOffset_});e.uri=this.srcUrl;for(var t=0;t<e.playlists.length;t++){var r="placeholder-uri-"+t;e.playlists[t].uri=r,e.playlists[r]=e.playlists[t]}return od(e,function(t,r,n,i){if(t.playlists&&t.playlists.length){var o="placeholder-uri-"+r+"-"+n+"-"+i;t.playlists[0].uri=o,e.playlists[o]=t.playlists[0]}}),ld(e),cd(e),e}},{key:"start",value:function(){var e=this;this.started=!0,this.request=this.hls_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},function(t,r){if(e.request){if(e.request=null,t)return e.error={status:r.status,message:"DASH playlist request error at URL: "+e.srcUrl,responseText:r.responseText,code:2},"HAVE_NOTHING"===e.state&&(e.started=!1),e.trigger("error");e.masterXml_=r.responseText,r.responseHeaders&&r.responseHeaders.date?e.masterLoaded_=Date.parse(r.responseHeaders.date):e.masterLoaded_=Date.now(),e.syncClientServerClock_(e.onClientServerClockSync_.bind(e))}})}},{key:"syncClientServerClock_",value:function(e){var t=this,r=Es(this.masterXml_);return null===r?(this.clientOffset_=this.masterLoaded_-Date.now(),e()):"DIRECT"===r.method?(this.clientOffset_=r.value-Date.now(),e()):void(this.request=this.hls_.xhr({uri:zc(this.srcUrl,r.value),method:r.method,withCredentials:this.withCredentials},function(n,i){if(t.request){if(n)return t.clientOffset_=t.masterLoaded_-Date.now(),e();var o=void 0;o="HEAD"===r.method?i.responseHeaders&&i.responseHeaders.date?Date.parse(i.responseHeaders.date):t.masterLoaded_:Date.parse(i.responseText),t.clientOffset_=o-Date.now(),e()}}))}},{key:"onClientServerClockSync_",value:function(){var e=this;this.master=this.parseMasterXml(),this.state="HAVE_MASTER",this.trigger("loadedplaylist"),this.media_||this.media(this.master.playlists[0]),r.setTimeout(function(){e.trigger("loadedmetadata")},0),this.master.minimumUpdatePeriod&&r.setTimeout(function(){e.trigger("minimumUpdatePeriod")},this.master.minimumUpdatePeriod)}},{key:"refreshXml_",value:function(){var e=this;this.request=this.hls_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},function(t,n){if(e.request){if(e.request=null,t)return e.error={status:n.status,message:"DASH playlist request error at URL: "+e.srcUrl,responseText:n.responseText,code:2},"HAVE_NOTHING"===e.state&&(e.started=!1),e.trigger("error");e.masterXml_=n.responseText;var i=e.parseMasterXml();e.master=Zf(e.master,i),r.setTimeout(function(){e.trigger("minimumUpdatePeriod")},e.master.minimumUpdatePeriod)}})}},{key:"refreshMedia_",value:function(){var e=this,t=void 0,n=void 0;this.masterPlaylistLoader_?(t=this.masterPlaylistLoader_.master,n=this.masterPlaylistLoader_.parseMasterXml()):(t=this.master,n=this.parseMasterXml());var i=Zf(t,n);i?(this.masterPlaylistLoader_?this.masterPlaylistLoader_.master=i:this.master=i,this.media_=i.playlists[this.media_.uri]):this.trigger("playlistunchanged"),this.media().endList||(this.mediaUpdateTimeout=r.setTimeout(function(){e.trigger("mediaupdatetimeout")},dd(this.media(),!!i))),this.trigger("loadedplaylist")}}]),t}(Xf),eg=function(e){return vt.log.debug?vt.log.debug.bind(vt,"VHS:",e+" >"):function(){}},tg=function(){function e(t,r,n,i){Xc(this,e),this.callbacks_=[],this.pendingCallback_=null,this.timestampOffset_=0,this.mediaSource=t,this.processedAppend_=!1,this.type_=n,this.mimeType_=r,this.logger_=eg("SourceUpdater["+n+"]["+r+"]"),"closed"===t.readyState?t.addEventListener("sourceopen",this.createSourceBuffer_.bind(this,r,i)):this.createSourceBuffer_(r,i)}return Jc(e,[{key:"createSourceBuffer_",value:function(e,t){var r=this;if(this.sourceBuffer_=this.mediaSource.addSourceBuffer(e),this.logger_("created SourceBuffer"),t&&(t.trigger("sourcebufferadded"),this.mediaSource.sourceBuffers.length<2))return void t.on("sourcebufferadded",function(){r.start_()});this.start_()}},{key:"start_",value:function(){var e=this;this.started_=!0,this.onUpdateendCallback_=function(){var t=e.pendingCallback_;e.pendingCallback_=null,e.logger_("buffered ["+uf(e.buffered())+"]"),t&&t(),e.runCallback_()},this.sourceBuffer_.addEventListener("updateend",this.onUpdateendCallback_),this.runCallback_()}},{key:"abort",value:function(e){var t=this;this.processedAppend_&&this.queueCallback_(function(){t.sourceBuffer_.abort()},e)}},{key:"appendBuffer",value:function(e,t){var r=this;this.processedAppend_=!0,this.queueCallback_(function(){r.sourceBuffer_.appendBuffer(e)},t)}},{key:"buffered",value:function(){return this.sourceBuffer_?this.sourceBuffer_.buffered:vt.createTimeRanges()}},{key:"remove",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:St;this.processedAppend_&&this.queueCallback_(function(){r.logger_("remove ["+e+" => "+t+"]"),r.sourceBuffer_.remove(e,t)},n)}},{key:"updating",value:function(){return!this.sourceBuffer_||this.sourceBuffer_.updating||this.pendingCallback_}},{key:"timestampOffset",value:function(e){var t=this;return void 0!==e&&(this.queueCallback_(function(){t.sourceBuffer_.timestampOffset=e}),this.timestampOffset_=e),this.timestampOffset_}},{key:"queueCallback_",value:function(e,t){this.callbacks_.push([e.bind(this),t]),this.runCallback_()}},{key:"runCallback_",value:function(){var e=void 0;!this.updating()&&this.callbacks_.length&&this.started_&&(e=this.callbacks_.shift(),this.pendingCallback_=e[1],e[0]())}},{key:"dispose",value:function(){this.sourceBuffer_.removeEventListener("updateend",this.onUpdateendCallback_),this.sourceBuffer_&&"open"===this.mediaSource.readyState&&this.sourceBuffer_.abort()}}]),e}(),rg={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,BUFFER_LOW_WATER_LINE_RATE:1},ng={FAILURE:2,TIMEOUT:-101,ABORTED:-102},ig=function(e){var t=void 0;return t=e.offset+e.length-1,"bytes="+e.offset+"-"+t},og=function(e){var t={};return e.byterange&&(t.Range=ig(e.byterange)),t},ag=function(e){e.forEach(function(e){e.abort()})},sg=function(e){return{bandwidth:e.bandwidth,bytesReceived:e.bytesReceived||0,roundTripTime:e.roundTripTime||0}},ug=function(e){var t=e.target,r=Date.now()-t.requestTime,n={bandwidth:1/0,bytesReceived:0,roundTripTime:r||0};return n.bytesReceived=e.loaded,n.bandwidth=Math.floor(n.bytesReceived/n.roundTripTime*8*1e3),n},lg=function(e,t){return t.timedout?{status:t.status,message:"HLS request timed-out at URL: "+t.uri,code:ng.TIMEOUT,xhr:t}:t.aborted?{status:t.status,message:"HLS request aborted at URL: "+t.uri,code:ng.ABORTED,xhr:t}:e?{status:t.status,message:"HLS request errored at URL: "+t.uri,code:ng.FAILURE,xhr:t}:null},cg=function(e,t){return function(r,n){var i=n.response,o=lg(r,n);if(o)return t(o,e);if(16!==i.byteLength)return t({status:n.status,message:"Invalid HLS key at URL: "+n.uri,code:ng.FAILURE,xhr:n},e);var a=new DataView(i);return e.key.bytes=new Uint32Array([a.getUint32(0),a.getUint32(4),a.getUint32(8),a.getUint32(12)]),t(null,e)}},dg=function(e,t,r){return function(n,i){var o=i.response,a=lg(n,i);return a?r(a,e):0===o.byteLength?r({status:i.status,message:"Empty HLS segment content at URL: "+i.uri,code:ng.FAILURE,xhr:i},e):(e.map.bytes=new Uint8Array(i.response),t.isInitialized()||t.init(),e.map.timescales=uu.timescale(e.map.bytes),e.map.videoTrackIds=uu.videoTrackIds(e.map.bytes),r(null,e))}},fg=function(e,t,r){return function(n,i){var o=i.response,a=lg(n,i),s=void 0;return a?r(a,e):0===o.byteLength?r({status:i.status,message:"Empty HLS segment content at URL: "+i.uri,code:ng.FAILURE,xhr:i},e):(e.stats=sg(i),e.key?e.encryptedBytes=new Uint8Array(i.response):e.bytes=new Uint8Array(i.response),e.map&&e.map.bytes&&(t.isInitialized()||t.init(),(s=t.parse(e.bytes,e.map.videoTrackIds,e.map.timescales))&&s.captions&&(e.captionStreams=s.captionStreams,e.fmp4Captions=s.captions)),r(null,e))}},gg=function(e,t,r){var n=function n(i){if(i.data.source===t.requestId){e.removeEventListener("message",n);var o=i.data.decrypted;return t.bytes=new Uint8Array(o.bytes,o.byteOffset,o.byteLength),r(null,t)}};e.addEventListener("message",n),e.postMessage(Wd({source:t.requestId,encrypted:t.encryptedBytes,key:t.key.bytes,iv:t.key.iv}),[t.encryptedBytes.buffer,t.key.bytes.buffer])},pg=function(e,t,r){var n=0,i=!1;return function(o,a){if(!i)return o?(i=!0,ag(e),r(o,a)):(n+=1,n===e.length?(a.endOfAllRequests=Date.now(),a.encryptedBytes?gg(t,a,r):r(null,a)):void 0)}},hg=function(e,t){return function(r){return e.stats=vt.mergeOptions(e.stats,ug(r)),!e.stats.firstBytesReceivedAt&&e.stats.bytesReceived&&(e.stats.firstBytesReceivedAt=Date.now()),t(r,e)}},yg=function(e,t,r,n,i,o,a){var s=[],u=pg(s,r,a);if(i.key){var l=vt.mergeOptions(t,{uri:i.key.resolvedUri,responseType:"arraybuffer"}),c=cg(i,u),d=e(l,c);s.push(d)}if(i.map&&!i.map.bytes){var f=vt.mergeOptions(t,{uri:i.map.resolvedUri,responseType:"arraybuffer",headers:og(i.map)}),g=dg(i,n,u),p=e(f,g);s.push(p)}var h=vt.mergeOptions(t,{uri:i.resolvedUri,responseType:"arraybuffer",headers:og(i)}),y=fg(i,n,u),m=e(h,y);return m.addEventListener("progress",hg(i,o)),s.push(m),function(){return ag(s)}},mg=function(e,t){var n=void 0;return e?(n=r.getComputedStyle(e),n?n[t]:""):""},vg=function(e,t){var r=e.slice();e.sort(function(e,n){var i=t(e,n);return 0===i?r.indexOf(e)-r.indexOf(n):i})},bg=function(e,t){var n=void 0,i=void 0;return e.attributes.BANDWIDTH&&(n=e.attributes.BANDWIDTH),n=n||r.Number.MAX_VALUE,t.attributes.BANDWIDTH&&(i=t.attributes.BANDWIDTH),i=i||r.Number.MAX_VALUE,n-i},Ag=function(e,t){var n=void 0,i=void 0;return e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&(n=e.attributes.RESOLUTION.width),n=n||r.Number.MAX_VALUE,t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width&&(i=t.attributes.RESOLUTION.width),i=i||r.Number.MAX_VALUE,n===i&&e.attributes.BANDWIDTH&&t.attributes.BANDWIDTH?e.attributes.BANDWIDTH-t.attributes.BANDWIDTH:n-i},_g=function(e,t,n,i,o){var a=e.playlists.map(function(e){var t=void 0,n=void 0,i=void 0;return t=e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width,n=e.attributes.RESOLUTION&&e.attributes.RESOLUTION.height,i=e.attributes.BANDWIDTH,i=i||r.Number.MAX_VALUE,{bandwidth:i,width:t,height:n,playlist:e}});vg(a,function(e,t){return e.bandwidth-t.bandwidth}),a=a.filter(function(e){return!Nd.isIncompatible(e.playlist)});var s=a.filter(function(e){return Nd.isEnabled(e.playlist)});s.length||(s=a.filter(function(e){return!Nd.isDisabled(e.playlist)}));var u=s.filter(function(e){return e.bandwidth*rg.BANDWIDTH_VARIANCE<t}),l=u[u.length-1],c=u.filter(function(e){return e.bandwidth===l.bandwidth})[0];if(!1===o){var d=c||s[0]||a[0];return d?d.playlist:null}var f=u.filter(function(e){return e.width&&e.height});vg(f,function(e,t){return e.width-t.width});var g=f.filter(function(e){return e.width===n&&e.height===i});l=g[g.length-1];var p=g.filter(function(e){return e.bandwidth===l.bandwidth})[0],h=void 0,y=void 0,m=void 0;p||(h=f.filter(function(e){return e.width>n||e.height>i}),y=h.filter(function(e){return e.width===h[0].width&&e.height===h[0].height}),l=y[y.length-1],m=y.filter(function(e){return e.bandwidth===l.bandwidth})[0]);var v=m||p||c||s[0]||a[0];return v?v.playlist:null},Eg=function(){return _g(this.playlists.master,this.systemBandwidth,parseInt(mg(this.tech_.el(),"width"),10),parseInt(mg(this.tech_.el(),"height"),10),this.limitRenditionByPlayerDimensions)},Tg=function(e){var t=e.master,r=e.currentTime,n=e.bandwidth,i=e.duration,o=e.segmentDuration,a=e.timeUntilRebuffer,s=e.currentTimeline,u=e.syncController,l=t.playlists.filter(function(e){return!Nd.isIncompatible(e)}),c=l.filter(Nd.isEnabled);c.length||(c=l.filter(function(e){return!Nd.isDisabled(e)}));var d=c.filter(Nd.hasAttribute.bind(null,"BANDWIDTH")),f=d.map(function(e){var t=u.getSyncPoint(e,i,s,r),l=t?1:2;return{playlist:e,rebufferingImpact:Nd.estimateSegmentRequestTime(o,n,e)*l-a}}),g=f.filter(function(e){return e.rebufferingImpact<=0});return vg(g,function(e,t){return bg(t.playlist,e.playlist)}),g.length?g[0]:(vg(f,function(e,t){return e.rebufferingImpact-t.rebufferingImpact}),f[0]||null)},Sg=function(){var e=this.playlists.master.playlists.filter(Nd.isEnabled);return vg(e,function(e,t){return bg(e,t)}),e.filter(function(e){return Df(e.attributes.CODECS).videoCodec})[0]||null},Ig=function(e,t,r){for(var n in r)if(!e[n]){t.trigger({type:"usage",name:"hls-608"});var i=t.textTracks().getTrackById(n);e[n]=i||t.addRemoteTextTrack({kind:"captions",id:n,label:n},!1).track}},wg=function(e){var t=e.inbandTextTracks,r=e.captionArray,n=e.timestampOffset;if(r){var i=window.WebKitDataCue||window.VTTCue;r.forEach(function(e){var r=e.stream,o=e.startTime,a=e.endTime;t[r]&&(o+=n,a+=n,t[r].addCue(new i(o,a,e.text)))})}},Cg=function(e,t,r){if(!e||!t)return!1;var n=e.segments,i=r===n.length;return e.endList&&"open"===t.readyState&&i},Dg=function(e){return"number"==typeof e&&isFinite(e)},Mg=function(e,t,r){return"main"===e&&t&&r?r.containsAudio||r.containsVideo?t.containsVideo&&!r.containsVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!t.containsVideo&&r.containsVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null:"Neither audio nor video found in segment.":null},Og=function(e,t,r){var n=void 0;return n=e.length&&e.start(0)>0&&e.start(0)<t?e.start(0):t-30,Math.min(n,t-r)},Bg=function(e){var t=e.segment,r=t.start,n=t.end,i=e.playlist,o=i.mediaSequence,a=i.id,s=i.segments,u=void 0===s?[]:s,l=e.mediaIndex,c=e.timeline;return["appending ["+l+"] of ["+o+", "+(o+u.length)+"] from playlist ["+a+"]","["+r+" => "+n+"] in timeline ["+c+"]"].join(" ")},Rg=function(e){function t(e){Xc(this,t);var r=ed(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));if(!e)throw new TypeError("Initialization settings are required");if("function"!=typeof e.currentTime)throw new TypeError("No currentTime getter specified");if(!e.mediaSource)throw new TypeError("No MediaSource specified");return r.bandwidth=e.bandwidth,r.throughput={rate:0,count:0},r.roundTrip=NaN,r.resetStats_(),r.mediaIndex=null,r.hasPlayed_=e.hasPlayed,r.currentTime_=e.currentTime,r.seekable_=e.seekable,r.seeking_=e.seeking,r.duration_=e.duration,r.mediaSource_=e.mediaSource,r.hls_=e.hls,r.loaderType_=e.loaderType,r.startingMedia_=void 0,r.segmentMetadataTrack_=e.segmentMetadataTrack,r.goalBufferLength_=e.goalBufferLength,r.sourceType_=e.sourceType,r.inbandTextTracks_=e.inbandTextTracks,r.state_="INIT",r.checkBufferTimeout_=null,r.error_=void 0,r.currentTimeline_=-1,r.pendingSegment_=null,r.mimeType_=null,r.sourceUpdater_=null,r.xhrOptions_=null,r.activeInitSegmentId_=null,r.initSegments_={},r.captionParser_=new hc,r.decrypter_=e.decrypter,r.syncController_=e.syncController,r.syncPoint_={segmentIndex:0,time:0},r.syncController_.on("syncinfoupdate",function(){return r.trigger("syncinfoupdate")}),r.mediaSource_.addEventListener("sourceopen",function(){return r.ended_=!1}),r.fetchAtBuffer_=!1,r.logger_=eg("SegmentLoader["+r.loaderType_+"]"),Object.defineProperty(r,"state",{get:function(){return this.state_},set:function(e){e!==this.state_&&(this.logger_(this.state_+" -> "+e),this.state_=e)}}),r}return $c(t,e),Jc(t,[{key:"resetStats_",value:function(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0}},{key:"dispose",value:function(){this.state="DISPOSED",this.pause(),this.abort_(),this.sourceUpdater_&&this.sourceUpdater_.dispose(),this.resetStats_(),this.captionParser_.reset()}},{key:"abort",value:function(){if("WAITING"!==this.state)return void(this.pendingSegment_&&(this.pendingSegment_=null));this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()}},{key:"abort_",value:function(){this.pendingSegment_&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null}},{key:"error",value:function(e){return void 0!==e&&(this.error_=e),this.pendingSegment_=null,this.error_}},{key:"endOfStream",value:function(){this.ended_=!0,this.pause(),this.trigger("ended")}},{key:"buffered_",value:function(){return this.sourceUpdater_?this.sourceUpdater_.buffered():vt.createTimeRanges()}},{key:"initSegment",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return null;var r=Hd(e),n=this.initSegments_[r];return t&&!n&&e.bytes&&(this.initSegments_[r]=n={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:e.bytes,timescales:e.timescales,videoTrackIds:e.videoTrackIds}),n||e}},{key:"couldBeginLoading_",value:function(){return this.playlist_&&(this.sourceUpdater_||this.mimeType_&&"INIT"===this.state)&&!this.paused()}},{key:"load",value:function(){if(this.monitorBuffer_(),this.playlist_){if(this.syncController_.setDateTimeMapping(this.playlist_),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();!this.couldBeginLoading_()||"READY"!==this.state&&"INIT"!==this.state||(this.state="READY")}}},{key:"init_",value:function(){return this.state="READY",this.sourceUpdater_=new tg(this.mediaSource_,this.mimeType_,this.loaderType_,this.sourceBufferEmitter_),this.resetEverything(),this.monitorBuffer_()}},{key:"playlist",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e){var r=this.playlist_,n=this.pendingSegment_;this.playlist_=e,this.xhrOptions_=t,this.hasPlayed_()||(e.syncInfo={mediaSequence:e.mediaSequence,time:0});var i=r?r.id:null;if(this.logger_("playlist update ["+i+" => "+e.id+"]"),this.trigger("syncinfoupdate"),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();if(!r||r.uri!==e.uri)return void(null!==this.mediaIndex&&this.resyncLoader());var o=e.mediaSequence-r.mediaSequence;this.logger_("live window shift ["+o+"]"),null!==this.mediaIndex&&(this.mediaIndex-=o),n&&(n.mediaIndex-=o,n.mediaIndex>=0&&(n.segment=e.segments[n.mediaIndex])),this.syncController_.saveExpiredSegmentInfo(r,e)}}},{key:"pause",value:function(){this.checkBufferTimeout_&&(r.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)}},{key:"paused",value:function(){return null===this.checkBufferTimeout_}},{key:"mimeType",value:function(e,t){this.mimeType_||(this.mimeType_=e,this.sourceBufferEmitter_=t,"INIT"===this.state&&this.couldBeginLoading_()&&this.init_())}},{key:"resetEverything",value:function(e){this.ended_=!1,this.resetLoader(),this.remove(0,this.duration_(),e),this.captionParser_.clearAllCaptions(),this.trigger("reseteverything")}},{key:"resetLoader",value:function(){this.fetchAtBuffer_=!1,this.resyncLoader()}},{key:"resyncLoader",value:function(){this.mediaIndex=null,this.syncPoint_=null,this.abort()}},{key:"remove",value:function(e,t,r){if(this.sourceUpdater_&&this.sourceUpdater_.remove(e,t,r),ff(e,t,this.segmentMetadataTrack_),this.inbandTextTracks_)for(var n in this.inbandTextTracks_)ff(e,t,this.inbandTextTracks_[n])}},{key:"monitorBuffer_",value:function(){this.checkBufferTimeout_&&r.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=r.setTimeout(this.monitorBufferTick_.bind(this),1)}},{key:"monitorBufferTick_",value:function(){"READY"===this.state&&this.fillBuffer_(),this.checkBufferTimeout_&&r.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=r.setTimeout(this.monitorBufferTick_.bind(this),500)}},{key:"fillBuffer_",value:function(){if(!this.sourceUpdater_.updating()){this.syncPoint_||(this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_()));var e=this.checkBuffer_(this.buffered_(),this.playlist_,this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_);if(e){if(Cg(this.playlist_,this.mediaSource_,e.mediaIndex))return void this.endOfStream();(e.mediaIndex!==this.playlist_.segments.length-1||"ended"!==this.mediaSource_.readyState||this.seeking_())&&((e.timeline!==this.currentTimeline_||null!==e.startOfSegment&&e.startOfSegment<this.sourceUpdater_.timestampOffset())&&(this.syncController_.reset(),e.timestampOffset=e.startOfSegment,this.captionParser_.clearAllCaptions()),this.loadSegment_(e))}}}},{key:"checkBuffer_",value:function(e,t,r,n,i,o){var a=0,s=void 0;e.length&&(a=e.end(e.length-1));var u=Math.max(0,a-i);if(!t.segments.length)return null;if(u>=this.goalBufferLength_())return null;if(!n&&u>=1)return null;if(null===o)return r=this.getSyncSegmentCandidate_(t),this.generateSegmentInfo_(t,r,null,!0);if(null!==r){var l=t.segments[r];return s=l&&l.end?l.end:a,this.generateSegmentInfo_(t,r+1,s,!1)}if(this.fetchAtBuffer_){var c=Nd.getMediaInfoForTime(t,a,o.segmentIndex,o.time);r=c.mediaIndex,s=c.startTime}else{var d=Nd.getMediaInfoForTime(t,i,o.segmentIndex,o.time);r=d.mediaIndex,s=d.startTime}return this.generateSegmentInfo_(t,r,s,!1)}},{key:"getSyncSegmentCandidate_",value:function(e){var t=this;if(-1===this.currentTimeline_)return 0;var r=e.segments.map(function(e,t){return{timeline:e.timeline,segmentIndex:t}}).filter(function(e){return e.timeline===t.currentTimeline_});return r.length?r[Math.min(r.length-1,1)].segmentIndex:Math.max(e.segments.length-1,0)}},{key:"generateSegmentInfo_",value:function(e,t,r,n){if(t<0||t>=e.segments.length)return null;var i=e.segments[t];return{requestId:"segment-loader-"+Math.random(),uri:i.resolvedUri,mediaIndex:t,isSyncRequest:n,startOfSegment:r,playlist:e,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:i.timeline,duration:i.duration,segment:i}}},{key:"abortRequestEarly_",value:function(e){if(this.hls_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH)return!1;if(Date.now()-(e.firstBytesReceivedAt||Date.now())<1e3)return!1;var t=this.currentTime_(),r=e.bandwidth,n=this.pendingSegment_.duration,i=Nd.estimateSegmentRequestTime(n,r,this.playlist_,e.bytesReceived),o=lf(this.buffered_(),t,this.hls_.tech_.playbackRate())-1;if(i<=o)return!1;var a=Tg({master:this.hls_.playlists.master,currentTime:t,bandwidth:r,duration:this.duration_(),segmentDuration:n,timeUntilRebuffer:o,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(a){var s=i-o,u=s-a.rebufferingImpact,l=.5;return o<=1/30&&(l=1),!a.playlist||a.playlist.uri===this.playlist_.uri||u<l?!1:(this.bandwidth=a.playlist.attributes.BANDWIDTH*rg.BANDWIDTH_VARIANCE+1,this.abort(),this.trigger("earlyabort"),!0)}}},{key:"handleProgress_",value:function(e,t){this.pendingSegment_&&t.requestId===this.pendingSegment_.requestId&&!this.abortRequestEarly_(t.stats)&&this.trigger("progress")}},{key:"loadSegment_",value:function(e){this.state="WAITING",this.pendingSegment_=e,this.trimBackBuffer_(e),e.abortRequests=yg(this.hls_.xhr,this.xhrOptions_,this.decrypter_,this.captionParser_,this.createSimplifiedSegmentObj_(e),this.handleProgress_.bind(this),this.segmentRequestFinished_.bind(this))}},{key:"trimBackBuffer_",value:function(e){var t=Og(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);t>0&&this.remove(0,t)}},{key:"createSimplifiedSegmentObj_",value:function(e){var t=e.segment,r={resolvedUri:t.resolvedUri,byterange:t.byterange,requestId:e.requestId};if(t.key){var n=t.key.iv||new Uint32Array([0,0,0,e.mediaIndex+e.playlist.mediaSequence]);r.key={resolvedUri:t.key.resolvedUri,iv:n}}return t.map&&(r.map=this.initSegment(t.map)),r}},{key:"segmentRequestFinished_",value:function(e,t){if(this.mediaRequests+=1,t.stats&&(this.mediaBytesTransferred+=t.stats.bytesReceived,this.mediaTransferDuration+=t.stats.roundTripTime),!this.pendingSegment_)return void(this.mediaRequestsAborted+=1);if(t.requestId===this.pendingSegment_.requestId){if(e)return this.pendingSegment_=null,this.state="READY",e.code===ng.ABORTED?void(this.mediaRequestsAborted+=1):(this.pause(),e.code===ng.TIMEOUT?(this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,void this.trigger("bandwidthupdate")):(this.mediaRequestsErrored+=1,this.error(e),void this.trigger("error")));this.bandwidth=t.stats.bandwidth,this.roundTrip=t.stats.roundTripTime,t.map&&(t.map=this.initSegment(t.map,!0)),this.processSegmentResponse_(t)}}},{key:"processSegmentResponse_",value:function(e){var t=this.pendingSegment_;t.bytes=e.bytes,e.map&&(t.segment.map.bytes=e.map.bytes),t.endOfAllRequests=e.endOfAllRequests,e.fmp4Captions&&(Ig(this.inbandTextTracks_,this.hls_.tech_,e.captionStreams),wg({inbandTextTracks:this.inbandTextTracks_,captionArray:e.fmp4Captions,timestampOffset:0}),this.captionParser_.clearParsedCaptions()),this.handleSegment_()}},{key:"handleSegment_",value:function(){var e=this;if(!this.pendingSegment_)return void(this.state="READY");var t=this.pendingSegment_,r=t.segment,n=this.syncController_.probeSegmentInfo(t);void 0===this.startingMedia_&&n&&(n.containsAudio||n.containsVideo)&&(this.startingMedia_={containsAudio:n.containsAudio,containsVideo:n.containsVideo});var i=Mg(this.loaderType_,this.startingMedia_,n);if(i)return this.error({message:i,blacklistDuration:1/0}),void this.trigger("error");if(t.isSyncRequest)return this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY");null!==t.timestampOffset&&t.timestampOffset!==this.sourceUpdater_.timestampOffset()&&(this.sourceUpdater_.timestampOffset(t.timestampOffset),this.trigger("timestampoffset"));var o=this.syncController_.mappingForTimeline(t.timeline);if(null!==o&&this.trigger({type:"segmenttimemapping",mapping:o}),this.state="APPENDING",r.map){var a=Hd(r.map);if(!this.activeInitSegmentId_||this.activeInitSegmentId_!==a){var s=this.initSegment(r.map);this.sourceUpdater_.appendBuffer(s.bytes,function(){e.activeInitSegmentId_=a})}}t.byteLength=t.bytes.byteLength,"number"==typeof r.start&&"number"==typeof r.end?this.mediaSecondsLoaded+=r.end-r.start:this.mediaSecondsLoaded+=r.duration,this.logger_(Bg(t)),this.sourceUpdater_.appendBuffer(t.bytes,this.handleUpdateEnd_.bind(this))}},{key:"handleUpdateEnd_",value:function(){if(!this.pendingSegment_)return this.state="READY",void(this.paused()||this.monitorBuffer_());var e=this.pendingSegment_,t=e.segment,r=null!==this.mediaIndex;if(this.pendingSegment_=null,this.recordThroughput_(e),this.addSegmentMetadataCue_(e),this.state="READY",this.mediaIndex=e.mediaIndex,this.fetchAtBuffer_=!0,this.currentTimeline_=e.timeline,this.trigger("syncinfoupdate"),t.end&&this.currentTime_()-t.end>3*e.playlist.targetDuration)return void this.resetEverything();r&&this.trigger("bandwidthupdate"),this.trigger("progress"),Cg(e.playlist,this.mediaSource_,e.mediaIndex+1)&&this.endOfStream(),this.paused()||this.monitorBuffer_()}},{key:"recordThroughput_",value:function(e){var t=this.throughput.rate,r=Date.now()-e.endOfAllRequests+1,n=Math.floor(e.byteLength/r*8*1e3);this.throughput.rate+=(n-t)/++this.throughput.count}},{key:"addSegmentMetadataCue_",value:function(e){if(this.segmentMetadataTrack_){var t=e.segment,n=t.start,i=t.end;if(Dg(n)&&Dg(i)){ff(n,i,this.segmentMetadataTrack_);var o=r.WebKitDataCue||r.VTTCue,a={dateTimeObject:t.dateTimeObject,dateTimeString:t.dateTimeString,bandwidth:e.playlist.attributes.BANDWIDTH,resolution:e.playlist.attributes.RESOLUTION,codecs:e.playlist.attributes.CODECS,byteLength:e.byteLength,uri:e.uri,timeline:e.timeline,playlist:e.playlist.uri,start:n,end:i},s=JSON.stringify(a),u=new o(n,i,s);u.value=a,this.segmentMetadataTrack_.addCue(u)}}}}]),t}(vt.EventTarget),Pg=function(e){return decodeURIComponent(escape(String.fromCharCode.apply(null,e)))},kg=new Uint8Array("\n\n".split("").map(function(e){return e.charCodeAt(0)})),Lg=function(e){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Xc(this,t);var n=ed(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return n.mediaSource_=null,n.subtitlesTrack_=null,n}return $c(t,e),Jc(t,[{key:"buffered_",value:function(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues.length)return vt.createTimeRanges();var e=this.subtitlesTrack_.cues,t=e[0].startTime,r=e[e.length-1].startTime;return vt.createTimeRanges([[t,r]])}},{key:"initSegment",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return null;var r=Hd(e),n=this.initSegments_[r];if(t&&!n&&e.bytes){var i=kg.byteLength+e.bytes.byteLength,o=new Uint8Array(i);o.set(e.bytes),o.set(kg,e.bytes.byteLength),this.initSegments_[r]=n={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:o}}return n||e}},{key:"couldBeginLoading_",value:function(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()}},{key:"init_",value:function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}},{key:"track",value:function(e){return void 0===e?this.subtitlesTrack_:(this.subtitlesTrack_=e,"INIT"===this.state&&this.couldBeginLoading_()&&this.init_(),this.subtitlesTrack_)}},{key:"remove",value:function(e,t){ff(e,t,this.subtitlesTrack_)}},{key:"fillBuffer_",value:function(){var e=this;this.syncPoint_||(this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_()));var t=this.checkBuffer_(this.buffered_(),this.playlist_,this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_);if(t=this.skipEmptySegments_(t)){if(null===this.syncController_.timestampOffsetForTimeline(t.timeline)){var r=function(){e.state="READY",e.paused()||e.monitorBuffer_()};return this.syncController_.one("timestampoffset",r),void(this.state="WAITING_ON_TIMELINE")}this.loadSegment_(t)}}},{key:"skipEmptySegments_",value:function(e){for(;e&&e.segment.empty;)e=this.generateSegmentInfo_(e.playlist,e.mediaIndex+1,e.startOfSegment+e.duration,e.isSyncRequest);return e}},{key:"handleSegment_",value:function(){var e=this;if(!this.pendingSegment_||!this.subtitlesTrack_)return void(this.state="READY");this.state="APPENDING";var t=this.pendingSegment_,n=t.segment;if("function"!=typeof r.WebVTT&&this.subtitlesTrack_&&this.subtitlesTrack_.tech_){var i=function(){e.handleSegment_()};return this.state="WAITING_ON_VTTJS",this.subtitlesTrack_.tech_.one("vttjsloaded",i),void this.subtitlesTrack_.tech_.one("vttjserror",function(){e.subtitlesTrack_.tech_.off("vttjsloaded",i),e.error({message:"Error loading vtt.js"}),e.state="READY",e.pause(),e.trigger("error")})}n.requested=!0;try{this.parseVTTCues_(t)}catch(e){return this.error({message:e.message}),this.state="READY",this.pause(),this.trigger("error")}if(this.updateTimeMapping_(t,this.syncController_.timelines[t.timeline],this.playlist_),t.isSyncRequest)return this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY");t.byteLength=t.bytes.byteLength,this.mediaSecondsLoaded+=n.duration,t.cues.length&&this.remove(t.cues[0].endTime,t.cues[t.cues.length-1].endTime),t.cues.forEach(function(t){e.subtitlesTrack_.addCue(t)}),this.handleUpdateEnd_()}},{key:"parseVTTCues_",value:function(e){var t=void 0,n=!1;"function"==typeof r.TextDecoder?t=new r.TextDecoder("utf8"):(t=r.WebVTT.StringDecoder(),n=!0);var i=new r.WebVTT.Parser(r,r.vttjs,t);if(e.cues=[],e.timestampmap={MPEGTS:0,LOCAL:0},i.oncue=e.cues.push.bind(e.cues),i.ontimestampmap=function(t){return e.timestampmap=t},i.onparsingerror=function(e){vt.log.warn("Error encountered when parsing cues: "+e.message)},e.segment.map){var o=e.segment.map.bytes;n&&(o=Pg(o)),i.parse(o)}var a=e.bytes;n&&(a=Pg(a)),i.parse(a),i.flush()}},{key:"updateTimeMapping_",value:function(e,t,r){var n=e.segment;if(t){if(!e.cues.length)return void(n.empty=!0);var i=e.timestampmap,o=i.MPEGTS/9e4-i.LOCAL+t.mapping;if(e.cues.forEach(function(e){e.startTime+=o,e.endTime+=o}),!r.syncInfo){var a=e.cues[0].startTime,s=e.cues[e.cues.length-1].startTime;r.syncInfo={mediaSequence:r.mediaSequence+e.mediaIndex,time:Math.min(a,s-n.duration)}}}}}]),t}(Rg),Ng=function(e,t){for(var r=e.cues,n=0;n<r.length;n++){var i=r[n];if(t>=i.adStartTime&&t<=i.adEndTime)return i}return null},xg=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(e.segments)for(var i=n,o=void 0,a=0;a<e.segments.length;a++){var s=e.segments[a];if(o||(o=Ng(t,i+s.duration/2)),o){if("cueIn"in s){o.endTime=i,o.adEndTime=i,i+=s.duration,o=null;continue}if(i<o.endTime){i+=s.duration;continue}o.endTime+=s.duration}else if("cueOut"in s&&(o=new r.VTTCue(i,i+s.duration,s.cueOut),o.adStartTime=i,o.adEndTime=i+parseFloat(s.cueOut),t.addCue(o)),"cueOutCont"in s){var u=void 0,l=void 0,c=s.cueOutCont.split("/").map(parseFloat),d=td(c,2);u=d[0],l=d[1],o=new r.VTTCue(i,i+s.duration,""),o.adStartTime=i-u,o.adEndTime=o.adStartTime+l,t.addCue(o)}i+=s.duration}},jg=Nc.inspect,Ug=[{name:"VOD",run:function(e,t,r,n,i){if(r!==1/0){return{time:0,segmentIndex:0}}return null}},{name:"ProgramDateTime",run:function(e,t,r,n,i){if(!e.datetimeToDisplayTime)return null;var o=t.segments||[],a=null,s=null;i=i||0;for(var u=0;u<o.length;u++){var l=o[u];if(l.dateTimeObject){var c=l.dateTimeObject.getTime()/1e3,d=c+e.datetimeToDisplayTime,f=Math.abs(i-d);if(null!==s&&s<f)break;s=f,a={time:d,segmentIndex:u}}}return a}},{name:"Segment",run:function(e,t,r,n,i){var o=t.segments||[],a=null,s=null;i=i||0;for(var u=0;u<o.length;u++){var l=o[u];if(l.timeline===n&&void 0!==l.start){var c=Math.abs(i-l.start);if(null!==s&&s<c)break;(!a||null===s||s>=c)&&(s=c,a={time:l.start,segmentIndex:u})}}return a}},{name:"Discontinuity",run:function(e,t,r,n,i){var o=null;if(i=i||0,t.discontinuityStarts&&t.discontinuityStarts.length)for(var a=null,s=0;s<t.discontinuityStarts.length;s++){var u=t.discontinuityStarts[s],l=t.discontinuitySequence+s+1,c=e.discontinuities[l];if(c){var d=Math.abs(i-c.time);if(null!==a&&a<d)break;(!o||null===a||a>=d)&&(a=d,o={time:c.time,segmentIndex:u})}}return o}},{name:"Playlist",run:function(e,t,r,n,i){if(t.syncInfo){return{time:t.syncInfo.time,segmentIndex:t.syncInfo.mediaSequence-t.mediaSequence}}return null}}],Fg=function(e){function t(){Xc(this,t);var e=ed(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.inspectCache_=void 0,e.timelines=[],e.discontinuities=[],e.datetimeToDisplayTime=null,e.logger_=eg("SyncController"),e}return $c(t,e),Jc(t,[{key:"getSyncPoint",value:function(e,t,r,n){var i=this.runStrategies_(e,t,r,n);return i.length?this.selectSyncPoint_(i,{key:"time",value:n}):null}},{key:"getExpiredTime",value:function(e,t){if(!e||!e.segments)return null;var r=this.runStrategies_(e,t,e.discontinuitySequence,0);if(!r.length)return null;var n=this.selectSyncPoint_(r,{key:"segmentIndex",value:0});return n.segmentIndex>0&&(n.time*=-1),Math.abs(n.time+vd(e,n.segmentIndex,0))}},{key:"runStrategies_",value:function(e,t,r,n){for(var i=[],o=0;o<Ug.length;o++){var a=Ug[o],s=a.run(this,e,t,r,n);s&&(s.strategy=a.name,i.push({strategy:a.name,syncPoint:s}))}return i}},{key:"selectSyncPoint_",value:function(e,t){for(var r=e[0].syncPoint,n=Math.abs(e[0].syncPoint[t.key]-t.value),i=e[0].strategy,o=1;o<e.length;o++){var a=Math.abs(e[o].syncPoint[t.key]-t.value);a<n&&(n=a,r=e[o].syncPoint,i=e[o].strategy)}return this.logger_("syncPoint for ["+t.key+": "+t.value+"] chosen with strategy ["+i+"]: [time:"+r.time+", segmentIndex:"+r.segmentIndex+"]"),r}},{key:"saveExpiredSegmentInfo",value:function(e,t){for(var r=t.mediaSequence-e.mediaSequence,n=r-1;n>=0;n--){var i=e.segments[n];if(i&&void 0!==i.start){t.syncInfo={mediaSequence:e.mediaSequence+n,time:i.start},this.logger_("playlist refresh sync: [time:"+t.syncInfo.time+", mediaSequence: "+t.syncInfo.mediaSequence+"]"),this.trigger("syncinfoupdate");break}}}},{key:"setDateTimeMapping",value:function(e){if(!this.datetimeToDisplayTime&&e.segments&&e.segments.length&&e.segments[0].dateTimeObject){var t=e.segments[0].dateTimeObject.getTime()/1e3;this.datetimeToDisplayTime=-t}}},{key:"reset",value:function(){this.inspectCache_=void 0}},{key:"probeSegmentInfo",value:function(e){var t=e.segment,r=e.playlist,n=void 0;return n=t.map?this.probeMp4Segment_(e):this.probeTsSegment_(e),n&&this.calculateSegmentTimeMapping_(e,n)&&(this.saveDiscontinuitySyncInfo_(e),r.syncInfo||(r.syncInfo={mediaSequence:r.mediaSequence+e.mediaIndex,time:t.start})),n}},{key:"probeMp4Segment_",value:function(e){var t=e.segment,r=uu.timescale(t.map.bytes),n=uu.startTime(r,e.bytes);return null!==e.timestampOffset&&(e.timestampOffset-=n),{start:n,end:n+t.duration}}},{key:"probeTsSegment_",value:function(e){var t=jg(e.bytes,this.inspectCache_),r=void 0,n=void 0;return t?(t.video&&2===t.video.length?(this.inspectCache_=t.video[1].dts,r=t.video[0].dtsTime,n=t.video[1].dtsTime):t.audio&&2===t.audio.length&&(this.inspectCache_=t.audio[1].dts,r=t.audio[0].dtsTime,n=t.audio[1].dtsTime),{start:r,end:n,containsVideo:t.video&&2===t.video.length,containsAudio:t.audio&&2===t.audio.length}):null}},{key:"timestampOffsetForTimeline",value:function(e){return void 0===this.timelines[e]?null:this.timelines[e].time}},{key:"mappingForTimeline",value:function(e){return void 0===this.timelines[e]?null:this.timelines[e].mapping}},{key:"calculateSegmentTimeMapping_",value:function(e,t){var r=e.segment,n=this.timelines[e.timeline];if(null!==e.timestampOffset)n={time:e.startOfSegment,mapping:e.startOfSegment-t.start},this.timelines[e.timeline]=n,this.trigger("timestampoffset"),this.logger_("time mapping for timeline "+e.timeline+": [time: "+n.time+"] [mapping: "+n.mapping+"]"),r.start=e.startOfSegment,r.end=t.end+n.mapping;else{if(!n)return!1;r.start=t.start+n.mapping,r.end=t.end+n.mapping}return!0}},{key:"saveDiscontinuitySyncInfo_",value:function(e){var t=e.playlist,r=e.segment;if(r.discontinuity)this.discontinuities[r.timeline]={time:r.start,accuracy:0};else if(t.discontinuityStarts&&t.discontinuityStarts.length)for(var n=0;n<t.discontinuityStarts.length;n++){var i=t.discontinuityStarts[n],o=t.discontinuitySequence+n+1,a=i-e.mediaIndex,s=Math.abs(a);if(!this.discontinuities[o]||this.discontinuities[o].accuracy>s){var u=void 0;u=a<0?r.start-vd(t,e.mediaIndex,i):r.end+vd(t,e.mediaIndex+1,i),this.discontinuities[o]={time:u,accuracy:s}}}}}]),t}(vt.EventTarget),Qg=new _t("./decrypter-worker.worker.js",function(e,t){var r=this;!function(){function e(e){return e.subarray(0,e.byteLength-e[e.byteLength-1])}var t=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},a=function(){var e=[[[],[],[],[],[]],[[],[],[],[],[]]],t=e[0],r=e[1],n=t[4],i=r[4],o=void 0,a=void 0,s=void 0,u=[],l=[],c=void 0,d=void 0,f=void 0,g=void 0,p=void 0,h=void 0;for(o=0;o<256;o++)l[(u[o]=o<<1^283*(o>>7))^o]=o;for(a=s=0;!n[a];a^=c||1,s=l[s]||1)for(g=s^s<<1^s<<2^s<<3^s<<4,g=g>>8^255&g^99,n[a]=g,i[g]=a,f=u[d=u[c=u[a]]],h=16843009*f^65537*d^257*c^16843008*a,p=257*u[g]^16843008*g,o=0;o<4;o++)t[o][a]=p=p<<24^p>>>8,r[o][g]=h=h<<24^h>>>8;for(o=0;o<5;o++)t[o]=t[o].slice(0),r[o]=r[o].slice(0);return e},s=null,u=function(){function e(r){t(this,e),s||(s=a()),this._tables=[[s[0][0].slice(),s[0][1].slice(),s[0][2].slice(),s[0][3].slice(),s[0][4].slice()],[s[1][0].slice(),s[1][1].slice(),s[1][2].slice(),s[1][3].slice(),s[1][4].slice()]];var n=void 0,i=void 0,o=void 0,u=void 0,l=void 0,c=this._tables[0][4],d=this._tables[1],f=r.length,g=1;if(4!==f&&6!==f&&8!==f)throw new Error("Invalid aes key size");for(u=r.slice(0),l=[],this._key=[u,l],n=f;n<4*f+28;n++)o=u[n-1],(n%f==0||8===f&&n%f==4)&&(o=c[o>>>24]<<24^c[o>>16&255]<<16^c[o>>8&255]<<8^c[255&o],n%f==0&&(o=o<<8^o>>>24^g<<24,g=g<<1^283*(g>>7))),u[n]=u[n-f]^o;for(i=0;n;i++,n--)o=u[3&i?n:n-4],l[i]=n<=4||i<4?o:d[0][c[o>>>24]]^d[1][c[o>>16&255]]^d[2][c[o>>8&255]]^d[3][c[255&o]]}return e.prototype.decrypt=function(e,t,r,n,i,o){var a=this._key[1],s=e^a[0],u=n^a[1],l=r^a[2],c=t^a[3],d=void 0,f=void 0,g=void 0,p=a.length/4-2,h=void 0,y=4,m=this._tables[1],v=m[0],b=m[1],A=m[2],_=m[3],E=m[4];for(h=0;h<p;h++)d=v[s>>>24]^b[u>>16&255]^A[l>>8&255]^_[255&c]^a[y],f=v[u>>>24]^b[l>>16&255]^A[c>>8&255]^_[255&s]^a[y+1],g=v[l>>>24]^b[c>>16&255]^A[s>>8&255]^_[255&u]^a[y+2],c=v[c>>>24]^b[s>>16&255]^A[u>>8&255]^_[255&l]^a[y+3],y+=4,s=d,u=f,l=g;for(h=0;h<4;h++)i[(3&-h)+o]=E[s>>>24]<<24^E[u>>16&255]<<16^E[l>>8&255]<<8^E[255&c]^a[y++],d=s,s=u,u=l,l=c,c=d},e}(),l=function(){function e(){t(this,e),this.listeners={}}return e.prototype.on=function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)},e.prototype.off=function(e,t){if(!this.listeners[e])return!1;var r=this.listeners[e].indexOf(t);return this.listeners[e].splice(r,1),r>-1},e.prototype.trigger=function(e){var t=this.listeners[e];if(t)if(2===arguments.length)for(var r=t.length,n=0;n<r;++n)t[n].call(this,arguments[1]);else for(var i=Array.prototype.slice.call(arguments,1),o=t.length,a=0;a<o;++a)t[a].apply(this,i)},e.prototype.dispose=function(){this.listeners={}},e.prototype.pipe=function(e){this.on("data",function(t){e.push(t)})},e}(),c=function(e){function r(){t(this,r);var n=o(this,e.call(this,l));return n.jobs=[],n.delay=1,n.timeout_=null,n}return i(r,e),r.prototype.processJob_=function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null},r.prototype.push=function(e){this.jobs.push(e),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))},r}(l),d=function(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24},f=function(e,t,r){var n=new Int32Array(e.buffer,e.byteOffset,e.byteLength>>2),i=new u(Array.prototype.slice.call(t)),o=new Uint8Array(e.byteLength),a=new Int32Array(o.buffer),s=void 0,l=void 0,c=void 0,f=void 0,g=void 0,p=void 0,h=void 0,y=void 0,m=void 0;for(s=r[0],l=r[1],c=r[2],f=r[3],m=0;m<n.length;m+=4)g=d(n[m]),p=d(n[m+1]),h=d(n[m+2]),y=d(n[m+3]),i.decrypt(g,p,h,y,a,m),a[m]=d(a[m]^s),a[m+1]=d(a[m+1]^l),a[m+2]=d(a[m+2]^c),a[m+3]=d(a[m+3]^f),s=g,l=p,c=h,f=y;return o},g=function(){function r(n,i,o,a){t(this,r);var s=r.STEP,u=new Int32Array(n.buffer),l=new Uint8Array(n.byteLength),f=0;for(this.asyncStream_=new c,this.asyncStream_.push(this.decryptChunk_(u.subarray(f,f+s),i,o,l)),f=s;f<u.length;f+=s)o=new Uint32Array([d(u[f-4]),d(u[f-3]),d(u[f-2]),d(u[f-1])]),this.asyncStream_.push(this.decryptChunk_(u.subarray(f,f+s),i,o,l));this.asyncStream_.push(function(){a(null,e(l))})}return r.prototype.decryptChunk_=function(e,t,r,n){return function(){var i=f(e,t,r);n.set(i,e.byteOffset)}},n(r,null,[{key:"STEP",get:function(){return 32e3}}]),r}(),p=function(e){var t={};return Object.keys(e).forEach(function(r){var n=e[r];ArrayBuffer.isView(n)?t[r]={bytes:n.buffer,byteOffset:n.byteOffset,byteLength:n.byteLength}:t[r]=n}),t};new function(e){e.onmessage=function(t){var r=t.data,n=new Uint8Array(r.encrypted.bytes,r.encrypted.byteOffset,r.encrypted.byteLength),i=new Uint32Array(r.key.bytes,r.key.byteOffset,r.key.byteLength/4),o=new Uint32Array(r.iv.bytes,r.iv.byteOffset,r.iv.byteLength/4);new g(n,i,o,function(t,n){e.postMessage(p({source:r.source,decrypted:n}),[n.buffer])})}}(r)}()}),Gg=function(e){var t=e.default?"main":"alternative";return e.characteristics&&e.characteristics.indexOf("public.accessibility.describes-video")>=0&&(t="main-desc"),t},Wg=function(e,t){e.abort(),e.pause(),t&&t.activePlaylistLoader&&(t.activePlaylistLoader.pause(),t.activePlaylistLoader=null)},Hg=function(e,t){t.activePlaylistLoader=e,e.load()},Yg=function(e,t){return function(){var r=t.segmentLoaders,n=r[e],i=r.main,o=t.mediaTypes[e],a=o.activeTrack(),s=o.activeGroup(a),u=o.activePlaylistLoader;if(Wg(n,o),s){if(!s.playlistLoader)return void(u&&i.resetEverything());n.resyncLoader(),Hg(s.playlistLoader,o)}}},Vg=function(e,t){return function(){var r=t.segmentLoaders,n=r[e],i=r.main,o=t.mediaTypes[e],a=o.activeTrack(),s=o.activeGroup(a),u=o.activePlaylistLoader;if(Wg(n,o),s){if(!s.playlistLoader)return void i.resetEverything();if(u===s.playlistLoader)return void Hg(s.playlistLoader,o);n.track&&n.track(a),n.resetEverything(),Hg(s.playlistLoader,o)}}},qg={AUDIO:function(e,t){return function(){var r=t.segmentLoaders[e],n=t.mediaTypes[e],i=t.blacklistCurrentPlaylist;Wg(r,n);var o=n.activeTrack(),a=n.activeGroup(),s=(a.filter(function(e){return e.default})[0]||a[0]).id,u=n.tracks[s];if(o===u)return void i({message:"Problem encountered loading the default audio track."});vt.log.warn("Problem encountered loading the alternate audio track.Switching back to default.");for(var l in n.tracks)n.tracks[l].enabled=n.tracks[l]===u;n.onTrackChanged()}},SUBTITLES:function(e,t){return function(){var r=t.segmentLoaders[e],n=t.mediaTypes[e];vt.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track."),Wg(r,n);var i=n.activeTrack();i&&(i.mode="disabled"),n.onTrackChanged()}}},Kg={AUDIO:function(e,t,r){if(t){var n=r.tech,i=r.requestOptions,o=r.segmentLoaders[e];t.on("loadedmetadata",function(){var e=t.media();o.playlist(e,i),(!n.paused()||e.endList&&"none"!==n.preload())&&o.load()}),t.on("loadedplaylist",function(){o.playlist(t.media(),i),n.paused()||o.load()}),t.on("error",qg[e](e,r))}},SUBTITLES:function(e,t,r){var n=r.tech,i=r.requestOptions,o=r.segmentLoaders[e],a=r.mediaTypes[e];t.on("loadedmetadata",function(){var e=t.media();o.playlist(e,i),o.track(a.activeTrack()),(!n.paused()||e.endList&&"none"!==n.preload())&&o.load()}),t.on("loadedplaylist",function(){o.playlist(t.media(),i),n.paused()||o.load()}),t.on("error",qg[e](e,r))}},zg=function(e,t){return function(r){return r.attributes[e]===t}},Xg=function(e){return function(t){return t.resolvedUri===e}},Jg={AUDIO:function(e,t){var r=t.hls,n=t.sourceType,i=t.segmentLoaders[e],o=t.requestOptions.withCredentials,a=t.master,s=a.mediaGroups,u=a.playlists,l=t.mediaTypes[e],c=l.groups,d=l.tracks,f=t.masterPlaylistLoader;s[e]&&0!==Object.keys(s[e]).length||(s[e]={main:{default:{default:!0}}});for(var g in s[e]){c[g]||(c[g]=[]);var p=u.filter(zg(e,g));for(var h in s[e][g]){var y=s[e][g][h];p.filter(Xg(y.resolvedUri)).length&&delete y.resolvedUri;var m=void 0;if(m=y.resolvedUri?new fd(y.resolvedUri,r,o):y.playlists&&"dash"===n?new $f(y.playlists[0],r,o,f):null,y=vt.mergeOptions({id:h,playlistLoader:m},y),Kg[e](e,y.playlistLoader,t),c[g].push(y),void 0===d[h]){var v=new vt.AudioTrack({id:h,kind:Gg(y),enabled:!1,language:y.language,default:y.default,label:h});d[h]=v}}}i.on("error",qg[e](e,t))},SUBTITLES:function(e,t){var r=t.tech,n=t.hls,i=t.sourceType,o=t.segmentLoaders[e],a=t.requestOptions.withCredentials,s=t.master.mediaGroups,u=t.mediaTypes[e],l=u.groups,c=u.tracks,d=t.masterPlaylistLoader;for(var f in s[e]){l[f]||(l[f]=[]);for(var g in s[e][f])if(!s[e][f][g].forced){var p=s[e][f][g],h=void 0;if("hls"===i?h=new fd(p.resolvedUri,n,a):"dash"===i&&(h=new $f(p.playlists[0],n,a,d)),p=vt.mergeOptions({id:g,playlistLoader:h},p),Kg[e](e,p.playlistLoader,t),l[f].push(p),void 0===c[g]){var y=r.addRemoteTextTrack({id:g,kind:"subtitles",default:p.default&&p.autoselect,language:p.language,label:g},!1).track;c[g]=y}}}o.on("error",qg[e](e,t))},"CLOSED-CAPTIONS":function(e,t){var r=t.tech,n=t.master.mediaGroups,i=t.mediaTypes[e],o=i.groups,a=i.tracks;for(var s in n[e]){o[s]||(o[s]=[]);for(var u in n[e][s]){var l=n[e][s][u];if(l.instreamId.match(/CC\d/)&&(o[s].push(vt.mergeOptions({id:u},l)),void 0===a[u])){var c=r.addRemoteTextTrack({id:l.instreamId,kind:"captions",default:l.default&&l.autoselect,language:l.language,label:u},!1).track;a[u]=c}}}}},Zg=function(e,t){return function(r){var n=t.masterPlaylistLoader,i=t.mediaTypes[e].groups,o=n.media();if(!o)return null;var a=null;return o.attributes[e]&&(a=i[o.attributes[e]]),a=a||i.main,void 0===r?a:null===r?null:a.filter(function(e){return e.id===r.id})[0]||null}},$g={AUDIO:function(e,t){return function(){var r=t.mediaTypes[e].tracks;for(var n in r)if(r[n].enabled)return r[n];return null}},SUBTITLES:function(e,t){return function(){var r=t.mediaTypes[e].tracks;for(var n in r)if("showing"===r[n].mode)return r[n];return null}}},ep=function(e){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(t){Jg[t](t,e)});var t=e.mediaTypes,r=e.masterPlaylistLoader,n=e.tech,i=e.hls;["AUDIO","SUBTITLES"].forEach(function(r){t[r].activeGroup=Zg(r,e),t[r].activeTrack=$g[r](r,e),t[r].onGroupChanged=Yg(r,e),t[r].onTrackChanged=Vg(r,e)});var o=t.AUDIO.activeGroup(),a=(o.filter(function(e){return e.default})[0]||o[0]).id;t.AUDIO.tracks[a].enabled=!0,t.AUDIO.onTrackChanged(),r.on("mediachange",function(){["AUDIO","SUBTITLES"].forEach(function(e){return t[e].onGroupChanged()})});var s=function(){t.AUDIO.onTrackChanged(),n.trigger({type:"usage",name:"hls-audio-change"})};n.audioTracks().addEventListener("change",s),n.remoteTextTracks().addEventListener("change",t.SUBTITLES.onTrackChanged),i.on("dispose",function(){n.audioTracks().removeEventListener("change",s),n.remoteTextTracks().removeEventListener("change",t.SUBTITLES.onTrackChanged)}),n.clearTracks("audio");for(var u in t.AUDIO.tracks)n.audioTracks().addTrack(t.AUDIO.tracks[u])},tp=function(){var e={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(t){e[t]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:St,activeTrack:St,onGroupChanged:St,onTrackChanged:St}}),e},rp=void 0,np=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred"],ip=function(e){return this.audioSegmentLoader_[e]+this.mainSegmentLoader_[e]},op=function(e){function t(e){Xc(this,t);var r=ed(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),n=e.url,i=e.withCredentials,o=e.tech,a=e.bandwidth,s=e.externHls,u=e.useCueTags,l=e.blacklistDuration,c=e.enableLowInitialPlaylist,d=e.sourceType,f=e.seekTo;if(!n)throw new Error("A non-empty playlist URL is required");rp=s,r.withCredentials=i,r.tech_=o,r.hls_=o.hls,r.seekTo_=f,r.sourceType_=d,r.useCueTags_=u,r.blacklistDuration=l,r.enableLowInitialPlaylist=c,r.useCueTags_&&(r.cueTagsTrack_=r.tech_.addTextTrack("metadata","ad-cues"),r.cueTagsTrack_.inBandMetadataTrackDispatchType=""),r.requestOptions_={withCredentials:r.withCredentials,timeout:null},r.mediaTypes_=tp(),r.mediaSource=new vt.MediaSource,r.mediaSource.addEventListener("sourceopen",r.handleSourceOpen_.bind(r)),r.seekable_=vt.createTimeRanges(),r.hasPlayed_=function(){return!1},r.syncController_=new Fg(e),r.segmentMetadataTrack_=o.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,r.decrypter_=new Qg,r.inbandTextTracks_={};var g={hls:r.hls_,mediaSource:r.mediaSource,currentTime:r.tech_.currentTime.bind(r.tech_),seekable:function(){return r.seekable()},seeking:function(){return r.tech_.seeking()},duration:function(){return r.mediaSource.duration},hasPlayed:function(){return r.hasPlayed_()},goalBufferLength:function(){return r.goalBufferLength()},bandwidth:a,syncController:r.syncController_,decrypter:r.decrypter_,sourceType:r.sourceType_,inbandTextTracks:r.inbandTextTracks_};return r.masterPlaylistLoader_="dash"===r.sourceType_?new $f(n,r.hls_,r.withCredentials):new fd(n,r.hls_,r.withCredentials),r.setupMasterPlaylistLoaderListeners_(),r.mainSegmentLoader_=new Rg(vt.mergeOptions(g,{segmentMetadataTrack:r.segmentMetadataTrack_,loaderType:"main"}),e),r.audioSegmentLoader_=new Rg(vt.mergeOptions(g,{loaderType:"audio"}),e),r.subtitleSegmentLoader_=new Lg(vt.mergeOptions(g,{loaderType:"vtt"}),e),r.setupSegmentLoaderListeners_(),np.forEach(function(e){r[e+"_"]=ip.bind(r,e)}),r.logger_=eg("MPC"),r.masterPlaylistLoader_.load(),r}return $c(t,e),Jc(t,[{key:"setupMasterPlaylistLoaderListeners_",value:function(){var e=this;this.masterPlaylistLoader_.on("loadedmetadata",function(){var t=e.masterPlaylistLoader_.media(),r=1.5*e.masterPlaylistLoader_.targetDuration*1e3;Ld(e.masterPlaylistLoader_.master,e.masterPlaylistLoader_.media())?e.requestOptions_.timeout=0:e.requestOptions_.timeout=r,t.endList&&"none"!==e.tech_.preload()&&(e.mainSegmentLoader_.playlist(t,e.requestOptions_),e.mainSegmentLoader_.load()),ep({sourceType:e.sourceType_,segmentLoaders:{AUDIO:e.audioSegmentLoader_,SUBTITLES:e.subtitleSegmentLoader_,main:e.mainSegmentLoader_},tech:e.tech_,requestOptions:e.requestOptions_,masterPlaylistLoader:e.masterPlaylistLoader_,hls:e.hls_,master:e.master(),mediaTypes:e.mediaTypes_,blacklistCurrentPlaylist:e.blacklistCurrentPlaylist.bind(e)}),e.triggerPresenceUsage_(e.master(),t);try{e.setupSourceBuffers_()}catch(t){return vt.log.warn("Failed to create SourceBuffers",t),e.mediaSource.endOfStream("decode")}e.setupFirstPlay(),e.trigger("selectedinitialmedia")}),this.masterPlaylistLoader_.on("loadedplaylist",function(){var t=e.masterPlaylistLoader_.media();if(!t){e.excludeUnsupportedVariants_();var r=void 0;return e.enableLowInitialPlaylist&&(r=e.selectInitialPlaylist()),r||(r=e.selectPlaylist()),e.initialMedia_=r,void e.masterPlaylistLoader_.media(e.initialMedia_)}if(e.useCueTags_&&e.updateAdCues_(t),e.mainSegmentLoader_.playlist(t,e.requestOptions_),e.updateDuration(),e.tech_.paused()||(e.mainSegmentLoader_.load(),e.audioSegmentLoader_&&e.audioSegmentLoader_.load()),!t.endList){var n=function(){var t=e.seekable();0!==t.length&&e.mediaSource.addSeekableRange_(t.start(0),t.end(0))};if(e.duration()!==1/0){var i=function t(){e.duration()===1/0?n():e.tech_.one("durationchange",t)};e.tech_.one("durationchange",i)}else n()}}),this.masterPlaylistLoader_.on("error",function(){e.blacklistCurrentPlaylist(e.masterPlaylistLoader_.error)}),this.masterPlaylistLoader_.on("mediachanging",function(){e.mainSegmentLoader_.abort(),e.mainSegmentLoader_.pause()}),this.masterPlaylistLoader_.on("mediachange",function(){var t=e.masterPlaylistLoader_.media(),r=1.5*e.masterPlaylistLoader_.targetDuration*1e3;Ld(e.masterPlaylistLoader_.master,e.masterPlaylistLoader_.media())?e.requestOptions_.timeout=0:e.requestOptions_.timeout=r,e.mainSegmentLoader_.playlist(t,e.requestOptions_),e.mainSegmentLoader_.load(),e.tech_.trigger({type:"mediachange",bubbles:!0})}),this.masterPlaylistLoader_.on("playlistunchanged",function(){var t=e.masterPlaylistLoader_.media();e.stuckAtPlaylistEnd_(t)&&(e.blacklistCurrentPlaylist({message:"Playlist no longer updating."}),e.tech_.trigger("playliststuck"))}),this.masterPlaylistLoader_.on("renditiondisabled",function(){e.tech_.trigger({type:"usage",name:"hls-rendition-disabled"})}),this.masterPlaylistLoader_.on("renditionenabled",function(){e.tech_.trigger({type:"usage",name:"hls-rendition-enabled"})})}},{key:"triggerPresenceUsage_",value:function(e,t){var r=e.mediaGroups||{},n=!0,i=Object.keys(r.AUDIO);for(var o in r.AUDIO)for(var a in r.AUDIO[o]){var s=r.AUDIO[o][a];s.uri||(n=!1)}n&&this.tech_.trigger({type:"usage",name:"hls-demuxed"}),Object.keys(r.SUBTITLES).length&&this.tech_.trigger({type:"usage",name:"hls-webvtt"}),rp.Playlist.isAes(t)&&this.tech_.trigger({type:"usage",name:"hls-aes"}),rp.Playlist.isFmp4(t)&&this.tech_.trigger({type:"usage",name:"hls-fmp4"}),i.length&&Object.keys(r.AUDIO[i[0]]).length>1&&this.tech_.trigger({type:"usage",name:"hls-alternate-audio"}),this.useCueTags_&&this.tech_.trigger({type:"usage",name:"hls-playlist-cue-tags"})}},{key:"setupSegmentLoaderListeners_",value:function(){var e=this;this.mainSegmentLoader_.on("bandwidthupdate",function(){var t=e.selectPlaylist(),r=e.masterPlaylistLoader_.media(),n=e.tech_.buffered(),i=n.length?n.end(n.length-1)-e.tech_.currentTime():0,o=e.bufferLowWaterLine();(!r.endList||e.duration()<rg.MAX_BUFFER_LOW_WATER_LINE||t.attributes.BANDWIDTH<r.attributes.BANDWIDTH||i>=o)&&e.masterPlaylistLoader_.media(t),e.tech_.trigger("bandwidthupdate")}),this.mainSegmentLoader_.on("progress",function(){e.trigger("progress")}),this.mainSegmentLoader_.on("error",function(){e.blacklistCurrentPlaylist(e.mainSegmentLoader_.error())}),this.mainSegmentLoader_.on("syncinfoupdate",function(){e.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("timestampoffset",function(){e.tech_.trigger({type:"usage",name:"hls-timestamp-offset"})}),this.audioSegmentLoader_.on("syncinfoupdate",function(){e.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("ended",function(){e.onEndOfStream()}),this.mainSegmentLoader_.on("earlyabort",function(){e.blacklistCurrentPlaylist({message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},120)}),this.mainSegmentLoader_.on("reseteverything",function(){e.tech_.trigger("hls-reset")}),this.mainSegmentLoader_.on("segmenttimemapping",function(t){e.tech_.trigger({type:"hls-segment-time-mapping",mapping:t.mapping})}),this.audioSegmentLoader_.on("ended",function(){e.onEndOfStream()})}},{key:"mediaSecondsLoaded_",value:function(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)}},{key:"load",value:function(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()}},{key:"smoothQualityChange_",value:function(){var e=this.selectPlaylist();e!==this.masterPlaylistLoader_.media()&&(this.masterPlaylistLoader_.media(e),this.mainSegmentLoader_.resetLoader())}},{key:"fastQualityChange_",value:function(){var e=this,t=this.selectPlaylist();t!==this.masterPlaylistLoader_.media()&&(this.masterPlaylistLoader_.media(t),this.mainSegmentLoader_.resetEverything(function(){vt.browser.IE_VERSION||vt.browser.IS_EDGE?e.tech_.setCurrentTime(e.tech_.currentTime()+.04):e.tech_.setCurrentTime(e.tech_.currentTime())}))}},{key:"play",value:function(){if(!this.setupFirstPlay()){this.tech_.ended()&&this.seekTo_(0),this.hasPlayed_()&&this.load();var e=this.tech_.seekable();return this.tech_.duration()===1/0&&this.tech_.currentTime()<e.start(0)?this.seekTo_(e.end(e.length-1)):void 0}}},{key:"setupFirstPlay",value:function(){var e=this,t=this.masterPlaylistLoader_.media();if(!t||this.tech_.paused()||this.hasPlayed_())return!1;if(!t.endList){var r=this.seekable();if(!r.length)return!1;if(vt.browser.IE_VERSION&&0===this.tech_.readyState())return this.tech_.one("loadedmetadata",function(){e.trigger("firstplay"),e.seekTo_(r.end(0)),e.hasPlayed_=function(){return!0}}),!1;this.trigger("firstplay"),this.seekTo_(r.end(0))}return this.hasPlayed_=function(){return!0},this.load(),!0}},{key:"handleSourceOpen_",value:function(){try{this.setupSourceBuffers_()}catch(e){return vt.log.warn("Failed to create Source Buffers",e),this.mediaSource.endOfStream("decode")}if(this.tech_.autoplay()){var e=this.tech_.play();void 0!==e&&"function"==typeof e.then&&e.then(null,function(e){})}this.trigger("sourceopen")}},{key:"onEndOfStream",value:function(){var e=this.mainSegmentLoader_.ended_;this.mediaTypes_.AUDIO.activePlaylistLoader&&(e=!this.mainSegmentLoader_.startingMedia_||this.mainSegmentLoader_.startingMedia_.containsVideo?e&&this.audioSegmentLoader_.ended_:this.audioSegmentLoader_.ended_),e&&this.mediaSource.endOfStream()}},{key:"stuckAtPlaylistEnd_",value:function(e){if(!this.seekable().length)return!1;var t=this.syncController_.getExpiredTime(e,this.mediaSource.duration);if(null===t)return!1;var r=rp.Playlist.playlistEnd(e,t),n=this.tech_.currentTime(),i=this.tech_.buffered();if(!i.length)return r-n<=.1;var o=i.end(i.length-1);return o-n<=.1&&r-o<=.1}},{key:"blacklistCurrentPlaylist",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],r=void 0,n=void 0;if(r=e.playlist||this.masterPlaylistLoader_.media(),t=t||e.blacklistDuration||this.blacklistDuration,!r){this.error=e;try{return this.mediaSource.endOfStream("network")}catch(e){return this.trigger("error")}}var i=1===this.masterPlaylistLoader_.master.playlists.filter(Md).length;return i?(vt.log.warn("Problem encountered with the current HLS playlist. Trying again since it is the final playlist."),this.tech_.trigger("retryplaylist"),this.masterPlaylistLoader_.load(i)):(r.excludeUntil=Date.now()+1e3*t,this.tech_.trigger("blacklistplaylist"),this.tech_.trigger({type:"usage",name:"hls-rendition-blacklisted"}),n=this.selectPlaylist(),vt.log.warn("Problem encountered with the current HLS playlist."+(e.message?" "+e.message:"")+" Switching to another playlist."),this.masterPlaylistLoader_.media(n))}},{key:"pauseLoading",value:function(){this.mainSegmentLoader_.pause(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.pause(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.pause()}},{key:"setCurrentTime",value:function(e){var t=of(this.tech_.buffered(),e);return this.masterPlaylistLoader_&&this.masterPlaylistLoader_.media()&&this.masterPlaylistLoader_.media().segments?t&&t.length?e:(this.mainSegmentLoader_.resetEverything(),this.mainSegmentLoader_.abort(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.resetEverything(),this.audioSegmentLoader_.abort()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.resetEverything(),this.subtitleSegmentLoader_.abort()),void this.load()):0}},{key:"duration",value:function(){return this.masterPlaylistLoader_?this.mediaSource?this.mediaSource.duration:rp.Playlist.duration(this.masterPlaylistLoader_.media()):0}},{key:"seekable",value:function(){return this.seekable_}},{key:"onSyncInfoUpdate_",value:function(){var e=void 0,t=void 0;if(this.masterPlaylistLoader_){var r=this.masterPlaylistLoader_.media();if(r){var n=this.syncController_.getExpiredTime(r,this.mediaSource.duration);if(null!==n&&(e=rp.Playlist.seekable(r,n),0!==e.length)){if(this.mediaTypes_.AUDIO.activePlaylistLoader){if(r=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),null===(n=this.syncController_.getExpiredTime(r,this.mediaSource.duration)))return;if(t=rp.Playlist.seekable(r,n),0===t.length)return}t?t.start(0)>e.end(0)||e.start(0)>t.end(0)?this.seekable_=e:this.seekable_=vt.createTimeRanges([[t.start(0)>e.start(0)?t.start(0):e.start(0),t.end(0)<e.end(0)?t.end(0):e.end(0)]]):this.seekable_=e,this.logger_("seekable updated ["+uf(this.seekable_)+"]"),this.tech_.trigger("seekablechanged")}}}}},{key:"updateDuration",value:function(){var e=this,t=this.mediaSource.duration,r=rp.Playlist.duration(this.masterPlaylistLoader_.media()),n=this.tech_.buffered(),i=function t(){e.mediaSource.duration=r,e.tech_.trigger("durationchange"),e.mediaSource.removeEventListener("sourceopen",t)};n.length>0&&(r=Math.max(r,n.end(n.length-1))),t!==r&&("open"!==this.mediaSource.readyState?this.mediaSource.addEventListener("sourceopen",i):i())}},{key:"dispose",value:function(){var e=this;this.decrypter_.terminate(),this.masterPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),["AUDIO","SUBTITLES"].forEach(function(t){var r=e.mediaTypes_[t].groups;for(var n in r)r[n].forEach(function(e){e.playlistLoader&&e.playlistLoader.dispose()})}),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose()}},{key:"master",value:function(){return this.masterPlaylistLoader_.master}},{key:"media",value:function(){return this.masterPlaylistLoader_.media()||this.initialMedia_}},{key:"setupSourceBuffers_",value:function(){var e=this.masterPlaylistLoader_.media(),t=void 0;if(e&&"open"===this.mediaSource.readyState){if(t=kf(this.masterPlaylistLoader_.master,e),t.length<1)return this.error="No compatible SourceBuffer configuration for the variant stream:"+e.resolvedUri,this.mediaSource.endOfStream("decode");this.configureLoaderMimeTypes_(t),this.excludeIncompatibleVariants_(e)}}},{key:"configureLoaderMimeTypes_",value:function(e){var t=e.length>1&&-1===e[0].indexOf(",")&&e[0]!==e[1]?new vt.EventTarget:null;this.mainSegmentLoader_.mimeType(e[0],t),e[1]&&this.audioSegmentLoader_.mimeType(e[1],t)}},{key:"excludeUnsupportedVariants_",value:function(){this.master().playlists.forEach(function(e){e.attributes.CODECS&&r.MediaSource&&r.MediaSource.isTypeSupported&&!r.MediaSource.isTypeSupported('video/mp4; codecs="'+Mf(e.attributes.CODECS)+'"')&&(e.excludeUntil=1/0)})}},{key:"excludeIncompatibleVariants_",value:function(e){var t=2,r=null,n=void 0;e.attributes.CODECS&&(n=Df(e.attributes.CODECS),r=n.videoCodec,t=n.codecCount),this.master().playlists.forEach(function(e){var n={codecCount:2,videoCodec:null};e.attributes.CODECS&&(n=Df(e.attributes.CODECS)),n.codecCount!==t&&(e.excludeUntil=1/0),n.videoCodec!==r&&(e.excludeUntil=1/0)})}},{key:"updateAdCues_",value:function(e){var t=0,r=this.seekable();r.length&&(t=r.start(0)),xg(e,this.cueTagsTrack_,t)}},{key:"goalBufferLength",value:function(){var e=this.tech_.currentTime(),t=rg.GOAL_BUFFER_LENGTH,r=rg.GOAL_BUFFER_LENGTH_RATE,n=Math.max(t,rg.MAX_GOAL_BUFFER_LENGTH);return Math.min(t+e*r,n)}},{key:"bufferLowWaterLine",value:function(){var e=this.tech_.currentTime(),t=rg.BUFFER_LOW_WATER_LINE,r=rg.BUFFER_LOW_WATER_LINE_RATE,n=Math.max(t,rg.MAX_BUFFER_LOW_WATER_LINE);return Math.min(t+e*r,n)}}]),t}(vt.EventTarget),ap=function(e,t,r){return function(n){var i=e.master.playlists[t],o=Dd(i),a=Md(i);return void 0===n?a:(n?delete i.disabled:i.disabled=!0,n===a||o||(r(),n?e.trigger("renditionenabled"):e.trigger("renditiondisabled")),n)}},sp=function e(t,r,n){Xc(this,e);var i=t.masterPlaylistController_,o=t.options_.smoothQualityChange,a=o?"smooth":"fast",s=i[a+"QualityChange_"].bind(i);if(r.attributes.RESOLUTION){var u=r.attributes.RESOLUTION;this.width=u.width,this.height=u.height}this.bandwidth=r.attributes.BANDWIDTH,this.id=n,this.enabled=ap(t.playlists,r.uri,s)},up=function(e){var t=e.playlists;e.representations=function(){return t.master.playlists.filter(function(e){return!Dd(e)}).map(function(t,r){return new sp(e,t,t.uri)})}},lp=["seeking","seeked","pause","playing","error"],cp=function(){function e(t){var n=this;Xc(this,e),this.tech_=t.tech,this.seekable=t.seekable,this.seekTo=t.seekTo,this.consecutiveUpdates=0,this.lastRecordedTime=null,this.timer_=null,this.checkCurrentTimeTimeout_=null,this.logger_=eg("PlaybackWatcher"),this.logger_("initialize");var i=function(){return n.monitorCurrentTime_()},o=function(){return n.techWaiting_()},a=function(){return n.cancelTimer_()},s=function(){return n.fixesBadSeeks_()};this.tech_.on("seekablechanged",s),this.tech_.on("waiting",o),this.tech_.on(lp,a),this.tech_.on("canplay",i),this.dispose=function(){n.logger_("dispose"),n.tech_.off("seekablechanged",s),n.tech_.off("waiting",o),n.tech_.off(lp,a),n.tech_.off("canplay",i),n.checkCurrentTimeTimeout_&&r.clearTimeout(n.checkCurrentTimeTimeout_),n.cancelTimer_()}}return Jc(e,[{key:"monitorCurrentTime_",value:function(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&r.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=r.setTimeout(this.monitorCurrentTime_.bind(this),250)}},{key:"checkCurrentTime_",value:function(){if(this.tech_.seeking()&&this.fixesBadSeeks_())return this.consecutiveUpdates=0,void(this.lastRecordedTime=this.tech_.currentTime());if(!this.tech_.paused()&&!this.tech_.seeking()){var e=this.tech_.currentTime(),t=this.tech_.buffered();if(this.lastRecordedTime===e&&(!t.length||e+.1>=t.end(t.length-1)))return this.techWaiting_();this.consecutiveUpdates>=5&&e===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):e===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=e)}}},{key:"cancelTimer_",value:function(){this.consecutiveUpdates=0,this.timer_&&(this.logger_("cancelTimer_"),clearTimeout(this.timer_)),this.timer_=null}},{key:"fixesBadSeeks_",value:function(){var e=this.tech_.seeking(),t=this.seekable(),r=this.tech_.currentTime(),n=void 0;if(e&&this.afterSeekableWindow_(t,r)){n=t.end(t.length-1)}if(e&&this.beforeSeekableWindow_(t,r)){n=t.start(0)+.1}return void 0!==n&&(this.logger_("Trying to seek outside of seekable at time "+r+" with seekable range "+uf(t)+". Seeking to "+n+"."),this.seekTo(n),!0)}},{key:"waiting_",value:function(){if(!this.techWaiting_()){var e=this.tech_.currentTime(),t=this.tech_.buffered(),r=of(t,e);return r.length&&e+3<=r.end(0)?(this.cancelTimer_(),this.seekTo(e),this.logger_("Stopped at "+e+" while inside a buffered region ["+r.start(0)+" -> "+r.end(0)+"]. Attempting to resume playback by seeking to the current time."),void this.tech_.trigger({type:"usage",name:"hls-unknown-waiting"})):void 0}}},{key:"techWaiting_",value:function(){var e=this.seekable(),t=this.tech_.currentTime();if(this.tech_.seeking()&&this.fixesBadSeeks_())return!0;if(this.tech_.seeking()||null!==this.timer_)return!0;if(this.beforeSeekableWindow_(e,t)){var r=e.end(e.length-1);return this.logger_("Fell out of live window at time "+t+". Seeking to live point (seekable end) "+r),this.cancelTimer_(),this.seekTo(r),this.tech_.trigger({type:"usage",name:"hls-live-resync"}),!0}var n=this.tech_.buffered(),i=af(n,t);if(this.videoUnderflow_(i,n,t))return this.cancelTimer_(),this.seekTo(t),this.tech_.trigger({type:"usage",name:"hls-video-underflow"}),!0;if(i.length>0){var o=i.start(0)-t;return this.logger_("Stopped at "+t+", setting timer for "+o+", seeking to "+i.start(0)),this.timer_=setTimeout(this.skipTheGap_.bind(this),1e3*o,t),!0}return!1}},{key:"afterSeekableWindow_",value:function(e,t){return!!e.length&&t>e.end(e.length-1)+.1}},{key:"beforeSeekableWindow_",value:function(e,t){return!!(e.length&&e.start(0)>0&&t<e.start(0)-.1)}},{key:"videoUnderflow_",value:function(e,t,r){if(0===e.length){var n=this.gapFromVideoUnderflow_(t,r);if(n)return this.logger_("Encountered a gap in video from "+n.start+" to "+n.end+". Seeking to current time "+r),!0}return!1}},{key:"skipTheGap_",value:function(e){var t=this.tech_.buffered(),r=this.tech_.currentTime(),n=af(t,r);this.cancelTimer_(),0!==n.length&&r===e&&(this.logger_("skipTheGap_:","currentTime:",r,"scheduled currentTime:",e,"nextRange start:",n.start(0)),this.seekTo(n.start(0)+1/30),this.tech_.trigger({type:"usage",name:"hls-gap-skip"}))}},{key:"gapFromVideoUnderflow_",value:function(e,t){for(var r=sf(e),n=0;n<r.length;n++){var i=r.start(n),o=r.end(n);if(t-i<4&&t-i>2)return{start:i,end:o}}return null}}]),e}(),dp={errorInterval:30,getSource:function(e){return e(this.tech({IWillNotUseThisInPlugins:!0}).currentSource_)}},fp=function e(t,r){var n=0,i=0,o=vt.mergeOptions(dp,r);t.ready(function(){t.trigger({type:"usage",name:"hls-error-reload-initialized"})});var a=function(){i&&t.currentTime(i)},s=function(e){null!==e&&void 0!==e&&(i=t.duration()!==1/0&&t.currentTime()||0,t.one("loadedmetadata",a),t.src(e),t.trigger({type:"usage",name:"hls-error-reload"}),t.play())},u=function(){return Date.now()-n<1e3*o.errorInterval?void t.trigger({type:"usage",name:"hls-error-reload-canceled"}):o.getSource&&"function"==typeof o.getSource?(n=Date.now(),o.getSource.call(t,s)):void vt.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!")},l=function e(){t.off("loadedmetadata",a),t.off("error",u),t.off("dispose",e)},c=function(r){l(),e(t,r)};t.on("error",u),t.on("dispose",l),t.reloadSourceOnError=c},gp=function(e){fp(this,e)};vt.use("*",function(e){return{setSource:function(e,t){t(null,e)},setCurrentTime:function(t){return e.vhs&&e.currentSource().src===e.vhs.source_.src&&e.vhs.setCurrentTime(t),t},play:function(){e.vhs&&e.currentSource().src===e.vhs.source_.src&&e.vhs.setCurrentTime(e.currentTime())}}});var pp={PlaylistLoader:fd,Playlist:Nd,Decrypter:Kc,AsyncStream:Yc,decrypt:qc,utils:Kd,STANDARD_PLAYLIST_SELECTOR:Eg,INITIAL_PLAYLIST_SELECTOR:Sg,comparePlaylistBandwidth:bg,comparePlaylistResolution:Ag,xhr:Ud()};["GOAL_BUFFER_LENGTH","MAX_GOAL_BUFFER_LENGTH","GOAL_BUFFER_LENGTH_RATE","BUFFER_LOW_WATER_LINE","MAX_BUFFER_LOW_WATER_LINE","BUFFER_LOW_WATER_LINE_RATE","BANDWIDTH_VARIANCE"].forEach(function(e){Object.defineProperty(pp,e,{get:function(){return vt.log.warn("using Hls."+e+" is UNSAFE be sure you know what you are doing"),rg[e]},set:function(t){if(vt.log.warn("using Hls."+e+" is UNSAFE be sure you know what you are doing"),"number"!=typeof t||t<0)return void vt.log.warn("value of Hls."+e+" must be greater than or equal to 0");rg[e]=t}})});var hp=function(e){return/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i.test(e)?"hls":/^application\/dash\+xml/i.test(e)?"dash":null},yp=function(e,t){for(var r=t.media(),n=-1,i=0;i<e.length;i++)if(e[i].id===r.uri){n=i;break}e.selectedIndex_=n,e.trigger({selectedIndex:n,type:"change"})},mp=function(e,t){t.representations().forEach(function(t){e.addQualityLevel(t)}),yp(e,t.playlists)};pp.canPlaySource=function(){return vt.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var vp=function(e,t,r){if(!e)return e;var n={};for(var i in e)n[i]={audioContentType:'audio/mp4; codecs="'+r.attributes.CODECS+'"',videoContentType:'video/mp4; codecs="'+t.attributes.CODECS+'"'},t.contentProtection&&t.contentProtection[i]&&t.contentProtection[i].pssh&&(n[i].pssh=t.contentProtection[i].pssh),"string"==typeof e[i]&&(n[i].url=e[i]);return vt.mergeOptions(e,n)},bp=function(e){if("dash"===e.options_.sourceType){var t=vt.players[e.tech_.options_.playerId];if(t.eme){var r=vp(e.source_.keySystems,e.playlists.media(),e.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader.media());r&&(t.currentSource().keySystems=r,t.eme.initializeMediaKeys&&t.eme.initializeMediaKeys())}}},Ap=function(){if(!window.localStorage)return null;var e=window.localStorage.getItem("videojs-vhs");if(!e)return null;try{return JSON.parse(e)}catch(e){return null}},_p=function(e){if(!window.localStorage)return!1;var t=Ap();t=t?vt.mergeOptions(t,e):e;try{window.localStorage.setItem("videojs-vhs",JSON.stringify(t))}catch(e){return!1}return t};pp.supportsNativeHls=function(){var t=e.createElement("video");return!!vt.getTech("Html5").isSupported()&&["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"].some(function(e){return/maybe|probably/i.test(t.canPlayType(e))})}(),pp.supportsNativeDash=function(){return!!vt.getTech("Html5").isSupported()&&/maybe|probably/i.test(e.createElement("video").canPlayType("application/dash+xml"))}(),pp.supportsTypeNatively=function(e){return"hls"===e?pp.supportsNativeHls:"dash"===e&&pp.supportsNativeDash},pp.isSupported=function(){return vt.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var Ep=vt.getComponent("Component"),Tp=function(t){function r(t,n,i){Xc(this,r);var o=ed(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,n,i.hls));if(n.options_&&n.options_.playerId){var a=vt(n.options_.playerId);a.hasOwnProperty("hls")||Object.defineProperty(a,"hls",{get:function(){return vt.log.warn("player.hls is deprecated. Use player.tech().hls instead."),n.trigger({type:"usage",name:"hls-player-access"}),o},configurable:!0}),a.vhs=o,a.dash=o,o.player_=a}if(o.tech_=n,o.source_=t,o.stats={},o.setOptions_(),o.options_.overrideNative&&n.overrideNativeAudioTracks&&n.overrideNativeVideoTracks)n.overrideNativeAudioTracks(!0),n.overrideNativeVideoTracks(!0);else if(o.options_.overrideNative&&(n.featuresNativeVideoTracks||n.featuresNativeAudioTracks))throw new Error("Overriding native HLS requires emulated tracks. See https://git.io/vMpjB");return o.on(e,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],function(t){var r=e.fullscreenElement||e.webkitFullscreenElement||e.mozFullScreenElement||e.msFullscreenElement;r&&r.contains(o.tech_.el())&&o.masterPlaylistController_.smoothQualityChange_()}),o.on(o.tech_,"seeking",function(){this.tech_.seeking()&&0===this.tech_.currentTime()&&this.tech_.player_.loop()&&this.setCurrentTime(0)}),o.on(o.tech_,"error",function(){this.masterPlaylistController_&&this.masterPlaylistController_.pauseLoading()}),o.on(o.tech_,"play",o.play),o}return $c(r,t),Jc(r,[{key:"setOptions_",value:function(){var e=this;if(this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.limitRenditionByPlayerDimensions=!1!==this.options_.limitRenditionByPlayerDimensions,this.options_.smoothQualityChange=this.options_.smoothQualityChange||!1,this.options_.useBandwidthFromLocalStorage=void 0!==this.source_.useBandwidthFromLocalStorage?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,"number"!=typeof this.options_.blacklistDuration&&(this.options_.blacklistDuration=300),"number"!=typeof this.options_.bandwidth&&this.options_.useBandwidthFromLocalStorage){var t=Ap();t&&t.bandwidth&&(this.options_.bandwidth=t.bandwidth,this.tech_.trigger({type:"usage",name:"hls-bandwidth-from-local-storage"})),t&&t.throughput&&(this.options_.throughput=t.throughput,this.tech_.trigger({type:"usage",name:"hls-throughput-from-local-storage"}))}"number"!=typeof this.options_.bandwidth&&(this.options_.bandwidth=rg.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===rg.INITIAL_BANDWIDTH,["withCredentials","limitRenditionByPlayerDimensions","bandwidth","smoothQualityChange"].forEach(function(t){void 0!==e.source_[t]&&(e.options_[t]=e.source_[t])}),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions}},{key:"src",value:function(e,t){var r=this;e&&(this.setOptions_(),this.options_.url=this.source_.src,this.options_.tech=this.tech_,this.options_.externHls=pp,this.options_.sourceType=hp(t),this.options_.seekTo=function(e){r.tech_.setCurrentTime(e),r.setCurrentTime(e)},this.masterPlaylistController_=new op(this.options_),this.playbackWatcher_=new cp(vt.mergeOptions(this.options_,{seekable:function(){return r.seekable()}})),this.masterPlaylistController_.on("error",function(){vt.players[r.tech_.options_.playerId].error(r.masterPlaylistController_.error)}),this.masterPlaylistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):pp.STANDARD_PLAYLIST_SELECTOR.bind(this),this.masterPlaylistController_.selectInitialPlaylist=pp.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.masterPlaylistController_.masterPlaylistLoader_,this.mediaSource=this.masterPlaylistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get:function(){return this.masterPlaylistController_.selectPlaylist},set:function(e){this.masterPlaylistController_.selectPlaylist=e.bind(this)}},throughput:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.throughput.rate},set:function(e){this.masterPlaylistController_.mainSegmentLoader_.throughput.rate=e,this.masterPlaylistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.bandwidth},set:function(e){this.masterPlaylistController_.mainSegmentLoader_.bandwidth=e,this.masterPlaylistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get:function(){var e=1/(this.bandwidth||1),t=void 0;return t=this.throughput>0?1/this.throughput:0,Math.floor(1/(e+t))},set:function(){vt.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:function(){return r.bandwidth||0},enumerable:!0},mediaRequests:{get:function(){return r.masterPlaylistController_.mediaRequests_()||0},enumerable:!0},mediaRequestsAborted:{get:function(){return r.masterPlaylistController_.mediaRequestsAborted_()||0},enumerable:!0},mediaRequestsTimedout:{get:function(){return r.masterPlaylistController_.mediaRequestsTimedout_()||0},enumerable:!0},mediaRequestsErrored:{get:function(){return r.masterPlaylistController_.mediaRequestsErrored_()||0},enumerable:!0},mediaTransferDuration:{get:function(){return r.masterPlaylistController_.mediaTransferDuration_()||0},enumerable:!0},mediaBytesTransferred:{get:function(){return r.masterPlaylistController_.mediaBytesTransferred_()||0},enumerable:!0},mediaSecondsLoaded:{get:function(){return r.masterPlaylistController_.mediaSecondsLoaded_()||0},enumerable:!0},buffered:{get:function(){return cf(r.tech_.buffered())},enumerable:!0},currentTime:{get:function(){return r.tech_.currentTime()},enumerable:!0},currentSource:{get:function(){return r.tech_.currentSource_},enumerable:!0},currentTech:{get:function(){return r.tech_.name_},enumerable:!0},duration:{get:function(){return r.tech_.duration()},enumerable:!0},master:{get:function(){return r.playlists.master},enumerable:!0},playerDimensions:{get:function(){return r.tech_.currentDimensions()},enumerable:!0},seekable:{get:function(){return cf(r.tech_.seekable())},enumerable:!0},timestamp:{get:function(){return Date.now()},enumerable:!0},videoPlaybackQuality:{get:function(){return r.tech_.getVideoPlaybackQuality()},enumerable:!0}}),this.tech_.one("canplay",this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_)),this.tech_.on("bandwidthupdate",function(){r.options_.useBandwidthFromLocalStorage&&_p({bandwidth:r.bandwidth,throughput:Math.round(r.throughput)})}),this.masterPlaylistController_.on("selectedinitialmedia",function(){up(r),bp(r)}),this.on(this.masterPlaylistController_,"progress",function(){this.tech_.trigger("progress")}),this.tech_.ready(function(){return r.setupQualityLevels_()}),this.tech_.el()&&this.tech_.src(vt.URL.createObjectURL(this.masterPlaylistController_.mediaSource)))}},{key:"setupQualityLevels_",value:function(){var e=this,t=vt.players[this.tech_.options_.playerId];t&&t.qualityLevels&&(this.qualityLevels_=t.qualityLevels(),this.masterPlaylistController_.on("selectedinitialmedia",function(){mp(e.qualityLevels_,e)}),this.playlists.on("mediachange",function(){yp(e.qualityLevels_,e.playlists)}))}},{key:"play",value:function(){this.masterPlaylistController_.play()}},{key:"setCurrentTime",value:function(e){this.masterPlaylistController_.setCurrentTime(e)}},{key:"duration",value:function(){return this.masterPlaylistController_.duration()}},{key:"seekable",value:function(){return this.masterPlaylistController_.seekable()}},{key:"dispose",value:function(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.masterPlaylistController_&&this.masterPlaylistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.player_&&(delete this.player_.vhs,delete this.player_.dash,delete this.player_.hls),this.tech_&&this.tech_.hls&&delete this.tech_.hls,Zc(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"dispose",this).call(this)}},{key:"convertToStreamTime",value:function(e,t){return tf({playlist:this.masterPlaylistController_.media(),time:e,callback:t})}},{key:"seekToStreamTime",value:function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2;return rf({streamTime:e,playlist:this.masterPlaylistController_.media(),retryCount:n,pauseAfterSeek:r,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:t})}}]),r}(Ep),Sp={name:"videojs-http-streaming",VERSION:"1.5.1",canHandleSource:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=vt.mergeOptions(vt.options,t);return Sp.canPlayType(e.type,r)},handleSource:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=vt.mergeOptions(vt.options,r);return t.hls=new Tp(e,t,n),t.hls.xhr=Ud(),t.hls.src(e.src,e.type),t.hls},canPlayType:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=vt.mergeOptions(vt.options,t),n=r.hls.overrideNative,i=hp(e);return!i||pp.supportsTypeNatively(i)&&!n?"":"maybe"}};return void 0!==vt.MediaSource&&void 0!==vt.URL||(vt.MediaSource=Kf,vt.URL=zf),Kf.supportsNativeMediaSources()&&vt.getTech("Html5").registerSourceHandler(Sp,0),vt.HlsHandler=Tp,vt.HlsSourceHandler=Sp,vt.Hls=pp,vt.use||vt.registerComponent("Hls",pp),vt.options.hls=vt.options.hls||{},vt.registerPlugin?vt.registerPlugin("reloadSourceOnError",gp):vt.plugin("reloadSourceOnError",gp),vt})}).call(t,r(18))},function(e,t,r){(function(t){var n,i=void 0!==t?t:"undefined"!=typeof window?window:{},o=r(486);"undefined"!=typeof document?n=document:(n=i["__GLOBAL_DOCUMENT_CACHE@4"])||(n=i["__GLOBAL_DOCUMENT_CACHE@4"]=o),e.exports=n}).call(t,r(18))},function(e,t){},function(e,t,r){(function(t){var r;r="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},e.exports=r}).call(t,r(18))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(68),i=function(e){return e&&e.__esModule?e:{default:e}}(n),o={position:"top-right",fadeTime:3e3,url:void 0,image:void 0},a=function(e,t){var r=e.el(),n=document.createElement("div"),i=document.createElement("img");if(n.classList.add("vjs-watermark-content"),n.classList.add("vjs-watermark-"+t.position),i.src=t.image,t.url){var o=document.createElement("a");o.href=t.url,o.onclick=function(r){r.preventDefault(),e.pause(),window.open(t.url)},o.appendChild(i),n.appendChild(o)}else n.appendChild(i);r.appendChild(n)},s=function(e){setTimeout(function(){return document.getElementsByClassName("vjs-watermark-content")[0].classList.add("vjs-watermark-fade")},e.fadeTime)},u=function(e,t){e.addClass("vjs-watermark"),t.image&&(a(e,t),null!==t.fadeTime&&e.on("play",function(){return s(t)}))},l=function(e){var t=this;this.ready(function(){u(t,i.default.mergeOptions(o,e))})};i.default.registerPlugin("watermark",l),l.VERSION="__VERSION__",t.default=l,e.exports=t.default},function(e,t,r){"use strict";/*! @name videojs-overlay @version 2.1.4 @license Apache-2.0 */
function n(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}Object.defineProperty(t,"__esModule",{value:!0});var o=r(68),a=r.n(o),s=r(219),u=r.n(s),l={align:"top-left",class:"",content:"This overlay will show up while the video is playing",debug:!1,showBackground:!0,attachToControlBar:!1,overlays:[{start:"playing",end:"paused"}]},c=a.a.getComponent("Component"),d=a.a.dom||a.a,f=a.a.registerPlugin||a.a.plugin,g=function(e){return"number"==typeof e&&e===e},p=function(e){return"string"==typeof e&&/^\S+$/.test(e)},h=function(e){function t(r,n){var o;return o=e.call(this,r,n)||this,["start","end"].forEach(function(e){var t=o.options_[e];if(g(t))o[e+"Event_"]="timeupdate";else if(p(t))o[e+"Event_"]=t;else if("start"===e)throw new Error('invalid "start" option; expected number or string')}),["endListener_","rewindListener_","startListener_"].forEach(function(e){o[e]=function(r){return t.prototype[e].call(i(i(o)),r)}}),"timeupdate"===o.startEvent_&&o.on(r,"timeupdate",o.rewindListener_),o.debug('created, listening to "'+o.startEvent_+'" for "start" and "'+(o.endEvent_||"nothing")+'" for "end"'),o.hide(),o}n(t,e);var r=t.prototype;return r.createEl=function(){var e=this.options_,t=e.content,r=e.showBackground?"vjs-overlay-background":"vjs-overlay-no-background",n=d.createEl("div",{className:"\n        vjs-overlay\n        vjs-overlay-"+e.align+"\n        "+e.class+"\n        "+r+"\n        vjs-hidden\n      "});return"string"==typeof t?n.innerHTML=t:t instanceof u.a.DocumentFragment?n.appendChild(t):d.appendContent(n,t),n},r.debug=function(){if(this.options_.debug){for(var e=a.a.log,t=e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];e.hasOwnProperty(n[0])&&"function"==typeof e[n[0]]&&(t=e[n.shift()]),t.apply(void 0,["overlay#"+this.id()+": "].concat(n))}},r.hide=function(){return e.prototype.hide.call(this),this.debug("hidden"),this.debug('bound `startListener_` to "'+this.startEvent_+'"'),this.endEvent_&&(this.debug('unbound `endListener_` from "'+this.endEvent_+'"'),this.off(this.player(),this.endEvent_,this.endListener_)),this.on(this.player(),this.startEvent_,this.startListener_),this},r.shouldHide_=function(e,t){var r=this.options_.end;return g(r)?e>=r:r===t},r.show=function(){return e.prototype.show.call(this),this.off(this.player(),this.startEvent_,this.startListener_),this.debug("shown"),this.debug('unbound `startListener_` from "'+this.startEvent_+'"'),this.endEvent_&&(this.debug('bound `endListener_` to "'+this.endEvent_+'"'),this.on(this.player(),this.endEvent_,this.endListener_)),this},r.shouldShow_=function(e,t){var r=this.options_.start,n=this.options_.end;return g(r)?g(n)?e>=r&&e<n:this.hasShownSinceSeek_?Math.floor(e)===r:(this.hasShownSinceSeek_=!0,e>=r):r===t},r.startListener_=function(e){var t=this.player().currentTime();this.shouldShow_(t,e.type)&&this.show()},r.endListener_=function(e){var t=this.player().currentTime();this.shouldHide_(t,e.type)&&this.hide()},r.rewindListener_=function(e){var t=this.player().currentTime(),r=this.previousTime_,n=this.options_.start,i=this.options_.end;t<r&&(this.debug("rewind detected"),g(i)&&!this.shouldShow_(t)?(this.debug("hiding; "+i+" is an integer and overlay should not show at this time"),this.hasShownSinceSeek_=!1,this.hide()):p(i)&&t<n&&(this.debug("hiding; show point ("+n+") is before now ("+t+") and end point ("+i+") is an event"),this.hasShownSinceSeek_=!1,this.hide())),this.previousTime_=t},t}(c);a.a.registerComponent("Overlay",h);var y=function(e){var t=this,r=a.a.mergeOptions(l,e);Array.isArray(this.overlays_)&&this.overlays_.forEach(function(e){t.removeChild(e),t.controlBar&&t.controlBar.removeChild(e),e.dispose()});var n=r.overlays;delete r.overlays,this.overlays_=n.map(function(e){var n=a.a.mergeOptions(r,e),i="string"==typeof n.attachToControlBar||!0===n.attachToControlBar;if(!t.controls()||!t.controlBar)return t.addChild("overlay",n);if(i&&-1!==n.align.indexOf("bottom")){var o=t.controlBar.children()[0];if(void 0!==t.controlBar.getChild(n.attachToControlBar)&&(o=t.controlBar.getChild(n.attachToControlBar)),o){var s=t.controlBar.addChild("overlay",n);return t.controlBar.el().insertBefore(s.el(),o.el()),s}}var u=t.addChild("overlay",n);return t.el().insertBefore(u.el(),t.controlBar.el()),u})};y.VERSION="2.1.4",f("overlay",y),t.default=y},function(e,t,r){e.exports=r(491)},function(e,t,r){(function(t){null==t.Promise&&(t.Promise=r(492)),null==Object.assign&&Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:r(494)}),e.exports=r(495)}).call(t,r(18))},function(e,t,r){(function(t,r,n){!function(t){"use strict";function i(e){if(!(this instanceof i))throw new TypeError("Zousan must be created with the new keyword");if("function"==typeof e){var t=this;try{e(function(e){t.resolve(e)},function(e){t.reject(e)})}catch(e){t.reject(e)}}else if(0<arguments.length)throw new TypeError("Zousan resolver "+e+" is not a function")}function o(e,t){if("function"==typeof e.y)try{var r=e.y.call(u,t);e.p.resolve(r)}catch(t){e.p.reject(t)}else e.p.resolve(t)}function a(e,t){if("function"==typeof e.n)try{var r=e.n.call(u,t);e.p.resolve(r)}catch(t){e.p.reject(t)}else e.p.reject(t)}var s,u,l="fulfilled",c="undefined",d=function(){function e(){for(;i.length-o;){try{i[o]()}catch(e){t.console&&t.console.error(e)}i[o++]=u,1024==o&&(i.splice(0,1024),o=0)}}var i=[],o=0,a=function(){if(typeof MutationObserver===c)return typeof r!==c&&"function"==typeof r.nextTick?function(){r.nextTick(e)}:typeof n!==c?function(){n(e)}:function(){setTimeout(e,0)};var t=document.createElement("div");return new MutationObserver(e).observe(t,{attributes:!0}),function(){t.setAttribute("a",0)}}();return function(e){i.push(e),i.length-o==1&&a()}}();i.prototype={resolve:function(e){if(this.state===s){if(e===this)return this.reject(new TypeError("Attempt to resolve promise with self"));var t=this;if(e&&("function"==typeof e||"object"==typeof e))try{var r=!0,n=e.then;if("function"==typeof n)return void n.call(e,function(e){r&&(r=!1,t.resolve(e))},function(e){r&&(r=!1,t.reject(e))})}catch(n){return void(r&&this.reject(n))}this.state=l,this.v=e,t.c&&d(function(){for(var r=0,n=t.c.length;r<n;r++)o(t.c[r],e)})}},reject:function(e){if(this.state===s){var r=this;this.state="rejected",this.v=e;var n=this.c;d(n?function(){for(var t=0,r=n.length;t<r;t++)a(n[t],e)}:function(){r.handled||!i.suppressUncaughtRejectionError&&t.console&&i.warn("You upset Zousan. Please catch rejections: ",e,e?e.stack:null)})}},then:function(e,t){var r=new i,n={y:e,n:t,p:r};if(this.state===s)this.c?this.c.push(n):this.c=[n];else{var u=this.state,c=this.v;this.handled=!0,d(function(){u===l?o(n,c):a(n,c)})}return r},catch:function(e){return this.then(null,e)},finally:function(e){return this.then(e,e)},timeout:function(e,t){t=t||"Timeout";var r=this;return new i(function(n,i){setTimeout(function(){i(Error(t))},e),r.then(function(e){n(e)},function(e){i(e)})})}},i.resolve=function(e){var t=new i;return t.resolve(e),t},i.reject=function(e){var t=new i;return t.c=[],t.reject(e),t},i.all=function(e){for(var t=[],r=0,n=new i,o=0;o<e.length;o++)!function(o,a){o&&"function"==typeof o.then||(o=i.resolve(o)),o.then(function(i){t[a]=i,++r==e.length&&n.resolve(t)},function(e){n.reject(e)})}(e[o],o);return e.length||n.resolve(t),n},i.warn=console.warn,typeof e!=c&&e.exports&&(e.exports=i),t.define&&t.define.amd&&t.define([],function(){return i}),(t.Zousan=i).soon=d}(void 0!==t?t:this)}).call(t,r(18),r(83),r(220).setImmediate)},function(e,t,r){(function(e,t){!function(e,r){"use strict";function n(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),r=0;r<t.length;r++)t[r]=arguments[r+1];var n={callback:e,args:t};return l[u]=n,s(u),u++}function i(e){delete l[e]}function o(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(r,n)}}function a(e){if(c)setTimeout(a,0,e);else{var t=l[e];if(t){c=!0;try{o(t)}finally{i(e),c=!1}}}}if(!e.setImmediate){var s,u=1,l={},c=!1,d=e.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(e);f=f&&f.setTimeout?f:e,"[object process]"==={}.toString.call(e.process)?function(){s=function(e){t.nextTick(function(){a(e)})}}():function(){if(e.postMessage&&!e.importScripts){var t=!0,r=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=r,t}}()?function(){var t="setImmediate$"+Math.random()+"$",r=function(r){r.source===e&&"string"==typeof r.data&&0===r.data.indexOf(t)&&a(+r.data.slice(t.length))};e.addEventListener?e.addEventListener("message",r,!1):e.attachEvent("onmessage",r),s=function(r){e.postMessage(t+r,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){a(e.data)},s=function(t){e.port2.postMessage(t)}}():d&&"onreadystatechange"in d.createElement("script")?function(){var e=d.documentElement;s=function(t){var r=d.createElement("script");r.onreadystatechange=function(){a(t),r.onreadystatechange=null,e.removeChild(r),r=null},e.appendChild(r)}}():function(){s=function(e){setTimeout(a,0,e)}}(),f.setImmediate=n,f.clearImmediate=i}}("undefined"==typeof self?void 0===e?this:e:self)}).call(t,r(18),r(83))},function(e,t,r){"use strict";function n(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}/*
object-assign
(c) Sindre Sorhus
@license MIT
*/
var i=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(e){n[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var r,s,u=n(e),l=1;l<arguments.length;l++){r=Object(arguments[l]);for(var c in r)o.call(r,c)&&(u[c]=r[c]);if(i){s=i(r);for(var d=0;d<s.length;d++)a.call(r,s[d])&&(u[s[d]]=r[s[d]])}}return u}},function(e,t,r){var n;n=r(496),e.exports=function(){function e(){}return e.DEFAULT_CONTENT_TYPE="application/x-www-form-urlencoded; charset=UTF-8",e.prototype.send=function(e){var t;return null==e&&(e={}),t={method:"GET",data:null,headers:{},async:!0,username:null,password:null,withCredentials:!1},e=Object.assign({},t,e),new Promise(function(t){return function(r,n){var i,o,a,s,u;if(!XMLHttpRequest)return void t._handleError("browser",n,null,"browser doesn't support XMLHttpRequest");if("string"!=typeof e.url||0===e.url.length)return void t._handleError("url",n,null,"URL is a required parameter");t._xhr=u=new XMLHttpRequest,u.onload=function(){var e;t._detachWindowUnload();try{e=t._getResponseText()}catch(e){return void t._handleError("parse",n,null,"invalid JSON response")}return r({url:t._getResponseUrl(),status:u.status,statusText:u.statusText,responseText:e,headers:t._getHeaders(),xhr:u})},u.onerror=function(){return t._handleError("error",n)},u.ontimeout=function(){return t._handleError("timeout",n)},u.onabort=function(){return t._handleError("abort",n)},t._attachWindowUnload(),u.open(e.method,e.url,e.async,e.username,e.password),e.withCredentials&&(u.withCredentials=!0),null==e.data||e.headers["Content-Type"]||(e.headers["Content-Type"]=t.constructor.DEFAULT_CONTENT_TYPE),a=e.headers;for(o in a)s=a[o],u.setRequestHeader(o,s);try{return u.send(e.data)}catch(e){return i=e,t._handleError("send",n,null,i.toString())}}}(this))},e.prototype.getXHR=function(){return this._xhr},e.prototype._attachWindowUnload=function(){if(this._unloadHandler=this._handleWindowUnload.bind(this),window.attachEvent)return window.attachEvent("onunload",this._unloadHandler)},e.prototype._detachWindowUnload=function(){if(window.detachEvent)return window.detachEvent("onunload",this._unloadHandler)},e.prototype._getHeaders=function(){return n(this._xhr.getAllResponseHeaders())},e.prototype._getResponseText=function(){var e;switch(e="string"==typeof this._xhr.responseText?this._xhr.responseText:"",(this._xhr.getResponseHeader("Content-Type")||"").split(";")[0]){case"application/json":case"text/javascript":e=JSON.parse(e+"")}return e},e.prototype._getResponseUrl=function(){return null!=this._xhr.responseURL?this._xhr.responseURL:/^X-Request-URL:/m.test(this._xhr.getAllResponseHeaders())?this._xhr.getResponseHeader("X-Request-URL"):""},e.prototype._handleError=function(e,t,r,n){return this._detachWindowUnload(),t({reason:e,status:r||this._xhr.status,statusText:n||this._xhr.statusText,xhr:this._xhr})},e.prototype._handleWindowUnload=function(){return this._xhr.abort()},e}()},function(e,t){var r=function(e){return e.replace(/^\s+|\s+$/g,"")},n=function(e){return"[object Array]"===Object.prototype.toString.call(e)};e.exports=function(e){if(!e)return{};for(var t={},i=r(e).split("\n"),o=0;o<i.length;o++){var a=i[o],s=a.indexOf(":"),u=r(a.slice(0,s)).toLowerCase(),l=r(a.slice(s+1));void 0===t[u]?t[u]=l:n(t[u])?t[u].push(l):t[u]=[t[u],l]}return t}},function(e,t,r){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(221),o=n(i),a=r(1),s=n(a),u=r(4),l=n(u),c=r(244),d="undefined"!=typeof window&&window||e,f=d.dashjs;f||(f=d.dashjs={}),f.MediaPlayer=o.default,f.FactoryMaker=s.default,f.Debug=l.default,f.Version=(0,c.getVersionString)(),t.default=f,t.MediaPlayer=o.default,t.FactoryMaker=s.default,t.Debug=l.default}).call(t,r(18))},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(){function e(e,r){De=e,le(),Me=De.manifestInfo.isDynamic,Le=!1,Ne=!1,Te=De.start,ke=r;var n="undefined"!=typeof navigator?navigator.userAgent.toLowerCase():"",o=/safari/.test(n)&&!/chrome/.test(n);xe=o?.25:.02,fe.on(f.default.DATA_UPDATE_COMPLETED,N,this),fe.on(f.default.BYTES_APPENDED_END_FRAGMENT,oe,this),fe.on(f.default.LOADING_PROGRESS,ae,this),fe.on(f.default.BUFFER_LEVEL_STATE_CHANGED,se,this),fe.on(f.default.PERIOD_SWITCH_STARTED,t,this),fe.on(f.default.PLAYBACK_PROGRESS,ee,this),fe.on(f.default.PLAYBACK_TIME_UPDATED,ee,this),fe.on(f.default.PLAYBACK_ENDED,X,this),Be&&(Be=!1,i())}function t(e){!Me&&e.fromStreamInfo&&void 0!==Ie[e.fromStreamInfo.id]&&(delete Ce[e.fromStreamInfo.id],delete Ie[e.fromStreamInfo.id])}function r(){return parseFloat((n()-p()).toFixed(5))}function n(){var e=B(!0),t=Me?e-De.start:0;return e+(De.duration-t)}function i(){De&&_e&&_e.getElement()?_e.play():Be=!0}function o(){return De&&_e?_e.isPaused():null}function s(){De&&_e&&_e.pause()}function l(){return De&&_e?_e.isSeeking():null}function d(e,t,r){De&&_e&&(!0===r?e!==_e.getTime()&&(_e.removeEventListener("seeking",G),pe.info("Requesting seek to time: "+e),_e.setCurrentTime(e,t)):(fe.trigger(f.default.PLAYBACK_SEEK_ASKED),pe.info("Requesting seek to time: "+e),_e.setCurrentTime(e,t)))}function g(){var e=ye.getReadOnlyMetricsFor(a.default.VIDEO)||ye.getReadOnlyMetricsFor(a.default.AUDIO),t=me.getCurrentDVRInfo(e);d((t?t.range:null).end-Oe.getLiveDelay(),!0,!1)}function p(){return De&&_e?_e.getTime():null}function h(){var e=p();if(Me&&!isNaN(Pe)){var t=Pe/1e3;e>t&&(e-=t)}return e}function v(){return De&&_e?_e.getPlaybackRate():null}function b(){return De&&_e?_e.getPlayedRanges():null}function A(){return De&&_e?_e.getEnded():null}function _(){return Me}function E(){return he}function T(e){Te=e}function S(){return Te}function I(e,t){var r=be.getMpd(ve.getValue()),n=void 0,i=void 0;if(n=Oe.getUseSuggestedPresentationDelay()&&r.hasOwnProperty(a.default.SUGGESTED_PRESENTATION_DELAY)?r.suggestedPresentationDelay:Oe.getLowLatencyEnabled()?0:Oe.getLiveDelay()?Oe.getLiveDelay():isNaN(e)?2*De.manifestInfo.minBufferTime:e*Oe.getLiveDelayFragmentCount(),r.availabilityStartTime&&(Pe=r.availabilityStartTime.getTime()),t>0){var o=Math.max(t-10,t/2);i=Math.min(n,o)}else i=n;return we=i,i}function w(){return we}function C(){if(!Me||isNaN(Pe))return NaN;var e=h();if(isNaN(e)||0===e)return 0;var t=(new Date).getTime()+1e3*Ee.getClientTimeOffset();return Math.max(((t-Pe-1e3*e)/1e3).toFixed(3),0)}function D(){Te=NaN,Be=!1,Ie={},we=0,Pe=0,Ce={},_e&&(fe.off(f.default.DATA_UPDATE_COMPLETED,N,this),fe.off(f.default.BUFFER_LEVEL_STATE_CHANGED,se,this),fe.off(f.default.BYTES_APPENDED_END_FRAGMENT,oe,this),fe.off(f.default.LOADING_PROGRESS,ae,this),fe.off(f.default.PERIOD_SWITCH_STARTED,t,this),fe.off(f.default.PLAYBACK_PROGRESS,ee,this),fe.off(f.default.PLAYBACK_TIME_UPDATED,ee,this),fe.off(f.default.PLAYBACK_ENDED,X,this),k(),ce()),Se=null,_e=null,De=null,Me=null}function M(e){e&&(e.streamController&&(he=e.streamController),e.metricsModel&&(ye=e.metricsModel),e.dashMetrics&&(me=e.dashMetrics),e.manifestModel&&(ve=e.manifestModel),e.dashManifestModel&&(be=e.dashManifestModel),e.mediaPlayerModel&&(Oe=e.mediaPlayerModel),e.adapter&&(Ae=e.adapter),e.videoModel&&(_e=e.videoModel),e.timelineConverter&&(Ee=e.timelineConverter),e.uriFragmentModel&&(je=e.uriFragmentModel))}function O(){var e=je.getURIFragmentData(),t=void 0;if(e){t={};var r=parseInt(e.r,10);r>=0&&De&&r<De.manifestInfo.DVRWindowSize&&null===e.t&&(e.t=Math.floor(Date.now()/1e3)-De.manifestInfo.DVRWindowSize+r),t.fragS=parseFloat(e.s),t.fragT=parseFloat(e.t)}return t}function B(e,t){var r=void 0,n=NaN;if(e)n=De.start;else{var i=O();n=i?isNaN(i.fragS)?i.fragT:i.fragS:0}if(Me)isNaN(n)||((r=n-De.manifestInfo.availableFrom.getTime()/1e3)>Te||r<(isNaN(t)?NaN:t-De.manifestInfo.DVRWindowSize))&&(r=null),r=r||Te;else if(!isNaN(n)&&n<Math.max(De.manifestInfo.duration,De.duration)&&n>=0)r=n;else{var o=Ie[De.id];r=void 0!==o?Math.max(void 0!==o.audio?o.audio:0,void 0!==o.video?o.video:0,De.start):De.start}return r}function R(e){var t=ye.getReadOnlyMetricsFor(a.default.VIDEO)||ye.getReadOnlyMetricsFor(a.default.AUDIO),r=me.getCurrentDVRInfo(t),n=r?r.range:null,i=void 0;if(!n)return NaN;if(e>n.end)i=Math.max(n.end-2*De.manifestInfo.minBufferTime,n.start);else{if(!(e+.25<n.start))return e;i=n.start}return i}function P(){if(null===Se){var e=function(){Z()};Se=setInterval(e,Oe.getWallclockTimeUpdateInterval())}}function k(){clearInterval(Se),Se=null}function L(){if(!o()&&Me&&0!==_e.getReadyState()){var e=h(),t=R(e);!isNaN(t)&&t!==e&&d(t)}}function N(e){if(!e.error){var t=Ae.convertDataToRepresentationInfo(e.currentRepresentation),r=t.mediaInfo.streamInfo;De.id===r.id&&(De=r,L())}}function x(){fe.trigger(f.default.CAN_PLAY)}function j(){pe.info("Native video element event: play"),L(),P(),fe.trigger(f.default.PLAYBACK_STARTED,{startTime:p()})}function U(){pe.info("Native video element event: waiting"),fe.trigger(f.default.PLAYBACK_WAITING,{playingTime:p()})}function F(){pe.info("Native video element event: playing"),fe.trigger(f.default.PLAYBACK_PLAYING,{playingTime:p()})}function Q(){pe.info("Native video element event: pause"),fe.trigger(f.default.PLAYBACK_PAUSED,{ended:A()})}function G(){var e=p();pe.info("Seeking to: "+e),P(),fe.trigger(f.default.PLAYBACK_SEEKING,{seekTime:e})}function W(){pe.info("Native video element event: seeked"),fe.trigger(f.default.PLAYBACK_SEEKED),_e.addEventListener("seeking",G)}function H(){fe.trigger(f.default.PLAYBACK_TIME_UPDATED,{timeToEnd:r(),time:p()})}function Y(){var e=Date.now();(!Re||e>Re+m)&&(Re=e,H())}function V(){fe.trigger(f.default.PLAYBACK_PROGRESS)}function q(){var e=v();pe.info("Native video element event: ratechange: ",e),fe.trigger(f.default.PLAYBACK_RATE_CHANGED,{playbackRate:e})}function K(){pe.info("Native video element event: loadedmetadata"),fe.trigger(f.default.PLAYBACK_METADATA_LOADED),P()}function z(){pe.info("Native video element event: ended"),s(),k(),fe.trigger(f.default.PLAYBACK_ENDED,{isLast:he.getActiveStreamInfo().isLast})}function X(e){Se&&e.isLast&&(pe.info("onPlaybackEnded -- PLAYBACK_ENDED but native video element didn't fire ended"),_e.setCurrentTime(n()),s(),k())}function J(e){var t=e.target||e.srcElement;fe.trigger(f.default.PLAYBACK_ERROR,{error:t.error})}function Z(){fe.trigger(f.default.WALLCLOCK_TIME_UPDATED,{isDynamic:Me,time:new Date}),_()&&o()&&Y()}function $(e,t){if(t&&t.length>0)for(var r=0,n=t.length;r<n;r++)if(e>=t.start(r)&&e<t.end(r))return!0;return!1}function ee(){Me&&Oe.getLowLatencyEnabled()&&!o()&&!l()&&(re()?ne():ie())}function te(){var e=null;return he.getActiveStreamProcessors().forEach(function(t){var r=t.getBufferLevel();e=null===e?r:Math.min(e,r)}),e}function re(){return Oe.getCatchUpPlaybackRate()>0&&p()>0&&Math.abs(C()-Oe.getLiveDelay())>Oe.getLowLatencyMinDrift()}function ne(){if(_e){var e=Oe.getCatchUpPlaybackRate(),t=Oe.getLiveDelay(),r=C()-t,n=5*r,i=2*e/(1+Math.pow(Math.E,-n)),o=1-e+i;if(Ne){te()>t/2?Ne=!1:r>0&&(o=1)}Math.abs(_e.getPlaybackRate()-o)>xe&&_e.setPlaybackRate(o),Oe.getLowLatencyMaxDriftBeforeSeeking()>0&&!Le&&r>Oe.getLowLatencyMaxDriftBeforeSeeking()?(pe.info("Low Latency catchup mechanism. Latency too high, doing a seek to live point"),Le=!0,g()):Le=!1}}function ie(){_e&&_e.setPlaybackRate(1)}function oe(e){var t=void 0,r=void 0,n=e.bufferedRanges;if(n&&n.length&&(!Ie[De.id]||!0!==Ie[De.id].started)){var i=e.sender.getType();void 0===Ce[De.id]&&(Ce[De.id]=[]),Ce[De.id][i]=n,void 0===Ie[De.id]&&(Ie[De.id]=[],Ie[De.id].started=!1),void 0===Ie[De.id][i]&&(Ie[De.id][i]=Math.max(n.start(0),De.start));var o=he.isTrackTypePresent(a.default.VIDEO),s=he.isTrackTypePresent(a.default.AUDIO);r=B(!1),s&&o?isNaN(Ie[De.id].audio)||isNaN(Ie[De.id].video)||(Ie[De.id].audio<Ie[De.id].video?(t=Ie[De.id].video>r?Ie[De.id].video:r,n=Ce[De.id].audio):(t=Ie[De.id].audio>r?Ie[De.id].audio:r,n=Ce[De.id].video),$(t,n)&&(l()||ke||0===t||d(t,!0,!0),Ie[De.id].started=!0)):Ie[De.id][i]&&(t=Ie[De.id][i]>r?Ie[De.id][i]:r,l()||ke||d(t,!1,!0),Ie[De.id].started=!0)}}function ae(e){if(!1===e.stream&&Oe.getLowLatencyEnabled()&&!isNaN(e.request.duration)){var t=1.2*e.request.duration;t>Oe.getLiveDelay()&&(pe.warn("Browser does not support fetch API with StreamReader. Increasing live delay to be 20% higher than segment duration:",t.toFixed(2)),Oe.setLiveDelay(t))}}function se(e){e.streamInfo.id===De.id&&(e.state!==u.default.BUFFER_EMPTY||l()||Ne||(Ne=!0,Oe.getLowLatencyEnabled()||ie()))}function ue(e){fe.trigger(f.default.PLAYBACK_STALLED,{e:e})}function le(){_e.addEventListener("canplay",x),_e.addEventListener("play",j),_e.addEventListener("waiting",U),_e.addEventListener("playing",F),_e.addEventListener("pause",Q),_e.addEventListener("error",J),_e.addEventListener("seeking",G),_e.addEventListener("seeked",W),_e.addEventListener("timeupdate",H),_e.addEventListener("progress",V),_e.addEventListener("ratechange",q),_e.addEventListener("loadedmetadata",K),_e.addEventListener("stalled",ue),_e.addEventListener("ended",z)}function ce(){_e.removeEventListener("canplay",x),_e.removeEventListener("play",j),_e.removeEventListener("waiting",U),_e.removeEventListener("playing",F),_e.removeEventListener("pause",Q),_e.removeEventListener("error",J),_e.removeEventListener("seeking",G),_e.removeEventListener("seeked",W),_e.removeEventListener("timeupdate",H),_e.removeEventListener("progress",V),_e.removeEventListener("ratechange",q),_e.removeEventListener("loadedmetadata",K),_e.removeEventListener("stalled",ue),_e.removeEventListener("ended",z)}var de=this.context,fe=(0,c.default)(de).getInstance(),ge=void 0,pe=void 0,he=void 0,ye=void 0,me=void 0,ve=void 0,be=void 0,Ae=void 0,_e=void 0,Ee=void 0,Te=void 0,Se=void 0,Ie=void 0,we=void 0,Ce=void 0,De=void 0,Me=void 0,Oe=void 0,Be=void 0,Re=void 0,Pe=void 0,ke=void 0,Le=void 0,Ne=void 0,xe=void 0,je=void 0;return ge={initialize:e,setConfig:M,getStartTimeFromUriParameters:O,getStreamStartTime:B,getTimeToStreamEnd:r,getTime:p,getNormalizedTime:h,getPlaybackRate:v,getPlayedRanges:b,getEnded:A,getIsDynamic:_,getStreamController:E,setLiveStartTime:T,getLiveStartTime:S,computeLiveDelay:I,getLiveDelay:w,getCurrentLiveLatency:C,play:i,isPaused:o,pause:s,isSeeking:l,seek:d,reset:D},function(){pe=(0,y.default)(de).getInstance().getLogger(ge),D()}(),ge}Object.defineProperty(t,"__esModule",{value:!0});var o=r(2),a=n(o),s=r(55),u=n(s),l=r(3),c=n(l),d=r(5),f=n(d),g=r(1),p=n(g),h=r(4),y=n(h),m=500;i.__dashjs_factory_name="PlaybackController",t.default=p.default.getSingletonFactory(i),e.exports=t.default},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t,r){for(var n=!0;n;){var i=e,o=t,a=r;n=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=o,r=a,n=!0,s=l=void 0}},a=r(104),s=function(e){return e&&e.__esModule?e:{default:e}}(a),u=function(e){function t(){n(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.BUFFERING_COMPLETED="bufferingCompleted",this.BUFFER_CLEARED="bufferCleared",this.BUFFER_LEVEL_UPDATED="bufferLevelUpdated",this.BYTES_APPENDED="bytesAppended",this.BYTES_APPENDED_END_FRAGMENT="bytesAppendedEndFragment",this.CHECK_FOR_EXISTENCE_COMPLETED="checkForExistenceCompleted",this.CURRENT_TRACK_CHANGED="currentTrackChanged",this.DATA_UPDATE_COMPLETED="dataUpdateCompleted",this.DATA_UPDATE_STARTED="dataUpdateStarted",this.INITIALIZATION_LOADED="initializationLoaded",this.INIT_FRAGMENT_LOADED="initFragmentLoaded",this.INIT_REQUESTED="initRequested",this.INTERNAL_MANIFEST_LOADED="internalManifestLoaded",this.LIVE_EDGE_SEARCH_COMPLETED="liveEdgeSearchCompleted",this.LOADING_COMPLETED="loadingCompleted",this.LOADING_PROGRESS="loadingProgress",this.LOADING_DATA_PROGRESS="loadingDataProgress",this.LOADING_ABANDONED="loadingAborted",this.MANIFEST_UPDATED="manifestUpdated",this.MEDIA_FRAGMENT_LOADED="mediaFragmentLoaded",this.QUOTA_EXCEEDED="quotaExceeded",this.REPRESENTATION_UPDATED="representationUpdated",this.SEGMENTS_LOADED="segmentsLoaded",this.SERVICE_LOCATION_BLACKLIST_ADD="serviceLocationBlacklistAdd",this.SERVICE_LOCATION_BLACKLIST_CHANGED="serviceLocationBlacklistChanged",this.SOURCEBUFFER_REMOVE_COMPLETED="sourceBufferRemoveCompleted",this.STREAMS_COMPOSED="streamsComposed",this.STREAM_BUFFERING_COMPLETED="streamBufferingCompleted",this.STREAM_COMPLETED="streamCompleted",this.TEXT_TRACKS_QUEUE_INITIALIZED="textTracksQueueInitialized",this.TIMED_TEXT_REQUESTED="timedTextRequested",this.TIME_SYNCHRONIZATION_COMPLETED="timeSynchronizationComplete",this.URL_RESOLUTION_FAILED="urlResolutionFailed",this.VIDEO_CHUNK_RECEIVED="videoChunkReceived",this.WALLCLOCK_TIME_UPDATED="wallclockTimeUpdated",this.XLINK_ELEMENT_LOADED="xlinkElementLoaded",this.XLINK_READY="xlinkReady"}return i(t,e),t}(s.default);t.default=u,e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(){function e(){K=null,X=NaN,J=[],ee=null,z=!1}function t(){e(),V=[],W=null}function r(e,t){L||c(),q.setConfig({videoModel:Z}),q.initialize(),j||(j=(0,d.default)(R).getInstance()),n(e,t)}function n(e,t){var r=!F.getIsTextTrack(e);if(t){if(V=V.concat(t.getMediaInfoArr()),r){K=t.getFragmentModel(),N.buffered=(0,g.default)(R).create(),J=G.getTracksFor(a.default.FRAGMENTED_TEXT,$.getActiveStreamInfo());for(var n=G.getCurrentTrackFor(a.default.FRAGMENTED_TEXT,$.getActiveStreamInfo()),i=0;i<J.length;i++)if(J[i]===n){v(i);break}}for(var i=0;i<V.length;i++)A(null,V[i])}}function i(){q.deleteAllTextTracks(),j=null,V=[],K=null,z=!1,J=[]}function o(){t(),$=null,Z=null,q=null}function u(e){var t=e.chunk;t.mediaInfo.embeddedCaptions&&E(t.bytes,t)}function c(){re=[],q=(0,b.default)(R).getInstance(),q.setConfig({videoModel:Z}),q.initialize(),j=(0,d.default)(R).getInstance(),te=null,ne=!1,ie=0,se=[],ae=[],oe=null,L=!0,ue=(0,_.default)(R).getInstance();var e=$.getActiveStreamProcessors();for(var t in e)if("video"===e[t].getType()){le=e[t].getRepresentationInfo().MSETimeOffset;break}k.on(M.default.VIDEO_CHUNK_RECEIVED,u,this)}function f(){k.off(M.default.VIDEO_CHUNK_RECEIVED,u,this),q&&q.deleteAllTextTracks(),L=!1,re=[],se=[null,null],ae=[],oe=null}function p(e){if(L||c(),e)if(e.id===a.default.CC1||e.id===a.default.CC3){for(var t=0;t<re.length;t++)if(re[t].id===e.id)return;re.push(e)}else x.warn("Embedded track "+e.id+" not supported!")}function h(e){e&&(e.errHandler&&(U=e.errHandler),e.dashManifestModel&&(F=e.dashManifestModel),e.manifestModel&&(Q=e.manifestModel),e.mediaController&&(G=e.mediaController),e.videoModel&&(Z=e.videoModel),e.streamController&&($=e.streamController),e.textTracks&&(q=e.textTracks),e.vttParser&&(H=e.vttParser),e.ttmlParser&&(Y=e.ttmlParser))}function y(){return{fragmentModel:K,fragmentedTracks:J,videoModel:Z}}function v(e){te=e}function A(e,t){var r=new l.default,n={subtitle:"subtitles",caption:"captions"};r.captionData=e,r.lang=t.lang,r.label=t.id?t.id:t.index,r.index=t.index,r.isTTML=function(){var e=!1;return t.codec&&t.codec.search(a.default.STPP)>=0&&(e=!0),t.mimeType&&t.mimeType.search(a.default.TTML)>=0&&(e=!0),e}(),r.defaultTrack=w(t),r.isFragmented=!F.getIsTextTrack(t.mimeType),r.isEmbedded=!!t.isEmbedded,r.kind=function(){var e=t.roles.length>0?n[t.roles[0]]:n.caption;return e=e===n.caption||e===n.subtitle?e:n.caption}(),r.roles=t.roles,r.accessibility=t.accessibility;var i=(V?V.length:0)+re.length;q.addTextTrack(r,i)}function E(e,t){var r=void 0,n=void 0,i=void 0,o=void 0,u=void 0,l=void 0,c=void 0,d=t.mediaInfo,f=d.type,g=d.mimeType,p=d.codec||g;if(!p)return void x.error("No text type defined");if(f===a.default.FRAGMENTED_TEXT)if(z)if(l=j.getSamplesInfo(e),n=l.sampleList,null===ee&&n.length>0&&(ee=n[0].cts-t.start*X),p.search(a.default.STPP)>=0)for(W=null!==W?W:D(p),i=0;i<n.length;i++){var h=n[i],y=h.cts,m=y-ee;this.buffered.add(m/X,(m+h.duration)/X);var v=new DataView(e,h.offset,h.subSizes[0]);c=T.default.Utils.dataViewToString(v,a.default.UTF8);var b=[],_=h.offset+h.subSizes[0];for(o=1;o<h.subSizes.length;o++){var E=new Uint8Array(e,_,h.subSizes[o]),w=String.fromCharCode.apply(null,E);b.push(w),_+=h.subSizes[o]}try{var C=Q.getValue(),M=C.ttmlTimeIsRelative?y/X:0;r=W.parse(c,M,y/X,(y+h.duration)/X,b),q.addCaptions(te,ee/X,r)}catch(e){K.removeExecutedRequestsBeforeTime(),this.remove(),x.error("TTML parser error: "+e.message)}}else{var O=[];for(i=0;i<n.length;i++){var h=n[i];h.cts-=ee,this.buffered.add(h.cts/X,(h.cts+h.duration)/X);var R=e.slice(h.offset,h.offset+h.size),k=T.default.parseBuffer(R);for(o=0;o<k.boxes.length;o++){var L=k.boxes[o];if(x.debug("VTT box1: "+L.type),"vtte"!==L.type&&"vttc"===L.type)for(x.debug("VTT vttc boxes.length = "+L.boxes.length),u=0;u<L.boxes.length;u++){var N=L.boxes[u];if(x.debug("VTT box2: "+N.type),"payl"===N.type){var F=N.cue_text;x.debug("VTT cue_text = "+F);var G=h.cts/X,H=(h.cts+h.duration)/X;O.push({start:G,end:H,data:F,styles:{}}),x.debug("VTT "+G+"-"+H+" : "+F)}}}}O.length>0&&q.addCaptions(te,0,O)}else z=!0,X=j.getMediaTimescaleFromMoov(e);else if(f===a.default.TEXT){var v=new DataView(e,0,e.byteLength);c=T.default.Utils.dataViewToString(v,a.default.UTF8);try{r=D(p).parse(c,0),q.addCaptions(q.getCurrentTrackIdx(),0,r)}catch(e){U.timedTextError(e,"parse",c),U.error(new B.default(P.default.TIMED_TEXT_ERROR_ID_PARSE_CODE,P.default.TIMED_TEXT_ERROR_MESSAGE_PARSE+e.message,c))}}else if(f===a.default.VIDEO)if(t.segmentType===s.HTTPRequest.INIT_SEGMENT_TYPE){if(0===ie)for(ie=j.getMediaTimescaleFromMoov(e),i=0;i<re.length;i++)A(null,re[i])}else{if(0===ie)return void x.warn("CEA-608: No timescale for embeddedTextTrack yet");l=j.getSamplesInfo(e);var Y=l.lastSequenceNumber;if(!se[0]&&!se[1]){var V=void 0,J=void 0;for(i=0;i<re.length;i++){if(re[i].id===a.default.CC1?(0,J=q.getTrackIdxForId(a.default.CC1)):re[i].id===a.default.CC3&&(1,J=q.getTrackIdxForId(a.default.CC3)),-1===J)return void x.warn("CEA-608: data before track is ready.");V=function(e,t){function r(e,r,n){var i=null;if(Z.getTTMLRenderingDiv())i=ue.createHTMLCaptionsFromScreen(Z.getElement(),e,r,n);else{i=[{start:e,end:r,data:n.getDisplayText(),styles:{}}]}i&&q.addCaptions(t,0,i)}return r}(0,J),se[i]=new I.default.Cea608Parser(i+1,{newCue:V},null)}}if(ie&&-1==ae.indexOf(Y)){if(null!==oe&&Y!==oe+l.numSequences)for(i=0;i<se.length;i++)se[i]&&se[i].reset();for(var $=S(e,l.sampleList),ne=0;ne<se.length;ne++){var le=$.fields[ne],ce=se[ne];if(ce)for(i=0;i<le.length;i++)ce.addData(le[i][0]/ie,le[i][1])}oe=Y,ae.push(Y)}}}function S(e,t){if(0===t.length)return null;for(var r={splits:[],fields:[[],[]]},n=new DataView(e),i=0;i<t.length;i++)for(var o=t[i],a=I.default.findCea608Nalus(n,o.offset,o.size),s=null,u=0,l=0;l<a.length;l++)for(var c=I.default.extractCea608DataFromRange(n,a[l]),d=0;d<2;d++)c[d].length>0&&(o.cts!==s?u=0:u+=1,r.fields[d].push([o.cts+le*ie,c[d],u]),s=o.cts);return r.fields.forEach(function(e){e.sort(function(e,t){return e[0]===t[0]?e[2]-t[2]:e[0]-t[0]})}),r}function w(e){var t=!1;return re.length>1&&e.isEmbedded?t=e.id&&e.id===a.default.CC1:1===re.length?e.id&&"CC"===e.id.substring(0,2)&&(t=!0):0===re.length&&(t=e.index===V[0].index),t}function D(e){var t=void 0;return e.search(a.default.VTT)>=0?t=H:(e.search(a.default.TTML)>=0||e.search(a.default.STPP)>=0)&&(t=Y),t}function O(e,t){void 0===e&&e===t&&(e=this.buffered.start(0),t=this.buffered.end(this.buffered.length-1)),this.buffered.remove(e,t)}var R=this.context,k=(0,C.default)(R).getInstance(),L=!1,N=void 0,x=void 0,j=void 0,U=void 0,F=void 0,Q=void 0,G=void 0,W=void 0,H=void 0,Y=void 0,V=void 0,q=void 0,K=void 0,z=void 0,X=void 0,J=void 0,Z=void 0,$=void 0,ee=void 0,te=void 0,re=void 0,ne=void 0,ie=void 0,oe=void 0,ae=void 0,se=void 0,ue=void 0,le=void 0;return N={initialize:r,append:E,abort:i,addEmbeddedTrack:p,resetEmbedded:f,setConfig:h,getConfig:y,setCurrentFragmentedTrackIdx:v,remove:O,reset:o},function(){x=(0,m.default)(R).getInstance().getLogger(N),t()}(),N}Object.defineProperty(t,"__esModule",{value:!0});var o=r(2),a=n(o),s=r(19),u=r(501),l=n(u),c=r(84),d=n(c),f=r(223),g=n(f),p=r(1),h=n(p),y=r(4),m=n(y),v=r(155),b=n(v),A=r(519),_=n(A),E=r(154),T=n(E),S=r(229),I=n(S),w=r(3),C=n(w),D=r(5),M=n(D),O=r(12),B=n(O),R=r(17),P=n(R);i.__dashjs_factory_name="TextSourceBuffer",t.default=h.default.getSingletonFactory(i),e.exports=t.default},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(){n(this,e),this.captionData=null,this.label=null,this.lang=null,this.defaultTrack=!1,this.kind=null,this.isFragmented=!1,this.isEmbedded=!1};t.default=i,e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(){function e(e){return e&&o&&o.boxes&&0!==o.boxes.length&&"function"==typeof o.fetch?i(o.fetch(e)):null}function t(e){var t=[];if(!e||!o||"function"!=typeof o.fetchAll)return t;for(var r=o.fetchAll(e),n=void 0,a=0,s=r.length;a<s;a++)(n=i(r[a]))&&t.push(n);return t}function r(e){o=e}function n(){if(!o||!o.boxes||!o.boxes.length)return null;var e=o.boxes[o.boxes.length-1].type,r=t(e);return r.length>0?r[r.length-1]:null}function i(e){if(!e)return null;var t=new a.default(e);return e.hasOwnProperty("_incomplete")&&(t.isComplete=!e._incomplete),t}var o=void 0;return{getBox:e,getBoxes:t,setData:r,getLastBox:n}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(503),a=n(o),s=r(1),u=n(s);i.__dashjs_factory_name="IsoFile",t.default=u.default.getClassFactory(i),e.exports=t.default},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function(){function e(t){if(n(this,e),this.offset=t._offset,this.type=t.type,this.size=t.size,this.boxes=[],t.boxes)for(var r=0;r<t.boxes.length;r++)this.boxes.push(new e(t.boxes[r]));switch(this.isComplete=!0,t.type){case"sidx":if(this.timescale=t.timescale,this.earliest_presentation_time=t.earliest_presentation_time,this.first_offset=t.first_offset,this.references=t.references,t.references){this.references=[];for(var r=0;r<t.references.length;r++){var i={reference_type:t.references[r].reference_type,referenced_size:t.references[r].referenced_size,subsegment_duration:t.references[r].subsegment_duration};this.references.push(i)}}break;case"emsg":this.id=t.id,this.value=t.value,this.timescale=t.timescale,this.scheme_id_uri=t.scheme_id_uri,this.presentation_time_delta=1===t.version?t.presentation_time:t.presentation_time_delta,this.event_duration=t.event_duration,this.message_data=t.message_data;break;case"mdhd":this.timescale=t.timescale;break;case"mfhd":this.sequence_number=t.sequence_number;break;case"subs":this.entry_count=t.entry_count,this.entries=t.entries;break;case"tfhd":this.base_data_offset=t.base_data_offset,this.sample_description_index=t.sample_description_index,this.default_sample_duration=t.default_sample_duration,this.default_sample_size=t.default_sample_size,this.default_sample_flags=t.default_sample_flags,this.flags=t.flags;break;case"tfdt":this.version=t.version,this.baseMediaDecodeTime=t.baseMediaDecodeTime,this.flags=t.flags;break;case"trun":if(this.sample_count=t.sample_count,this.first_sample_flags=t.first_sample_flags,this.data_offset=t.data_offset,this.flags=t.flags,this.samples=t.samples,t.samples){this.samples=[];for(var r=0,o=t.samples.length;r<o;r++){var a={sample_size:t.samples[r].sample_size,sample_duration:t.samples[r].sample_duration,sample_composition_time_offset:t.samples[r].sample_composition_time_offset};this.samples.push(a)}}}}return i(e,[{key:"getChildBox",value:function(e){for(var t=0;t<this.boxes.length;t++)if(this.boxes[t].type===e)return this.boxes[t]}},{key:"getChildBoxes",value:function(e){for(var t=[],r=0;r<this.boxes.length;r++)this.boxes[r].type===e&&t.push(this.boxes[r]);return t}}]),e}();t.default=o,e.exports=t.default},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(t,r,i){n(this,e),this.lastCompletedOffset=t,this.found=r,this.size=i};t.default=i,e.exports=t.default},function(e,t,r){!function(e,t,r,n){function i(e,t,s,d,f,g,p,h,y){if(t<p.begin||t>=p.end)return null;var m="regionID"in p&&""!==p.regionID?p.regionID:g;if(null!==f&&m!==s.id&&(!("contents"in p)||"contents"in p&&0===p.contents.length||""!==m))return null;var v=new u(p);for(var b in p.sets)t<p.sets[b].begin||t>=p.sets[b].end||(v.styleAttrs[p.sets[b].qname]=p.sets[b].value);var A={};for(var _ in v.styleAttrs)if(A[_]=!0,_===r.byName.writingMode.qname&&!(r.byName.direction.qname in v.styleAttrs)){var E=v.styleAttrs[_];"lrtb"===E||"lr"===E?v.styleAttrs[r.byName.direction.qname]="ltr":"rltb"!==E&&"rl"!==E||(v.styleAttrs[r.byName.direction.qname]="rtl")}if(null!==f)for(var T in r.all){var S=r.all[T];if(S.qname===r.byName.textDecoration.qname){var I=f.styleAttrs[S.qname],w=v.styleAttrs[S.qname],C=[];void 0===w?C=I:-1===w.indexOf("none")?((-1===w.indexOf("noUnderline")&&-1!==I.indexOf("underline")||-1!==w.indexOf("underline"))&&C.push("underline"),(-1===w.indexOf("noLineThrough")&&-1!==I.indexOf("lineThrough")||-1!==w.indexOf("lineThrough"))&&C.push("lineThrough"),(-1===w.indexOf("noOverline")&&-1!==I.indexOf("overline")||-1!==w.indexOf("overline"))&&C.push("overline")):C.push("none"),v.styleAttrs[S.qname]=C}else if(S.qname!==r.byName.fontSize.qname||S.qname in v.styleAttrs||"span"!==v.kind||"textContainer"!==v.styleAttrs[r.byName.ruby.qname])if(S.qname!==r.byName.fontSize.qname||S.qname in v.styleAttrs||"span"!==v.kind||"text"!==v.styleAttrs[r.byName.ruby.qname])S.inherit&&S.qname in f.styleAttrs&&!(S.qname in v.styleAttrs)&&(v.styleAttrs[S.qname]=f.styleAttrs[S.qname]);else{var D=f.styleAttrs[r.byName.fontSize.qname];"textContainer"===f.styleAttrs[r.byName.ruby.qname]?v.styleAttrs[S.qname]=D:v.styleAttrs[S.qname]=new n.ComputedLength(.5*D.rw,.5*D.rh)}else{var M=f.styleAttrs[r.byName.fontSize.qname];v.styleAttrs[S.qname]=new n.ComputedLength(.5*M.rw,.5*M.rh)}}for(var O in r.all){var B=r.all[O];if(!(B.qname in v.styleAttrs)&&!(B.qname===r.byName.position.qname&&r.byName.origin.qname in v.styleAttrs||B.qname===r.byName.origin.qname&&r.byName.position.qname in v.styleAttrs)){var R=e.head.styling.initials[B.qname]||B.initial;("region"===v.kind||!1===B.inherit&&null!==R)&&(v.styleAttrs[B.qname]=B.parse(R),A[B.qname]=!0)}}for(var P in r.all){var k=r.all[P];if(k.qname in A&&null!==k.compute){var L=k.compute(e,f,v,v.styleAttrs[k.qname],y);null!==L?v.styleAttrs[k.qname]=L:(v.styleAttrs[k.qname]=k.compute(e,f,v,k.parse(k.initial),y),l(h,"Style '"+k.qname+"' on element '"+v.kind+"' cannot be computed"))}}if("none"===v.styleAttrs[r.byName.display.qname])return null;var N;null===f?N=null===d?[]:[d]:"contents"in p&&(N=p.contents);for(var x in N){var j=i(e,t,s,d,v,m,N[x],h,y);null!==j&&v.contents.push(j.element)}for(var U in v.styleAttrs){var F=!1;if("span"===v.kind){var Q=v.styleAttrs[r.byName.ruby.qname];F=("container"===Q||"textContainer"===Q||"baseContainer"===Q)&&-1!==c.indexOf(U),F||(F="container"!==Q&&U===r.byName.rubyAlign.qname),F||(F=!("textContainer"===Q||"text"===Q)&&U===r.byName.rubyPosition.qname)}if(!F){F=-1===r.byQName[U].applies.indexOf(v.kind)}F&&delete v.styleAttrs[U]}if("span"===v.kind&&v.text&&"default"===v.space){var G=v.text.replace(/[\t\r\n ]+/g," ");v.text=G}if("p"===v.kind){var W=[];o(v,W);for(var H=0,Y="after_br",V=0;;)if("after_br"===Y)H>=W.length||"br"===W[H].kind?(Y="before_br",V=H,H--):("preserve"!==W[H].space&&(W[H].text=W[H].text.replace(/^[\t\r\n ]+/g,"")),W[H].text.length>0?(Y="looking_br",H++):W.splice(H,1));else if("before_br"===Y)if(H<0||"br"===W[H].kind){if(Y="after_br",(H=V+1)>=W.length)break}else if("preserve"!==W[H].space&&(W[H].text=W[H].text.replace(/[\t\r\n ]+$/g,"")),W[H].text.length>0){if(Y="after_br",(H=V+1)>=W.length)break}else W.splice(H,1),H--;else H>=W.length||"br"===W[H].kind?(Y="before_br",V=H,H--):H++;a(v)}return"div"===v.kind&&r.byName.backgroundImage.qname in v.styleAttrs||"br"===v.kind||"image"===v.kind||"contents"in v&&v.contents.length>0||"span"===v.kind&&null!==v.text||"region"===v.kind&&"always"===v.styleAttrs[r.byName.showBackground.qname]?{region_id:m,element:v}:null}function o(e,t){if("contents"in e)for(var r in e.contents)o(e.contents[r],t);else"span"!==e.kind&&"br"!==e.kind||t.push(e)}function a(e){if("br"===e.kind)return!1;if("text"in e)return 0===e.text.length;if("contents"in e){for(var t=e.contents.length;t--;)a(e.contents[t])&&e.contents.splice(t,1);return 0===e.contents.length}}function s(e){this.contents=[],this.aspectRatio=e.aspectRatio}function u(e){this.kind=e.kind||"region",e.id&&(this.id=e.id),this.styleAttrs={};for(var t in e.styleAttrs)this.styleAttrs[t]=e.styleAttrs[t];"src"in e&&(this.src=e.src),"type"in e&&(this.type=e.type),"text"in e?this.text=e.text:("region"===this.kind||"contents"in e)&&(this.contents=[]),"space"in e&&(this.space=e.space)}function l(e,t){if(e&&e.error&&e.error(t))throw t}e.generateISD=function(e,t,r){var n=new s(e),o={};for(var a in e.head.layout.regions){var u=i(e,t,e.head.layout.regions[a],e.body,null,"",e.head.layout.regions[a],r,o);null!==u&&n.contents.push(u.element)}return n};var c=[r.byName.color.qname,r.byName.textCombine.qname,r.byName.textDecoration.qname,r.byName.textEmphasis.qname,r.byName.textOutline.qname,r.byName.textShadow.qname]}(t,"undefined"==typeof imscNames?r(105):imscNames,"undefined"==typeof imscStyles?r(156):imscStyles,"undefined"==typeof imscUtils?r(106):imscUtils)},function(e,t,r){!function(e,t,r,n,i){function o(e){if("contents"in e)for(var t=("styleAttrs"in e?e.styleAttrs[n.byName.ruby.qname]:null),r="span"===e.kind&&("container"===t||"textContainer"===t||"baseContainer"===t),i=e.contents.length-1;i>=0;i--)!r||"styleAttrs"in e.contents[i]&&n.byName.ruby.qname in e.contents[i].styleAttrs?o(e.contents[i]):delete e.contents[i]}function a(e,t,r,n){var i=n&&"seq"===n.timeContainer,o=0;n&&(o=i&&r?r.end:n.begin),t.begin=t.explicit_begin?t.explicit_begin+o:o;var s=t.begin,u=null;for(var l in t.sets)a(e,t.sets[l],u,t),s="seq"===t.timeContainer?t.sets[l].end:Math.max(s,t.sets[l].end),u=t.sets[l];if("contents"in t)for(var c in t.contents)a(e,t.contents[c],u,t),s="seq"===t.timeContainer?t.contents[c].end:Math.max(s,t.contents[c].end),u=t.contents[c];else s=i?t.begin:Number.POSITIVE_INFINITY;null!==t.explicit_end&&null!==t.explicit_dur?t.end=Math.min(t.begin+t.explicit_dur,o+t.explicit_end):null===t.explicit_end&&null!==t.explicit_dur?t.end=t.begin+t.explicit_dur:null!==t.explicit_end&&null===t.explicit_dur?t.end=o+t.explicit_end:t.end=s,delete t.explicit_begin,delete t.explicit_dur,delete t.explicit_end,e._registerEvent(t)}function s(e){this.node=e}function u(){this.events=[],this.head=new l,this.body=null}function l(){this.styling=new c,this.layout=new g}function c(){this.styles={},this.initials={}}function d(){this.id=null,this.styleAttrs=null,this.styleRefs=null}function f(){this.styleAttrs=null}function g(){this.regions={}}function p(e,t){h.call(this,"image"),this.src=e,this.type=t}function h(e){this.kind=e}function y(e){this.id=e}function m(e){this.regionID=e}function v(e){this.styleAttrs=e}function b(e){this.sets=e}function A(e){this.contents=e}function _(e,t,r){this.explicit_begin=e,this.explicit_end=t,this.explicit_dur=r}function E(){h.call(this,"body")}function T(){h.call(this,"div")}function S(){h.call(this,"p")}function I(){h.call(this,"span")}function w(){h.call(this,"span")}function C(){h.call(this,"br")}function D(){}function M(){}function O(e){return e&&"xml:id"in e.attributes?e.attributes["xml:id"].value||null:null}function B(e){return e&&"region"in e.attributes?e.attributes.region.value:""}function R(e,t){var r=e&&"timeContainer"in e.attributes?e.attributes.timeContainer.value:null;return r&&"par"!==r?"seq"===r?"seq":(V(t,"Illegal value of timeContainer (assuming 'par')"),"par"):"par"}function P(e){return e&&"style"in e.attributes?e.attributes.style.value.split(" "):[]}function k(e,t){var r={};if(null!==e)for(var i in e.attributes){var o=e.attributes[i].uri+" "+e.attributes[i].local,a=n.byQName[o];if(void 0!==a){var s=a.parse(e.attributes[i].value);null!==s?(r[o]=s,a===n.byName.zIndex&&Y(t,"zIndex attribute present but not used by IMSC1 since regions do not overlap")):V(t,"Cannot parse styling attribute "+o+" --\x3e "+e.attributes[i].value)}}return r}function L(e,t,r){for(var n in e.attributes)if(e.attributes[n].uri===t&&e.attributes[n].local===r)return e.attributes[n].value;return null}function N(e,t){var n=L(e,r.ns_ittp,"aspectRatio");null===n&&(n=L(e,r.ns_ttp,"displayAspectRatio"));var i=null;if(null!==n){var o=/(\d+)\s+(\d+)/,a=o.exec(n);if(null!==a){var s=parseInt(a[1]),u=parseInt(a[2]);0!==s&&0!==u?i=s/u:V(t,"Illegal aspectRatio values (ignoring)")}else V(t,"Malformed aspectRatio attribute (ignoring)")}return i}function x(e,t){var n=L(e,r.ns_ttp,"cellResolution"),i=15,o=32;if(null!==n){var a=/(\d+) (\d+)/,s=a.exec(n);null!==s?(o=parseInt(s[1]),i=parseInt(s[2])):Y(t,"Malformed cellResolution value (using initial value instead)")}return{w:o,h:i}}function j(e,t){var n,i=L(e,r.ns_ttp,"frameRate"),o=30;if(null!==i){n=/(\d+)/.exec(i),null!==n?o=parseInt(n[1]):Y(t,"Malformed frame rate attribute (using initial value instead)")}var a=L(e,r.ns_ttp,"frameRateMultiplier"),s=1;if(null!==a){n=/(\d+) (\d+)/.exec(a),null!==n?s=parseInt(n[1])/parseInt(n[2]):Y(t,"Malformed frame rate multiplier attribute (using initial value instead)")}var u=s*o,l=1,c=L(e,r.ns_ttp,"tickRate");if(null===c)null!==i&&(l=u);else{n=/(\d+)/.exec(c),null!==n?l=parseInt(n[1]):Y(t,"Malformed tick rate attribute (using initial value instead)")}return{effectiveFrameRate:u,tickRate:l}}function U(e,t){var n=L(e,r.ns_tts,"extent");if(null===n)return null;var o=n.split(" ");if(2!==o.length)return Y(t,"Malformed extent (ignoring)"),null;var a=i.parseLength(o[0]),s=i.parseLength(o[1]);return s&&a?{h:s,w:a}:(Y(t,"Malformed extent values (ignoring)"),null)}function F(e,t,r){var n,i=/^(\d{2,}):(\d\d):(\d\d(?:\.\d+)?)$/,o=/^(\d{2,}):(\d\d):(\d\d)\:(\d{2,})$/,a=/^(\d+(?:\.\d+)?)f$/,s=/^(\d+(?:\.\d+)?)t$/,u=/^(\d+(?:\.\d+)?)ms$/,l=/^(\d+(?:\.\d+)?)s$/,c=/^(\d+(?:\.\d+)?)h$/,d=/^(\d+(?:\.\d+)?)m$/,f=null;return null!==(n=a.exec(r))?null!==t&&(f=parseFloat(n[1])/t):null!==(n=s.exec(r))?null!==e&&(f=parseFloat(n[1])/e):null!==(n=u.exec(r))?f=parseFloat(n[1])/1e3:null!==(n=l.exec(r))?f=parseFloat(n[1]):null!==(n=c.exec(r))?f=3600*parseFloat(n[1]):null!==(n=d.exec(r))?f=60*parseFloat(n[1]):null!==(n=i.exec(r))?f=3600*parseInt(n[1])+60*parseInt(n[2])+parseFloat(n[3]):null!==(n=o.exec(r))&&null!==t&&(f=3600*parseInt(n[1])+60*parseInt(n[2])+parseInt(n[3])+(null===n[4]?0:parseInt(n[4])/t)),f}function Q(e,t,r,n){var i=null;r&&"begin"in r.attributes&&null===(i=F(e.tickRate,e.effectiveFrameRate,r.attributes.begin.value))&&Y(n,"Malformed begin value "+r.attributes.begin.value+" (using 0)");var o=null;r&&"dur"in r.attributes&&null===(o=F(e.tickRate,e.effectiveFrameRate,r.attributes.dur.value))&&Y(n,"Malformed dur value "+r.attributes.dur.value+" (ignoring)");var a=null;return r&&"end"in r.attributes&&null===(a=F(e.tickRate,e.effectiveFrameRate,r.attributes.end.value))&&Y(n,"Malformed end value (ignoring)"),{explicit_begin:i,explicit_end:a,explicit_dur:o}}function G(e,t,r){for(;t.styleRefs.length>0;){var n=t.styleRefs.pop();n in e.styles?(G(e,e.styles[n],r),H(e.styles[n].styleAttrs,t.styleAttrs)):V(r,"Non-existant style id referenced")}}function W(e,t,r,n){for(var i=t.length-1;i>=0;i--){var o=t[i];o in e.styles?H(e.styles[o].styleAttrs,r):V(n,"Non-existant style id referenced")}}function H(e,t){for(var r in e)r in t||(t[r]=e[r])}function Y(e,t){if(e&&e.warn&&e.warn(t))throw t}function V(e,t){if(e&&e.error&&e.error(t))throw t}function q(e,t){throw e&&e.fatal&&e.fatal(t),t}function K(e,t){for(var r,n=0,i=e.length-1;n<=i;){r=Math.floor((n+i)/2);var o=e[r];if(o<t)n=r+1;else{if(!(o>t))return{found:!0,index:r};i=r-1}}return{found:!1,index:n}}e.fromXML=function(e,i,h){var y=t.parser(!0,{xmlns:!0}),m=[],v=[],b=[],A=0,_=null;y.onclosetag=function(e){if(m[0]instanceof c)for(var t in m[0].styles)G(m[0],m[0].styles[t],i);else if(m[0]instanceof S||m[0]instanceof I){if(m[0].contents.length>1){var n,o=[m[0].contents[0]];for(n=1;n<m[0].contents.length;n++)m[0].contents[n]instanceof w&&o[o.length-1]instanceof w?o[o.length-1].text+=m[0].contents[n].text:o.push(m[0].contents[n]);m[0].contents=o}m[0]instanceof I&&1===m[0].contents.length&&m[0].contents[0]instanceof w&&(m[0].text=m[0].contents[0].text,delete m[0].contents)}else m[0]instanceof s&&(m[0].node.uri===r.ns_tt&&"metadata"===m[0].node.local?A--:A>0&&h&&"onCloseTag"in h&&h.onCloseTag());b.shift(),v.shift(),m.shift()},y.ontext=function(e){if(void 0===m[0]);else if(m[0]instanceof I||m[0]instanceof S){if(m[0]instanceof I){var t=m[0].styleAttrs[n.byName.ruby.qname];if("container"===t||"textContainer"===t||"baseContainer"===t)return}var r=new w;r.initFromText(_,m[0],e,b[0],i),m[0].contents.push(r)}else m[0]instanceof s&&A>0&&h&&"onText"in h&&h.onText(e)},y.onopentag=function(e){var t=e.attributes["xml:space"];t?b.unshift(t.value):0===b.length?b.unshift("default"):b.unshift(b[0]);var o=e.attributes["xml:lang"];if(o?v.unshift(o.value):0===v.length?v.unshift(""):v.unshift(v[0]),e.uri===r.ns_tt)if("tt"===e.local)null!==_&&q(i,"Two <tt> elements at ("+this.line+","+this.column+")"),_=new u,_.initFromNode(e,i),m.unshift(_);else if("head"===e.local)m[0]instanceof u||q(i,"Parent of <head> element is not <tt> at ("+this.line+","+this.column+")"),m.unshift(_.head);else if("styling"===e.local)m[0]instanceof l||q(i,"Parent of <styling> element is not <head> at ("+this.line+","+this.column+")"),m.unshift(_.head.styling);else if("style"===e.local){var a;m[0]instanceof c?(a=new d,a.initFromNode(e,i),a.id?_.head.styling.styles[a.id]=a:V(i,"<style> element missing @id attribute"),m.unshift(a)):m[0]instanceof D?(a=new d,a.initFromNode(e,i),H(a.styleAttrs,m[0].styleAttrs),m.unshift(a)):q(i,"Parent of <style> element is not <styling> or <region> at ("+this.line+","+this.column+")")}else if("initial"===e.local){var y;if(m[0]instanceof c){y=new f,y.initFromNode(e,i);for(var w in y.styleAttrs)_.head.styling.initials[w]=y.styleAttrs[w];m.unshift(y)}else q(i,"Parent of <initial> element is not <styling> at ("+this.line+","+this.column+")")}else if("layout"===e.local)m[0]instanceof l||q(i,"Parent of <layout> element is not <head> at "+this.line+","+this.column+")"),m.unshift(_.head.layout);else if("region"===e.local){m[0]instanceof g||q(i,"Parent of <region> element is not <layout> at "+this.line+","+this.column+")");var O=new D;O.initFromNode(_,e,i),!O.id||O.id in _.head.layout.regions?V(i,"Ignoring <region> with duplicate or missing @id at "+this.line+","+this.column+")"):_.head.layout.regions[O.id]=O,m.unshift(O)}else if("body"===e.local){m[0]instanceof u||q(i,"Parent of <body> element is not <tt> at "+this.line+","+this.column+")"),null!==_.body&&q(i,"Second <body> element at "+this.line+","+this.column+")");var B=new E;B.initFromNode(_,e,i),_.body=B,m.unshift(B)}else if("div"===e.local){m[0]instanceof T||m[0]instanceof E||q(i,"Parent of <div> element is not <body> or <div> at "+this.line+","+this.column+")");var R=new T;R.initFromNode(_,m[0],e,i);var P=R.styleAttrs[n.byName.backgroundImage.qname];P&&(R.contents.push(new p(P)),delete R.styleAttrs[n.byName.backgroundImage.qname]),m[0].contents.push(R),m.unshift(R)}else if("image"===e.local){m[0]instanceof T||q(i,"Parent of <image> element is not <div> at "+this.line+","+this.column+")");var k=new p;k.initFromNode(_,m[0],e,i),m[0].contents.push(k),m.unshift(k)}else if("p"===e.local){m[0]instanceof T||q(i,"Parent of <p> element is not <div> at "+this.line+","+this.column+")");var L=new S;L.initFromNode(_,m[0],e,i),m[0].contents.push(L),m.unshift(L)}else if("span"===e.local){m[0]instanceof I||m[0]instanceof S||q(i,"Parent of <span> element is not <span> or <p> at "+this.line+","+this.column+")");var N=new I;N.initFromNode(_,m[0],e,b[0],i),m[0].contents.push(N),m.unshift(N)}else if("br"===e.local){m[0]instanceof I||m[0]instanceof S||q(i,"Parent of <br> element is not <span> or <p> at "+this.line+","+this.column+")");var x=new C;x.initFromNode(_,m[0],e,i),m[0].contents.push(x),m.unshift(x)}else if("set"===e.local){m[0]instanceof I||m[0]instanceof S||m[0]instanceof T||m[0]instanceof E||m[0]instanceof D||m[0]instanceof C||q(i,"Parent of <set> element is not a content element or a region at "+this.line+","+this.column+")");var j=new M;j.initFromNode(_,m[0],e,i),m[0].sets.push(j),m.unshift(j)}else m.unshift(new s(e));else m.unshift(new s(e));if(m[0]instanceof s)if(e.uri===r.ns_tt&&"metadata"===e.local)A++;else if(A>0&&h&&"onOpenTag"in h){var U=[];for(var F in e.attributes)U[e.attributes[F].uri+" "+e.attributes[F].local]={uri:e.attributes[F].uri,local:e.attributes[F].local,value:e.attributes[F].value};h.onOpenTag(e.uri,e.local,U)}},y.write(e).close(),delete _.head.styling.styles;var O=!1;for(var B in _.head.layout.regions){O=!0;break}if(!O){var R=D.prototype.createDefaultRegion();_.head.layout.regions[R.id]=R}for(var P in _.head.layout.regions)a(_,_.head.layout.regions[P],null,null);return _.body&&a(_,_.body,null,null),_.body&&o(_.body),_},u.prototype.initFromNode=function(e,t){var n=x(e,t);this.cellLength={h:new i.ComputedLength(0,1/n.h),w:new i.ComputedLength(1/n.w,0)};var o=j(e,t);this.effectiveFrameRate=o.effectiveFrameRate,this.tickRate=o.tickRate,this.aspectRatio=N(e,t);var a=L(e,r.ns_ttp,"timeBase");null!==a&&"media"!==a&&q(t,"Unsupported time base");var s=U(e,t);null===s?this.pxLength={h:null,w:null}:("px"===s.h.unit&&"px"===s.w.unit||q(t,"Extent on TT must be in px or absent"),this.pxLength={h:new i.ComputedLength(0,1/s.h.value),w:new i.ComputedLength(1/s.w.value,0)}),this.dimensions={h:new i.ComputedLength(0,1),w:new i.ComputedLength(1,0)}},u.prototype._registerEvent=function(e){if(!(e.end<=e.begin)){var t=K(this.events,e.begin);if(t.found||this.events.splice(t.index,0,e.begin),e.end!==Number.POSITIVE_INFINITY){var r=K(this.events,e.end);r.found||this.events.splice(r.index,0,e.end)}}},u.prototype.getMediaTimeRange=function(){return[this.events[0],this.events[this.events.length-1]]},u.prototype.getMediaTimeEvents=function(){return this.events},d.prototype.initFromNode=function(e,t){this.id=O(e),this.styleAttrs=k(e,t),this.styleRefs=P(e)},f.prototype.initFromNode=function(e,t){this.styleAttrs={};for(var n in e.attributes)if(e.attributes[n].uri===r.ns_itts||e.attributes[n].uri===r.ns_ebutts||e.attributes[n].uri===r.ns_tts){var i=e.attributes[n].uri+" "+e.attributes[n].local;this.styleAttrs[i]=e.attributes[n].value}},p.prototype.initFromNode=function(e,t,r,n){this.src="src"in r.attributes?r.attributes.src.value:null,this.src||V(n,"Invalid image@src attribute"),this.type="type"in r.attributes?r.attributes.type.value:null,this.type||V(n,"Invalid image@type attribute"),v.prototype.initFromNode.call(this,e,t,r,n),_.prototype.initFromNode.call(this,e,t,r,n),b.prototype.initFromNode.call(this,e,t,r,n),m.prototype.initFromNode.call(this,e,t,r,n)},y.prototype.initFromNode=function(e,t,r,n){this.id=O(r)},m.prototype.initFromNode=function(e,t,r,n){this.regionID=B(r)},v.prototype.initFromNode=function(e,t,r,n){this.styleAttrs=k(r,n),null!==e.head&&null!==e.head.styling&&W(e.head.styling,P(r),this.styleAttrs,n)},b.prototype.initFromNode=function(e,t,r,n){this.sets=[]},A.prototype.initFromNode=function(e,t,r,n){this.contents=[]},_.prototype.initFromNode=function(e,t,r,n){var i=Q(e,t,r,n);this.explicit_begin=i.explicit_begin,this.explicit_end=i.explicit_end,this.explicit_dur=i.explicit_dur,this.timeContainer=R(r,n)},E.prototype.initFromNode=function(e,t,r){v.prototype.initFromNode.call(this,e,null,t,r),_.prototype.initFromNode.call(this,e,null,t,r),b.prototype.initFromNode.call(this,e,null,t,r),m.prototype.initFromNode.call(this,e,null,t,r),A.prototype.initFromNode.call(this,e,null,t,r)},T.prototype.initFromNode=function(e,t,r,n){v.prototype.initFromNode.call(this,e,t,r,n),_.prototype.initFromNode.call(this,e,t,r,n),b.prototype.initFromNode.call(this,e,t,r,n),m.prototype.initFromNode.call(this,e,t,r,n),A.prototype.initFromNode.call(this,e,t,r,n)},S.prototype.initFromNode=function(e,t,r,n){v.prototype.initFromNode.call(this,e,t,r,n),_.prototype.initFromNode.call(this,e,t,r,n),b.prototype.initFromNode.call(this,e,t,r,n),m.prototype.initFromNode.call(this,e,t,r,n),A.prototype.initFromNode.call(this,e,t,r,n)},I.prototype.initFromNode=function(e,t,r,n,i){v.prototype.initFromNode.call(this,e,t,r,i),_.prototype.initFromNode.call(this,e,t,r,i),b.prototype.initFromNode.call(this,e,t,r,i),m.prototype.initFromNode.call(this,e,t,r,i),A.prototype.initFromNode.call(this,e,t,r,i),this.space=n},w.prototype.initFromText=function(e,t,r,n,i){_.prototype.initFromNode.call(this,e,t,null,i),this.text=r,this.space=n},C.prototype.initFromNode=function(e,t,r,n){m.prototype.initFromNode.call(this,e,t,r,n),_.prototype.initFromNode.call(this,e,t,r,n)},D.prototype.createDefaultRegion=function(){var e=new D;return y.call(e,""),v.call(e,{}),b.call(e,[]),_.call(e,0,Number.POSITIVE_INFINITY,null),e},D.prototype.initFromNode=function(e,t,r){y.prototype.initFromNode.call(this,e,null,t,r),v.prototype.initFromNode.call(this,e,null,t,r),_.prototype.initFromNode.call(this,e,null,t,r),b.prototype.initFromNode.call(this,e,null,t,r),null!==e.head&&null!==e.head.styling&&W(e.head.styling,P(t),this.styleAttrs,r)},M.prototype.initFromNode=function(e,t,r,n){_.prototype.initFromNode.call(this,e,t,r,n);var i=k(r,n);this.qname=null,this.value=null;for(var o in i){if(this.qname){V(n,"More than one style specified on set");break}this.qname=o,this.value=i[o]}}}(t,"undefined"==typeof sax?r(507):sax,"undefined"==typeof imscNames?r(105):imscNames,"undefined"==typeof imscStyles?r(156):imscStyles,"undefined"==typeof imscUtils?r(106):imscUtils)},function(e,t,r){(function(e){!function(t){function n(e,r){if(!(this instanceof n))return new n(e,r);var i=this;o(i),i.q=i.c="",i.bufferCheckPosition=t.MAX_BUFFER_LENGTH,i.opt=r||{},i.opt.lowercase=i.opt.lowercase||i.opt.lowercasetags,i.looseCase=i.opt.lowercase?"toLowerCase":"toUpperCase",i.tags=[],i.closed=i.closedRoot=i.sawRoot=!1,i.tag=i.error=null,i.strict=!!e,i.noscript=!(!e&&!i.opt.noscript),i.state=V.BEGIN,i.strictEntities=i.opt.strictEntities,i.ENTITIES=i.strictEntities?Object.create(t.XML_ENTITIES):Object.create(t.ENTITIES),i.attribList=[],i.opt.xmlns&&(i.ns=Object.create(Q)),i.trackPosition=!1!==i.opt.position,i.trackPosition&&(i.position=i.line=i.column=0),g(i,"onready")}function i(e){for(var r=Math.max(t.MAX_BUFFER_LENGTH,10),n=0,i=0,o=M.length;i<o;i++){var a=e[M[i]].length;if(a>r)switch(M[i]){case"textNode":h(e);break;case"cdata":p(e,"oncdata",e.cdata),e.cdata="";break;case"script":p(e,"onscript",e.script),e.script="";break;default:m(e,"Max buffer length exceeded: "+M[i])}n=Math.max(n,a)}var s=t.MAX_BUFFER_LENGTH-n;e.bufferCheckPosition=s+e.position}function o(e){for(var t=0,r=M.length;t<r;t++)e[M[t]]=""}function a(e){h(e),""!==e.cdata&&(p(e,"oncdata",e.cdata),e.cdata=""),""!==e.script&&(p(e,"onscript",e.script),e.script="")}function s(e,t){return new u(e,t)}function u(e,t){if(!(this instanceof u))return new u(e,t);O.apply(this),this._parser=new n(e,t),this.writable=!0,this.readable=!0;var r=this;this._parser.onend=function(){r.emit("end")},this._parser.onerror=function(e){r.emit("error",e),r._parser.error=null},this._decoder=null,B.forEach(function(e){Object.defineProperty(r,"on"+e,{get:function(){return r._parser["on"+e]},set:function(t){if(!t)return r.removeAllListeners(e),r._parser["on"+e]=t,t;r.on(e,t)},enumerable:!0,configurable:!1})})}function l(e){return e.split("").reduce(function(e,t){return e[t]=!0,e},{})}function c(e){return"[object RegExp]"===Object.prototype.toString.call(e)}function d(e,t){return c(e)?!!t.match(e):e[t]}function f(e,t){return!d(e,t)}function g(e,t,r){e[t]&&e[t](r)}function p(e,t,r){e.textNode&&h(e),g(e,t,r)}function h(e){e.textNode=y(e.opt,e.textNode),e.textNode&&g(e,"ontext",e.textNode),e.textNode=""}function y(e,t){return e.trim&&(t=t.trim()),e.normalize&&(t=t.replace(/\s+/g," ")),t}function m(e,t){return h(e),e.trackPosition&&(t+="\nLine: "+e.line+"\nColumn: "+e.column+"\nChar: "+e.c),t=new Error(t),e.error=t,g(e,"onerror",t),e}function v(e){return e.sawRoot&&!e.closedRoot&&b(e,"Unclosed root tag"),e.state!==V.BEGIN&&e.state!==V.BEGIN_WHITESPACE&&e.state!==V.TEXT&&m(e,"Unexpected end"),h(e),e.c="",e.closed=!0,g(e,"onend"),n.call(e,e.strict,e.opt),e}function b(e,t){if("object"!=typeof e||!(e instanceof n))throw new Error("bad call to strictFail");e.strict&&m(e,t)}function A(e){e.strict||(e.tagName=e.tagName[e.looseCase]());var t=e.tags[e.tags.length-1]||e,r=e.tag={name:e.tagName,attributes:{}};e.opt.xmlns&&(r.ns=t.ns),e.attribList.length=0,p(e,"onopentagstart",r)}function _(e,t){var r=e.indexOf(":"),n=r<0?["",e]:e.split(":"),i=n[0],o=n[1];return t&&"xmlns"===e&&(i="xmlns",o=""),{prefix:i,local:o}}function E(e){if(e.strict||(e.attribName=e.attribName[e.looseCase]()),-1!==e.attribList.indexOf(e.attribName)||e.tag.attributes.hasOwnProperty(e.attribName))return void(e.attribName=e.attribValue="");if(e.opt.xmlns){var t=_(e.attribName,!0),r=t.prefix,n=t.local;if("xmlns"===r)if("xml"===n&&e.attribValue!==U)b(e,"xml: prefix must be bound to "+U+"\nActual: "+e.attribValue);else if("xmlns"===n&&e.attribValue!==F)b(e,"xmlns: prefix must be bound to "+F+"\nActual: "+e.attribValue);else{var i=e.tag,o=e.tags[e.tags.length-1]||e;i.ns===o.ns&&(i.ns=Object.create(o.ns)),i.ns[n]=e.attribValue}e.attribList.push([e.attribName,e.attribValue])}else e.tag.attributes[e.attribName]=e.attribValue,p(e,"onattribute",{name:e.attribName,value:e.attribValue});e.attribName=e.attribValue=""}function T(e,t){if(e.opt.xmlns){var r=e.tag,n=_(e.tagName);r.prefix=n.prefix,r.local=n.local,r.uri=r.ns[n.prefix]||"",r.prefix&&!r.uri&&(b(e,"Unbound namespace prefix: "+JSON.stringify(e.tagName)),r.uri=n.prefix);var i=e.tags[e.tags.length-1]||e;r.ns&&i.ns!==r.ns&&Object.keys(r.ns).forEach(function(t){p(e,"onopennamespace",{prefix:t,uri:r.ns[t]})});for(var o=0,a=e.attribList.length;o<a;o++){var s=e.attribList[o],u=s[0],l=s[1],c=_(u,!0),d=c.prefix,f=c.local,g=""===d?"":r.ns[d]||"",h={name:u,value:l,prefix:d,local:f,uri:g};d&&"xmlns"!==d&&!g&&(b(e,"Unbound namespace prefix: "+JSON.stringify(d)),h.uri=d),e.tag.attributes[u]=h,p(e,"onattribute",h)}e.attribList.length=0}e.tag.isSelfClosing=!!t,e.sawRoot=!0,e.tags.push(e.tag),p(e,"onopentag",e.tag),t||(e.noscript||"script"!==e.tagName.toLowerCase()?e.state=V.TEXT:e.state=V.SCRIPT,e.tag=null,e.tagName=""),e.attribName=e.attribValue="",e.attribList.length=0}function S(e){if(!e.tagName)return b(e,"Weird empty close tag."),e.textNode+="</>",void(e.state=V.TEXT);if(e.script){if("script"!==e.tagName)return e.script+="</"+e.tagName+">",e.tagName="",void(e.state=V.SCRIPT);p(e,"onscript",e.script),e.script=""}var t=e.tags.length,r=e.tagName;e.strict||(r=r[e.looseCase]());for(var n=r;t--;){if(e.tags[t].name===n)break;b(e,"Unexpected close tag")}if(t<0)return b(e,"Unmatched closing tag: "+e.tagName),e.textNode+="</"+e.tagName+">",void(e.state=V.TEXT);e.tagName=r;for(var i=e.tags.length;i-- >t;){var o=e.tag=e.tags.pop();e.tagName=e.tag.name,p(e,"onclosetag",e.tagName);var a={};for(var s in o.ns)a[s]=o.ns[s];var u=e.tags[e.tags.length-1]||e;e.opt.xmlns&&o.ns!==u.ns&&Object.keys(o.ns).forEach(function(t){var r=o.ns[t];p(e,"onclosenamespace",{prefix:t,uri:r})})}0===t&&(e.closedRoot=!0),e.tagName=e.attribValue=e.attribName="",e.attribList.length=0,e.state=V.TEXT}function I(e){var t,r=e.entity,n=r.toLowerCase(),i="";return e.ENTITIES[r]?e.ENTITIES[r]:e.ENTITIES[n]?e.ENTITIES[n]:(r=n,"#"===r.charAt(0)&&("x"===r.charAt(1)?(r=r.slice(2),t=parseInt(r,16),i=t.toString(16)):(r=r.slice(1),t=parseInt(r,10),i=t.toString(10))),r=r.replace(/^0+/,""),i.toLowerCase()!==r?(b(e,"Invalid character entity"),"&"+e.entity+";"):String.fromCodePoint(t))}function w(e,t){"<"===t?(e.state=V.OPEN_WAKA,e.startTagPosition=e.position):f(R,t)&&(b(e,"Non-whitespace before first tag."),e.textNode=t,e.state=V.TEXT)}function C(e,t){var r="";return t<e.length&&(r=e.charAt(t)),r}function D(e){var t=this;if(this.error)throw this.error;if(t.closed)return m(t,"Cannot write after close. Assign an onready handler.");if(null===e)return v(t);"object"==typeof e&&(e=e.toString());for(var r=0,n="";;){if(n=C(e,r++),t.c=n,!n)break;switch(t.trackPosition&&(t.position++,"\n"===n?(t.line++,t.column=0):t.column++),t.state){case V.BEGIN:if(t.state=V.BEGIN_WHITESPACE,"\ufeff"===n)continue;w(t,n);continue;case V.BEGIN_WHITESPACE:w(t,n);continue;case V.TEXT:if(t.sawRoot&&!t.closedRoot){for(var o=r-1;n&&"<"!==n&&"&"!==n;)(n=C(e,r++))&&t.trackPosition&&(t.position++,"\n"===n?(t.line++,t.column=0):t.column++);t.textNode+=e.substring(o,r-1)}"<"!==n||t.sawRoot&&t.closedRoot&&!t.strict?(!f(R,n)||t.sawRoot&&!t.closedRoot||b(t,"Text data outside of root node."),"&"===n?t.state=V.TEXT_ENTITY:t.textNode+=n):(t.state=V.OPEN_WAKA,t.startTagPosition=t.position);continue;case V.SCRIPT:"<"===n?t.state=V.SCRIPT_ENDING:t.script+=n;continue;case V.SCRIPT_ENDING:"/"===n?t.state=V.CLOSE_TAG:(t.script+="<"+n,t.state=V.SCRIPT);continue;case V.OPEN_WAKA:if("!"===n)t.state=V.SGML_DECL,t.sgmlDecl="";else if(d(R,n));else if(d(G,n))t.state=V.OPEN_TAG,t.tagName=n;else if("/"===n)t.state=V.CLOSE_TAG,t.tagName="";else if("?"===n)t.state=V.PROC_INST,t.procInstName=t.procInstBody="";else{if(b(t,"Unencoded <"),t.startTagPosition+1<t.position){var a=t.position-t.startTagPosition;n=new Array(a).join(" ")+n}t.textNode+="<"+n,t.state=V.TEXT}continue;case V.SGML_DECL:(t.sgmlDecl+n).toUpperCase()===x?(p(t,"onopencdata"),t.state=V.CDATA,t.sgmlDecl="",t.cdata=""):t.sgmlDecl+n==="--"?(t.state=V.COMMENT,t.comment="",t.sgmlDecl=""):(t.sgmlDecl+n).toUpperCase()===j?(t.state=V.DOCTYPE,(t.doctype||t.sawRoot)&&b(t,"Inappropriately located doctype declaration"),t.doctype="",t.sgmlDecl=""):">"===n?(p(t,"onsgmldeclaration",t.sgmlDecl),t.sgmlDecl="",t.state=V.TEXT):d(L,n)?(t.state=V.SGML_DECL_QUOTED,t.sgmlDecl+=n):t.sgmlDecl+=n;continue;case V.SGML_DECL_QUOTED:n===t.q&&(t.state=V.SGML_DECL,t.q=""),t.sgmlDecl+=n;continue;case V.DOCTYPE:">"===n?(t.state=V.TEXT,p(t,"ondoctype",t.doctype),t.doctype=!0):(t.doctype+=n,"["===n?t.state=V.DOCTYPE_DTD:d(L,n)&&(t.state=V.DOCTYPE_QUOTED,t.q=n));continue;case V.DOCTYPE_QUOTED:t.doctype+=n,n===t.q&&(t.q="",t.state=V.DOCTYPE);continue;case V.DOCTYPE_DTD:t.doctype+=n,"]"===n?t.state=V.DOCTYPE:d(L,n)&&(t.state=V.DOCTYPE_DTD_QUOTED,t.q=n);continue;case V.DOCTYPE_DTD_QUOTED:t.doctype+=n,n===t.q&&(t.state=V.DOCTYPE_DTD,t.q="");continue;case V.COMMENT:"-"===n?t.state=V.COMMENT_ENDING:t.comment+=n;continue;case V.COMMENT_ENDING:"-"===n?(t.state=V.COMMENT_ENDED,t.comment=y(t.opt,t.comment),t.comment&&p(t,"oncomment",t.comment),t.comment=""):(t.comment+="-"+n,t.state=V.COMMENT);continue;case V.COMMENT_ENDED:">"!==n?(b(t,"Malformed comment"),t.comment+="--"+n,t.state=V.COMMENT):t.state=V.TEXT;continue;case V.CDATA:"]"===n?t.state=V.CDATA_ENDING:t.cdata+=n;continue;case V.CDATA_ENDING:"]"===n?t.state=V.CDATA_ENDING_2:(t.cdata+="]"+n,t.state=V.CDATA);continue;case V.CDATA_ENDING_2:">"===n?(t.cdata&&p(t,"oncdata",t.cdata),p(t,"onclosecdata"),t.cdata="",t.state=V.TEXT):"]"===n?t.cdata+="]":(t.cdata+="]]"+n,t.state=V.CDATA);continue;case V.PROC_INST:"?"===n?t.state=V.PROC_INST_ENDING:d(R,n)?t.state=V.PROC_INST_BODY:t.procInstName+=n;continue;case V.PROC_INST_BODY:if(!t.procInstBody&&d(R,n))continue;"?"===n?t.state=V.PROC_INST_ENDING:t.procInstBody+=n;continue;case V.PROC_INST_ENDING:">"===n?(p(t,"onprocessinginstruction",{name:t.procInstName,body:t.procInstBody}),t.procInstName=t.procInstBody="",t.state=V.TEXT):(t.procInstBody+="?"+n,t.state=V.PROC_INST_BODY);continue;case V.OPEN_TAG:d(W,n)?t.tagName+=n:(A(t),">"===n?T(t):"/"===n?t.state=V.OPEN_TAG_SLASH:(f(R,n)&&b(t,"Invalid character in tag name"),t.state=V.ATTRIB));continue;case V.OPEN_TAG_SLASH:">"===n?(T(t,!0),S(t)):(b(t,"Forward-slash in opening tag not followed by >"),t.state=V.ATTRIB);continue;case V.ATTRIB:if(d(R,n))continue;">"===n?T(t):"/"===n?t.state=V.OPEN_TAG_SLASH:d(G,n)?(t.attribName=n,t.attribValue="",t.state=V.ATTRIB_NAME):b(t,"Invalid attribute name");continue;case V.ATTRIB_NAME:"="===n?t.state=V.ATTRIB_VALUE:">"===n?(b(t,"Attribute without value"),t.attribValue=t.attribName,E(t),T(t)):d(R,n)?t.state=V.ATTRIB_NAME_SAW_WHITE:d(W,n)?t.attribName+=n:b(t,"Invalid attribute name");continue;case V.ATTRIB_NAME_SAW_WHITE:if("="===n)t.state=V.ATTRIB_VALUE;else{if(d(R,n))continue;b(t,"Attribute without value"),t.tag.attributes[t.attribName]="",t.attribValue="",p(t,"onattribute",{name:t.attribName,value:""}),t.attribName="",">"===n?T(t):d(G,n)?(t.attribName=n,t.state=V.ATTRIB_NAME):(b(t,"Invalid attribute name"),t.state=V.ATTRIB)}continue;case V.ATTRIB_VALUE:if(d(R,n))continue;d(L,n)?(t.q=n,t.state=V.ATTRIB_VALUE_QUOTED):(b(t,"Unquoted attribute value"),t.state=V.ATTRIB_VALUE_UNQUOTED,t.attribValue=n);continue;case V.ATTRIB_VALUE_QUOTED:if(n!==t.q){"&"===n?t.state=V.ATTRIB_VALUE_ENTITY_Q:t.attribValue+=n;continue}E(t),t.q="",t.state=V.ATTRIB_VALUE_CLOSED;continue;case V.ATTRIB_VALUE_CLOSED:d(R,n)?t.state=V.ATTRIB:">"===n?T(t):"/"===n?t.state=V.OPEN_TAG_SLASH:d(G,n)?(b(t,"No whitespace between attributes"),t.attribName=n,t.attribValue="",t.state=V.ATTRIB_NAME):b(t,"Invalid attribute name");continue;case V.ATTRIB_VALUE_UNQUOTED:if(f(N,n)){"&"===n?t.state=V.ATTRIB_VALUE_ENTITY_U:t.attribValue+=n;continue}E(t),">"===n?T(t):t.state=V.ATTRIB;continue;case V.CLOSE_TAG:if(t.tagName)">"===n?S(t):d(W,n)?t.tagName+=n:t.script?(t.script+="</"+t.tagName,t.tagName="",t.state=V.SCRIPT):(f(R,n)&&b(t,"Invalid tagname in closing tag"),t.state=V.CLOSE_TAG_SAW_WHITE);else{if(d(R,n))continue;f(G,n)?t.script?(t.script+="</"+n,t.state=V.SCRIPT):b(t,"Invalid tagname in closing tag."):t.tagName=n}continue;case V.CLOSE_TAG_SAW_WHITE:if(d(R,n))continue;">"===n?S(t):b(t,"Invalid characters in closing tag");continue;case V.TEXT_ENTITY:case V.ATTRIB_VALUE_ENTITY_Q:case V.ATTRIB_VALUE_ENTITY_U:var s,u;switch(t.state){case V.TEXT_ENTITY:s=V.TEXT,u="textNode";break;case V.ATTRIB_VALUE_ENTITY_Q:s=V.ATTRIB_VALUE_QUOTED,u="attribValue";break;case V.ATTRIB_VALUE_ENTITY_U:s=V.ATTRIB_VALUE_UNQUOTED,u="attribValue"}";"===n?(t[u]+=I(t),t.entity="",t.state=s):d(t.entity.length?Y:H,n)?t.entity+=n:(b(t,"Invalid character in entity name"),t[u]+="&"+t.entity+n,t.entity="",t.state=s);continue;default:throw new Error(t,"Unknown state: "+t.state)}}return t.position>=t.bufferCheckPosition&&i(t),t}t.parser=function(e,t){return new n(e,t)},t.SAXParser=n,t.SAXStream=u,t.createStream=s,t.MAX_BUFFER_LENGTH=65536;var M=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];t.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(e){function t(){}return t.prototype=e,new t}),Object.keys||(Object.keys=function(e){var t=[];for(var r in e)e.hasOwnProperty(r)&&t.push(r);return t}),n.prototype={end:function(){v(this)},write:D,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){a(this)}};var O;try{O=r(508).Stream}catch(e){O=function(){}}var B=t.EVENTS.filter(function(e){return"error"!==e&&"end"!==e});u.prototype=Object.create(O.prototype,{constructor:{value:u}}),u.prototype.write=function(t){if("function"==typeof e&&"function"==typeof e.isBuffer&&e.isBuffer(t)){if(!this._decoder){var n=r(160).StringDecoder;this._decoder=new n("utf8")}t=this._decoder.write(t)}return this._parser.write(t.toString()),this.emit("data",t),!0},u.prototype.end=function(e){return e&&e.length&&this.write(e),this._parser.end(),!0},u.prototype.on=function(e,t){var r=this;return r._parser["on"+e]||-1===B.indexOf(e)||(r._parser["on"+e]=function(){var t=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);t.splice(0,0,e),r.emit.apply(r,t)}),O.prototype.on.call(r,e,t)};var R="\r\n\t ",P="0124356789",k="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",L="'\"",N=R+">",x="[CDATA[",j="DOCTYPE",U="http://www.w3.org/XML/1998/namespace",F="http://www.w3.org/2000/xmlns/",Q={xml:U,xmlns:F};R=l(R),P=l(P),k=l(k);var G=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,W=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/,H=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,Y=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/;L=l(L),N=l(N);var V=0;t.STATE={BEGIN:V++,BEGIN_WHITESPACE:V++,TEXT:V++,TEXT_ENTITY:V++,OPEN_WAKA:V++,SGML_DECL:V++,SGML_DECL_QUOTED:V++,DOCTYPE:V++,DOCTYPE_QUOTED:V++,DOCTYPE_DTD:V++,DOCTYPE_DTD_QUOTED:V++,COMMENT_STARTING:V++,COMMENT:V++,COMMENT_ENDING:V++,COMMENT_ENDED:V++,CDATA:V++,CDATA_ENDING:V++,CDATA_ENDING_2:V++,PROC_INST:V++,PROC_INST_BODY:V++,PROC_INST_ENDING:V++,OPEN_TAG:V++,OPEN_TAG_SLASH:V++,ATTRIB:V++,ATTRIB_NAME:V++,ATTRIB_NAME_SAW_WHITE:V++,ATTRIB_VALUE:V++,ATTRIB_VALUE_QUOTED:V++,ATTRIB_VALUE_CLOSED:V++,ATTRIB_VALUE_UNQUOTED:V++,ATTRIB_VALUE_ENTITY_Q:V++,ATTRIB_VALUE_ENTITY_U:V++,CLOSE_TAG:V++,CLOSE_TAG_SAW_WHITE:V++,SCRIPT:V++,SCRIPT_ENDING:V++},t.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},t.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(t.ENTITIES).forEach(function(e){var r=t.ENTITIES[e],n="number"==typeof r?String.fromCharCode(r):r;t.ENTITIES[e]=n});for(var q in t.STATE)t.STATE[t.STATE[q]]=q;V=t.STATE,/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */
String.fromCodePoint||function(){var e=String.fromCharCode,t=Math.floor,r=function(){var r,n,i=[],o=-1,a=arguments.length;if(!a)return"";for(var s="";++o<a;){var u=Number(arguments[o]);if(!isFinite(u)||u<0||u>1114111||t(u)!==u)throw RangeError("Invalid code point: "+u);u<=65535?i.push(u):(u-=65536,r=55296+(u>>10),n=u%1024+56320,i.push(r,n)),(o+1===a||i.length>16384)&&(s+=e.apply(null,i),i.length=0)}return s};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:r,configurable:!0,writable:!0}):String.fromCodePoint=r}()}(t)}).call(t,r(82).Buffer)},function(e,t,r){function n(){i.call(this)}e.exports=n;var i=r(157).EventEmitter;r(71)(n,i),n.Readable=r(158),n.Writable=r(514),n.Duplex=r(515),n.Transform=r(516),n.PassThrough=r(517),n.Stream=n,n.prototype.pipe=function(e,t){function r(t){e.writable&&!1===e.write(t)&&l.pause&&l.pause()}function n(){l.readable&&l.resume&&l.resume()}function o(){c||(c=!0,e.end())}function a(){c||(c=!0,"function"==typeof e.destroy&&e.destroy())}function s(e){if(u(),0===i.listenerCount(this,"error"))throw e}function u(){l.removeListener("data",r),e.removeListener("drain",n),l.removeListener("end",o),l.removeListener("close",a),l.removeListener("error",s),e.removeListener("error",s),l.removeListener("end",u),l.removeListener("close",u),e.removeListener("close",u)}var l=this;l.on("data",r),e.on("drain",n),e._isStdio||t&&!1===t.end||(l.on("end",o),l.on("close",a));var c=!1;return l.on("error",s),e.on("error",s),l.on("end",u),l.on("close",u),e.on("close",u),e.emit("pipe",l),e}},function(e,t){},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t,r){e.copy(t,r)}var o=r(108).Buffer,a=r(511);e.exports=function(){function e(){n(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r},e.prototype.concat=function(e){if(0===this.length)return o.alloc(0);if(1===this.length)return this.head.data;for(var t=o.allocUnsafe(e>>>0),r=this.head,n=0;r;)i(r.data,t,n),n+=r.data.length,r=r.next;return t},e}(),a&&a.inspect&&a.inspect.custom&&(e.exports.prototype[a.inspect.custom]=function(){var e=a.inspect({length:this.length});return this.constructor.name+" "+e})},function(e,t){},function(e,t,r){(function(t){function r(e,t){function r(){if(!i){if(n("throwDeprecation"))throw new Error(t);n("traceDeprecation"),i=!0}return e.apply(this,arguments)}if(n("noDeprecation"))return e;var i=!1;return r}function n(e){try{if(!t.localStorage)return!1}catch(e){return!1}var r=t.localStorage[e];return null!=r&&"true"===String(r).toLowerCase()}e.exports=r}).call(t,r(18))},function(e,t,r){"use strict";function n(e){if(!(this instanceof n))return new n(e);i.call(this,e)}e.exports=n;var i=r(228),o=Object.create(r(85));o.inherits=r(71),o.inherits(n,i),n.prototype._transform=function(e,t,r){r(null,e)}},function(e,t,r){e.exports=r(159)},function(e,t,r){e.exports=r(57)},function(e,t,r){e.exports=r(158).Transform},function(e,t,r){e.exports=r(158).PassThrough},function(e,t,r){!function(e,t,r){function n(e,t,g){var p;if("region"===g.kind)p=document.createElement("div"),p.style.position="absolute";else if("body"===g.kind)p=document.createElement("div");else if("div"===g.kind)p=document.createElement("div");else if("image"===g.kind){if(p=document.createElement("img"),null!==e.imgResolver&&null!==g.src){var m=e.imgResolver(g.src,p);m&&(p.src=m),p.height=e.regionH,p.width=e.regionW}}else if("p"===g.kind)p=document.createElement("p");else if("span"===g.kind){if("container"===g.styleAttrs[r.byName.ruby.qname])p=document.createElement("ruby"),e.ruby=!0;else if("base"===g.styleAttrs[r.byName.ruby.qname])p=document.createElement("rb");else if("text"===g.styleAttrs[r.byName.ruby.qname])p=document.createElement("rt");else if("baseContainer"===g.styleAttrs[r.byName.ruby.qname])p=document.createElement("rbc");else if("textContainer"===g.styleAttrs[r.byName.ruby.qname])p=document.createElement("rtc");else{if("delimiter"===g.styleAttrs[r.byName.ruby.qname])return;p=document.createElement("span")}var v=g.styleAttrs[r.byName.textEmphasis.qname];v&&"none"!==v.style&&(e.textEmphasis=!0)}else"br"===g.kind&&(p=document.createElement("br"));if(!p)return void h(e.errorHandler,"Error processing ISD element kind: "+g.kind);t.appendChild(p),p.style.margin="0";for(var b in y){var A=y[b],_=g.styleAttrs[A.qname];void 0!==_&&null!==A.map&&A.map(e,p,g,_)}var E=p;if("region"===g.kind){var T=g.styleAttrs[r.byName.writingMode.qname];"lrtb"===T||"lr"===T?(e.ipd="lr",e.bpd="tb"):"rltb"===T||"rl"===T?(e.ipd="rl",e.bpd="tb"):"tblr"===T?(e.ipd="tb",e.bpd="lr"):"tbrl"!==T&&"tb"!==T||(e.ipd="tb",e.bpd="rl")}var S=g.styleAttrs[r.byName.linePadding.qname];if(S&&!S.isZero()){var I=S.toUsedLength(e.w,e.h);if(I>0){var w=Math.ceil(I)+"px";"tb"===e.bpd?(E.style.paddingLeft=w,E.style.paddingRight=w):(E.style.paddingTop=w,E.style.paddingBottom=w),e.lp=S}}var C=g.styleAttrs[r.byName.multiRowAlign.qname];if(C&&"auto"!==C){var D=document.createElement("span");D.style.display="inline-block",D.style.textAlign=C,p.appendChild(D),E=D,e.mra=C}var M=g.styleAttrs[r.byName.rubyReserve.qname];if(M&&"none"!==M[0]&&(e.rubyReserve=M),g.styleAttrs[r.byName.fillLineGap.qname]&&(e.flg=!0),"span"===g.kind&&g.text)if(r.byName.textCombine.qname in g.styleAttrs&&"all"===g.styleAttrs[r.byName.textCombine.qname][0])p.textContent=g.text;else for(var O="",B=0;B<g.text.length;B++){O+=g.text.charAt(B);var R=g.text.charCodeAt(B);if(R<55296||R>56319||B===g.text.length){var P=document.createElement("span");P.textContent=O,p.appendChild(P),O=""}}for(var k in g.contents)n(e,E,g.contents[k]);var L=[];if((e.lp||e.mra||e.flg||e.ruby||e.textEmphasis||e.rubyReserve)&&"p"===g.kind&&(f(e,E,L,null),e.rubyReserve&&(u(L,e),e.rubyReserve=null),(e.ruby||e.rubyReserve)&&(s(L,e),e.ruby=null),e.textEmphasis&&(a(L,e),e.textEmphasis=null),e.mra&&(o(L),e.mra=null),e.lp&&(i(L,e.lp.toUsedLength(e.w,e.h),e),e.lp=null),e.flg)){var N=d(E.getBoundingClientRect(),e);l(L,N.before,N.after,e),e.flg=null}if("region"===g.kind&&(f(e,E,L),"tb"===e.bpd&&e.enableRollUp&&g.contents.length>0&&"after"===g.styleAttrs[r.byName.displayAlign.qname])){var x=""===g.id?"_":g.id,j=new c(x,L);if(e.currentISDState[j.id]=j,e.previousISDState&&j.id in e.previousISDState&&e.previousISDState[j.id].plist.length>0&&j.plist.length>1&&j.plist[j.plist.length-2].text===e.previousISDState[j.id].plist[e.previousISDState[j.id].plist.length-1].text){var U=p.firstElementChild,F=j.plist[j.plist.length-1].after-j.plist[j.plist.length-1].before;U.style.bottom="-"+F+"px",U.style.transition="transform 0.4s",U.style.position="relative",U.style.transform="translateY(-"+F+"px)"}}}function i(e,t,r){for(var n in e){var i=e[n].elements.length,o=e[n].elements[e[n].start_elem],a=e[n].elements[e[n].end_elem],s=Math.ceil(t)+"px",u="-"+Math.ceil(t)+"px";0!==i&&("lr"===r.ipd?(o.node.style.borderLeftColor=o.bgcolor||"#00000000",o.node.style.borderLeftStyle="solid",o.node.style.borderLeftWidth=s,o.node.style.marginLeft=u):"rl"===r.ipd?(o.node.style.borderRightColor=o.bgcolor||"#00000000",o.node.style.borderRightStyle="solid",o.node.style.borderRightWidth=s,o.node.style.marginRight=u):"tb"===r.ipd&&(o.node.style.borderTopColor=o.bgcolor||"#00000000",o.node.style.borderTopStyle="solid",o.node.style.borderTopWidth=s,o.node.style.marginTop=u),"lr"===r.ipd?(a.node.style.borderRightColor=a.bgcolor||"#00000000",a.node.style.borderRightStyle="solid",a.node.style.borderRightWidth=s,a.node.style.marginRight=u):"rl"===r.ipd?(a.node.style.borderLeftColor=a.bgcolor||"#00000000",a.node.style.borderLeftStyle="solid",a.node.style.borderLeftWidth=s,a.node.style.marginLeft=u):"tb"===r.ipd&&(a.node.style.borderBottomColor=a.bgcolor||"#00000000",a.node.style.borderBottomStyle="solid",a.node.style.borderBottomWidth=s,a.node.style.marginBottom=u))}}function o(e){for(var t=0;t<e.length-1;t++){var r=e[t].elements.length;if(0!==r&&!1===e[t].br){var n=document.createElement("br"),i=e[t].elements[r-1].node;i.parentElement.insertBefore(n,i.nextSibling)}}}function a(e,t){for(var r=0;r<e.length;r++)for(var n=0;n<e[r].te.length;n++)if(!e[r].te[n].style.textEmphasisPosition||"none"===e[r].te[n].style.textEmphasisPosition){var i;i="tb"===t.bpd?0===r?"left over":"left under":"rl"===t.bpd?0===r?"right under":"left under":0===r?"left under":"right under",e[r].te[n].style.textEmphasisPosition=i}}function s(e,t){for(var r=0;r<e.length;r++)for(var n=0;n<e[r].rbc.length;n++)if(!e[r].rbc[n].style.rubyPosition){var i;i="tb"===t.bpd?0===r?"over":"under":"rl"===t.bpd?0===r?"over":"under":0===r?"under":"over",e[r].rbc[n].style.rubyPosition=i}}function u(e,t){for(var r=0;r<e.length;r++){var n=document.createElement("ruby"),i=document.createElement("rb");i.textContent="",n.appendChild(i);var o,a,s=t.rubyReserve[1].toUsedLength(t.w,t.h)+"px";"both"===t.rubyReserve[0]?(o=document.createElement("rtc"),o.style.rubyPosition="under",o.textContent="",o.style.fontSize=s,a=document.createElement("rtc"),a.style.rubyPosition="over",a.textContent="",a.style.fontSize=s,n.appendChild(o),n.appendChild(a)):(o=document.createElement("rtc"),o.textContent="",o.style.fontSize=s,"after"===t.rubyReserve[0]||"outside"===t.rubyReserve[0]&&r>0?o.style.rubyPosition="tb"===t.bpd||"rl"===t.bpd?"under":"over":o.style.rubyPosition="tb"===t.bpd||"rl"===t.bpd?"over":"under",n.appendChild(o));e[r].elements[0].node.parentElement.insertBefore(n,e[r].elements[0].node)}}function l(e,t,r,n){for(var i=Math.sign(r-t),o=0;o<=e.length;o++){var a;a=0===o?t:o===e.length?r:(e[o].before+e[o-1].after)/2;var s,u;if(o>0)for(var l=0;l<e[o-1].elements.length;l++)null!==e[o-1].elements[l].bgcolor&&(u=e[o-1].elements[l],i*(u.after-a)<0&&(s=Math.ceil(Math.abs(a-u.after))+"px",u.node.style.backgroundColor=u.bgcolor,"lr"===n.bpd?u.node.style.paddingRight=s:"rl"===n.bpd?u.node.style.paddingLeft=s:"tb"===n.bpd&&(u.node.style.paddingBottom=s)));if(o<e.length)for(var c=0;c<e[o].elements.length;c++)u=e[o].elements[c],null!==u.bgcolor&&i*(u.before-a)>0&&(s=Math.ceil(Math.abs(u.before-a))+"px",u.node.style.backgroundColor=u.bgcolor,"lr"===n.bpd?u.node.style.paddingLeft=s:"rl"===n.bpd?u.node.style.paddingRight=s:"tb"===n.bpd&&(u.node.style.paddingTop=s))}}function c(e,t){this.id=e,this.plist=t}function d(e,t){var r={before:null,after:null,start:null,end:null};return"tb"===t.bpd?(r.before=e.top,r.after=e.bottom,"lr"===t.ipd?(r.start=e.left,r.end=e.right):(r.start=e.right,r.end=e.left)):"lr"===t.bpd?(r.before=e.left,r.after=e.right,r.start=e.top,r.end=e.bottom):"rl"===t.bpd&&(r.before=e.right,r.after=e.left,r.start=e.top,r.end=e.bottom),r}function f(e,t,r,n){if("rt"!==t.localName&&"rtc"!==t.localName){var i=t.style.backgroundColor||n;if(0===t.childElementCount)if("span"===t.localName||"rb"===t.localName){var o=t.getBoundingClientRect();if(0===o.height||0===o.width)return;var a=d(o,e);if(0!==r.length&&g(a.before,a.after,r[r.length-1].before,r[r.length-1].after)){var s=Math.sign(a.after-a.before),u=Math.sign(a.end-a.start);s*(a.before-r[r.length-1].before)<0&&(r[r.length-1].before=a.before),s*(a.after-r[r.length-1].after)>0&&(r[r.length-1].after=a.after),u*(a.start-r[r.length-1].start)<0&&(r[r.length-1].start=a.start,r[r.length-1].start_elem=r[r.length-1].elements.length),u*(a.end-r[r.length-1].end)>0&&(r[r.length-1].end=a.end,r[r.length-1].end_elem=r[r.length-1].elements.length)}else r.push({before:a.before,after:a.after,start:a.start,end:a.end,start_elem:0,end_elem:0,elements:[],rbc:[],te:[],text:"",br:!1});r[r.length-1].text+=t.textContent,r[r.length-1].elements.push({node:t,bgcolor:i,before:a.before,after:a.after})}else"br"===t.localName&&0!==r.length&&(r[r.length-1].br=!0);else for(var l=t.firstChild;l;)l.nodeType===Node.ELEMENT_NODE&&(f(e,l,r,i),"ruby"===l.localName||"rtc"===l.localName?r.length>0&&r[r.length-1].rbc.push(l):"span"===l.localName&&l.style.textEmphasisStyle&&"none"!==l.style.textEmphasisStyle&&r.length>0&&r[r.length-1].te.push(l)),l=l.nextSibling}}function g(e,t,r,n){return t<n&&e>r||n<=t&&r>=e}function p(e,t){this.qname=e,this.map=t}function h(e,t){if(e&&e.error&&e.error(t))throw t}e.render=function(e,t,r,i,o,a,s,u,l){var c=i||t.clientHeight,d=o||t.clientWidth;if(null!==e.aspectRatio){var f=c*e.aspectRatio;f>d?c=Math.round(d/e.aspectRatio):d=f}var g=document.createElement("div");g.style.position="relative",g.style.width=d+"px",g.style.height=c+"px",g.style.margin="auto",g.style.top=0,g.style.bottom=0,g.style.left=0,g.style.right=0,g.style.zIndex=0;var p={h:c,w:d,regionH:null,regionW:null,imgResolver:r,displayForcedOnlyMode:a||!1,isd:e,errorHandler:s,previousISDState:u,enableRollUp:l||!1,currentISDState:{},flg:null,lp:null,mra:null,ipd:null,bpd:null,ruby:null,textEmphasis:null,rubyReserve:null};t.appendChild(g);for(var h in e.contents)n(p,g,e.contents[h]);return p.currentISDState};var y=[new p("http://www.w3.org/ns/ttml#styling backgroundColor",function(e,t,r,n){0!==n[3]&&(t.style.backgroundColor="rgba("+n[0].toString()+","+n[1].toString()+","+n[2].toString()+","+(n[3]/255).toString()+")")}),new p("http://www.w3.org/ns/ttml#styling color",function(e,t,r,n){t.style.color="rgba("+n[0].toString()+","+n[1].toString()+","+n[2].toString()+","+(n[3]/255).toString()+")"}),new p("http://www.w3.org/ns/ttml#styling direction",function(e,t,r,n){t.style.direction=n}),new p("http://www.w3.org/ns/ttml#styling display",function(e,t,r,n){}),new p("http://www.w3.org/ns/ttml#styling displayAlign",function(e,t,r,n){t.style.display="flex",t.style.flexDirection="column","before"===n?t.style.justifyContent="flex-start":"center"===n?t.style.justifyContent="center":"after"===n&&(t.style.justifyContent="flex-end")}),new p("http://www.w3.org/ns/ttml#styling extent",function(e,t,r,n){e.regionH=n.h.toUsedLength(e.w,e.h),e.regionW=n.w.toUsedLength(e.w,e.h);var i=0,o=0,a=r.styleAttrs["http://www.w3.org/ns/ttml#styling padding"];a&&(i=a[0].toUsedLength(e.w,e.h)+a[2].toUsedLength(e.w,e.h),o=a[1].toUsedLength(e.w,e.h)+a[3].toUsedLength(e.w,e.h)),t.style.height=e.regionH-i+"px",t.style.width=e.regionW-o+"px"}),new p("http://www.w3.org/ns/ttml#styling fontFamily",function(e,t,r,n){var i=[];for(var o in n)"monospaceSerif"===n[o]?(i.push("Courier New"),i.push('"Liberation Mono"'),i.push("Courier"),i.push("monospace")):"proportionalSansSerif"===n[o]?(i.push("Arial"),i.push("Helvetica"),i.push('"Liberation Sans"'),i.push("sans-serif")):"monospace"===n[o]?i.push("monospace"):"sansSerif"===n[o]?i.push("sans-serif"):"serif"===n[o]?i.push("serif"):"monospaceSansSerif"===n[o]?(i.push("Consolas"),i.push("monospace")):"proportionalSerif"===n[o]?i.push("serif"):i.push(n[o]);t.style.fontFamily=i.join(",")}),new p("http://www.w3.org/ns/ttml#styling shear",function(e,t,r,n){if(0!==n){var i=-.9*n;"tb"===e.bpd?t.style.transform="skewX("+i+"deg)":t.style.transform="skewY("+i+"deg)"}}),new p("http://www.w3.org/ns/ttml#styling fontSize",function(e,t,r,n){t.style.fontSize=n.toUsedLength(e.w,e.h)+"px"}),new p("http://www.w3.org/ns/ttml#styling fontStyle",function(e,t,r,n){t.style.fontStyle=n}),new p("http://www.w3.org/ns/ttml#styling fontWeight",function(e,t,r,n){t.style.fontWeight=n}),new p("http://www.w3.org/ns/ttml#styling lineHeight",function(e,t,r,n){t.style.lineHeight="normal"===n?"normal":n.toUsedLength(e.w,e.h)+"px"}),new p("http://www.w3.org/ns/ttml#styling opacity",function(e,t,r,n){t.style.opacity=n}),new p("http://www.w3.org/ns/ttml#styling origin",function(e,t,r,n){t.style.top=n.h.toUsedLength(e.w,e.h)+"px",t.style.left=n.w.toUsedLength(e.w,e.h)+"px"}),new p("http://www.w3.org/ns/ttml#styling overflow",function(e,t,r,n){t.style.overflow=n}),new p("http://www.w3.org/ns/ttml#styling padding",function(e,t,r,n){var i=[];i[0]=n[0].toUsedLength(e.w,e.h)+"px",i[1]=n[3].toUsedLength(e.w,e.h)+"px",i[2]=n[2].toUsedLength(e.w,e.h)+"px",i[3]=n[1].toUsedLength(e.w,e.h)+"px",t.style.padding=i.join(" ")}),new p("http://www.w3.org/ns/ttml#styling position",function(e,t,r,n){t.style.top=n.h.toUsedLength(e.w,e.h)+"px",t.style.left=n.w.toUsedLength(e.w,e.h)+"px"}),new p("http://www.w3.org/ns/ttml#styling rubyAlign",function(e,t,r,n){t.style.rubyAlign=n}),new p("http://www.w3.org/ns/ttml#styling rubyPosition",function(e,t,r,n){if("before"===n||"after"===n){var i;i="tb"===e.bpd?"before"===n?"over":"under":"rl"===e.bpd?"before"===n?"over":"under":"before"===n?"under":"over",t.parentElement.style.rubyPosition=i}}),new p("http://www.w3.org/ns/ttml#styling showBackground",null),new p("http://www.w3.org/ns/ttml#styling textAlign",function(e,t,n,i){var o,a=n.styleAttrs[r.byName.direction.qname];o="start"===i?"rtl"===a?"right":"left":"end"===i?"rtl"===a?"left":"right":i,t.style.textAlign=o}),new p("http://www.w3.org/ns/ttml#styling textDecoration",function(e,t,r,n){t.style.textDecoration=n.join(" ").replace("lineThrough","line-through")}),new p("http://www.w3.org/ns/ttml#styling textOutline",function(e,t,r,n){}),new p("http://www.w3.org/ns/ttml#styling textShadow",function(e,t,n,i){var o=n.styleAttrs[r.byName.textOutline.qname];if("none"===i&&"none"===o)t.style.textShadow="";else{var a=[];if("none"!==o&&a.push("rgba("+o.color[0].toString()+","+o.color[1].toString()+","+o.color[2].toString()+","+(o.color[3]/255).toString()+") 0px 0px "+o.thickness.toUsedLength(e.w,e.h)+"px"),"none"!==i)for(var s in i)a.push(i[s].x_off.toUsedLength(e.w,e.h)+"px "+i[s].y_off.toUsedLength(e.w,e.h)+"px "+i[s].b_radius.toUsedLength(e.w,e.h)+"px rgba("+i[s].color[0].toString()+","+i[s].color[1].toString()+","+i[s].color[2].toString()+","+(i[s].color[3]/255).toString()+")");t.style.textShadow=a.join(",")}}),new p("http://www.w3.org/ns/ttml#styling textCombine",function(e,t,r,n){t.style.textCombineUpright=n.join(" ")}),new p("http://www.w3.org/ns/ttml#styling textEmphasis",function(e,t,r,n){if("none"===n.style)return void(t.style.textEmphasisStyle="none");if("auto"===n.style?t.style.textEmphasisStyle="filled":t.style.textEmphasisStyle=n.style+" "+n.symbol,"before"===n.position||"after"===n.position){var i;i="tb"===e.bpd?"before"===n.position?"left over":"left under":"rl"===e.bpd?"before"===n.position?"right under":"left under":"before"===n.position?"left under":"right under",t.style.textEmphasisPosition=i}}),new p("http://www.w3.org/ns/ttml#styling unicodeBidi",function(e,t,r,n){var i;i="bidiOverride"===n?"bidi-override":n,t.style.unicodeBidi=i}),new p("http://www.w3.org/ns/ttml#styling visibility",function(e,t,r,n){t.style.visibility=n}),new p("http://www.w3.org/ns/ttml#styling wrapOption",function(e,t,r,n){"wrap"===n?"preserve"===r.space?t.style.whiteSpace="pre-wrap":t.style.whiteSpace="normal":"preserve"===r.space?t.style.whiteSpace="pre":t.style.whiteSpace="noWrap"}),new p("http://www.w3.org/ns/ttml#styling writingMode",function(e,t,r,n){"lrtb"===n||"lr"===n?e.writingMode="horizontal-tb":"rltb"===n||"rl"===n?e.writingMode="horizontal-tb":"tblr"===n?e.writingMode="vertical-lr":"tbrl"!==n&&"tb"!==n||(e.writingMode="vertical-rl"),t.style.writingMode=e.writingMode}),new p("http://www.w3.org/ns/ttml#styling zIndex",function(e,t,r,n){t.style.zIndex=n}),new p("http://www.w3.org/ns/ttml/profile/imsc1#styling forcedDisplay",function(e,t,r,n){e.displayForcedOnlyMode&&!1===n&&(t.style.visibility="hidden")})],m={};for(var v in y)m[y[v].qname]=y[v]}(t,"undefined"==typeof imscNames?r(105):imscNames,"undefined"==typeof imscStyles?r(156):imscStyles,"undefined"==typeof imscUtils?r(106):imscUtils)},function(e,t,r){"use strict";function n(){function e(e){for(var t="",r=0;r<e.length;++r){t+=e[r].uchar}return t.length-t.replace(/^\s+/,"").length}function t(e){return"left: "+3.125*e.x+"%; top: "+6.66*e.y1+"%; width: "+(100-3.125*e.x)+"%; height: "+6.66*Math.max(e.y2-1-e.y1,1)+"%; align-items: flex-start; overflow: visible; -webkit-writing-mode: horizontal-tb;"}function r(e){return"red"===e?"rgb(255, 0, 0)":"green"===e?"rgb(0, 255, 0)":"blue"===e?"rgb(0, 0, 255)":"cyan"===e?"rgb(0, 255, 255)":"magenta"===e?"rgb(255, 0, 255)":"yellow"===e?"rgb(255, 255, 0)":"white"===e?"rgb(255, 255, 255)":"black"===e?"rgb(0, 0, 0)":e}function n(e,t){var n=e.videoHeight/15;return t?"font-size: "+n+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; color: "+(t.foreground?r(t.foreground):"rgb(255, 255, 255)")+"; font-style: "+(t.italics?"italic":"normal")+"; text-decoration: "+(t.underline?"underline":"none")+"; white-space: pre; background-color: "+(t.background?r(t.background):"transparent")+";":"font-size: "+n+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; justify-content: flex-start; text-align: left; color: rgb(255, 255, 255); font-style: normal; white-space: pre; line-height: normal; font-weight: normal; text-decoration: none; width: 100%; display: flex;"}function i(e){return e.replace(/^\s+/g,"")}function o(e){return e.replace(/\s+$/g,"")}function a(r,a,u,l){var c=null,d=null,f=!1,g=-1,p={start:a,end:u,spans:[]},h="style_cea608_white_black",y={},m={},v=[],b=void 0,A=void 0;for(b=0;b<15;++b){var _=l.rows[b],E="",T=null;if(!1===_.isEmpty()){var S=e(_.chars);null===c&&(c={x:S,y1:b,y2:b+1,p:[]}),S!==g&&f&&(c.p.push(p),p={start:a,end:u,spans:[]},c.y2=b,c.name="region_"+c.x+"_"+c.y1+"_"+c.y2,!1===y.hasOwnProperty(c.name)?(v.push(c),y[c.name]=c):(d=y[c.name],d.p.contat(c.p)),c={x:S,y1:b,y2:b+1,p:[]});for(var I=0;I<_.chars.length;++I){var w=_.chars[I],C=w.penState;if(null===T||!C.equals(T)){E.trim().length>0&&(p.spans.push({name:h,line:E,row:b}),E="");var D="style_cea608_"+C.foreground+"_"+C.background;C.underline&&(D+="_underline"),C.italics&&(D+="_italics"),m.hasOwnProperty(D)||(m[D]=JSON.parse(JSON.stringify(C))),T=C,h=D}E+=w.uchar}E.trim().length>0&&p.spans.push({name:h,line:E,row:b}),f=!0,g=S}else f=!1,g=-1,c&&(c.p.push(p),p={start:a,end:u,spans:[]},c.y2=b,c.name="region_"+c.x+"_"+c.y1+"_"+c.y2,!1===y.hasOwnProperty(c.name)?(v.push(c),y[c.name]=c):(d=y[c.name],d.p.contat(c.p)),c=null)}c&&(c.p.push(p),c.y2=b+1,c.name="region_"+c.x+"_"+c.y1+"_"+c.y2,!1===y.hasOwnProperty(c.name)?(v.push(c),y[c.name]=c):(d=y[c.name],d.p.contat(c.p)),c=null);var M=[];for(b=0;b<v.length;++b){var O=v[b],B="sub_cea608_"+s++,R=document.createElement("div");R.id=B;var P=t(O);R.style.cssText="position: absolute; margin: 0; display: flex; box-sizing: border-box; pointer-events: none;"+P;var k=document.createElement("div");k.className="paragraph bodyStyle",k.style.cssText=n(r);var L=document.createElement("div");L.className="cueUniWrapper",L.style.cssText="unicode-bidi: normal; direction: ltr;";for(var N=0;N<O.p.length;++N){var x=O.p[N],j=0;for(A=0;A<x.spans.length;++A){var U=x.spans[A];if(U.line.length>0){if(0!==A&&j!=U.row){var F=document.createElement("br");F.className="lineBreak",L.appendChild(F)}var Q=!1;j===U.row&&(Q=!0),j=U.row;var G=m[U.name],W=document.createElement("span");W.className="spanPadding "+U.name+" customSpanColor",W.style.cssText=n(r,G),0!==A&&Q?A===x.spans.length-1?W.textContent=o(U.line):W.textContent=U.line:x.spans.length>1&&A<x.spans.length-1&&U.row===x.spans[A+1].row?W.textContent=i(U.line):W.textContent=U.line.trim(),L.appendChild(W)}}}k.appendChild(L),R.appendChild(k);var H={bodyStyle:["%",90]};for(var Y in m)m.hasOwnProperty(Y)&&(H[Y]=["%",90]);M.push({type:"html",start:a,end:u,cueHTMLElement:R,cueID:B,cellResolution:[32,15],isFromCEA608:!0,fontSize:H,lineHeight:{},linePadding:{}})}return M}var s=0;return{createHTMLCaptionsFromScreen:a}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(1),o=function(e){return e&&e.__esModule?e:{default:e}}(i);n.__dashjs_factory_name="EmbeddedTextHtmlRender",t.default=o.default.getSingletonFactory(n),e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(){function e(e){var n=[],o=void 0,a=void 0;if(!e)return n;e=e.split(c),o=e.length,a=-1;for(var u=0;u<o;u++){var g=e[u];if(g.length>0&&g!==l&&g.match(d)){var p=r(g),h=p.cuePoints,y=p.styles,m=i(e,u+1),v=t(h[0].replace(f,"")),b=t(h[1].replace(f,""));!isNaN(v)&&!isNaN(b)&&v>=a&&b>v?""!==m?(a=v,n.push({start:v,end:b,data:m,styles:y})):s.error("Skipping cue due to empty/malformed cue text"):s.error("Skipping cue due to incorrect cue timing")}}return n}function t(e){var t=e.split(":"),r=t.length-1;return e=60*parseInt(t[r-1],10)+parseFloat(t[r]),2===r&&(e+=3600*parseInt(t[0],10)),e}function r(e){var t=e.split(d),r=t[1].split(g);return r.shift(),t[1]=r[0],r.shift(),{cuePoints:t,styles:n(r)}}function n(e){var t={};return e.forEach(function(e){if(e.split(/:/).length>1){var r=e.split(/:/)[1];r&&-1!=r.search(/%/)&&(r=parseInt(r.replace(/%/,""),10)),(e.match(/align/)||e.match(/A/))&&(t.align=r),(e.match(/line/)||e.match(/L/))&&(t.line=r),(e.match(/position/)||e.match(/P/))&&(t.position=r),(e.match(/size/)||e.match(/S/))&&(t.size=r)}}),t}function i(e,t){for(var r=t,n="",i="",o=void 0;""!==e[r]&&r<e.length;)r++;if((o=r-t)>1)for(var a=0;a<o;a++){if(i=e[t+a],i.match(d)){n="";break}n+=i,a!==o-1&&(n+="\n")}else i=e[t],i.match(d)||(n=i);return n}var o=this.context,a=void 0,s=void 0,c=void 0,d=void 0,f=void 0,g=void 0;return a={parse:e},function(){s=(0,u.default)(o).getInstance().getLogger(a),c=/(?:\r\n|\r|\n)/gm,d=/-->/,f=/(^[\s]+|[\s]+$)/g,g=/\s\b/g}(),a}Object.defineProperty(t,"__esModule",{value:!0});var o=r(1),a=n(o),s=r(4),u=n(s),l="WEBVTT";i.__dashjs_factory_name="VTTParser",t.default=a.default.getSingletonFactory(i),e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(){function e(){var e="cue_TTML_"+a;return a++,e}function t(t,r,i,a,s){var u="",l=[],c=void 0,d=void 0,p=void 0,h={},y={},m="",v="",b={onOpenTag:function(e,t,r){if("image"===t&&"http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt"===e){if(!r[" imagetype"]||"PNG"!==r[" imagetype"].value)return void o.warn("smpte-tt imagetype != PNG. Discarded");m=r["http://www.w3.org/XML/1998/namespace id"].value}},onCloseTag:function(){m&&(y[m]=v.trim()),v="",m=""},onText:function(e){m&&(v+=e)}};if(!t)throw u="no ttml data to parse",new Error(u);h.data=t,n.trigger(f.default.TTML_TO_PARSE,h);var A=(0,g.fromXML)(h.data,function(e){u=e},b);n.trigger(f.default.TTML_PARSED,{ttmlString:h.data,ttmlDoc:A});var _=A.getMediaTimeEvents();for(p=0;p<_.length;p++){var E=(0,g.generateISD)(A,_[p],function(e){u=e});E.contents.some(function(e){return e.contents.length})&&(c=_[p]+r<i?i:_[p]+r,d=_[p+1]+r>a?a:_[p+1]+r,c<d&&l.push({start:c,end:d,type:"html",cueID:e(),isd:E,images:s,embeddedImages:y}))}if(""!==u)throw o.error(u),new Error(u);return l}var r=this.context,n=(0,c.default)(r).getInstance(),i=void 0,o=void 0,a=0;return i={parse:t},function(){o=(0,u.default)(r).getInstance().getLogger(i)}(),i}Object.defineProperty(t,"__esModule",{value:!0});var o=r(1),a=n(o),s=r(4),u=n(s),l=r(3),c=n(l),d=r(5),f=n(d),g=r(224);i.__dashjs_factory_name="TTMLParser",t.default=a.default.getSingletonFactory(i),e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(){p=[],g=null,h=null}function r(e){"InitializationSegment"!==e.segmentType?(p.push(e),p.sort(function(e,t){return e.start-t.start}),g=null):g=e,f.debug("PreBufferSink appended chunk s: "+e.start+"; e: "+e.end),h&&h({chunk:e})}function n(e,t){p=p.filter(function(r){return!((isNaN(t)||r.start<t)&&(isNaN(e)||r.end>e))})}function i(){}function o(){for(var e=[],t=0;t<p.length;t++){var r=p[t];0===e.length||r.start>e[e.length-1].end?e.push({start:r.start,end:r.end}):e[e.length-1].end=r.end}var n={start:function(t){return e[t].start},end:function(t){return e[t].end}};return Object.defineProperty(n,"length",{get:function(){return e.length}}),n}function s(){}function u(e,t){var r=l(e,t);return g&&(r.push(g),g=null),n(e,t),r}function l(e,t){return p.filter(function(r){return(isNaN(t)||r.start<t)&&(isNaN(e)||r.end>e)})}var c=this.context,d=void 0,f=void 0,g=void 0,p=[],h=e;return d={getAllBufferRanges:o,append:r,remove:n,abort:i,discharge:u,reset:t,updateTimestampOffset:s},function(){f=(0,a.default)(c).getInstance().getLogger(d)}(),d}Object.defineProperty(t,"__esModule",{value:!0});var o=r(4),a=n(o),s=r(1),u=n(s);i.__dashjs_factory_name="PreBufferSink";var l=u.default.getClassFactory(i);t.default=l,e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(){if(!o||!o.hasOwnProperty("getReadOnlyMetricsFor"))throw new Error(y.default.MISSING_CONFIG_ERROR)}function r(e){var r=(0,p.default)(i).create();if(!(e&&e.hasOwnProperty("getMediaInfo")&&e.hasOwnProperty("getMediaType")&&e.hasOwnProperty("useBufferOccupancyABR")&&e.hasOwnProperty("getAbrController")&&e.hasOwnProperty("getScheduleController")))return r;t();var n=e.getMediaInfo(),s=e.getMediaType(),c=o.getReadOnlyMetricsFor(s),d=e.getScheduleController(),f=e.getAbrController(),g=e.getStreamInfo(),h=g&&g.manifestInfo?g.manifestInfo.isDynamic:null,y=f.getThroughputHistory(),m=y.getSafeAverageThroughput(s,h),v=y.getAverageLatency(s),b=c.BufferState.length>0?c.BufferState[c.BufferState.length-1]:null,A=e.useBufferOccupancyABR();return!c||isNaN(m)||!b||A?r:(f.getAbandonmentStateFor(s)!==u.default.ABANDON_LOAD&&(b.state===a.default.BUFFER_LOADED||h)&&(r.quality=f.getQualityForBitrate(n,m,v),d.setTimeToLoadDelay(0),l.debug("requesting switch to index: ",r.quality,"type: ",s,"Average throughput",Math.round(m),"kbps"),r.reason={throughput:m,latency:v}),r)}function n(){}e=e||{};var i=this.context,o=e.metricsModel,s=void 0,l=void 0;return s={getMaxIndex:r,reset:n},function(){l=(0,f.default)(i).getInstance().getLogger(s)}(),s}Object.defineProperty(t,"__esModule",{value:!0});var o=r(55),a=n(o),s=r(109),u=n(s),l=r(1),c=n(l),d=r(4),f=n(d),g=r(39),p=n(g),h=r(2),y=n(h);i.__dashjs_factory_name="ThroughputRule",t.default=c.default.getClassFactory(i),e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(){if(!(g&&g.hasOwnProperty("getReadOnlyMetricsFor")&&h&&h.hasOwnProperty("getCurrentBufferLevel")))throw new Error(v.default.MISSING_CONFIG_ERROR)}function r(e){var r=(0,y.default)(d).create();if(!e||!e.hasOwnProperty("getMediaType"))return r;t();var i=e.getMediaType(),o=g.getReadOnlyMetricsFor(i),s=o.BufferState.length>0?o.BufferState[o.BufferState.length-1]:null,u=e.getRepresentationInfo(),c=u.fragmentDuration;if(!s||!n(i,s)||!c)return r;if(s.state===a.default.BUFFER_EMPTY)b.debug("Switch to index 0; buffer is empty."),r.quality=0,r.reason="InsufficientBufferRule: Buffer is empty";else{var f=e.getMediaInfo(),p=e.getAbrController(),m=p.getThroughputHistory(),v=h.getCurrentBufferLevel(o),A=m.getAverageThroughput(i),_=m.getAverageLatency(i),E=A*(v/c)*l;r.quality=p.getQualityForBitrate(f,E,_),r.reason="InsufficientBufferRule: being conservative to avoid immediate rebuffering"}return r}function n(e,t){A[e]=A[e]||{};var r=!1;return A[e].firstBufferLoadedEvent?r=!0:t&&t.state===a.default.BUFFER_LOADED&&(A[e].firstBufferLoadedEvent=!0,r=!0),r}function i(){A={}}function o(){i()}function s(){i(),f.off(c.default.PLAYBACK_SEEKING,o,m)}e=e||{};var l=.5,d=this.context,f=(0,u.default)(d).getInstance(),g=e.metricsModel,h=e.dashMetrics,m=void 0,b=void 0,A=void 0;return m={getMaxIndex:r,reset:s},function(){b=(0,p.default)(d).getInstance().getLogger(m),i(),f.on(c.default.PLAYBACK_SEEKING,o,m)}(),m}Object.defineProperty(t,"__esModule",{value:!0});var o=r(55),a=n(o),s=r(3),u=n(s),l=r(5),c=n(l),d=r(1),f=n(d),g=r(4),p=n(g),h=r(39),y=n(h),m=r(2),v=n(m);i.__dashjs_factory_name="InsufficientBufferRule",t.default=f.default.getClassFactory(i),e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(e,t){m[e]=m[e]||{},m[e][t]=m[e][t]||{}}function r(e,t){b[e]=b[e]||[],b[e].push(t)}function n(e){var n=(0,a.default)(d).create(a.default.NO_CHANGE,{name:i.__dashjs_factory_name});if(!(e&&e.hasOwnProperty("getMediaInfo")&&e.hasOwnProperty("getMediaType")&&e.hasOwnProperty("getCurrentRequest")&&e.hasOwnProperty("getRepresentationInfo")&&e.hasOwnProperty("getAbrController")))return n;var o=e.getMediaInfo(),c=e.getMediaType(),h=e.getCurrentRequest();if(!isNaN(h.index)){t(c,h.index);var A=f.getStableBufferTime();if(p.getCurrentBufferLevel(g.getReadOnlyMetricsFor(c))>A)return n;var _=m[c][h.index];if(null===_||null===h.firstByteDate||v.hasOwnProperty(_.id))return n;if(void 0===_.firstByteTime&&(b[c]=[],_.firstByteTime=h.firstByteDate.getTime(),_.segmentDuration=h.duration,_.bytesTotal=h.bytesTotal,_.id=h.index),_.bytesLoaded=h.bytesLoaded,_.elapsedTime=(new Date).getTime()-_.firstByteTime,_.bytesLoaded>0&&_.elapsedTime>0&&r(c,Math.round(8*_.bytesLoaded/_.elapsedTime)),b[c].length>=l&&_.elapsedTime>u&&_.bytesLoaded<_.bytesTotal){var E=b[c].reduce(function(e,t){return e+t},0);if(_.measuredBandwidthInKbps=Math.round(E/b[c].length),_.estimatedTimeOfDownload=+(8*_.bytesTotal/_.measuredBandwidthInKbps/1e3).toFixed(2),_.estimatedTimeOfDownload<_.segmentDuration*s||0===e.getRepresentationInfo().quality)return n;if(!v.hasOwnProperty(_.id)){var T=e.getAbrController(),S=_.bytesTotal-_.bytesLoaded,I=T.getBitrateList(o),w=T.getQualityForBitrate(o,_.measuredBandwidthInKbps*f.getBandwidthSafetyFactor());S>_.bytesTotal*I[w].bitrate/I[T.getQualityFor(c,o.streamInfo)].bitrate&&(n.quality=w,n.reason.throughput=_.measuredBandwidthInKbps,n.reason.fragmentID=_.id,v[_.id]=_,y.debug("( ",c,"frag id",_.id,") is asking to abandon and switch to quality to ",w," measured bandwidth was",_.measuredBandwidthInKbps),delete m[c][_.id])}}else _.bytesLoaded===_.bytesTotal&&delete m[c][_.id]}return n}function o(){m={},v={},b=[]}e=e||{};var s=1.8,u=500,l=5,d=this.context,f=e.mediaPlayerModel,g=e.metricsModel,p=e.dashMetrics,h=void 0,y=void 0,m=void 0,v=void 0,b=void 0;return h={shouldAbandon:n,reset:o},function(){y=(0,c.default)(d).getInstance().getLogger(h),o()}(),h}Object.defineProperty(t,"__esModule",{value:!0});var o=r(39),a=n(o),s=r(1),u=n(s),l=r(4),c=n(l);i.__dashjs_factory_name="AbandonRequestsRule",t.default=u.default.getClassFactory(i),e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(){function e(e){var r=e.getDroppedFramesHistory();if(r){for(var a=r.getFrameHistory(),s=0,l=0,c=u.default.NO_CHANGE,d=1;d<a.length;d++)if(a[d]&&(s=a[d].droppedVideoFrames,(l=a[d].totalVideoFrames)>o&&s/l>i)){c=d-1,n.debug("index: "+c+" Dropped Frames: "+s+" Total Frames: "+l);break}return(0,u.default)(t).create(c,{droppedFrames:s})}return(0,u.default)(t).create()}var t=this.context,r=void 0,n=void 0,i=.15,o=375;return r={getMaxIndex:e},function(){n=(0,c.default)(t).getInstance().getLogger(r)}(),r}Object.defineProperty(t,"__esModule",{value:!0});var o=r(1),a=n(o),s=r(39),u=n(s),l=r(4),c=n(l);i.__dashjs_factory_name="DroppedFramesRule",t.default=a.default.getClassFactory(i),e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(){function e(e){for(var r=e?e.getSwitchHistory():null,a=r?r.getSwitchRequests():[],s=0,u=0,l=0,d=(0,c.default)(t).create(),f=0;f<a.length;f++)if(void 0!==a[f]&&(s+=a[f].drops,u+=a[f].noDrops,l+=a[f].dropSize,s+u>=o&&s/u>i)){d.quality=f>0&&a[f].drops>0?f-1:f,d.reason={index:d.quality,drops:s,noDrops:u,dropSize:l},n.debug("Switch history rule index: "+d.quality+" samples: "+(s+u)+" drops: "+s);break}return d}var t=this.context,r=void 0,n=void 0,i=.075,o=6;return r={getMaxIndex:e},function(){n=(0,u.default)(t).getInstance().getLogger(r)}(),r}Object.defineProperty(t,"__esModule",{value:!0});var o=r(1),a=n(o),s=r(4),u=n(s),l=r(39),c=n(l);i.__dashjs_factory_name="SwitchHistoryRule",t.default=a.default.getClassFactory(i),e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(e){return e.map(function(e){return Math.log(e)})}function r(e,t,r){var n=r.reduce(function(e,t,n){return t>r[e]?n:e},0);if(0===n)return null;var i=Math.max(e,_+E*t.length),o=(r[n]-1)/(i/_-1);return{gp:o,Vp:_/o}}function n(e){var n={},o=e.getMediaInfo(),a=o.bitrateList.map(function(e){return e.bandwidth}),s=t(a);s=s.map(function(e){return e-s[0]+1});var u=x.getStableBufferTime(),l=r(u,a,s);return l?(n.state=b,n.bitrates=a,n.utilities=s,n.stableBufferTime=u,n.Vp=l.Vp,n.gp=l.gp,n.lastQuality=0,i(n)):n.state=v,n}function i(e){e.placeholderBuffer=0,e.mostAdvancedSegmentStart=NaN,e.lastSegmentWasReplacement=!1,e.lastSegmentStart=NaN,e.lastSegmentDurationS=NaN,e.lastSegmentRequestTimeMs=NaN,e.lastSegmentFinishTimeMs=NaN}function o(e,t){var n=x.getStableBufferTime();if(e.stableBufferTime!==n){var i=r(n,e.bitrates,e.utilities);if(i.Vp!==e.Vp||i.gp!==e.gp){var o=L.getCurrentBufferLevel(N.getReadOnlyMetricsFor(t)),a=o+e.placeholderBuffer;a-=_,a*=i.Vp/e.Vp,a+=_,e.stableBufferTime=n,e.Vp=i.Vp,e.gp=i.gp,e.placeholderBuffer=Math.max(0,a-o)}}}function s(e){var t=e.getMediaType(),r=Q[t];return r?r.state!==v&&o(r,t):(r=n(e),Q[t]=r),r}function l(e,t){for(var r=e.bitrates.length,n=NaN,i=NaN,o=0;o<r;++o){var a=(e.Vp*(e.utilities[o]+e.gp)-t)/e.bitrates[o];(isNaN(i)||a>=i)&&(i=a,n=o)}return n}function c(e,t){return e.Vp*(e.utilities[t]+e.gp)}function f(e,t){for(var r=e.bitrates[t],n=e.utilities[t],i=0,o=t-1;o>=0;--o)if(e.utilities[o]<e.utilities[t]){var a=e.bitrates[o],s=e.utilities[o],u=e.Vp*(e.gp+(r*s-a*n)/(r-a));i=Math.max(i,u)}return i}function p(e,t){var r=Date.now();if(isNaN(e.lastSegmentFinishTimeMs)){if(!isNaN(e.lastCallTimeMs)){var n=.001*(r-e.lastCallTimeMs);e.placeholderBuffer+=Math.max(0,n)}}else{var n=.001*(r-e.lastSegmentFinishTimeMs);e.placeholderBuffer+=Math.max(0,n)}e.lastCallTimeMs=r,e.lastSegmentStart=NaN,e.lastSegmentRequestTimeMs=NaN,e.lastSegmentFinishTimeMs=NaN,o(e,t)}function y(){for(var e in Q)Q.hasOwnProperty(e)&&Q[e].state===A&&(Q[e].placeholderBuffer=0)}function S(){for(var e in Q)if(Q.hasOwnProperty(e)){var t=Q[e];t.state!==v&&(t.state=b,i(t))}}function I(){}function w(e){if(e&&e.chunk&&e.chunk.mediaInfo){var t=Q[e.chunk.mediaInfo.type];if(t&&t.state!==v){var r=e.chunk.start;isNaN(t.mostAdvancedSegmentStart)||r>t.mostAdvancedSegmentStart?(t.mostAdvancedSegmentStart=r,t.lastSegmentWasReplacement=!1):t.lastSegmentWasReplacement=!0,t.lastSegmentStart=r,t.lastSegmentDurationS=e.chunk.duration,t.lastQuality=e.chunk.quality,D(t,e.chunk.mediaInfo.type)}}}function C(e){if(e&&e.metric===a.default.HTTP_REQUEST&&e.value&&e.value.type===d.HTTPRequest.MEDIA_SEGMENT_TYPE&&e.value.trace&&e.value.trace.length){var t=Q[e.mediaType];t&&t.state!==v&&(t.lastSegmentRequestTimeMs=e.value.trequest.getTime(),t.lastSegmentFinishTimeMs=e.value._tfinish.getTime(),D(t,e.mediaType))}}function D(e,t){if(!isNaN(e.lastSegmentStart)&&!isNaN(e.lastSegmentRequestTimeMs)&&!isNaN(e.placeholderBuffer)){if(e.placeholderBuffer*=T,!isNaN(e.lastSegmentFinishTimeMs)){var r=L.getCurrentBufferLevel(N.getReadOnlyMetricsFor(t)),n=r+.001*(e.lastSegmentFinishTimeMs-e.lastSegmentRequestTimeMs),i=c(e,e.lastQuality),o=Math.max(0,i-n);e.placeholderBuffer=Math.min(o,e.placeholderBuffer)}e.lastSegmentWasReplacement&&!isNaN(e.lastSegmentDurationS)&&(e.placeholderBuffer+=e.lastSegmentDurationS),e.lastSegmentStart=NaN,e.lastSegmentRequestTimeMs=NaN}}function M(e){if(e){var t=Q[e.mediaType];t&&t.state!==v&&(t.abrQuality=e.newQuality)}}function O(e){if(e){var t=Q[e.mediaType];if(t&&t.state!==v){var r=L.getCurrentBufferLevel(N.getReadOnlyMetricsFor(e.mediaType)),n=void 0;n=t.abrQuality>0?f(t,t.abrQuality):_;var i=Math.max(0,n-r);t.placeholderBuffer=Math.min(t.placeholderBuffer,i)}}}function B(e){var t=e.getMediaInfo(),r=e.getMediaType(),n=N.getReadOnlyMetricsFor(r),o=e.getScheduleController(),a=e.getStreamInfo(),d=e.getAbrController(),g=d.getThroughputHistory(),h=a?a.id:null,y=a&&a.manifestInfo&&a.manifestInfo.isDynamic,m=e.useBufferOccupancyABR(),_=(0,u.default)(k).create();if(_.reason=_.reason||{},!m)return _;o.setTimeToLoadDelay(0);var E=s(e);if(E.state===v)return _;var T=L.getCurrentBufferLevel(n),S=g.getAverageThroughput(r,y),I=g.getSafeAverageThroughput(r,y),w=g.getAverageLatency(r),C=void 0;if(_.reason.state=E.state,_.reason.throughput=S,_.reason.latency=w,isNaN(S))return _;switch(E.state){case b:C=d.getQualityForBitrate(t,I,w),_.quality=C,_.reason.throughput=I,E.placeholderBuffer=Math.max(0,f(E,C)-T),E.lastQuality=C,!isNaN(E.lastSegmentDurationS)&&T>=E.lastSegmentDurationS&&(E.state=A);break;case A:p(E,r),C=l(E,T+E.placeholderBuffer);var D=d.getQualityForBitrate(t,I,w);C>E.lastQuality&&C>D&&(C=Math.max(D,E.lastQuality));var M=Math.max(0,T+E.placeholderBuffer-c(E,C));M<=E.placeholderBuffer?(E.placeholderBuffer-=M,M=0):(M-=E.placeholderBuffer,E.placeholderBuffer=0,C<d.getTopQualityIndexFor(r,h)?o.setTimeToLoadDelay(1e3*M):M=0),_.quality=C,_.reason.throughput=S,_.reason.latency=w,_.reason.bufferLevel=T,_.reason.placeholderBuffer=E.placeholderBuffer,_.reason.delay=M,E.lastQuality=C;break;default:F.debug("BOLA ABR rule invoked in bad state."),_.quality=d.getQualityForBitrate(t,I,w),_.reason.state=E.state,_.reason.throughput=I,_.reason.latency=w,E.state=b,i(E)}return _}function R(){Q={}}function P(){R(),j.off(h.default.BUFFER_EMPTY,y,U),j.off(h.default.PLAYBACK_SEEKING,S,U),j.off(h.default.PERIOD_SWITCH_STARTED,I,U),j.off(h.default.MEDIA_FRAGMENT_LOADED,w,U),j.off(h.default.METRIC_ADDED,C,U),j.off(h.default.QUALITY_CHANGE_REQUESTED,M,U),j.off(h.default.FRAGMENT_LOADING_ABANDONED,O,U)}e=e||{};var k=this.context,L=e.dashMetrics,N=e.metricsModel,x=e.mediaPlayerModel,j=(0,g.default)(k).getInstance(),U=void 0,F=void 0,Q=void 0;return U={getMaxIndex:B,reset:P},function(){F=(0,m.default)(k).getInstance().getLogger(U),R(),j.on(h.default.BUFFER_EMPTY,y,U),j.on(h.default.PLAYBACK_SEEKING,S,U),j.on(h.default.PERIOD_SWITCH_STARTED,I,U),j.on(h.default.MEDIA_FRAGMENT_LOADED,w,U),j.on(h.default.METRIC_ADDED,C,U),j.on(h.default.QUALITY_CHANGE_REQUESTED,M,U),j.on(h.default.FRAGMENT_LOADING_ABANDONED,O,U)}(),U}Object.defineProperty(t,"__esModule",{value:!0});var o=r(69),a=n(o),s=r(39),u=n(s),l=r(1),c=n(l),d=r(19),f=r(3),g=n(f),p=r(5),h=n(p),y=r(4),m=n(y),v=0,b=1,A=2,_=10,E=2,T=.99;i.__dashjs_factory_name="BolaRule",t.default=c.default.getClassFactory(i),e.exports=t.default},function(e,t,r){"use strict";function n(e){function t(){var e=n();return e?e.type:null}function r(){var e=n();return e?e.streamInfo:null}function n(){return m?m.mediaInfo:null}function i(){return m}function o(){return y}function a(){return d}function s(){return f}function u(){return g}function l(){return p}function c(){return h}e=e||{};var d=e.abrController,f=e.switchHistory,g=e.droppedFramesHistory,p=e.currentRequest,h=e.useBufferOccupancyABR,y=e.streamProcessor?e.streamProcessor.getScheduleController():null,m=e.streamProcessor?e.streamProcessor.getRepresentationInfo():null;return{getMediaType:t,getMediaInfo:n,getDroppedFramesHistory:u,getCurrentRequest:l,getSwitchHistory:s,getStreamInfo:r,getScheduleController:o,getAbrController:a,getRepresentationInfo:i,useBufferOccupancyABR:c}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(1),o=function(e){return e&&e.__esModule?e:{default:e}}(i);n.__dashjs_factory_name="RulesContext",t.default=o.default.getClassFactory(n),e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(){function e(e){e.newValue===u.default.NO_CHANGE&&(e.newValue=e.oldValue),n[e.oldValue]||(n[e.oldValue]={noDrops:0,drops:0,dropSize:0});var t=e.newValue-e.oldValue,r=t<0?1:0,o=r?-t:0,a=r?0:1;if(n[e.oldValue].drops+=r,n[e.oldValue].dropSize+=o,n[e.oldValue].noDrops+=a,i.push({idx:e.oldValue,noDrop:a,drop:r,dropSize:o}),i.length>l){var s=i.shift();n[s.idx].drops-=s.drop,n[s.idx].dropSize-=s.dropSize,n[s.idx].noDrops-=s.noDrop}}function t(){return n}function r(){n=[],i=[]}var n=[],i=[];return{push:e,getSwitchRequests:t,reset:r}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(1),a=n(o),s=r(39),u=n(s),l=8;i.__dashjs_factory_name="SwitchRequestHistory";var c=a.default.getClassFactory(i);t.default=c,e.exports=t.default},function(e,t,r){"use strict";function n(){function e(e,t){var r=t&&t.droppedVideoFrames?t.droppedVideoFrames:0,a=t&&t.totalVideoFrames?t.totalVideoFrames:0,s=r-i;i=r;var u=a-o;o=a,isNaN(e)||(n[e]?(n[e].droppedVideoFrames+=s,n[e].totalVideoFrames+=u):n[e]={droppedVideoFrames:s,totalVideoFrames:u})}function t(){return n}function r(e){n=[],i=e.droppedVideoFrames,o=e.totalVideoFrames}var n=[],i=0,o=0;return{push:e,getFrameHistory:t,reset:r}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(1),o=function(e){return e&&e.__esModule?e:{default:e}}(i);n.__dashjs_factory_name="DroppedFramesHistory";var a=o.default.getClassFactory(n);t.default=a,e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(e,t,r){return e===a.default.VIDEO?r<I.getCacheLoadThresholdForType(a.default.VIDEO):e===a.default.AUDIO?r<I.getCacheLoadThresholdForType(a.default.AUDIO):void 0}function r(e,r,i){if(r.trace&&r.trace.length){var o=r.tresponse.getTime()-r.trequest.getTime()||1,a=r._tfinish.getTime()-r.tresponse.getTime()||1,s=r.trace.reduce(function(e,t){return e+t.b[0]},0),u=void 0;u=I.getLowLatencyEnabled()?r.trace.reduce(function(e,t){return e+t.d},0):i?a:o+a;var l=Math.round(8*s/u);if(f(e),t(e,o,a)){if(w[e].length>0&&!w[e].hasCachedEntries)return;w[e].hasCachedEntries=!0}else w[e]&&w[e].hasCachedEntries&&g(e);w[e].push(l),w[e].length>h&&w[e].shift(),C[e].push(o),C[e].length>h&&C[e].shift(),n(D[e],l,.001*a,O.throughputHalfLife),n(M[e],o,1,O.latencyHalfLife)}}function n(e,t,r,n){var i=Math.pow(.5,r/n.fast);e.fastEstimate=(1-i)*t+i*e.fastEstimate;var o=Math.pow(.5,r/n.slow);e.slowEstimate=(1-o)*t+o*e.slowEstimate,e.totalWeight+=r}function i(e,t,r){var n=void 0,i=void 0;if(e?(n=w[t],i=r?y:m):(n=C[t],i=v),n){if(i>=n.length)i=n.length;else if(e)for(var o=1;o<i;++o){var a=n[o]/n[o-1];if((a>=A||a<=1/b)&&(i+=1)===n.length)break}}else i=0;return i}function o(e,t,r){return I.getMovingAverageMethod()!==a.default.MOVING_AVERAGE_SLIDING_WINDOW?u(e,t):s(e,t,r)}function s(e,t,r){var n=i(e,t,r),o=e?w:C,a=o[t];return 0!==n&&a&&0!==a.length?(a=a.slice(-n),a.reduce(function(e,t){return e+t})/a.length):NaN}function u(e,t){var r=e?O.throughputHalfLife:O.latencyHalfLife,n=e?D[t]:M[t];if(!n||n.totalWeight<=0)return NaN;var i=n.fastEstimate/(1-Math.pow(.5,n.totalWeight/r.fast)),o=n.slowEstimate/(1-Math.pow(.5,n.totalWeight/r.slow));return e?Math.min(i,o):Math.max(i,o)}function l(e,t){return o(!0,e,t)}function c(e,t){var r=l(e,t);return isNaN(r)||(r*=I.getBandwidthSafetyFactor()),r}function d(e){return o(!1,e)}function f(e){w[e]=w[e]||[],C[e]=C[e]||[],D[e]=D[e]||{fastEstimate:0,slowEstimate:0,totalWeight:0},M[e]=M[e]||{fastEstimate:0,slowEstimate:0,totalWeight:0}}function g(e){delete w[e],delete C[e],delete D[e],delete M[e],f(e)}function p(){w={},C={},D={},M={}}e=e||{};var h=20,y=3,m=4,v=4,b=1.3,A=1.3,_=8,E=3,T=2,S=1,I=e.mediaPlayerModel,w=void 0,C=void 0,D=void 0,M=void 0,O=void 0,B={push:r,getAverageThroughput:l,getSafeAverageThroughput:c,getAverageLatency:d,reset:p};return function(){O={throughputHalfLife:{fast:E,slow:_},latencyHalfLife:{fast:S,slow:T}},p()}(),B}Object.defineProperty(t,"__esModule",{value:!0});var o=r(2),a=n(o),s=r(1),u=n(s);i.__dashjs_factory_name="ThroughputHistory",t.default=u.default.getClassFactory(i),e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(){function e(e,r){Z(),Ne=e,Le=r,Be.initialize(),pe=(0,f.default)(le).create(),pe.setConfig({manifestModel:ye,dashManifestModel:me,mediaPlayerModel:We,manifestLoader:he,errHandler:Oe}),pe.initialize(),Te.setConfig({dashManifestModel:me}),t()}function t(){ce.on(y.default.PLAYBACK_TIME_UPDATED,n,this),ce.on(y.default.PLAYBACK_SEEKING,s,this),ce.on(y.default.PLAYBACK_ERROR,z,this),ce.on(y.default.PLAYBACK_STARTED,l,this),ce.on(y.default.PLAYBACK_PAUSED,d,this),ce.on(y.default.PLAYBACK_ENDED,D,this),ce.on(y.default.MANIFEST_UPDATED,H,this),ce.on(y.default.STREAM_BUFFERING_COMPLETED,v,this),ce.on(y.default.MANIFEST_VALIDITY_CHANGED,re,this),ce.on(y.default.TIME_SYNCHRONIZATION_COMPLETED,W,this),ce.on(y.default.WALLCLOCK_TIME_UPDATED,i,this),ce.on(C.default.METRIC_ADDED,se,this)}function r(){ce.off(y.default.PLAYBACK_TIME_UPDATED,n,this),ce.off(y.default.PLAYBACK_SEEKING,s,this),ce.off(y.default.PLAYBACK_ERROR,z,this),ce.off(y.default.PLAYBACK_STARTED,l,this),ce.off(y.default.PLAYBACK_PAUSED,d,this),ce.off(y.default.PLAYBACK_ENDED,D,this),ce.off(y.default.MANIFEST_UPDATED,H,this),ce.off(y.default.STREAM_BUFFERING_COMPLETED,v,this),ce.off(y.default.MANIFEST_VALIDITY_CHANGED,re,this),ce.off(y.default.TIME_SYNCHRONIZATION_COMPLETED,W,this),ce.off(y.default.WALLCLOCK_TIME_UPDATED,i,this),ce.off(C.default.METRIC_ADDED,se,this)}function n(){if(Y(a.default.VIDEO)){var e=Qe.getPlaybackQuality();e&&be.addDroppedFrames(a.default.VIDEO,e)}}function i(){if(!(!We.getJumpGaps()||!Pe||0===Pe.getProcessors().length||Ge.isSeeking()||He||xe||je||Ue)&&++Ze>=ue){var e=Ge.getTime();rt===e?o(e):rt=e,Ze=0}}function o(e){for(var t=Pe.getProcessors(),r=We.getSmallGapLimit(),n=void 0,i=0;i<t.length;i++){var o=t[i].getBuffer(),a=o.getAllBufferRanges(),s=void 0;if(a&&!(a.length<=1)){for(var u=0;u<a.length;u++)if(e<a.start(u)){s=a.start(u);break}if(s>0){var l=s-e;l>0&&l<=r&&(void 0===n||s>n)&&(n=s)}}}var c=Ge.getTimeToStreamEnd();void 0===n&&!isNaN(c)&&c<r&&(n=e+c),n>0&&(!isNaN(c)&&n>=e+c?(fe.info("Jumping media gap (discontinuity) at time ",e,". Jumping to end of the stream"),ce.trigger(y.default.PLAYBACK_ENDED,{isLast:X().isLast})):(fe.info("Jumping media gap (discontinuity) at time ",e,". Jumping to time position",n),Ge.seek(n)))}function s(e){var t=E(e.seekTime);Xe&&(g(),ze=!1),Je&&h(),t===Pe&&tt&&tt.deactivate(!0),t&&(t!==Pe||tt&&!Pe.isActive())?(q(b.PlayListTrace.END_OF_PERIOD_STOP_REASON),R(Pe,t,e.seekTime)):q(b.PlayListTrace.USER_REQUEST_STOP_REASON),K(b.PlayList.SEEK_START_REASON)}function l(){fe.debug("[onPlaybackStarted]"),Ye?(Ye=!1,K(b.PlayList.INITIAL_PLAYOUT_START_REASON)):He&&(He=!1,K(b.PlayList.RESUME_FROM_PAUSE_START_REASON),m())}function d(e){fe.debug("[onPlaybackPaused]"),e.ended||(He=!0,q(b.PlayListTrace.USER_REQUEST_STOP_REASON),m())}function g(){fe.debug("[toggleEndPeriodTimer] stop end period timer."),clearTimeout(Xe),Xe=void 0}function h(){fe.debug("[PreloadTimer] stop period preload timer."),clearTimeout(Je),Je=void 0}function m(){if(ze)if(Xe)g();else{var e=Ge.getTimeToStreamEnd(),t=e>0?1e3*e:0;fe.debug("[toggleEndPeriodTimer] start-up of timer to notify PLAYBACK_ENDED event. It will be triggered in "+t+" milliseconds"),Xe=setTimeout(function(){ce.trigger(y.default.PLAYBACK_ENDED,{isLast:X().isLast})},t);var r=t<2e3?t/4:t-2e3;fe.info("[StreamController][toggleEndPeriodTimer] Going to fire preload in "+r),Je=setTimeout(A,r)}}function v(){var e=X().isLast;Fe&&e?(fe.info("[onStreamBufferingCompleted] calls signalEndOfStream of mediaSourceController."),_e.signalEndOfStream(Fe)):Fe&&void 0===Xe&&(fe.info("[StreamController][onStreamBufferingCompleted] end of period detected"),ze=!0,!1===He&&m())}function A(){var e=X().isLast;Fe&&!e&&function(){var e=O();(et=Pe.isCompatibleWithStream(e))&&(fe.info("[StreamController][onStreamCanLoadNext] Preloading next stream"),Pe.stopEventController(),Pe.deactivate(!0),e.preload(Fe,$e),tt=e,e.getProcessors().forEach(function(t){ve.setIndexHandlerTime(t,e.getStartTime())}))}()}function E(e){var t=0,r=null,n=Re.length;n>0&&(t+=Re[0].getStartTime());for(var i=0;i<n;i++)if(r=Re[i],t=parseFloat((t+r.getDuration()).toFixed(5)),e<t)return r;return null}function S(e,t){for(var r=null,n=0,i=0,o=null,a=Re.length,s=0;s<a;s++){if(r=Re[s],i=r.getStartTime(),o=r.getDuration(),Number.isFinite(i)&&(n=i),r.getId()===t)return e-n;Number.isFinite(o)&&(n+=o)}return null}function w(){return Pe?Pe.getProcessors():[]}function D(){var e=O();e?(Ke=void 0,qe=void 0,R(Pe,e,NaN)):fe.debug("StreamController no next stream found"),q(e?b.PlayListTrace.END_OF_PERIOD_STOP_REASON:b.PlayListTrace.END_OF_CONTENT_STOP_REASON),Xe=void 0,ze=!1}function O(){if(Pe){var e=function(){var e=X().start,t=X().duration;return{v:Re.filter(function(r){return r.getStreamInfo().start===parseFloat((e+t).toFixed(5))})[0]}}();if("object"==typeof e)return e.v}}function R(e,t,r){xe||!t||e===t&&t.isActive()||(xe=!0,ce.trigger(y.default.PERIOD_SWITCH_STARTED,{fromStreamInfo:e?e.getStreamInfo():null,toStreamInfo:t.getStreamInfo()}),et=!1,e&&(e.stopEventController(),et=Pe.isCompatibleWithStream(t)&&!r||t.getPreloaded(),e.deactivate(et)),Pe=t,tt=!1,Ge.initialize(X(),et),Qe.getElement()?j(r,e,!1,et):k(r))}function k(e){U(e,et)}function N(e){Pe&&(Ge.initialize(X()),j(e,null,!0,!1))}function j(e,t,r,n){function i(){Fe&&(fe.debug("MediaSource is open!"),window.URL.revokeObjectURL(o),Fe.removeEventListener("sourceopen",i),Fe.removeEventListener("webkitsourceopen",i),F(),t||ce.trigger(y.default.SOURCE_INITIALIZED),r?Pe.setMediaSource(Fe):U(e,n))}var o=void 0;Fe?n?(U(e,n),t||ce.trigger(y.default.SOURCE_INITIALIZED)):(_e.detachMediaSource(Qe),Fe.addEventListener("sourceopen",i,!1),Fe.addEventListener("webkitsourceopen",i,!1),o=_e.attachMediaSource(Fe,Qe),fe.debug("MediaSource attached to element.  Waiting on open...")):(Fe=_e.createMediaSource(),Fe.addEventListener("sourceopen",i,!1),Fe.addEventListener("webkitsourceopen",i,!1),o=_e.attachMediaSource(Fe,Qe),fe.debug("MediaSource attached to element.  Waiting on open..."))}function U(e,t){$e=Pe.activate(Fe,t?$e:void 0),Ke=V(a.default.AUDIO),qe=V(a.default.VIDEO),Ye||(isNaN(e)?function(){var e=Ge.getStreamStartTime(!0);t||Pe.getProcessors().forEach(function(t){ve.setIndexHandlerTime(t,e)})}():Ge.seek(e)),Pe.startEventController(),!Ne&&Ye||Ge.play(),xe=!1,ce.trigger(y.default.PERIOD_SWITCH_COMPLETED,{toStreamInfo:X()})}function F(e){var t=e||X().manifestInfo.duration,r=_e.setDuration(Fe,t);fe.debug("Duration successfully set to: "+r)}function Q(e){for(var t=0,r=Re.length;t<r;t++)if(Re[t].getId()===e.id)return Re[t];return null}function G(){try{var e=ve.getStreamsInfo();if(0===e.length)throw new Error("There are no streams");var t=Ae.getCurrentManifestUpdate(be.getMetricsFor(a.default.STREAM));be.updateManifestUpdateInfo(t,{currentTime:Ge.getTime(),buffered:Qe.getBufferRange(),presentationStartTime:e[0].start,clientTimeOffset:Be.getClientTimeOffset()});for(var r=0,n=e.length;r<n;r++){var i=e[r],o=Q(i);o?o.updateData(i):(o=(0,c.default)(le).create({manifestModel:ye,dashManifestModel:me,mediaPlayerModel:We,metricsModel:be,dashMetrics:Ae,manifestUpdater:pe,adapter:ve,timelineConverter:Be,capabilities:ge,errHandler:Oe,baseURLController:Te,domStorage:Se,abrController:Ie,playbackController:Ge,mediaController:we,textController:Ce,videoModel:Qe,streamController:de}),Re.push(o),o.initialize(i,ke)),be.addManifestUpdateStreamInfo(t,i.id,i.index,i.start,i.duration)}if(!Pe){var s=Ge.getStartTimeFromUriParameters(),u=null;if(s){u=E(isNaN(s.fragS)?s.fragT:s.fragS)}R(null,null!==u?u:Re[0],NaN)}ce.trigger(y.default.STREAMS_COMPOSED)}catch(e){Oe.manifestError(e.message,"nostreamscomposed",ye.getValue()),Oe.error(new L.default(x.default.MANIFEST_ERROR_ID_NOSTREAMS_CODE,e.message+"nostreamscomposed",ye.getValue())),Ue=!0,ae()}}function W(){var e=ye.getValue();ke&&(ce.trigger(y.default.PROTECTION_CREATED,{controller:ke,manifest:e}),ke.setMediaElement(Qe.getElement()),Le&&ke.setProtectionData(Le)),G()}function H(e){e.error?(Ue=!0,ae()):function(){var t=e.manifest;ve.updatePeriods(t);var r=ve.getStreamsInfo(void 0,1)[0],n=ve.getMediaInfoForType(r,a.default.VIDEO)||ve.getMediaInfoForType(r,a.default.AUDIO),i=void 0;n&&(i=me.getUseCalculatedLiveEdgeTimeForAdaptation(ve.getDataForMedia(n)))&&(fe.debug("SegmentTimeline detected using calculated Live Edge Time"),We.setUseManifestDateHeaderTimeSource(!1));var o=me.getUTCTimingSources(e.manifest),s=!me.getIsDynamic(t)||i?o:o.concat(We.getUTCTimingSources()),u=Me.isHTTPS(e.manifest.url);s.forEach(function(e){e.value.replace(/.*?:\/\//g,"")===We.getDefaultUtcTimingSource().value.replace(/.*?:\/\//g,"")&&(e.value=e.value.replace(u?new RegExp(/^(http:)?\/\//i):new RegExp(/^(https:)?\/\//i),u?"https://":"http://"),fe.debug("Matching default timing source protocol to manifest protocol: ",e.value))}),Te.initialize(t),Ee.setConfig({metricsModel:be,dashMetrics:Ae,baseURLController:Te}),Ee.initialize(s,We.getUseManifestDateHeaderTimeSource())}()}function Y(e){var t=void 0;if(!e)return t;switch(e){case a.default.VIDEO:t=qe;break;case a.default.AUDIO:t=Ke}return t}function V(e){var t=!1;return Pe&&Pe.getProcessors().forEach(function(r){r.getMediaInfo().type===e&&(t=!0)}),t}function q(e,t){t=t||new Date,Ve&&(Pe&&Pe.getProcessors().forEach(function(r){var n=r.getScheduleController();n&&n.finalisePlayList(t,e)}),be.addPlayList(Ve),Ve=null)}function K(e){Ve=new b.PlayList,Ve.start=new Date,Ve.mstart=1e3*Ge.getTime(),Ve.starttype=e,Pe&&Pe.getProcessors().forEach(function(e){var t=e.getScheduleController();t&&t.setPlayList(Ve)})}function z(e){if(e.error){var t="";switch(e.error.code){case 1:t="MEDIA_ERR_ABORTED";break;case 2:t="MEDIA_ERR_NETWORK";break;case 3:t="MEDIA_ERR_DECODE";break;case 4:t="MEDIA_ERR_SRC_NOT_SUPPORTED";break;case 5:t="MEDIA_ERR_ENCRYPTED";break;default:t="UNKNOWN"}je=!0,e.error.message&&(t+=" ("+e.error.message+")"),e.error.msExtendedCode&&(t+=" (0x"+(e.error.msExtendedCode>>>0).toString(16).toUpperCase()+")"),fe.fatal("Video Element Error: "+t),e.error&&fe.fatal(e.error),Oe.mediaSourceError(t),Oe.error(new L.default(e.error.code,t)),ae()}}function X(){return Pe?Pe.getStreamInfo():null}function J(e){return Re.filter(function(t){return t.getId()===e})[0]}function Z(){if(!(he&&he.hasOwnProperty("load")&&Be&&Be.hasOwnProperty("initialize")&&Be.hasOwnProperty("reset")&&Be.hasOwnProperty("getClientTimeOffset")&&ye&&Oe&&be&&Ge))throw new Error("setConfig function has to be called previously")}function $(){if(!pe||!pe.hasOwnProperty("setManifest"))throw new Error("initialize function has to be called previously")}function ee(e){Z(),he.load(e)}function te(e){$(),pe.setManifest(e)}function re(e){isNaN(e.newDuration)||F(e.newDuration)}function ne(e){e&&(e.capabilities&&(ge=e.capabilities),e.manifestLoader&&(he=e.manifestLoader),e.manifestModel&&(ye=e.manifestModel),e.dashManifestModel&&(me=e.dashManifestModel),e.mediaPlayerModel&&(We=e.mediaPlayerModel),e.protectionController&&(ke=e.protectionController),e.adapter&&(ve=e.adapter),e.metricsModel&&(be=e.metricsModel),e.dashMetrics&&(Ae=e.dashMetrics),e.errHandler&&(Oe=e.errHandler),e.timelineConverter&&(Be=e.timelineConverter),e.videoModel&&(Qe=e.videoModel),e.playbackController&&(Ge=e.playbackController),e.domStorage&&(Se=e.domStorage),e.abrController&&(Ie=e.abrController),e.mediaController&&(we=e.mediaController),e.textController&&(Ce=e.textController))}function ie(e){Le=e}function oe(){Re=[],ke=null,xe=!1,Pe=null,je=!1,Ue=!1,qe=void 0,Ke=void 0,Ye=!0,He=!1,Ne=!0,Ve=null,Xe=void 0,ze=!1,Ze=0}function ae(){Z(),Ee.reset(),q(je||Ue?b.PlayListTrace.FAILURE_STOP_REASON:b.PlayListTrace.USER_REQUEST_STOP_REASON);for(var e=0,t=Re?Re.length:0;e<t;e++){Re[e].reset(je)}r(),Te.reset(),pe.reset(),be.clearAllCurrentMetrics(),ye.setValue(null),he.reset(),Be.reset(),De.reset(),Fe&&(_e.detachMediaSource(Qe),Fe=null),Qe=null,ke&&(ke.setMediaElement(null),ke=null,Le=null,ye.getValue()&&ce.trigger(y.default.PROTECTION_DESTROYED,{data:ye.getValue().url})),ce.trigger(y.default.STREAM_TEARDOWN_COMPLETE),oe()}function se(e){e.metric===u.default.DVR_INFO&&e.mediaType===a.default.AUDIO&&_e.setSeekable(Fe,e.value.range.start,e.value.range.end)}var ue=40,le=this.context,ce=(0,p.default)(le).getInstance(),de=void 0,fe=void 0,ge=void 0,pe=void 0,he=void 0,ye=void 0,me=void 0,ve=void 0,be=void 0,Ae=void 0,_e=void 0,Ee=void 0,Te=void 0,Se=void 0,Ie=void 0,we=void 0,Ce=void 0,De=void 0,Me=void 0,Oe=void 0,Be=void 0,Re=void 0,Pe=void 0,ke=void 0,Le=void 0,Ne=void 0,xe=void 0,je=void 0,Ue=void 0,Fe=void 0,Qe=void 0,Ge=void 0,We=void 0,He=void 0,Ye=void 0,Ve=void 0,qe=void 0,Ke=void 0,ze=void 0,Xe=void 0,Je=void 0,Ze=void 0,$e=void 0,et=void 0,tt=void 0,rt=void 0;return de={initialize:e,getActiveStreamInfo:X,isTrackTypePresent:Y,switchToVideoElement:N,getStreamById:J,getStreamForTime:E,getTimeRelativeToStreamId:S,load:ee,loadWithManifest:te,getActiveStreamProcessors:w,setConfig:ne,setProtectionData:ie,reset:ae},function(){fe=(0,_.default)(le).getInstance().getLogger(de),Ee=(0,M.default)(le).getInstance(),Te=(0,B.default)(le).getInstance(),_e=(0,P.default)(le).getInstance(),De=(0,T.default)(le).getInstance(),Me=(0,I.default)(le).getInstance(),oe()}(),de}Object.defineProperty(t,"__esModule",{value:!0});var o=r(2),a=n(o),s=r(69),u=n(s),l=r(534),c=n(l),d=r(560),f=n(d),g=r(3),p=n(g),h=r(5),y=n(h),m=r(1),v=n(m),b=r(233),A=r(4),_=n(A),E=r(162),T=n(E),S=r(43),I=n(S),w=r(236),C=n(w),D=r(561),M=n(D),O=r(237),B=n(O),R=r(568),P=n(R),k=r(12),L=n(k),N=r(17),x=n(N);i.__dashjs_factory_name="StreamController",t.default=v.default.getSingletonFactory(i),e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(){ie.on(v.default.BUFFERING_COMPLETED,V,be),ie.on(v.default.DATA_UPDATE_COMPLETED,q,be)}function r(){ie.off(v.default.DATA_UPDATE_COMPLETED,q,be),ie.off(v.default.BUFFERING_COMPLETED,V,be)}function n(){Ce&&(ie.on(v.default.KEY_ERROR,R,be),ie.on(v.default.SERVER_CERTIFICATE_UPDATED,R,be),ie.on(v.default.LICENSE_REQUEST_COMPLETE,R,be),ie.on(v.default.KEY_SYSTEM_SELECTED,R,be),ie.on(v.default.KEY_SESSION_CREATED,R,be),ie.on(v.default.KEY_STATUSES_CHANGED,R,be))}function i(){Ce&&(ie.off(v.default.KEY_ERROR,R,be),ie.off(v.default.SERVER_CERTIFICATE_UPDATED,R,be),ie.off(v.default.LICENSE_REQUEST_COMPLETE,R,be),ie.off(v.default.KEY_SYSTEM_SELECTED,R,be),ie.off(v.default.KEY_SESSION_CREATED,R,be),ie.off(v.default.KEY_STATUSES_CHANGED,R,be))}function o(e,t){Se=e,Ce=t,n()}function s(e,t){if(!Ee){var r=void 0;return ie.on(v.default.CURRENT_TRACK_CHANGED,k,be),te()?(Q(),r=t):r=F(e,t),Ee=!0,r}return t}function l(e){for(var t=_e?_e.length:0,r=0;r<t;r++){_e[r].getFragmentModel().removeExecutedRequestsBeforeTime(_()+b()),_e[r].reset(!1,e)}_e=[],Ee=!1,Te=!1,ee(!1),ie.off(v.default.CURRENT_TRACK_CHANGED,k,be)}function d(){return Ee}function g(e){for(var t=0;t<_e.length;)P(_e[t].getMediaInfo())?(_e[t].setMediaSource(e),t++):(_e[t].reset(),_e.splice(t,1));for(var t=0;t<_e.length;t++)_e[t].dischargePreBuffer();if(0===_e.length){var r="No streams to play.";de.manifestError(r,"nostreams",oe.getValue()),de.error(new w.default(E.default.MANIFEST_ERROR_ID_NOSTREAMS_CODE,r+"nostreams",oe.getValue())),Ae.fatal(r)}}function h(){l(),Se=null,Ie={},we=!1}function m(){he&&he.pause(),De&&(De.reset(),De=null),h(),r(),i(),ee(!1)}function b(){return Se?Se.duration:NaN}function _(){return Se?Se.start:NaN}function T(){return Se?Se.id:null}function S(){return Se}function I(){return De}function C(){return Me}function D(){if(!(pe&&pe.hasOwnProperty("getBitrateList")&&le&&le.hasOwnProperty("getAllMediaInfoForType")&&le.hasOwnProperty("getEventsFor")))throw new Error(a.default.MISSING_CONFIG_ERROR)}function M(e){if(D(),e===a.default.IMAGE)return Me?Me.getBitrateList():[];var t=H(e);return pe.getBitrateList(t)}function O(){Oe&&Oe.start()}function B(){Oe&&Oe.stop()}function R(e){e.error&&(de.mediaKeySessionError(e.error.message),de.error(e.error),Ae.fatal(e.error.message),m())}function P(e){var t=e.type,r=void 0,n=void 0;if(t===a.default.MUXED&&e)return n="Multiplexed representations are intentionally not supported, as they are not compliant with the DASH-AVC/264 guidelines",Ae.fatal(n),de.manifestError(n,"multiplexedrep",oe.getValue()),de.error(new w.default(E.default.MANIFEST_ERROR_ID_MULTIPLEXED_CODE,n,oe.getValue())),!1;if(t===a.default.TEXT||t===a.default.FRAGMENTED_TEXT||t===a.default.EMBEDDED_TEXT||t===a.default.IMAGE)return!0;if(r=e.codec,Ae.debug(t+" codec: "+r),e.contentProtection&&!ce.supportsEncryptedMedia())de.capabilityError("encryptedmedia"),de.error(new w.default(E.default.CAPABILITY_MEDIAKEYS_ERROR_CODE,E.default.CAPABILITY_MEDIAKEYS_ERROR_MESSAGE));else if(!ce.supportsCodec(r))return n=t+"Codec ("+r+") is not supported.",Ae.error(n),!1;return!0}function k(e){if(e.newMediaInfo.streamInfo.id===Se.id){var t=K(e.newMediaInfo);if(t){var r=he.getTime();Ae.info("Stream -  Process track changed at current time "+r);var n=e.newMediaInfo,i=oe.getValue();Ae.debug("Stream -  Update stream controller"),i.refreshManifestOnSwitchTrack?(Ae.debug("Stream -  Refreshing manifest for switch track"),Re=e,ue.refreshManifest()):(t.selectMediaInfo(n),n.type!==a.default.FRAGMENTED_TEXT?(pe.updateTopQualityIndex(n),t.switchTrackAsked(),t.getFragmentModel().abortRequests()):(t.getScheduleController().setSeekTarget(NaN),le.setIndexHandlerTime(t,r),le.resetIndexHandler(t)))}}}function L(t,r,n,i){var o=(0,u.default)(ne).create({type:t.type,mimeType:t.mimeType,timelineConverter:fe,adapter:le,manifestModel:oe,dashManifestModel:ae,mediaPlayerModel:se,metricsModel:ge,dashMetrics:e.dashMetrics,baseURLController:e.baseURLController,stream:be,abrController:pe,domStorage:e.domStorage,playbackController:he,mediaController:ye,streamController:e.streamController,textController:me,errHandler:de});if(o.initialize(n),pe.updateTopQualityIndex(t),i?(o.setBuffer(i.buffer),o.getIndexHandler().setCurrentTime(i.currentTime),_e[i.replaceIdx]=o):_e.push(o),!i||!i.ignoreMediaInfo)if(t.type===a.default.TEXT||t.type===a.default.FRAGMENTED_TEXT){for(var s=void 0,l=0;l<r.length;l++)r[l].index===t.index&&(s=l),o.addMediaInfo(r[l]);o.selectMediaInfo(r[s])}else o.addMediaInfo(t,!0)}function N(t,r){var n=le.getAllMediaInfoForType(Se,t),i=null,o=void 0;if(!n||0===n.length)return void Ae.info("No "+t+" data.");for(var s=0,u=n.length;s<u;s++)if(i=n[s],t===a.default.EMBEDDED_TEXT)me.addEmbeddedTrack(i);else{if(!P(i))continue;ye.addTrack(i)}if(t!==a.default.EMBEDDED_TEXT&&0!==ye.getTracksFor(t,Se).length){if(t===a.default.IMAGE)return void(Me=(0,p.default)(ne).create({dashManifestModel:ae,adapter:le,baseURLController:e.baseURLController,stream:be,timelineConverter:e.timelineConverter}));(t!==a.default.FRAGMENTED_TEXT||t===a.default.FRAGMENTED_TEXT&&me.getTextDefaultEnabled())&&(ye.checkInitialMediaSettingsForType(t,Se),o=ye.getCurrentTrackFor(t,Se)),t!==a.default.FRAGMENTED_TEXT||me.getTextDefaultEnabled()||(o=ye.getTracksFor(t,Se)[0]),L(o,n,r)}}function x(){Oe||(Oe=(0,c.default)(ne).create(),Oe.setConfig({manifestUpdater:ue,playbackController:he}),j())}function j(){var e=le.getEventsFor(Se);Oe.addInlineEvents(e)}function U(e){Oe&&Oe.addInbandEvents(e)}function F(e,t){D();var r=ve.getElement();x(),we=!0,G(a.default.VIDEO),G(a.default.AUDIO),(null===r||r&&/^VIDEO$/i.test(r.nodeName))&&N(a.default.VIDEO,e),N(a.default.AUDIO,e),N(a.default.TEXT,e),N(a.default.FRAGMENTED_TEXT,e),N(a.default.EMBEDDED_TEXT,e),N(a.default.MUXED,e),N(a.default.IMAGE,e);var n=Y(t);if(Te=!0,we=!1,0===_e.length){var i="No streams to play.";de.manifestError(i,"nostreams",oe.getValue()),de.error(new w.default(E.default.MANIFEST_ERROR_ID_NOSTREAMS_CODE,i,oe.getValue())),Ae.fatal(i)}else W();return n}function Q(){if(we=!0,D(),G(a.default.VIDEO),G(a.default.AUDIO),Te=!0,we=!1,0===_e.length){var e="No streams to play.";de.manifestError(e,"nostreams",oe.getValue()),Ae.debug(e)}else W()}function G(e){var t=ae.getAdaptationForType(oe.getValue(),Se.index,e,Se);t&&Array.isArray(t.Representation_asArray)&&(t.Representation_asArray=t.Representation_asArray.filter(function(e,r){if(0===r)return!0;var n=ae.getCodec(t,r,!0);return!!ce.supportsCodec(n)||(Ae.error("[Stream] codec not supported: "+n),!1)}))}function W(){for(var e=_e.length,t=!!Ie.audio||!!Ie.video,r=t?new w.default(E.default.DATA_UPDATE_FAILED_ERROR_CODE,E.default.DATA_UPDATE_FAILED_ERROR_MESSAGE):null,n=0;n<e;n++)if(_e[n].isUpdating()||we)return;if(Te){if(Ce)for(var n=0;n<e&&_e[n];n++)_e[n].getType()!==a.default.AUDIO&&_e[n].getType()!==a.default.VIDEO&&_e[n].getType()!==a.default.FRAGMENTED_TEXT||Ce.initializeForMedia(_e[n].getMediaInfo());ie.trigger(v.default.STREAM_INITIALIZED,{streamInfo:Se,error:r})}}function H(e){for(var t=_e.length,r=null,n=0;n<t;n++)if(r=_e[n],r.getType()===e)return r.getMediaInfo();return null}function Y(e){for(var t={},r=0,n=_e.length;r<n;r++)t[_e[r].getType()]=_e[r].createBuffer(e).getBuffer();return t}function V(e){if(e.streamInfo===Se){var t=z(),r=t.length;if(0===r)return void Ae.warn("onBufferingCompleted - can't trigger STREAM_BUFFERING_COMPLETED because no streamProcessor is defined");for(var n=0;n<r;n++)if(!t[n].isBufferingCompleted()&&(t[n].getType()===a.default.AUDIO||t[n].getType()===a.default.VIDEO))return void Ae.warn("onBufferingCompleted - can't trigger STREAM_BUFFERING_COMPLETED because streamProcessor "+t[n].getType()+" is not buffering completed");Ae.debug("onBufferingCompleted - trigger STREAM_BUFFERING_COMPLETED"),ie.trigger(v.default.STREAM_BUFFERING_COMPLETED,{streamInfo:Se})}}function q(e){var t=e.sender.getStreamProcessor();t.getStreamInfo()===Se&&(Ie[t.getType()]=e.error,W())}function K(e){return e?z().filter(function(t){return t.getType()===e.type})[0]:null}function z(){for(var e=_e.length,t=[],r=void 0,n=void 0,i=0;i<e;i++)n=_e[i],(r=n.getType())!==a.default.AUDIO&&r!==a.default.VIDEO&&r!==a.default.FRAGMENTED_TEXT&&r!==a.default.TEXT||t.push(n);return t}function X(e){Ae.info("Manifest updated... updating data system wide."),Ee=!1,we=!0,Se=e,Oe&&j(),G(a.default.VIDEO),G(a.default.AUDIO);for(var t=0,r=_e.length;t<r;t++){var n=_e[t],i=le.getMediaInfoForType(Se,n.getType());pe.updateTopQualityIndex(i),n.addMediaInfo(i,!0)}if(Re){var i=Re.newMediaInfo;if("fragmentedText"!==i.type){var o=K(Re.oldMediaInfo);if(!o)return;o.switchTrackAsked(),Re=void 0}}we=!1,W()}function J(e){return Z(e,a.default.VIDEO)&&Z(e,a.default.AUDIO)}function Z(e,t){if(!e)return!1;var r=e.getStreamInfo(),n=S();if(!r||!n)return!1;var i=ae.getAdaptationForType(oe.getValue(),r.index,t,r),o=ae.getAdaptationForType(oe.getValue(),n.index,t,n);if(!i||!o)return!i&&!o;if(i.ContentProtection&&!o.ContentProtection||!i.ContentProtection&&o.ContentProtection)return!1;var a=i&&o&&i.mimeType===o.mimeType,s=o.Representation_asArray.map(function(e){return e.codecs}),u=i.Representation_asArray.map(function(e){return e.codecs}),l=u.some(function(e){return s.indexOf(e)>-1}),c=u.some(function(e){return s.some(function(t){return $(t,e)})});return l||c&&a}function $(e,t){var r=e.split(".")[0],n=Pe.find(function(e){return e.codec===r}),i=0===t.indexOf(r);return n?i||n.compatibleCodecs.some(function(e){return 0===t.indexOf(e)}):i}function ee(e){Be=e}function te(){return Be}function re(e,t){x(),N(a.default.VIDEO,e),N(a.default.AUDIO,e),N(a.default.TEXT,e),N(a.default.FRAGMENTED_TEXT,e),N(a.default.EMBEDDED_TEXT,e),N(a.default.MUXED,e),N(a.default.IMAGE,e),Y(t),ie.on(v.default.CURRENT_TRACK_CHANGED,k,be);for(var r=0;r<_e.length&&_e[r];r++)_e[r].getScheduleController().start();ee(!0)}e=e||{};var ne=this.context,ie=(0,y.default)(ne).getInstance(),oe=e.manifestModel,ae=e.dashManifestModel,se=e.mediaPlayerModel,ue=e.manifestUpdater,le=e.adapter,ce=e.capabilities,de=e.errHandler,fe=e.timelineConverter,ge=e.metricsModel,pe=e.abrController,he=e.playbackController,ye=e.mediaController,me=e.textController,ve=e.videoModel,be=void 0,Ae=void 0,_e=void 0,Ee=void 0,Te=void 0,Se=void 0,Ie=void 0,we=void 0,Ce=void 0,De=void 0,Me=void 0,Oe=void 0,Be=void 0,Re=void 0,Pe=[{codec:"avc1",compatibleCodecs:["avc3"]},{codec:"avc3",compatibleCodecs:["avc1"]}];return be={initialize:o,activate:s,deactivate:l,isActive:d,getDuration:b,getStartTime:_,getId:T,getStreamInfo:S,preload:re,getFragmentController:I,getThumbnailController:C,getBitrateListFor:M,startEventController:O,stopEventController:B,updateData:X,reset:m,getProcessors:z,setMediaSource:g,isCompatibleWithStream:J,getPreloaded:te,addInbandEvents:U},function(){Ae=(0,A.default)(ne).getInstance().getLogger(be),h(),De=(0,f.default)(ne).create({mediaPlayerModel:se,metricsModel:ge,errHandler:de}),t()}(),be}Object.defineProperty(t,"__esModule",{value:!0});var o=r(2),a=n(o),s=r(535),u=n(s),l=r(551),c=n(l),d=r(552),f=n(d),g=r(556),p=n(g),h=r(3),y=n(h),m=r(5),v=n(m),b=r(4),A=n(b),_=r(17),E=n(_),T=r(1),S=n(T),I=r(12),w=n(I);i.__dashjs_factory_name="Stream",t.default=S.default.getClassFactory(i),e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(t){Y=(0,A.default)(H).create({mimeType:K,timelineConverter:z,dashMetrics:se,metricsModel:ae,mediaPlayerModel:Z,baseURLController:e.baseURLController,errHandler:q}),Y.initialize(le),ee.registerStreamType(V,le),ye=$.getFragmentController().getModel(V),ye.setStreamProcessor(le),fe=G(V),ge=(0,p.default)(H).create({type:V,mimeType:K,metricsModel:ae,adapter:X,dashMetrics:se,dashManifestModel:ue,timelineConverter:z,mediaPlayerModel:Z,abrController:ee,playbackController:te,streamController:re,textController:ie,streamProcessor:le,mediaController:ne}),he=(0,y.default)(H).create(),he.setConfig({abrController:ee,domStorage:oe,metricsModel:ae,dashMetrics:se,dashManifestModel:ue,manifestModel:J,playbackController:te,timelineConverter:z,streamProcessor:le}),fe.initialize(t),ge.initialize(),he.initialize()}function r(e){me.push(e)}function n(e){var t=me.indexOf(e);-1!==t&&me.splice(t,1)}function i(){return me}function o(){me=[]}function s(){de=[],ce=null,o()}function l(e,t){Y.reset(),fe&&(fe.reset(e,t),fe=null),ge&&(ge.reset(),ge=null),he&&(he.reset(),he=null),ee&&ee.unRegisterStreamType(V),me.forEach(function(e){e.reset()}),s(),V=null,$=null,pe&&(pe.reset(),pe=null)}function d(){return!!he&&he.isUpdating()}function g(){return V}function h(){return he}function m(){return Y}function v(){return $?$.getFragmentController():null}function b(){return fe.getBuffer()}function _(e){fe.setBuffer(e)}function E(){return fe}function T(){return ye}function S(){return pe}function I(){return $?$.getStreamInfo():null}function w(e){$&&$.addInbandEvents(e)}function C(e){e===ce||e&&ce&&e.type!==ce.type||(ce=e),X.updateData(this)}function D(e,t){-1===de.indexOf(e)&&de.push(e),t&&this.selectMediaInfo(e)}function M(){return de}function O(){return ce}function B(){return fe.getMediaSource()}function R(e){fe.setMediaSource(e,O())}function P(){fe.dischargePreBuffer()}function k(){return ge}function L(e){return X.getRepresentationInfo(he,e)}function N(){return!!fe&&fe.getIsBufferingCompleted()}function x(e){return!!fe&&null!==fe.getRangeAt(e,0)}function j(){return fe.getBufferLevel()}function U(e,t){fe&&fe.switchInitData(I().id,e,t)}function F(e){return fe.getBuffer()||fe.createBuffer(ce,e)}function Q(){ge.switchTrackAsked()}function G(e){return e===a.default.VIDEO||e===a.default.AUDIO?(0,c.default)(H).create({type:e,metricsModel:ae,mediaPlayerModel:Z,manifestModel:J,errHandler:q,streamController:re,mediaController:ne,adapter:X,textController:ie,abrController:ee,playbackController:te,streamProcessor:le}):(0,f.default)(H).create({type:e,mimeType:K,metricsModel:ae,mediaPlayerModel:Z,manifestModel:J,errHandler:q,streamController:re,mediaController:ne,adapter:X,textController:ie,abrController:ee,playbackController:te,streamProcessor:le})}function W(){return te}e=e||{};var H=this.context,Y=void 0,V=e.type,q=e.errHandler,K=e.mimeType,z=e.timelineConverter,X=e.adapter,J=e.manifestModel,Z=e.mediaPlayerModel,$=e.stream,ee=e.abrController,te=e.playbackController,re=e.streamController,ne=e.mediaController,ie=e.textController,oe=e.domStorage,ae=e.metricsModel,se=e.dashMetrics,ue=e.dashManifestModel,le=void 0,ce=void 0,de=void 0,fe=void 0,ge=void 0,pe=void 0,he=void 0,ye=void 0,me=void 0;return le={initialize:t,isUpdating:d,getType:g,getBufferController:E,getFragmentModel:T,getScheduleController:k,getLiveEdgeFinder:S,getFragmentController:v,getRepresentationController:h,getIndexHandler:m,getPlaybackController:W,getRepresentationInfo:L,getBufferLevel:j,switchInitData:U,isBufferingCompleted:N,timeIsBuffered:x,createBuffer:F,getStreamInfo:I,selectMediaInfo:C,addMediaInfo:D,switchTrackAsked:Q,getMediaInfoArr:M,getMediaInfo:O,getMediaSource:B,setMediaSource:R,dischargePreBuffer:P,getBuffer:b,setBuffer:_,registerExternalController:r,unregisterExternalController:n,getExternalControllers:i,unregisterAllExternalController:o,addInbandEvents:w,reset:l},function(){te&&te.getIsDynamic()&&(pe=(0,u.default)(H).create({timelineConverter:z,streamProcessor:le})),s()}(),le}Object.defineProperty(t,"__esModule",{value:!0});var o=r(2),a=n(o),s=r(536),u=n(s),l=r(55),c=n(l),d=r(537),f=n(d),g=r(539),p=n(g),h=r(542),y=n(h),m=r(1),v=n(m),b=r(543),A=n(b);i.__dashjs_factory_name="StreamProcessor",t.default=v.default.getClassFactory(i),e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(){if(!(i&&i.hasOwnProperty("getExpectedLiveEdge")&&o&&o.hasOwnProperty("getRepresentationInfo")))throw new Error(u.default.MISSING_CONFIG_ERROR)}function r(){t();var e=o.getRepresentationInfo(),r=e.DVRWindow.end;return e.useCalculatedLiveEdgeTime&&(r=i.getExpectedLiveEdge(),i.setClientTimeOffset(r-e.DVRWindow.end)),r}function n(){i=null,o=null}e=e||{};var i=e.timelineConverter,o=e.streamProcessor;return{getLiveEdge:r,reset:n}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(1),a=n(o),s=r(2),u=n(s);i.__dashjs_factory_name="LiveEdgeFinder",t.default=a.default.getClassFactory(i),e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(){return T.getBufferControllerType()}function r(e,t){return T.initialize(e,t)}function n(e){return T.createBuffer(e)}function i(){return T.getType()}function o(){return T.getBuffer()}function s(e){T.setBuffer(e)}function u(){return T.getMediaSource()}function l(e){T.setMediaSource(e)}function d(){T.getStreamProcessor()}function g(e){T.setSeekStartTime(e)}function p(){return T.getBufferLevel()}function h(e){T.reset(e)}function y(){return T.getIsBufferingCompleted()}function m(e,t){T.switchInitData(e,t)}function v(){return T.getIsPruningInProgress()}function b(){return T.dischargePreBuffer()}function A(e){return T.getRangeAt(e)}function _(e){var t=o();t.timestampOffset===e||isNaN(e)||(t.timestampOffset=e)}e=e||{};var E=this.context,T=void 0,S=void 0;return S={getBufferControllerType:t,initialize:r,createBuffer:n,getType:i,getStreamProcessor:d,setSeekStartTime:g,getBuffer:o,setBuffer:s,getBufferLevel:p,setMediaSource:l,getMediaSource:u,getIsBufferingCompleted:y,getIsPruningInProgress:v,dischargePreBuffer:b,switchInitData:m,getRangeAt:A,reset:h,updateTimestampOffset:_},function(){T=e.type===a.default.FRAGMENTED_TEXT?(0,c.default)(E).create({type:e.type,metricsModel:e.metricsModel,mediaPlayerModel:e.mediaPlayerModel,manifestModel:e.manifestModel,errHandler:e.errHandler,streamController:e.streamController,mediaController:e.mediaController,adapter:e.adapter,textController:e.textController,abrController:e.abrController,playbackController:e.playbackController,streamProcessor:e.streamProcessor}):(0,f.default)(E).create({type:e.type,mimeType:e.mimeType,errHandler:e.errHandler,streamProcessor:e.streamProcessor})}(),S}Object.defineProperty(t,"__esModule",{value:!0});var o=r(2),a=n(o),s=r(1),u=n(s),l=r(55),c=n(l),d=r(538),f=n(d);i.__dashjs_factory_name="TextBufferController",t.default=u.default.getClassFactory(i),e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(){return T}function r(e){s(e),Q=(0,p.default)(M).getInstance()}function n(e){try{if(F=(0,y.default)(M).create(U,e),!j){var t=F.getBuffer();t.hasOwnProperty(a.default.INITIALIZE)&&t.initialize(k,L),j=!0}return F}catch(t){if(e.isText||-1!==e.codec.indexOf('codecs="stpp')||-1!==e.codec.indexOf('codecs="wvtt'))try{F=B.getTextSourceBuffer()}catch(e){R.mediaSourceError("Error creating "+P+" source buffer."),R.error(new A.default(E.default.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,E.default.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+P+" : "+e.message))}else R.mediaSourceError("Error creating "+P+" source buffer."),R.error(new A.default(E.default.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,E.default.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+P))}}function i(){return P}function o(){return F}function s(e){U=e}function l(){return U}function d(){return L}function f(){return!1}function g(){}function h(){}function m(){return 0}function b(){return x}function _(e){O.off(c.default.DATA_UPDATE_COMPLETED,S,N),O.off(c.default.INIT_FRAGMENT_LOADED,I,N),!e&&F&&(F.abort(),F.reset(),F=null)}function S(e){if(e.sender.getStreamProcessor()===L){Q.extract(L.getStreamInfo().id,e.sender.getCurrentRepresentation().id)||O.trigger(c.default.TIMED_TEXT_REQUESTED,{index:0,sender:e.sender})}}function I(e){e.fragmentModel===L.getFragmentModel()&&e.chunk.bytes&&(Q.save(e.chunk),F.append(e.chunk),O.trigger(c.default.STREAM_COMPLETED,{request:e.request,fragmentModel:e.fragmentModel}))}function w(e,t){Q.extract(e,t)||O.trigger(c.default.TIMED_TEXT_REQUESTED,{index:0,sender:N})}function C(){return null}function D(e){F.timestampOffset===e||isNaN(e)||(F.timestampOffset=e)}e=e||{};var M=this.context,O=(0,u.default)(M).getInstance(),B=(0,v.default)(M).getInstance(),R=e.errHandler,P=e.type,k=e.mimeType,L=e.streamProcessor,N=void 0,x=void 0,j=void 0,U=void 0,F=void 0,Q=void 0;return N={getBufferControllerType:t,initialize:r,createBuffer:n,getType:i,getStreamProcessor:d,setSeekStartTime:h,getBuffer:o,getBufferLevel:m,setMediaSource:s,getMediaSource:l,getIsBufferingCompleted:b,getIsPruningInProgress:f,dischargePreBuffer:g,switchInitData:w,getRangeAt:C,reset:_,updateTimestampOffset:D},function(){j=!1,U=null,x=!1,O.on(c.default.DATA_UPDATE_COMPLETED,S,N),O.on(c.default.INIT_FRAGMENT_LOADED,I,N)}(),N}Object.defineProperty(t,"__esModule",{value:!0});var o=r(2),a=n(o),s=r(3),u=n(s),l=r(5),c=n(l),d=r(1),f=n(d),g=r(162),p=n(g),h=r(222),y=n(h),m=r(153),v=n(m),b=r(12),A=n(b),_=r(17),E=n(_),T="NotFragmentedTextBufferController";i.__dashjs_factory_name=T,t.default=f.default.getClassFactory(i),e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(){Ae=ye.getFragmentModel(),Be=(0,g.default)(ne).create({abrController:de,dashMetrics:se,metricsModel:oe,mediaPlayerModel:ce,textController:pe}),Re=(0,h.default)(ne).create({adapter:ae,textController:pe}),ue.getIsTextTrack(e.mimeType)&&ie.on(_.default.TIMED_TEXT_REQUESTED,Q,this),ie.on(_.default.QUALITY_CHANGE_REQUESTED,T,this),ie.on(_.default.DATA_UPDATE_STARTED,N,this),ie.on(_.default.DATA_UPDATE_COMPLETED,w,this),ie.on(_.default.FRAGMENT_LOADING_COMPLETED,R,this),ie.on(_.default.STREAM_COMPLETED,B,this),ie.on(_.default.STREAM_INITIALIZED,M,this),ie.on(_.default.BUFFER_LEVEL_STATE_CHANGED,j,this),ie.on(_.default.BUFFER_CLEARED,x,this),ie.on(_.default.BYTES_APPENDED_END_FRAGMENT,k,this),ie.on(_.default.INIT_REQUESTED,p,this),ie.on(_.default.QUOTA_EXCEEDED,U,this),ie.on(_.default.PLAYBACK_SEEKING,W,this),ie.on(_.default.PLAYBACK_STARTED,G,this),ie.on(_.default.PLAYBACK_RATE_CHANGED,H,this),ie.on(_.default.PLAYBACK_TIME_UPDATED,P,this),ie.on(_.default.URL_RESOLUTION_FAILED,F,this),ie.on(_.default.FRAGMENT_LOADING_ABANDONED,L,this)}function r(){return!1===Te}function n(){if(!_e||ye.isBufferingCompleted())return void be.warn("Start denied to Schedule Controller");be.debug("Schedule Controller starts"),ee(),Te=!1,Ee&&(Ee=!1),f(0)}function i(){Te||(be.debug("Schedule Controller stops"),Te=!0,clearTimeout(Me))}function o(e,t){ke[t]=ke[t]||{};var r=de.getTopQualityIndexFor(e,t);return ke[t][e]!=r&&(be.info("Top quality "+e+" index has changed from "+ke[t][e]+" to "+r),ke[t][e]=r,!0)}function u(){var e=ye.getBufferController();if(Te||Ce||!e||fe.isPaused()&&!ce.getScheduleWhilePaused()||(he===a.default.FRAGMENTED_TEXT||he===a.default.TEXT)&&!pe.isTextEnabled())return void be.debug("Schedule stop!");if(e.getIsBufferingCompleted())return void be.debug("Schedule stop because buffering is completed!");c();var t=Ne.length>0,r=ye.getStreamInfo();if(je||isNaN(Le)||xe||t||o(_e.mediaInfo.type,r.id)||Be.execute(ye,ge.isTrackTypePresent(a.default.VIDEO))){y(!0),t||xe||de.checkPlaybackQuality(he),function(){var e=ye.getFragmentController();if(_e.quality!==Le)be.debug("Quality has changed, get init request for representationid = "+_e.id),Le=_e.quality,ye.switchInitData(_e.id);else if(xe)be.debug("Switch track has been asked, get init request for "+he+" with representationid = "+_e.id),je=me.getSwitchMode(he)===C.default.TRACK_SWITCH_MODE_ALWAYS_REPLACE,ye.switchInitData(_e.id,je),Le=_e.quality,xe=!1;else{var t=Ne.shift();if(e.isInitializationRequest(t))ye.switchInitData(t.representationId);else{var n=void 0;ye.getBufferController().getIsPruningInProgress()||!(n=Re.execute(ye,t))&&r.manifestInfo&&r.manifestInfo.isDynamic&&be.debug("Next fragment seems to be at the bleeding live edge and is not available yet. Rescheduling."),n?(be.debug("Next fragment request url is "+n.url),Ae.executeRequest(n)):(y(!1),f(ce.getLowLatencyEnabled()?100:500))}}}()}else f(500)}function c(){var e=1.5*_e.fragmentDuration,t=Ae.getRequests({state:m.default.FRAGMENT_MODEL_EXECUTED,time:fe.getTime()+e,threshold:0})[0];if(t&&-1===Ne.indexOf(t)&&!ue.getIsTextTrack(he)){var r=ce.getFastSwitchEnabled(),n=ye.getBufferLevel(),i=de.getAbandonmentStateFor(he),o=!me.isCurrentTrack(t.mediaInfo)&&me.getSwitchMode(t.mediaInfo.type)===C.default.TRACK_SWITCH_MODE_NEVER_REPLACE,a=t.quality<_e.quality;r&&(o||a)&&n>=e&&i!==l.default.ABANDON_LOAD?(E(t),be.debug("Reloading outdated fragment at index: ",t.index)):t.quality>_e.quality&&V(fe.getTime()+ye.getBufferLevel())}}function f(e){clearTimeout(Me),Me=setTimeout(u,e)}function p(e){e.sender&&e.sender.getStreamProcessor()===ye&&v(_e.quality)}function y(e){Ce!==e?Ce=e:be.debug("isFragmentProcessingInProgress is already equal to",e)}function v(e){var t=ae.getInitRequest(ye,e);t&&(y(!0),t.url=(0,D.replaceTokenForTemplate)(t.url,"Bandwidth",_e?_e.bandwidth:null),Ae.executeRequest(t))}function A(){xe=!0}function E(e){Ne.push(e)}function T(e){if(he===e.mediaType&&ye.getStreamInfo().id===e.streamInfo.id){if(null===(_e=ye.getRepresentationInfo(e.newQuality))||void 0===_e)throw new Error("Unexpected error! - currentRepresentationInfo is null or undefined");$(new Date,s.PlayListTrace.REPRESENTATION_SWITCH_STOP_REASON),ee()}}function S(e){if(fe&&Ae){var t=Ae.getRequests({state:m.default.FRAGMENT_MODEL_EXECUTED,time:fe.getTime(),threshold:0})[0];t&&fe.getTime()>=t.startTime&&((!Pe.mediaInfo||t.mediaInfo.type===Pe.mediaInfo.type&&t.mediaInfo.id!==Pe.mediaInfo.id)&&e&&ie.trigger(_.default.TRACK_CHANGE_RENDERED,{mediaType:he,oldMediaInfo:Pe.mediaInfo,newMediaInfo:t.mediaInfo}),t.quality===Pe.quality&&t.adaptationIndex===Pe.adaptationIndex||!e||ie.trigger(_.default.QUALITY_CHANGE_RENDERED,{mediaType:he,oldQuality:Pe.quality,newQuality:t.quality}),Pe={mediaInfo:t.mediaInfo,quality:t.quality,adaptationIndex:t.adaptationIndex})}}function w(e){e.error||e.sender.getStreamProcessor()!==ye||(_e=ae.convertDataToRepresentationInfo(e.currentRepresentation))}function M(e){e.error||ye.getStreamInfo().id!==e.streamInfo.id||(_e=ye.getRepresentationInfo(),Ee&&(fe.getIsDynamic()?(le.setTimeSyncCompleted(!0),O()):(Oe=fe.getStreamStartTime(!1),ye.getBufferController().setSeekStartTime(Oe))),Te&&n())}function O(){var e=ye.getLiveEdgeFinder();if(e){var t=e.getLiveEdge(),r=_e.mediaInfo.streamInfo.manifestInfo.DVRWindowSize/2,n=t-fe.computeLiveDelay(_e.fragmentDuration,r),i=ae.getFragmentRequest(ye,_e,n,{ignoreIsFinished:!0});if(i)if(ce.getLowLatencyEnabled()){var o=i.duration<ce.getLiveDelay()?i.startTime:i.startTime+i.duration-ce.getLiveDelay();fe.setLiveStartTime(o)}else fe.setLiveStartTime(i.startTime);else be.debug("setLiveEdgeSeekTarget : getFragmentRequest returned undefined request object");Oe=fe.getStreamStartTime(!1,t),ye.getBufferController().setSeekStartTime(Oe),Oe>_e.mediaInfo.streamInfo.start+_e.mediaInfo.streamInfo.duration&&fe.seek(Oe);var s=se.getCurrentManifestUpdate(oe.getMetricsFor(a.default.STREAM));oe.updateManifestUpdateInfo(s,{currentTime:Oe,presentationStartTime:t,latency:t-Oe,clientTimeOffset:le.getClientTimeOffset()})}}function B(e){e.fragmentModel===Ae&&(i(),y(!1),be.info("Stream is complete"))}function R(e){e.sender===Ae&&(be.info("OnFragmentLoadingCompleted - Url:",e.request?e.request.url:"undefined",", Range:",e.request.range?e.request.range:"undefined"),ue.getIsTextTrack(he)&&y(!1),e.error&&e.request.serviceLocation&&!Te&&(E(e.request),y(!1),f(0)),je&&(Ue=e.request))}function P(){S(!0)}function k(e){e.sender.getStreamProcessor()===ye&&(je&&!isNaN(e.startTime)&&(je=!1,Ae.addExecutedRequest(Ue)),y(!1),f(0))}function L(e){e.streamProcessor===ye&&(be.info("onFragmentLoadingAbandoned for "+he+", request: "+e.request.url+" has been aborted"),fe.isSeeking()||xe||(be.info("onFragmentLoadingAbandoned for "+he+", request: "+e.request.url+" has to be downloaded again, origin is not seeking process or switch track call"),E(e.request)),y(!1),f(0))}function N(e){e.sender.getStreamProcessor()===ye&&i()}function x(e){e.sender.getStreamProcessor()===ye&&(e.unintended?ye.getFragmentModel().removeExecutedRequestsAfterTime(e.from,ye.getStreamInfo().duration):ye.getFragmentModel().syncExecutedRequestsWithBufferedRange(ye.getBufferController().getBuffer().getAllBufferRanges(),ye.getStreamInfo().duration),e.hasEnoughSpaceToAppend&&Te&&n())}function j(e){e.sender.getStreamProcessor()!==ye||e.state!==d.default.BUFFER_EMPTY||fe.isSeeking()||(be.info("Buffer is empty! Stalling!"),$(new Date,s.PlayListTrace.REBUFFERING_REASON))}function U(e){e.sender.getStreamProcessor()===ye&&(i(),y(!1))}function F(){Ae.abortRequests(),i()}function Q(e){e.sender.getStreamProcessor()===ye&&pe.isTextEnabled()&&v(e.index)}function G(){!Te&&ce.getScheduleWhilePaused()||n()}function W(e){Oe=e.seekTime,q(0),Te&&n();var t=se.getCurrentManifestUpdate(oe.getMetricsFor(a.default.STREAM)),r=_e.DVRWindow&&fe?_e.DVRWindow.end-fe.getTime():NaN;oe.updateManifestUpdateInfo(t,{latency:r}),Ce?(be.debug("onPlaybackSeeking for "+he+", call fragmentModel.abortRequests in order to seek quicker"),Ae.abortRequests()):f(0)}function H(e){Ie&&(Ie.playbackspeed=e.playbackRate.toString())}function Y(){return Oe}function V(e){Oe=e}function q(e){De=e}function K(){return De}function z(){return Be.getBufferTarget(ye,ge.isTrackTypePresent(a.default.VIDEO))}function X(){return he}function J(e){Se=e}function Z(e,t){$(e,t),Se=null}function $(e,t){if(Se&&!1===we){var r=Ie.start,n=e.getTime()-r.getTime();Ie.duration=n,Ie.stopreason=t,Se.trace.push(Ie),we=!0}}function ee(){Se&&!0===we&&_e&&(we=!1,Ie=new s.PlayListTrace,Ie.representationid=_e.id,Ie.start=new Date,Ie.mstart=1e3*fe.getTime(),Ie.playbackspeed=fe.getPlaybackRate().toString())}function te(){Ce=!1,De=0,Oe=NaN,Se=null,Ie=null,we=!0,Ee=!0,Le=NaN,Pe={mediaInfo:void 0,quality:NaN,adaptationIndex:NaN},ke={},Ne=[],Te=!0,xe=!1,je=!1,Ue=null}function re(){ie.off(_.default.DATA_UPDATE_STARTED,N,this),ie.off(_.default.DATA_UPDATE_COMPLETED,w,this),ie.off(_.default.BUFFER_LEVEL_STATE_CHANGED,j,this),ie.off(_.default.QUALITY_CHANGE_REQUESTED,T,this),ie.off(_.default.FRAGMENT_LOADING_COMPLETED,R,this),ie.off(_.default.STREAM_COMPLETED,B,this),ie.off(_.default.STREAM_INITIALIZED,M,this),ie.off(_.default.QUOTA_EXCEEDED,U,this),ie.off(_.default.BYTES_APPENDED_END_FRAGMENT,k,this),ie.off(_.default.BUFFER_CLEARED,x,this),ie.off(_.default.INIT_REQUESTED,p,this),ie.off(_.default.PLAYBACK_RATE_CHANGED,H,this),ie.off(_.default.PLAYBACK_SEEKING,W,this),ie.off(_.default.PLAYBACK_STARTED,G,this),ie.off(_.default.PLAYBACK_TIME_UPDATED,P,this),ie.off(_.default.URL_RESOLUTION_FAILED,F,this),ie.off(_.default.FRAGMENT_LOADING_ABANDONED,L,this),ue.getIsTextTrack(he)&&ie.off(_.default.TIMED_TEXT_REQUESTED,Q,this),i(),S(!1),te()}e=e||{};var ne=this.context,ie=(0,b.default)(ne).getInstance(),oe=e.metricsModel,ae=e.adapter,se=e.dashMetrics,ue=e.dashManifestModel,le=e.timelineConverter,ce=e.mediaPlayerModel,de=e.abrController,fe=e.playbackController,ge=e.streamController,pe=e.textController,he=e.type,ye=e.streamProcessor,me=e.mediaController,ve=void 0,be=void 0,Ae=void 0,_e=void 0,Ee=void 0,Te=void 0,Se=void 0,Ie=void 0,we=void 0,Ce=void 0,De=void 0,Me=void 0,Oe=void 0,Be=void 0,Re=void 0,Pe=void 0,ke=void 0,Le=void 0,Ne=void 0,xe=void 0,je=void 0,Ue=void 0;return ve={initialize:t,getType:X,getSeekTarget:Y,setSeekTarget:V,setTimeToLoadDelay:q,getTimeToLoadDelay:K,replaceRequest:E,switchTrackAsked:A,isStarted:r,start:n,stop:i,reset:re,setPlayList:J,getBufferTarget:z,finalisePlayList:Z},function(){be=(0,I.default)(ne).getInstance().getLogger(ve),te()}(),ve}Object.defineProperty(t,"__esModule",{value:!0});var o=r(2),a=n(o),s=r(233),u=r(109),l=n(u),c=r(55),d=n(c),f=r(540),g=n(f),p=r(541),h=n(p),y=r(103),m=n(y),v=r(3),b=n(v),A=r(5),_=n(A),E=r(1),T=n(E),S=r(4),I=n(S),w=r(161),C=n(w),D=r(58);i.__dashjs_factory_name="ScheduleController",t.default=T.default.getClassFactory(i),e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(e,t){return!e||n.getCurrentBufferLevel(i.getReadOnlyMetricsFor(e.getType()))<r(e,t)}function r(e,t){var r=NaN;if(!e)return r;var l=e.getType(),c=e.getRepresentationInfo();if(l===a.default.FRAGMENTED_TEXT)r=s.isTextEnabled()?c.fragmentDuration:0;else if(l===a.default.AUDIO&&t){var d=n.getCurrentBufferLevel(i.getReadOnlyMetricsFor(a.default.VIDEO));r=isNaN(c.fragmentDuration)?d:Math.max(d,c.fragmentDuration)}else{var f=c.mediaInfo.streamInfo;if(u.isPlayingAtTopQuality(f)){var g=f.manifestInfo.duration>=o.getLongFormContentDurationThreshold();r=g?o.getBufferTimeAtTopQualityLongForm():o.getBufferTimeAtTopQuality()}else r=o.getStableBufferTime()}return r}e=e||{};var n=e.dashMetrics,i=e.metricsModel,o=e.mediaPlayerModel,s=e.textController,u=e.abrController;return{execute:t,getBufferTarget:r}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(2),a=n(o),s=r(1),u=n(s);i.__dashjs_factory_name="BufferLevelRule",t.default=u.default.getClassFactory(i),e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(e,t){if(!e)return null;var r=e.getRepresentationInfo(),o=r.mediaInfo,u=o.type,l=e.getScheduleController(),c=l.getSeekTarget(),d=!isNaN(c),g=e.getBufferController(),p=e.getPlaybackController().getNormalizedTime(),h=d?c:n.getIndexHandlerTime(e),y=!1,m=void 0;if(d&&l.setSeekTarget(NaN),isNaN(h)||u===a.default.FRAGMENTED_TEXT&&!i.isTextEnabled())return null;if(g){var v=g.getRangeAt(h),b=g.getRangeAt(p),A=g.getBuffer().getAllBufferRanges(),_=A?A.length:0;null===v&&null===b||d||((!v||b&&b.start!=v.start&&b.end!=v.end)&&(_>1&&u!==a.default.FRAGMENTED_TEXT&&(e.getFragmentModel().removeExecutedRequestsAfterTime(b.end),y=!0),v=b),s.debug("Prior to making a request for time, NextFragmentRequestRule is aligning index handler's currentTime with bufferedRange.end for",u,".",h,"was changed to",v.end),h=v.end)}if(t)h=t.startTime+t.duration/2,m=n.getFragmentRequest(e,r,h,{timeThreshold:0,ignoreIsFinished:!0});else{for(m=n.getFragmentRequest(e,r,h,{keepIdx:!d&&!y});m&&m.action!==f.default.ACTION_COMPLETE&&e.getFragmentModel().isFragmentLoaded(m);)m=n.getFragmentRequest(e,r);m&&(isNaN(m.startTime+m.duration)||n.setIndexHandlerTime(e,m.startTime+m.duration),m.delayLoadingTime=(new Date).getTime()+l.getTimeToLoadDelay(),l.setTimeToLoadDelay(0))}return m}e=e||{};var r=this.context,n=e.adapter,i=e.textController,o=void 0,s=void 0;return o={execute:t},function(){s=(0,u.default)(r).getInstance().getLogger(o)}(),o}Object.defineProperty(t,"__esModule",{value:!0});var o=r(2),a=n(o),s=r(4),u=n(s),l=r(1),c=n(l),d=r(56),f=n(d);i.__dashjs_factory_name="NextFragmentRequestRule",t.default=c.default.getClassFactory(i),e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(){function e(e){e.abrController&&(U=e.abrController),e.domStorage&&(W=e.domStorage),e.metricsModel&&(G=e.metricsModel),e.dashMetrics&&(V=e.dashMetrics),e.dashManifestModel&&(Y=e.dashManifestModel),e.playbackController&&(Q=e.playbackController),e.timelineConverter&&(H=e.timelineConverter),e.manifestModel&&(K=e.manifestModel),e.streamProcessor&&(q=e.streamProcessor)}function t(){F=q.getIndexHandler()}function r(){return q}function n(){return k}function i(){return L}function o(){return N}function s(){return j}function l(){k=null,L=-1,N=!0,x=[],U=null,Q=null,G=null,W=null,H=null,Y=null,V=null}function d(){R.off(y.default.QUALITY_CHANGE_REQUESTED,M,P),R.off(y.default.REPRESENTATION_UPDATED,w,P),R.off(y.default.WALLCLOCK_TIME_UPDATED,C,P),R.off(y.default.BUFFER_LEVEL_UPDATED,D,P),R.off(y.default.MANIFEST_VALIDITY_CHANGED,O,P),l()}function g(e,t,r){var n=q.getStreamInfo(),i=U.getTopQualityIndexFor(r,n.id),o=U.getMinAllowedIndexFor(r),s=void 0,u=void 0,l=null;if(N=!0,R.trigger(y.default.DATA_UPDATE_STARTED,{sender:this}),x=E(t),null!==k&&k.id==e.id||r===a.default.FRAGMENTED_TEXT?s=U.getQualityFor(r,n):(u=U.getThroughputHistory().getAverageThroughput(r),l=u||U.getInitialBitrateFor(r,n),s=U.getQualityForBitrate(q.getMediaInfo(),l)),void 0!==o&&s<o&&(s=o),s>i&&(s=i),j=v(s),k=e,r!==a.default.VIDEO&&r!==a.default.AUDIO&&r!==a.default.FRAGMENTED_TEXT)return N=!1,void R.trigger(y.default.DATA_UPDATE_COMPLETED,{sender:this,data:k,currentRepresentation:j});for(var c=0;c<x.length;c++)F.updateRepresentation(x[c],!0)}function h(){var e=new Date,t=s(),r=1e3*Q.getTime();G.addRepresentationSwitch(t.adaptation.type,e,r,t.id)}function m(){var e=q.getStreamInfo(),t=e?e.manifestInfo:null,r=t?t.isDynamic:null,n=H.calcSegmentAvailabilityRange(j,r);G.addDVRInfo(q.getType(),Q.getTime(),t,n)}function v(e){return null===e||void 0===e||e>=x.length?null:x[e]}function b(e){return x.indexOf(e)}function _(){for(var e=0,t=x.length;e<t;e++){var r=x[e].segmentInfoType;if(null===x[e].segmentAvailabilityRange||!A.default.hasInitialization(x[e])||(r===c.default.SEGMENT_BASE||r===c.default.BASE_URL)&&!x[e].segments)return!1}return!0}function E(e){return L=Y.getIndexForAdaptation(k,e.period.mpd.manifest,e.period.index),Y.getRepresentationsForAdaptation(e)}function T(e){for(var t=void 0,r=0,n=x.length;r<n;r++)t=x[r],t.segmentAvailabilityRange=H.calcSegmentAvailabilityRange(t,e)}function S(){x.forEach(function(e){e.segmentAvailabilityRange=null})}function I(e){var t=e,r=function(){if(!o()){N=!0,R.trigger(y.default.DATA_UPDATE_STARTED,{sender:P}),S();for(var e=0;e<x.length;e++)F.updateRepresentation(x[e],!0)}};N=!1,R.trigger(y.default.AST_IN_FUTURE,{delay:t}),setTimeout(r,t)}function w(e){if(e.sender.getStreamProcessor()===q&&o()){var t=e.representation,r=G.getMetricsFor(a.default.STREAM),n=G.getMetricsFor(s().adaptation.type),i=V.getCurrentManifestUpdate(r),l=!1,d=0,g=void 0,p=void 0,v=void 0;if(t.adaptation.period.mpd.manifest.type===c.default.DYNAMIC&&!t.adaptation.period.mpd.manifest.ignorePostponeTimePeriod){var A=t.segmentAvailabilityRange.end-t.segmentAvailabilityRange.start;d=1e3*(Q.computeLiveDelay(j.segmentDuration,q.getStreamInfo().manifestInfo.DVRWindowSize)-A)}if(d>0)return m(),I(d),p=new f.default(u.default.SEGMENTS_UPDATE_FAILED_ERROR_CODE,u.default.SEGMENTS_UPDATE_FAILED_ERROR_MESSAGE),void R.trigger(y.default.DATA_UPDATE_COMPLETED,{sender:this,data:k,currentRepresentation:j,error:p});if(i){for(var E=0;E<i.representationInfo.length;E++)if(g=i.representationInfo[E],g.index===t.index&&g.mediaType===q.getType()){l=!0;break}l||G.addManifestUpdateRepresentationInfo(i,t.id,t.index,t.adaptation.period.index,q.getType(),t.presentationTimeOffset,t.startNumber,t.segmentInfoType)}_()&&(N=!1,U.setPlaybackQuality(q.getType(),q.getStreamInfo(),b(j)),G.updateManifestUpdateInfo(i,{latency:j.segmentAvailabilityRange.end-Q.getTime()}),v=V.getCurrentRepresentationSwitch(n),v||h(),R.trigger(y.default.DATA_UPDATE_COMPLETED,{sender:this,data:k,currentRepresentation:j}))}}function C(e){e.isDynamic&&T(e.isDynamic)}function D(e){if(e.sender.getStreamProcessor()===q){K.getValue().doNotUpdateDVRWindowOnBufferUpdated||m()}}function M(e){if(e.mediaType===q.getType()&&q.getStreamInfo().id===e.streamInfo.id&&e.oldQuality!==e.newQuality){j=v(e.newQuality);var t=U.getThroughputHistory().getAverageThroughput(e.mediaType);isNaN(t)||W.setSavedBitrateSettings(e.mediaType,t),h()}}function O(e){if(e.newDuration){var t=s();if(t&&t.adaptation.period){t.adaptation.period.duration=e.newDuration}}}var B=this.context,R=(0,p.default)(B).getInstance(),P=void 0,k=void 0,L=void 0,N=void 0,x=void 0,j=void 0,U=void 0,F=void 0,Q=void 0,G=void 0,W=void 0,H=void 0,Y=void 0,V=void 0,q=void 0,K=void 0;return P={initialize:t,setConfig:e,getData:n,getDataIndex:i,isUpdating:o,updateData:g,getStreamProcessor:r,getCurrentRepresentation:s,getRepresentationForQuality:v,reset:d},function(){l(),R.on(y.default.QUALITY_CHANGE_REQUESTED,M,P),R.on(y.default.REPRESENTATION_UPDATED,w,P),R.on(y.default.WALLCLOCK_TIME_UPDATED,C,P),R.on(y.default.BUFFER_LEVEL_UPDATED,D,P),R.on(y.default.MANIFEST_VALIDITY_CHANGED,O,P)}(),P}Object.defineProperty(t,"__esModule",{value:!0});var o=r(2),a=n(o),s=r(17),u=n(s),l=r(28),c=n(l),d=r(12),f=n(d),g=r(3),p=n(g),h=r(5),y=n(h),m=r(1),v=n(m),b=r(164),A=n(b);i.__dashjs_factory_name="RepresentationController",t.default=v.default.getClassFactory(i),e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(e){return"webm"===e.split("/")[1].toLowerCase()}function r(t){re=t,H.initialize(),ne=(0,O.default)(Q).create(e,i())}function n(){return re?re.getType():null}function i(){var e=re?re.getStreamInfo():null;return e?e.manifestInfo.isDynamic:null}function o(){return re?re.getMediaInfo():null}function s(){return re}function l(e){te=e}function d(){return te}function p(){$=-1}function y(){p(),te=0,ee=null,re=null,ne=null}function v(){y(),G.off(h.default.INITIALIZATION_LOADED,U,J),G.off(h.default.SEGMENTS_LOADED,F,J)}function A(e,t,r){var n=X.resolve(r.path),i=void 0,o=void 0;return n&&t!==n.url&&W.isRelative(t)?(i=n.url,o=n.serviceLocation,t&&(i=W.resolve(t,i))):i=t,!W.isRelative(i)&&(e.url=i,e.serviceLocation=o,!0)}function _(e,t){var r=new c.default,n=e.adaptation.period,a=n.start,s=i();if(r.mediaType=t,r.type=g.HTTPRequest.INIT_SEGMENT_TYPE,r.range=e.range,r.availabilityStartTime=Y.calcAvailabilityStartTimeFromPresentationTime(a,n.mpd,s),r.availabilityEndTime=Y.calcAvailabilityEndTimeFromPresentationTime(a+n.duration,n.mpd,s),r.quality=e.index,r.mediaInfo=o(),r.representationId=e.id,A(r,e.initialization,e))return r}function E(e){return e?_(e,n()):null}function S(e){var t=!1,r=i();if(r||$!==e.availableSegmentsNumber){var n=(0,D.getSegmentByIndex)($,e);if(n){var o=parseFloat((n.presentationStartTime-e.adaptation.period.start).toFixed(5)),a=e.adaptation.period.duration;Z.debug(e.segmentInfoType+": "+o+" / "+a),t=(e.segmentInfoType!==u.default.SEGMENT_TIMELINE||!r)&&o>=a}else Z.debug("isMediaFinished - no segment found")}else t=!0;return t}function w(e){ne.getSegments(e,ee,$,M)}function M(e,t){if(e.segments=t,t&&t.length>0&&i()){var r=t[t.length-1],n=r.presentationStartTime,o=q.getMetricsFor(a.default.STREAM);Y.setExpectedLiveEdge(n),q.updateManifestUpdateInfo(V.getCurrentManifestUpdate(o),{presentationStartTime:n})}}function B(e){if(!e)throw new Error("no representation");e.segments=null,w(e)}function P(e,t){var r=C.default.hasInitialization(e),o=C.default.hasSegments(e),a=void 0;if(e.segmentDuration||e.segments||B(e),e.segmentAvailabilityRange=Y.calcSegmentAvailabilityRange(e,i()),e.segmentAvailabilityRange.end<e.segmentAvailabilityRange.start&&!e.useCalculatedLiveEdgeTime)return a=new f.default(b.default.SEGMENTS_UNAVAILABLE_ERROR_CODE,b.default.SEGMENTS_UNAVAILABLE_ERROR_MESSAGE,{availabilityDelay:e.segmentAvailabilityRange.start-e.segmentAvailabilityRange.end}),void G.trigger(h.default.REPRESENTATION_UPDATED,{sender:this,representation:e,error:a});t||p(),e.segmentDuration&&B(e),r||H.loadInitialization(e),o||H.loadSegments(e,n(),e.indexRange),r&&o&&G.trigger(h.default.REPRESENTATION_UPDATED,{sender:this,representation:e})}function L(e,t,r){var n=t.segments,i=n?n.length:null,o=-1,a=void 0,s=void 0,u=void 0,l=void 0,c=void 0;if(n&&i>0)for(r=void 0===r||null===r?K.getSegmentOverlapToleranceTime():r,c=0;c<i;c++)if(s=n[c],u=s.presentationStartTime,l=s.duration,a=void 0===r||null===r?l/2:r,e+a>=u&&e-a<u+l){o=s.availabilityIdx;break}return o}function N(e){if(null===e||void 0===e)return null;var t=new c.default,r=e.representation,i=r.adaptation.period.mpd.manifest.Period_asArray[r.adaptation.period.index].AdaptationSet_asArray[r.adaptation.index].Representation_asArray[r.index].bandwidth,a=e.media;return a=(0,D.replaceTokenForTemplate)(a,"Number",e.replacementNumber),a=(0,D.replaceTokenForTemplate)(a,"Time",e.replacementTime),a=(0,D.replaceTokenForTemplate)(a,"Bandwidth",i),a=(0,D.replaceIDForTemplate)(a,r.id),a=(0,D.unescapeDollarsInTemplate)(a),t.mediaType=n(),t.type=g.HTTPRequest.MEDIA_SEGMENT_TYPE,t.range=e.mediaRange,t.startTime=e.presentationStartTime,t.duration=e.duration,t.timescale=r.timescale,t.availabilityStartTime=e.availabilityStartTime,t.availabilityEndTime=e.availabilityEndTime,t.wallStartTime=e.wallStartTime,t.quality=r.index,t.index=e.availabilityIdx,t.mediaInfo=o(),t.adaptationIndex=r.adaptation.index,t.representationId=r.id,A(t,a,r)?t:void 0}function x(e,t,r){var a=void 0,s=void 0,l=void 0;if(!e)return null;var d=n(),f=$,g=!!r&&r.keepIdx,p=r?r.timeThreshold:null,h=!(!r||!r.ignoreIsFinished);return ee!==t&&(ee=t,Z.debug("Getting the request for "+d+" time : "+t)),w(e),$=L(t,e,p),$<0&&(w(e),$=L(t,e,p)),$>0&&Z.debug("Index for "+d+" time "+t+" is "+$),l=!h&&S(e),l?(a=new c.default,a.action=c.default.ACTION_COMPLETE,a.index=$,a.mediaType=d,a.mediaInfo=o(),Z.debug("Signal complete in getSegmentRequestForTime -",d)):(s=(0,D.getSegmentByIndex)($,e),a=N(s)),g&&f>=0&&($=e.segmentInfoType===u.default.SEGMENT_TIMELINE&&i()?$:f),a}function j(e){var t=void 0,r=void 0,a=void 0;if(!e||-1===$)return null;var s=n(),u=i();return ee=null,$++,Z.debug("Getting the next request at index: "+$+", type: "+s),!(0,D.getSegmentByIndex)($,e)&&u?(Z.debug("No segment found at index: "+$+". Wait for next loop"),w(e),$--,null):(a=S(e),a?(t=new c.default,t.action=c.default.ACTION_COMPLETE,t.index=$,t.mediaType=s,t.mediaInfo=o(),Z.debug("Signal complete -",s)):(w(e),r=(0,D.getSegmentByIndex)($,e),t=N(r),!r&&u&&$--),t)}function U(e){var t=e.representation;t.segments&&G.trigger(h.default.REPRESENTATION_UPDATED,{sender:this,representation:t})}function F(e){if(!e.error&&n()===e.mediaType){var t=e.segments,r=e.representation,o=[],a=0,s=void 0,u=void 0,l=void 0,c=void 0;for(s=0,u=t.length;s<u;s++)l=t[s],c=(0,D.getTimeBasedSegment)(Y,i(),r,l.startTime,l.duration,l.timescale,l.media,l.mediaRange,a),o.push(c),c=null,a++;r.segmentAvailabilityRange={start:o[0].presentationStartTime,end:o[u-1].presentationStartTime},r.availableSegmentsNumber=u,M(r,o),C.default.hasInitialization(r)&&G.trigger(h.default.REPRESENTATION_UPDATED,{sender:this,representation:r})}}e=e||{};var Q=this.context,G=(0,m.default)(Q).getInstance(),W=(0,I.default)(Q).getInstance(),H=void 0,Y=e.timelineConverter,V=e.dashMetrics,q=e.metricsModel,K=e.mediaPlayerModel,z=e.errHandler,X=e.baseURLController,J=void 0,Z=void 0,$=void 0,ee=void 0,te=void 0,re=void 0,ne=void 0;return J={initialize:r,getStreamProcessor:s,getInitRequest:E,getSegmentRequestForTime:x,getNextSegmentRequest:j,updateRepresentation:P,updateSegmentList:B,setCurrentTime:l,getCurrentTime:d,reset:v,resetIndex:p},function(){Z=(0,T.default)(Q).getInstance().getLogger(J),y(),H=t(e.mimeType)?(0,k.default)(Q).getInstance():(0,R.default)(Q).getInstance(),H.setConfig({baseURLController:X,metricsModel:q,mediaPlayerModel:K,errHandler:z}),G.on(h.default.INITIALIZATION_LOADED,U,J),G.on(h.default.SEGMENTS_LOADED,F,J)}(),J}Object.defineProperty(t,"__esModule",{value:!0});var o=r(2),a=n(o),s=r(28),u=n(s),l=r(56),c=n(l),d=r(12),f=n(d),g=r(19),p=r(5),h=n(p),y=r(3),m=n(y),v=r(17),b=n(v),A=r(1),_=n(A),E=r(4),T=n(E),S=r(43),I=n(S),w=r(164),C=n(w),D=r(58),M=r(544),O=n(M),B=r(234),R=n(B),P=r(549),k=n(P);i.__dashjs_factory_name="DashHandler",t.default=_.default.getClassFactory(i),e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){function r(e,t,r,i,o){var c=void 0,d=e.segmentInfoType;d!==a.default.SEGMENT_BASE&&d!==a.default.BASE_URL&&n(e,r)?(d===a.default.SEGMENT_TIMELINE?c=s.getSegments(e,t,r,o):d===a.default.SEGMENT_TEMPLATE?c=u.getSegments(e,t,r,o):d===a.default.SEGMENT_LIST&&(c=l.getSegments(e,t,r,o)),i&&i(e,c)):c=e.segments}function n(e,t){var r=e.segments,n=!1,i=void 0,o=void 0;return r&&0!==r.length?(o=r[0].availabilityIdx,i=r[r.length-1].availabilityIdx,n=t<o||t>i):n=!0,n}var i=this.context,o=void 0,s=void 0,u=void 0,l=void 0;return o={getSegments:r},function(){s=(0,c.default)(i).create(e,t),u=(0,f.default)(i).create(e,t),l=(0,p.default)(i).create(e,t)}(),o}Object.defineProperty(t,"__esModule",{value:!0});var o=r(28),a=n(o),s=r(1),u=n(s),l=r(545),c=n(l),d=r(546),f=n(d),g=r(547),p=n(g);i.__dashjs_factory_name="SegmentsGetter";var h=u.default.getClassFactory(i);t.default=h,e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){function r(){if(!i||!i.hasOwnProperty("calcMediaTimeFromPresentationTime")||!i.hasOwnProperty("calcSegmentAvailabilityRange"))throw new Error(u.default.MISSING_CONFIG_ERROR)}function n(e,n,o,a){if(r(),!e)throw new Error("no representation");void 0===n&&(n=null);var s=e.adaptation.period.mpd.manifest.Period_asArray[e.adaptation.period.index].AdaptationSet_asArray[e.adaptation.index].Representation_asArray[e.index].SegmentTemplate||e.adaptation.period.mpd.manifest.Period_asArray[e.adaptation.period.index].AdaptationSet_asArray[e.adaptation.index].Representation_asArray[e.index].SegmentList,u=s.SegmentTimeline,c=s.SegmentURL_asArray,d=e.availableSegmentsNumber>0,f=void 0;f=a||(o>-1||null!==n?10:1/0);var g=0,p=0,h=-1,y=[],m=null,v=void 0,b=void 0,A=void 0,_=void 0,E=void 0,T=void 0,S=void 0,I=void 0,w=void 0,C=void 0,D=void 0,M=function(r,n){var o=s.media,a=r.mediaRange;return c&&(o=c[n].media||"",a=c[n].mediaRange),(0,l.getTimeBasedSegment)(i,t,e,g,r.d,D,o,a,h,r.tManifest)};for(D=e.timescale,v=u.S_asArray,C=o,null!==n&&(m=i.calcMediaTimeFromPresentationTime(n,e)),A=0,_=v.length;A<_;A++){if(b=v[A],T=0,b.hasOwnProperty("r")&&(T=b.r),b.hasOwnProperty("t")&&(g=b.t,p=g/D),T<0){if((I=v[A+1])&&I.hasOwnProperty("t"))S=I.t/D;else{var O=e.segmentAvailabilityRange?e.segmentAvailabilityRange.end:i.calcSegmentAvailabilityRange(e,t).end;S=i.calcMediaTimeFromPresentationTime(O,e),e.segmentDuration=b.d/D}T=Math.ceil((S-p)/(b.d/D))-1}if(w){if(d)break;h+=T+1}else for(E=0;E<=T;E++)if(h++,y.length>f){if(w=!0,d)break}else null!==m?p>=m-b.d/D*1.5&&y.push(M(b,h)):h>=C&&y.push(M(b,h)),g+=b.d,p=g/D}return d||(e.availableSegmentsNumber=h+1),y}e=e||{};var i=e.timelineConverter;return{getSegments:n}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(1),a=n(o),s=r(2),u=n(s),l=r(58);i.__dashjs_factory_name="TimelineSegmentsGetter";var c=a.default.getClassFactory(i);t.default=c,e.exports=t.default},function(e,t,r){"use strict";function n(e,t){function r(e,r,i,o){var s=e.adaptation.period.mpd.manifest.Period_asArray[e.adaptation.period.index].AdaptationSet_asArray[e.adaptation.index].Representation_asArray[e.index].SegmentTemplate,u=e.segmentDuration,l=e.segmentAvailabilityRange,c=[],d=null,f=null,g=void 0,p=void 0,h=void 0,y=void 0,m=void 0;for(m=e.startNumber,g=isNaN(u)&&!t?{start:m,end:m}:(0,a.decideSegmentListRangeForTemplate)(n,t,e,r,i,o),h=g.start,y=g.end,p=h;p<=y;p++)f=(0,a.getIndexBasedSegment)(n,t,e,p),f.replacementTime=(m+p-1)*e.segmentDuration,d=s.media,d=(0,a.replaceTokenForTemplate)(d,"Number",f.replacementNumber),d=(0,a.replaceTokenForTemplate)(d,"Time",f.replacementTime),f.media=d,c.push(f),f=null;return isNaN(u)?e.availableSegmentsNumber=1:e.availableSegmentsNumber=Math.ceil((l.end-l.start)/u),c}var n=e.timelineConverter;return{getSegments:r}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(1),o=function(e){return e&&e.__esModule?e:{default:e}}(i),a=r(58);n.__dashjs_factory_name="TemplateSegmentsGetter";var s=o.default.getClassFactory(n);t.default=s,e.exports=t.default},function(e,t,r){"use strict";function n(e,t){function r(e,r,i,o){var s=e.adaptation.period.mpd.manifest.Period_asArray[e.adaptation.period.index].AdaptationSet_asArray[e.adaptation.index].Representation_asArray[e.index].SegmentList,u=s.SegmentURL_asArray.length,l=[],c=void 0,d=void 0,f=void 0,g=void 0,p=void 0,h=void 0,y=void 0;for(y=e.startNumber,g=(0,a.decideSegmentListRangeForTemplate)(n,t,e,r,i,o),p=Math.max(g.start,0),h=Math.min(g.end,s.SegmentURL_asArray.length-1),c=p;c<=h;c++)f=s.SegmentURL_asArray[c],d=(0,a.getIndexBasedSegment)(n,t,e,c),d.replacementTime=(y+c-1)*e.segmentDuration,d.media=f.media?f.media:"",d.mediaRange=f.mediaRange,d.index=f.index,d.indexRange=f.indexRange,l.push(d),d=null;return e.availableSegmentsNumber=u,l}e=e||{};var n=e.timelineConverter;return{getSegments:r}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(1),o=function(e){return e&&e.__esModule?e:{default:e}}(i),a=r(58);n.__dashjs_factory_name="ListSegmentsGetter";var s=o.default.getClassFactory(n);t.default=s,e.exports=t.default},function(e,t,r){"use strict";function n(e){function t(e){var t=new Date,i=e.request,u=new Headers;i.range&&u.append("Range","bytes="+i.range),i.requestStartDate||(i.requestStartDate=t),a&&a.modifyRequestHeader({setRequestHeader:function(e,t){u.append(e,t)}});var l=void 0;"function"==typeof window.AbortController&&(l=new AbortController,e.abortController=l);var c={method:e.method,headers:u,credentials:e.withCredentials?"include":void 0,signal:l?l.signal:void 0};fetch(e.url,c).then(function(t){e.response||(e.response={}),e.response.status=t.status,e.response.statusText=t.statusText,e.response.responseURL=t.url,t.ok||e.onerror();var i="",a=!0,u=!1,l=void 0;try{for(var c,d=t.headers.keys()[Symbol.iterator]();!(a=(c=d.next()).done);a=!0){var f=c.value;i+=f+": "+t.headers.get(f)+"\n"}}catch(e){u=!0,l=e}finally{try{!a&&d.return&&d.return()}finally{if(u)throw l}}if(e.response.responseHeaders=i,!t.body)return t.arrayBuffer().then(function(t){e.response.response=t;var r={loaded:t.byteLength,total:t.byteLength,stream:!1};e.progress(r),e.onload(),e.onend()});var g=parseInt(t.headers.get("Content-Length"),10),p=0,h=!1,y=new Uint8Array,m=0;e.reader=t.body.getReader();var v=[];r(e,function t(i){var a=i.value;if(i.done)return y&&(e.progress({loaded:p,total:isNaN(g)?p:g,lengthComputable:!0,time:o(v,p),stream:!0}),e.response.response=y.buffer),e.onload(),void e.onend();if(a&&a.length>0){y=n(y,a),p+=a.length,v.push({ts:Date.now(),bytes:a.length});var u=s.findLastTopIsoBoxCompleted(["moov","mdat"],y,m);if(u.found){var l=u.lastCompletedOffset+u.size,c=void 0;l===y.length?(c=y,y=new Uint8Array):(c=new Uint8Array(y.subarray(0,l)),y=y.subarray(l)),e.progress({data:c.buffer,lengthComputable:!1,noTrace:!0}),m=0}else m=u.lastCompletedOffset,h||(e.progress({lengthComputable:!1,noTrace:!0}),h=!0)}r(e,t)})}).catch(function(t){e.onerror&&e.onerror(t)})}function r(e,t){e.reader.read().then(t).catch(function(t){e.onerror&&200===e.response.status&&e.onerror(t)})}function n(e,t){if(0===e.length)return t;var r=new Uint8Array(e.length+t.length);return r.set(e),r.set(t,e.length),r}function i(e){if(e.abortController)e.abortController.abort();else if(e.reader)try{e.reader.cancel()}catch(e){}}function o(e,t){if(e=e.filter(function(r){return r.bytes>t/4/e.length}),e.length>1){var r=function(){var t=0,r=(e[e.length-1].ts-e[0].ts)/e.length;return e.forEach(function(n,i){var o=e[i+1];if(o){var a=o.ts-n.ts;t+=a<r?a:0}}),{v:t}}();if("object"==typeof r)return r.v}return null}e=e||{};var a=e.requestModifier,s=e.boxParser;return{load:t,abort:i,calculateDownloadedTime:o}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(1),o=function(e){return e&&e.__esModule?e:{default:e}}(i);n.__dashjs_factory_name="FetchLoader";var a=o.default.getClassFactory(n);t.default=a,e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(){function e(){D=(0,v.default)(h).getInstance(),R=(0,I.default)(h).create({errHandler:w,metricsModel:O,mediaPlayerModel:B,requestModifier:D})}function t(e){if(!(e.baseURLController&&e.metricsModel&&e.mediaPlayerModel&&e.errHandler))throw new Error(f.default.MISSING_CONFIG_ERROR);P=e.baseURLController,O=e.metricsModel,B=e.mediaPlayerModel,w=e.errHandler}function r(e){var t=[],r=void 0,n=void 0,i=(0,c.default)(h).create({data:e});for(i.consumeTagAndSize(S.Segment.Cues);i.moreData()&&i.consumeTagAndSize(S.Segment.Cues.CuePoint,!0);){for(r={},r.CueTime=i.parseTag(S.Segment.Cues.CuePoint.CueTime),r.CueTracks=[];i.moreData()&&i.consumeTag(S.Segment.Cues.CuePoint.CueTrackPositions,!0);){var o=i.getMatroskaCodedNum(),a=i.getPos();if(n={},n.Track=i.parseTag(S.Segment.Cues.CuePoint.CueTrackPositions.CueTrack),0===n.Track)throw new Error("Cue track cannot be 0");n.ClusterPosition=i.parseTag(S.Segment.Cues.CuePoint.CueTrackPositions.CueClusterPosition),r.CueTracks.push(n),i.setPos(a+o)}if(0===r.CueTracks.length)throw new Error("Mandatory cuetrack not found");t.push(r)}if(0===t.length)throw new Error("mandatory cuepoint not found");return t}function n(e,t,n,i){var o=void 0,a=void 0,s=void 0,u=void 0,l=void 0,c=void 0,d=void 0,f=void 0;for(a=r(e),s=[],l=0,c=a.length;l<c;l+=1)u=new A.default,o=0,o=l<a.length-1?a[l+1].CueTime-a[l].CueTime:i-a[l].CueTime,u.duration=o,u.startTime=a[l].CueTime,u.timescale=1e3,d=a[l].CueTracks[0].ClusterPosition+t,f=l<a.length-1?a[l+1].CueTracks[0].ClusterPosition+t-1:n-1,u.mediaRange=d+"-"+f,s.push(u);return E.debug("Parsed cues: "+s.length+" cues."),s}function i(e,t,r,i){var o=(0,c.default)(h).create({data:e}),a=void 0,s=void 0,u=r.split("-"),l=null,d={url:t,range:{start:parseFloat(u[0]),end:parseFloat(u[1])},request:l},f=void 0,p=void 0;for(E.debug("Parse EBML header: "+d.url),o.skipOverElement(S.EBML),o.consumeTag(S.Segment),f=o.getMatroskaCodedNum(),f+=o.getPos(),p=o.getPos();o.moreData()&&!o.consumeTagAndSize(S.Segment.Info,!0);)if(!(o.skipOverElement(S.Segment.SeekHead,!0)||o.skipOverElement(S.Segment.Tracks,!0)||o.skipOverElement(S.Segment.Cues,!0)||o.skipOverElement(S.Void,!0)))throw new Error("no valid top level element found");for(;void 0===a;){var y=o.getMatroskaCodedNum(!0),m=o.getMatroskaCodedNum();switch(y){case S.Segment.Info.Duration.tag:a=o[S.Segment.Info.Duration.parse](m);break;default:o.setPos(o.getPos()+m)}}l=g(d);var v=function(e){s=n(e,p,f,a),i(s)},b=function(){E.error("Download Error: Cues "+d.url),i(null)};R.load({request:l,success:v,error:b}),E.debug("Perform cues load: "+d.url+" bytes="+d.range.start+"-"+d.range.end)}function o(){if(!P||!P.hasOwnProperty("resolve"))throw new Error("setConfig function has to be called previously")}function s(e,t){o();var r=null,n=P.resolve(e.path),i=n?n.url:void 0,s=e.range.split("-"),u=t||{range:{start:parseFloat(s[0]),end:parseFloat(s[1])},request:r,url:i,init:!0};E.info("Start loading initialization."),r=g(u);var l=function(){m.trigger(a.default.INITIALIZATION_LOADED,{representation:e})},c=function(){m.trigger(a.default.INITIALIZATION_LOADED,{representation:e})};R.load({request:r,success:l,error:c}),E.debug("Perform init load: "+u.url)}function l(e,t,r,n){o();var a=null,s=P.resolve(e.path),u=s?s.url:void 0,l={bytesLoaded:0,bytesToLoad:8192,range:{start:0,end:8192},request:a,url:u,init:!1};n=n||d,a=g(l),E.debug("Parsing ebml header");var c=function(o){i(o,u,r,function(r){n(r,e,t)})},f=function(){n(null,e,t)};R.load({request:a,success:c,error:f})}function d(e,t,r){e?m.trigger(a.default.SEGMENTS_LOADED,{segments:e,representation:t,mediaType:r}):m.trigger(a.default.SEGMENTS_LOADED,{segments:null,representation:t,mediaType:r,error:new C.default(M.default.SEGMENT_BASE_LOADER_ERROR_CODE,M.default.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})}function g(e){var t=new T.default;return t.type=e.init?_.HTTPRequest.INIT_SEGMENT_TYPE:_.HTTPRequest.MEDIA_SEGMENT_TYPE,t.url=e.url,t.range=e.range.start+"-"+e.range.end,t}function p(){w=null,D=null}var h=this.context,m=(0,u.default)(h).getInstance(),b=void 0,E=void 0,S=void 0,w=void 0,D=void 0,O=void 0,B=void 0,R=void 0,P=void 0;return b={setConfig:t,initialize:e,loadInitialization:s,loadSegments:l,reset:p},function(){E=(0,y.default)(h).getInstance().getLogger(b),S={EBML:{tag:440786851,required:!0},Segment:{tag:408125543,required:!0,SeekHead:{tag:290298740,required:!0},Info:{tag:357149030,required:!0,TimecodeScale:{tag:2807729,required:!0,parse:"getMatroskaUint"},Duration:{tag:17545,required:!0,parse:"getMatroskaFloat"}},Tracks:{tag:374648427,required:!0},Cues:{tag:475249515,required:!0,CuePoint:{tag:187,required:!0,CueTime:{tag:179,required:!0,parse:"getMatroskaUint"},CueTrackPositions:{tag:183,required:!0,CueTrack:{tag:247,required:!0,parse:"getMatroskaUint"},CueClusterPosition:{tag:241,required:!0,parse:"getMatroskaUint"}}}}},Void:{tag:236,required:!0}}}(),b}Object.defineProperty(t,"__esModule",{value:!0});var o=r(5),a=n(o),s=r(3),u=n(s),l=r(550),c=n(l),d=r(2),f=n(d),g=r(1),p=n(g),h=r(4),y=n(h),m=r(110),v=n(m),b=r(163),A=n(b),_=r(19),E=r(56),T=n(E),S=r(86),I=n(S),w=r(12),C=n(w),D=r(17),M=n(D);i.__dashjs_factory_name="WebmSegmentBaseLoader",t.default=p.default.getSingletonFactory(i),e.exports=t.default},function(e,t,r){"use strict";function n(e){function t(){return g}function r(e){g=e}function n(e,t){var r=!0,n=0,i=void 0,o=void 0;if(void 0===t&&(t=!1),e.tag>16777215?(f.getUint32(g)!==e.tag&&(r=!1),n=4):e.tag>65535?(i=f.getUint16(g),o=f.getUint8(g+2),256*i+o!==e.tag&&(r=!1),n=3):e.tag>255?(f.getUint16(g)!==e.tag&&(r=!1),n=2):(f.getUint8(g)!==e.tag&&(r=!1),n=1),!r&&e.required&&!t)throw new Error("required tag not found");return r&&(g+=n),r}function i(e,t){var r=n(e,t);return r&&s(),r}function o(e){var t=void 0;return n(e),t=s(),d[e.parse](t)}function a(e,t){var r=n(e,t),i=void 0;return r&&(i=s(),g+=i),r}function s(e){var t=1,r=128,n=-1,i=0,o=f.getUint8(g),a=0;for(a=0;a<8;a+=1){if((o&r)===r){i=void 0===e?o&~r:o,n=a;break}r>>=1}for(a=0;a<n;a+=1,t+=1)i=i<<8|255&f.getUint8(g+t);return g+=t,i}function u(e){var t=void 0;switch(e){case 4:t=f.getFloat32(g),g+=4;break;case 8:t=f.getFloat64(g),g+=8}return t}function l(e){for(var t=0,r=0;r<e;r+=1)t<<=8,t|=255&f.getUint8(g+r);return g+=e,t}function c(){return g<f.byteLength}e=e||{};var d=void 0,f=new DataView(e.data),g=0;return d={getPos:t,setPos:r,consumeTag:n,consumeTagAndSize:i,parseTag:o,skipOverElement:a,getMatroskaCodedNum:s,getMatroskaFloat:u,getMatroskaUint:l,moreData:c}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(1),o=function(e){return e&&e.__esModule?e:{default:e}}(i);n.__dashjs_factory_name="EBMLParser",t.default=o.default.getClassFactory(n),e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(){function e(){O=!1,E={},T={},S={},I=null,w=100,C=w/1e3}function t(){if(!D||!M)throw new Error("setConfig function has to be called previously")}function r(){null!==I&&O&&(clearInterval(I),I=null,O=!1)}function n(){t(),_.debug("Start Event Controller"),O||isNaN(w)||(O=!0,I=setInterval(l,w))}function i(e){if(t(),E={},e)for(var r=0;r<e.length;r++){var n=e[r];E[n.id]=n,_.debug("Add inline event with id "+n.id)}_.debug("Added "+e.length+" inline events")}function o(e){t();for(var r=0;r<e.length;r++){var n=e[r];n.id in T?_.debug("Repeated event with id "+n.id):(n.eventStream.schemeIdUri===y&&void 0===T[n.id]&&a(n),T[n.id]=n,_.debug("Add inband event with id "+n.id))}}function a(e){if(e.eventStream.value==m){var t=e.eventStream.timescale||1,r=e.presentationTime/t,n=void 0;n=4294967295==e.presentationTime?NaN:(e.presentationTime+e.duration)/t,_.info("Manifest validity changed: Valid until: "+r+"; remaining duration: "+n),b.trigger(f.default.MANIFEST_VALIDITY_CHANGED,{id:e.id,validUntil:r,newDuration:n,newManifestValidAfter:NaN})}}function s(){if(S)for(var e=M.getTime(),t=Object.keys(S),r=0;r<t.length;r++){var n=t[r],i=S[n];null!==i&&(i.duration+i.presentationTime)/i.eventStream.timescale<e&&(_.debug("Remove Event "+n+" at time "+e),i=null,delete S[n])}}function l(){g(T),g(E),s()}function d(){t(),D.refreshManifest()}function g(e){var t,r=M.getTime();if(e)for(var n=Object.keys(e),i=0;i<n.length;i++){var o=n[i],a=e[o];void 0!==a&&(0===(t=a.presentationTime/a.eventStream.timescale)||t<=r&&t+C>r)&&(_.debug("Start Event "+o+" at "+r),a.duration>0&&(S[o]=a),a.eventStream.schemeIdUri==y&&a.eventStream.value==m?0===a.duration&&0===a.presentationTimeDelta||d():b.trigger(a.eventStream.schemeIdUri,{event:a}),delete e[o])}}function p(e){e&&(e.manifestUpdater&&(D=e.manifestUpdater),e.playbackController&&(M=e.playbackController))}function h(){r(),e()}var y="urn:mpeg:dash:event:2012",m=1,v=this.context,b=(0,c.default)(v).getInstance(),A=void 0,_=void 0,E=void 0,T=void 0,S=void 0,I=void 0,w=void 0,C=void 0,D=void 0,M=void 0,O=void 0;return A={addInlineEvents:i,addInbandEvents:o,stop:r,start:n,setConfig:p,reset:h},function(){_=(0,u.default)(v).getInstance().getLogger(A),e()}(),A}Object.defineProperty(t,"__esModule",{value:!0});var o=r(1),a=n(o),s=r(4),u=n(s),l=r(3),c=n(l),d=r(5),f=n(d);i.__dashjs_factory_name="EventController",t.default=a.default.getClassFactory(i),e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(e){var t=E[e];return t||(t=(0,d.default)(c).create({metricsModel:v,fragmentLoader:(0,g.default)(c).create({metricsModel:v,mediaPlayerModel:y,errHandler:p,requestModifier:(0,h.default)(c).getInstance()})}),E[e]=t),t}function r(e){return e&&e.type&&e.type===s.HTTPRequest.INIT_SEGMENT_TYPE}function n(){for(var e in E)E[e].reset();E={}}function i(){f.off(b.default.FRAGMENT_LOADING_COMPLETED,u,this),f.off(b.default.FRAGMENT_LOADING_PROGRESS,u,this),n()}function o(e,t,r,n){var i=new l.default;return i.streamId=r,i.mediaInfo=t.mediaInfo,i.segmentType=t.type,i.start=t.startTime,i.duration=t.duration,i.end=i.start+i.duration,i.bytes=e,i.index=t.index,i.quality=t.quality,i.representationId=t.representationId,i.endFragment=n,i}function u(e){if(E[e.request.mediaType]===e.sender){var t=e.request,n=e.response,i=r(t),s=t.mediaInfo.streamInfo;if(e.error&&(e.request.mediaType!==a.default.AUDIO&&e.request.mediaType!==a.default.VIDEO&&e.request.mediaType!==a.default.FRAGMENTED_TEXT||f.trigger(b.default.SERVICE_LOCATION_BLACKLIST_ADD,{entry:e.request.serviceLocation})),!n||!s)return void _.warn("No "+t.mediaType+" bytes to push or stream is inactive.");var u=o(n,t,s.id,e.type!==b.default.FRAGMENT_LOADING_PROGRESS);f.trigger(i?b.default.INIT_FRAGMENT_LOADED:b.default.MEDIA_FRAGMENT_LOADED,{chunk:u,fragmentModel:e.sender})}}e=e||{};var c=this.context,f=(0,m.default)(c).getInstance(),p=e.errHandler,y=e.mediaPlayerModel,v=e.metricsModel,A=void 0,_=void 0,E=void 0;return A={getModel:t,isInitializationRequest:r,reset:i},function(){_=(0,T.default)(c).getInstance().getLogger(A),n(),f.on(b.default.FRAGMENT_LOADING_COMPLETED,u,A),f.on(b.default.FRAGMENT_LOADING_PROGRESS,u,A)}(),A}Object.defineProperty(t,"__esModule",{value:!0});var o=r(2),a=n(o),s=r(19),u=r(553),l=n(u),c=r(103),d=n(c),f=r(554),g=n(f),p=r(110),h=n(p),y=r(3),m=n(y),v=r(5),b=n(v),A=r(1),_=n(A),E=r(4),T=n(E);i.__dashjs_factory_name="FragmentController",t.default=_.default.getClassFactory(i),e.exports=t.default},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(){n(this,e),this.streamId=null,this.mediaInfo=null,this.segmentType=null,this.quality=NaN,this.index=NaN,this.bytes=null,this.start=NaN,this.end=NaN,this.duration=NaN,this.representationId=null,this.endFragment=null};t.default=i,e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(e){var t=function(t){s.trigger(y.default.CHECK_FOR_EXISTENCE_COMPLETED,{request:e,exists:t})};if(e){var r=new u.default(e.url);d.load({request:r,success:function(){t(!0)},error:function(){t(!1)}})}else t(!1)}function r(e){var t=function(t,r){s.trigger(y.default.LOADING_COMPLETED,{request:e,response:t||null,error:r||null,sender:l})};e?d.load({request:e,progress:function(t){s.trigger(y.default.LOADING_PROGRESS,{request:e,stream:t.stream}),t.data&&s.trigger(y.default.LOADING_DATA_PROGRESS,{request:e,response:t.data||null,error:null,sender:l})},success:function(e){t(e)},error:function(e,r,n){t(void 0,new c.default(v.default.FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE,n,r))},abort:function(e){e&&s.trigger(y.default.LOADING_ABANDONED,{request:e,mediaType:e.mediaType,sender:l})}}):t(void 0,new c.default(v.default.FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE,v.default.FRAGMENT_LOADER_NULL_REQUEST_ERROR_MESSAGE))}function n(){d&&d.abort()}function i(){d&&(d.abort(),d=null)}e=e||{};var o=this.context,s=(0,f.default)(o).getInstance(),l=void 0,d=void 0;return l={checkForExistence:t,load:r,abort:n,reset:i},function(){var t=(0,p.default)(o).getInstance();d=(0,a.default)(o).create({errHandler:e.errHandler,metricsModel:e.metricsModel,mediaPlayerModel:e.mediaPlayerModel,requestModifier:e.requestModifier,boxParser:t,useFetch:e.mediaPlayerModel.getLowLatencyEnabled()})}(),l}Object.defineProperty(t,"__esModule",{value:!0});var o=r(86),a=n(o),s=r(555),u=n(s),l=r(12),c=n(l),d=r(3),f=n(d),g=r(84),p=n(g),h=r(5),y=n(h),m=r(17),v=n(m),b=r(1),A=n(b);i.__dashjs_factory_name="FragmentLoader",t.default=A.default.getClassFactory(i),e.exports=t.default},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t,r){for(var n=!0;n;){var i=e,o=t,a=r;n=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=o,r=a,n=!0,s=l=void 0}},a=r(56),s=function(e){return e&&e.__esModule?e:{default:e}}(a),u=function(e){function t(e){n(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.url=e||null,this.checkForExistenceOnly=!0}return i(t,e),t}(s.default);t.default=u,e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(e,t){var n=d.getCurrentTrack();if(!n||n.segmentDuration<=0||void 0===e||null===e)return null;var i=Math.floor(e/n.segmentDuration),o=e%n.segmentDuration,a=Math.floor(o*n.tilesHor*n.tilesVert/n.segmentDuration),s=new c.default;return s.width=Math.floor(n.widthPerTile),s.height=Math.floor(n.heightPerTile),s.x=Math.floor(a%n.tilesHor)*n.widthPerTile,s.y=Math.floor(a/n.tilesHor)*n.heightPerTile,"readThumbnail"in n?n.readThumbnail(e,function(e){s.url=e,t&&t(s)}):(s.url=r(n,i),t&&t(s),s)}function r(e,t){var r=t+e.startNumber,n=(0,h.replaceTokenForTemplate)(e.templateUrl,"Number",r);return n=(0,h.replaceTokenForTemplate)(n,"Time",(r-1)*e.segmentDuration),n=(0,h.replaceTokenForTemplate)(n,"Bandwidth",e.bandwidth),(0,h.unescapeDollarsInTemplate)(n)}function n(e){d.setTrackByIndex(e)}function i(){return d.getCurrentTrackIndex()}function o(){var e=0;return d.getTracks().map(function(t){var r=new p.default;return r.mediaType=u.default.IMAGE,r.qualityIndex=e++,r.bitrate=t.bitrate,r.width=t.width,r.height=t.height,r})}function a(){d&&d.reset()}var s=this.context,l=void 0,d=void 0;return l={get:t,setTrackByIndex:n,getCurrentTrackIndex:i,getBitrateList:o,reset:a},function(){a(),d=(0,f.default)(s).create({dashManifestModel:e.dashManifestModel,adapter:e.adapter,baseURLController:e.baseURLController,stream:e.stream,timelineConverter:e.timelineConverter})}(),l}Object.defineProperty(t,"__esModule",{value:!0});var o=r(1),a=n(o),s=r(2),u=n(s),l=r(557),c=n(l),d=r(558),f=n(d),g=r(232),p=n(g),h=r(58);i.__dashjs_factory_name="ThumbnailController",t.default=a.default.getClassFactory(i),e.exports=t.default},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(){n(this,e),this.url=null,this.width=null,this.height=null,this.x=null,this.y=null};t.default=i,e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(){g(),w=(0,_.default)(y).create({}),D=(0,b.default)(y).getInstance(),C=(0,m.default)(y).getInstance(),C.setConfig({baseURLController:T,metricsModel:O,mediaPlayerModel:B,errHandler:R}),n()}function r(e,t){var r=[],n=0,i=void 0,o=void 0,a=void 0,s=void 0;for(i=0,o=e.length;i<o;i++)a=e[i],s=(0,h.getTimeBasedSegment)(M,v.getIsDynamic(),t,a.startTime,a.duration,a.timescale,a.media,a.mediaRange,n),r.push(s),s=null,n++;return r}function n(){if(S&&v&&A){var e=S.getStreamInfo();if(e){var t=A.getMediaInfoForType(e,a.default.IMAGE);if(t){var r=A.getDataForMedia(t);if(r){var n=v.getRepresentationsForAdaptation(r);n&&n.length>0&&n.forEach(function(e){e.segmentInfoType===u.default.SEGMENT_TEMPLATE&&e.segmentDuration>0&&e.media&&i(e),e.segmentInfoType===u.default.SEGMENT_BASE&&i(e,!0)}),k.length>0&&(k.sort(function(e,t){return e.bitrate-t.bitrate}),L=k.length-1)}}}}}function i(e,t){var n=new f.default;n.id=e.id,n.bitrate=e.bandwidth,n.width=e.width,n.height=e.height,n.tilesHor=1,n.tilesVert=1,e.essentialProperties&&e.essentialProperties.forEach(function(e){if(E.indexOf(e.schemeIdUri)>=0&&e.value){var t=e.value.split("x");2!==t.length||isNaN(t[0])||isNaN(t[1])||(n.tilesHor=parseInt(t[0],10),n.tilesVert=parseInt(t[1],10))}}),t?C.loadSegments(e,a.default.IMAGE,e.indexRange,{},function(e,t){var i=[];e=r(e,t),n.segmentDuration=e[0].duration,n.readThumbnail=function(r,n){var o=null;i.some(function(e){if(e.start<=r&&e.end>r)return o=e.url,!0}),o?n(o):e.some(function(e){if(e.mediaStartTime<=r&&e.mediaStartTime+e.duration>r){var o=T.resolve(t.path);return w.load({method:"get",url:o.url,request:{range:e.mediaRange,responseType:"arraybuffer"},onload:function(t){var r=D.getSamplesInfo(t.target.response),o=new Blob([t.target.response.slice(r.sampleList[0].offset,r.sampleList[0].offset+r.sampleList[0].size)],{type:"image/jpeg"}),a=window.URL.createObjectURL(o);i.push({start:e.mediaStartTime,end:e.mediaStartTime+e.duration,url:a}),n&&n(a)}}),!0}})}}):(n.startNumber=e.startNumber,n.segmentDuration=e.segmentDuration,n.timescale=e.timescale,n.templateUrl=o(e)),n.tilesHor>0&&n.tilesVert>0&&(n.widthPerTile=n.width/n.tilesHor,n.heightPerTile=n.height/n.tilesVert,k.push(n))}function o(e){var t=I.isRelative(e.media)?I.resolve(e.media,T.resolve(e.path).url):e.media;return t?(0,h.replaceIDForTemplate)(t,e.id):""}function s(){return k}function l(){return L}function c(){return L<0?null:k[L]}function d(e){k&&0!==k.length&&(e>=k.length&&(e=k.length-1),L=e)}function g(){k=[],L=-1}var y=this.context,v=e.dashManifestModel,A=e.adapter,T=e.baseURLController,S=e.stream,I=(0,p.default)(y).getInstance(),w=void 0,C=void 0,D=void 0,M=e.timelineConverter,O=e.metricsModel,B=e.mediaPlayerModel,R=e.errHandler,P=void 0,k=void 0,L=void 0;return P={initialize:t,getTracks:s,reset:g,setTrackByIndex:d,getCurrentTrack:c,getCurrentTrackIndex:l},t(),P}Object.defineProperty(t,"__esModule",{value:!0});var o=r(2),a=n(o),s=r(28),u=n(s),l=r(1),c=n(l),d=r(559),f=n(d),g=r(43),p=n(g),h=r(58),y=r(234),m=n(y),v=r(84),b=n(v),A=r(235),_=n(A),E=["http://dashif.org/thumbnail_tile","http://dashif.org/guidelines/thumbnail_tile"];i.__dashjs_factory_name="ThumbnailTracks",t.default=c.default.getClassFactory(i),e.exports=t.default},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(){n(this,e),this.bitrate=0,this.width=0,this.height=0,this.tilesHor=0,this.tilesVert=0,this.widthPerTile=0,this.heightPerTile=0,this.startNumber=0,this.segmentDuration=0,this.timescale=0,this.templateUrl="",this.id=""};t.default=i,e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(){function e(e){e&&(e.manifestModel&&(C=e.manifestModel),e.dashManifestModel&&(D=e.dashManifestModel),e.mediaPlayerModel&&(O=e.mediaPlayerModel),e.manifestLoader&&(w=e.manifestLoader),e.errHandler&&(M=e.errHandler))}function t(){n(),b.on(u.default.STREAMS_COMPOSED,m,this),b.on(u.default.PLAYBACK_STARTED,h,this),b.on(u.default.PLAYBACK_PAUSED,y,this),b.on(u.default.INTERNAL_MANIFEST_LOADED,g,this)}function r(e){c(e)}function n(){E=NaN,I=!1,S=!0,o()}function i(){b.off(u.default.PLAYBACK_STARTED,h,this),b.off(u.default.PLAYBACK_PAUSED,y,this),b.off(u.default.STREAMS_COMPOSED,m,this),b.off(u.default.INTERNAL_MANIFEST_LOADED,g,this),n()}function o(){null!==T&&(clearInterval(T),T=null)}function s(e){o(),isNaN(e)&&!isNaN(E)&&(e=1e3*E),isNaN(e)||(_.debug("Refresh manifest in "+e+" milliseconds."),T=setTimeout(d,e))}function l(){I=!0;var e=C.getValue(),t=e.url,r=D.getLocation(e);r&&(t=r),w.load(t)}function c(e){C.setValue(e);var t=new Date,r=(t.getTime()-e.loadedTime.getTime())/1e3;E=D.getManifestUpdatePeriod(e,r),1e3*E>2147483647&&(E=2147483.647),b.trigger(u.default.MANIFEST_UPDATED,{manifest:e}),_.info("Manifest has been refreshed at "+t+"["+t.getTime()/1e3+"] "),S||s()}function d(){if(!S||O.getScheduleWhilePaused())return I?void s(O.getManifestUpdateRetryInterval()):void l()}function g(e){e.error?e.error.code===p.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE&&M.error(e.error):c(e.manifest)}function h(){S=!1,s()}function y(){S=!0,o()}function m(){I=!1}var v=this.context,b=(0,a.default)(v).getInstance(),A=void 0,_=void 0,E=void 0,T=void 0,S=void 0,I=void 0,w=void 0,C=void 0,D=void 0,M=void 0,O=void 0;return A={initialize:t,setManifest:r,refreshManifest:l,setConfig:e,reset:i},function(){_=(0,f.default)(v).getInstance().getLogger(A)}(),A}Object.defineProperty(t,"__esModule",{value:!0});var o=r(3),a=n(o),s=r(5),u=n(s),l=r(1),c=n(l),d=r(4),f=n(d),g=r(17),p=n(g);i.__dashjs_factory_name="ManifestUpdater",t.default=c.default.getClassFactory(i),e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(){function e(e,t){j=t,L=0,N=!1,x=!1,U={"urn:mpeg:dash:utc:http-head:2014":S,"urn:mpeg:dash:utc:http-xsdate:2014":T.bind(null,p),"urn:mpeg:dash:utc:http-iso:2014":T.bind(null,y),"urn:mpeg:dash:utc:direct:2014":A,"urn:mpeg:dash:utc:http-head:2012":S,"urn:mpeg:dash:utc:http-xsdate:2012":T.bind(null,p),"urn:mpeg:dash:utc:http-iso:2012":T.bind(null,y),"urn:mpeg:dash:utc:direct:2012":A,"urn:mpeg:dash:utc:http-ntp:2014":v,"urn:mpeg:dash:utc:ntp:2014":v,"urn:mpeg:dash:utc:sntp:2014":v},i()||(D(e),o(!0))}function t(e){e&&(e.metricsModel&&(F=e.metricsModel),e.dashMetrics&&(Q=e.dashMetrics),e.baseURLController&&(G=e.baseURLController))}function r(){return c()}function n(e){N=e}function i(){return N}function o(e){x=e}function s(e){L=e}function c(){return L}function f(e){var t=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+\-])([0-9]{2})([0-9]{2}))?/,r=void 0,n=void 0,i=t.exec(e);return r=Date.UTC(parseInt(i[1],10),parseInt(i[2],10)-1,parseInt(i[3],10),parseInt(i[4],10),parseInt(i[5],10),i[6]&&(parseInt(i[6],10)||0),i[7]&&1e3*parseFloat(i[7])||0),i[9]&&i[10]&&(n=60*parseInt(i[9],10)+parseInt(i[10],10),r+=("+"===i[8]?-1:1)*n*60*1e3),new Date(r).getTime()}function p(e){var t=Date.parse(e);return isNaN(t)&&(t=f(e)),t}function y(e){return Date.parse(e)}function m(e){return Date.parse(e)}function v(e,t,r){r()}function A(e,t,r){var n=p(e);if(!isNaN(n))return void t(n);r()}function T(e,t,r,n,i){var o=void 0,a=void 0,s=!1,u=new XMLHttpRequest,c=i?l.HTTPRequest.HEAD:l.HTTPRequest.GET,d=t.match(/\S+/g);if(t=d.shift(),o=function(){s||(s=!0,d.length?T(e,d.join(" "),r,n,i):n())},a=function(){var t=void 0,n=void 0;200===u.status&&(t=i?u.getResponseHeader("Date"):u.response,n=e(t),isNaN(n)||(r(n),s=!0))},R.isRelative(t)){var f=G.resolve();f&&(t=R.resolve(t,f.url))}u.open(c,t),u.timeout=E||0,u.onload=a,u.onloadend=o,u.send()}function S(e,t,r){T(m,e,t,r,!0)}function I(){var e=F.getReadOnlyMetricsFor(a.default.STREAM),t=Q.getLatestMPDRequestHeaderValueByID(e,"Date"),r=null!==t?new Date(t).getTime():Number.NaN;isNaN(r)?w(!0):(s(r-(new Date).getTime()),w(!1,r/1e3,L))}function w(e,t,r){n(!1),B.trigger(g.default.TIME_SYNCHRONIZATION_COMPLETED,{time:t,offset:r,error:e?new u.default(h.default.TIME_SYNC_FAILED_ERROR_CODE,h.default.TIME_SYNC_FAILED_ERROR_MESSAGE):null})}function C(e,t){return e-t}function D(e,t){var r=t||0,i=e[r],o=function(e,t){var r=!e||!t;r&&j?I():w(r,e,t)};n(!0),i?U.hasOwnProperty(i.schemeIdUri)?U[i.schemeIdUri](i.value,function(e){var t=(new Date).getTime(),r=C(e,t);s(r),k.info("Local time: "+new Date(t)),k.info("Server time: "+new Date(e)),k.info("Server Time - Local Time (ms): "+r),o(e,r)},function(){D(e,r+1)}):D(e,r+1):(s(0),o())}function M(){o(!1),n(!1)}var O=this.context,B=(0,d.default)(O).getInstance(),R=(0,_.default)(O).getInstance(),P=void 0,k=void 0,L=void 0,N=void 0,x=void 0,j=void 0,U=void 0,F=void 0,Q=void 0,G=void 0;return P={initialize:e,getOffsetToDeviceTimeMs:r,setConfig:t,reset:M},function(){k=(0,b.default)(O).getInstance().getLogger(P)}(),P}Object.defineProperty(t,"__esModule",{value:!0});var o=r(2),a=n(o),s=r(12),u=n(s),l=r(19),c=r(3),d=n(c),f=r(5),g=n(f),p=r(17),h=n(p),y=r(1),m=n(y),v=r(4),b=n(v),A=r(43),_=n(A),E=5e3;i.__dashjs_factory_name="TimeSyncController";var T=m.default.getSingletonFactory(i);T.HTTP_TIMEOUT_MS=E,m.default.updateSingletonFactory(i.__dashjs_factory_name,T),t.default=T,e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(){function e(e){e.dashManifestModel&&(p=e.dashManifestModel)}function t(){if(!p||!p.hasOwnProperty("getBaseURLsFromElement")||!p.hasOwnProperty("getRepresentationSortFunction"))throw new Error("setConfig function has to be called previously")}function r(e,t,r){var n=p.getBaseURLsFromElement(r);e[t]?y.areEqual(n,e[t].data.baseUrls)||(e[t].data.baseUrls=n,e[t].data.selectedIdx=c):e[t]=new d(n)}function n(e){t();var n=p.getBaseURLsFromElement(e);y.areEqual(n,g.data.baseUrls)||(g.data.baseUrls=n,g.data.selectedIdx=c),e&&e.Period_asArray&&e.Period_asArray.forEach(function(e,t){r(g.children,t,e),e.AdaptationSet_asArray&&e.AdaptationSet_asArray.forEach(function(e,n){r(g.children[t].children,n,e),e.Representation_asArray&&e.Representation_asArray.sort(p.getRepresentationSortFunction()).forEach(function(e,i){r(g.children[t].children[n].children,i,e)})})})}function i(e,t){var r=t||g;e(r.data),r.children&&r.children.forEach(function(t){return i(e,t)})}function o(e){i(function(t){isNaN(t.selectedIdx)||e===t.baseUrls[t.selectedIdx].serviceLocation&&(t.selectedIdx=c)})}function a(e){n(e)}function u(){g=new d}function l(e){var t=g,r=[t.data];return e&&e.forEach(function(e){(t=t.children[e])&&r.push(t.data)}),r.filter(function(e){return e.baseUrls.length})}var f=void 0,g=void 0,p=void 0,h=this.context,y=(0,s.default)(h).getInstance();return f={reset:u,update:a,getForPath:l,invalidateSelectedIndexes:o,setConfig:e},function(){u()}(),f}Object.defineProperty(t,"__esModule",{value:!0});var a=r(238),s=n(a),u=r(1),l=n(u),c=NaN,d=function e(t,r){i(this,e),this.data={baseUrls:t||null,selectedIdx:r||c},this.children=[]};o.__dashjs_factory_name="BaseURLTreeModel",t.default=l.default.getClassFactory(o),e.exports=t.default},function(e,t,r){"use strict";var n=Array.isArray,i=Object.keys,o=Object.prototype.hasOwnProperty;e.exports=function e(t,r){if(t===r)return!0;var a,s,u,l=n(t),c=n(r);if(l&&c){if((s=t.length)!=r.length)return!1;for(a=0;a<s;a++)if(!e(t[a],r[a]))return!1;return!0}if(l!=c)return!1;var d=t instanceof Date,f=r instanceof Date;if(d!=f)return!1;if(d&&f)return t.getTime()==r.getTime();var g=t instanceof RegExp,p=r instanceof RegExp;if(g!=p)return!1;if(g&&p)return t.toString()==r.toString();if(t instanceof Object&&r instanceof Object){var h=i(t);if((s=h.length)!==i(r).length)return!1;for(a=0;a<s;a++)if(!o.call(r,h[a]))return!1;for(a=0;a<s;a++)if(u=h[a],!e(t[u],r[u]))return!1;return!0}return!1}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(){function e(e){e.selector&&(v=e.selector),e.dashManifestModel&&(l=e.dashManifestModel)}function t(){if(!l||!l.hasOwnProperty("getIsDVB"))throw new Error(E.default.MISSING_CONFIG_ERROR)}function r(e){t(),v=l.getIsDVB(e)?m:h}function n(e){if(e){var t=e.baseUrls,r=e.selectedIdx;if(!isNaN(r))return t[r];var n=v.select(t);return n?(e.selectedIdx=t.indexOf(n),n):(s.trigger(c.default.URL_RESOLUTION_FAILED,{error:new A.default(a.default.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE,a.default.URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE)}),void(v===h&&i()))}}function i(){g.reset()}var o=this.context,s=(0,u.default)(o).getInstance(),l=void 0,d=void 0,g=void 0,h=void 0,m=void 0,v=void 0;return d={chooseSelectorFromManifest:r,select:n,reset:i,setConfig:e},function(){g=(0,f.default)(o).create({updateEventName:c.default.SERVICE_LOCATION_BLACKLIST_CHANGED,addBlacklistEventName:c.default.SERVICE_LOCATION_BLACKLIST_ADD}),h=(0,y.default)(o).create({blacklistController:g}),m=(0,p.default)(o).create({blacklistController:g}),v=h}(),d}Object.defineProperty(t,"__esModule",{value:!0});var o=r(17),a=n(o),s=r(3),u=n(s),l=r(5),c=n(l),d=r(565),f=n(d),g=r(566),p=n(g),h=r(567),y=n(h),m=r(1),v=n(m),b=r(12),A=n(b),_=r(2),E=n(_);i.__dashjs_factory_name="BaseURLSelector",t.default=v.default.getClassFactory(i),e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(e){return!!(o.length&&e&&e.length)&&-1!==o.indexOf(e)}function r(e){-1===o.indexOf(e)&&(o.push(e),a.trigger(s,{entry:e}))}function n(e){r(e.entry)}function i(){o=[]}e=e||{};var o=[],a=(0,u.default)(this.context).getInstance(),s=e.updateEventName,l=e.addBlacklistEventName;return function(){l&&a.on(l,n,this)}(),{add:r,contains:t,reset:i}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(1),a=n(o),s=r(3),u=n(s);i.__dashjs_factory_name="BlackListController",t.default=a.default.getClassFactory(i),e.exports=t.default},function(e,t,r){"use strict";function n(e){function t(e){var t=[],r=function(e){return!t.length||!e.dvb_priority||-1===t.indexOf(e.dvb_priority)},n=function(e){return!i.contains(e.serviceLocation)||(e.dvb_priority&&t.push(e.dvb_priority),!1)};return e.filter(n).filter(r)}function r(e){var t=function(e,t){var r=e.dvb_priority-t.dvb_priority;return isNaN(r)?0:r},r=function(e,t,r){return!t||r[0].dvb_priority&&e.dvb_priority&&r[0].dvb_priority===e.dvb_priority},n=0,i=[],o=0,a=void 0,s=void 0;if(s=e.sort(t).filter(r),s.length)return s.length>1&&(s.forEach(function(e){n+=e.dvb_weight,i.push(n)}),a=Math.floor(Math.random()*(n-1)),i.every(function(e,t){return o=t,!(a<e)})),s[o]}function n(e){return e&&r(t(e))}e=e||{};var i=e.blacklistController;return{select:n}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(1),o=function(e){return e&&e.__esModule?e:{default:e}}(i);n.__dashjs_factory_name="DVBSelector",t.default=o.default.getClassFactory(n),e.exports=t.default},function(e,t,r){"use strict";function n(e){function t(e){var t=0,n=void 0;return e&&e.some(function(e,n){return t=n,!r.contains(e.serviceLocation)})&&(n=e[t]),n}e=e||{};var r=e.blacklistController;return{select:t}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(1),o=function(e){return e&&e.__esModule?e:{default:e}}(i);n.__dashjs_factory_name="BasicSelector",t.default=o.default.getClassFactory(n),e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(){function e(){var e="WebKitMediaSource"in window;return"MediaSource"in window?new MediaSource:e?new WebKitMediaSource:null}function t(e,t){var r=window.URL.createObjectURL(e);return t.setSource(r),r}function r(e){e.setSource(null)}function n(e,t){return e.duration!=t&&(e.duration=t),e.duration}function i(e,t,r){e&&"function"==typeof e.setLiveSeekableRange&&"function"==typeof e.clearLiveSeekableRange&&"open"===e.readyState&&t>=0&&t<r&&(e.clearLiveSeekableRange(),e.setLiveSeekableRange(t,r))}function o(e){var t=e.sourceBuffers,r=t.length;if("open"===e.readyState){for(var n=0;n<r;n++){if(t[n].updating)return;if(0===t[n].buffered.length)return}s.info("call to mediaSource endOfStream"),e.endOfStream()}}var a=void 0,s=void 0,l=this.context;return a={createMediaSource:e,attachMediaSource:t,detachMediaSource:r,setDuration:n,setSeekable:i,signalEndOfStream:o},function(){s=(0,u.default)(l).getInstance().getLogger(a)}(),a}Object.defineProperty(t,"__esModule",{value:!0});var o=r(1),a=n(o),s=r(4),u=n(s);i.__dashjs_factory_name="MediaSourceController",t.default=a.default.getSingletonFactory(i),e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(e){s.trigger(_.default.INTERNAL_MANIFEST_LOADED,{manifest:e.manifest})}function r(e){var t=null;return e.indexOf("SmoothStreamingMedia")>-1?(E&&(t=E.createMssParser(),E.registerEvents()),t):e.indexOf("MPD")>-1?(0,C.default)(o).create():t}function n(e){var t=new p.default(e,m.HTTPRequest.MPD_TYPE);h.load({request:t,success:function(t,n,i){if(v){var o=void 0,u=void 0,c=void 0;if(i&&i!==e?(u=l.parseBaseUrl(i),o=i):(l.isRelative(e)&&(e=l.resolve(e,window.location.href)),u=l.parseBaseUrl(e)),null===A&&(A=r(t)),null===A)return void s.trigger(_.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new y.default(T.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,T.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+""+e)});v.setMatchers(A.getMatchers()),v.setIron(A.getIron());try{c=A.parse(t)}catch(t){return void s.trigger(_.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new y.default(T.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,T.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+""+e)})}c?(c.url=o||e,c.originalUrl||(c.originalUrl=c.url),c.hasOwnProperty(a.default.LOCATION)&&(u=l.parseBaseUrl(c.Location_asArray[0]),g.debug("BaseURI set by Location to: "+u)),c.baseUri=u,c.loadedTime=new Date,v.resolveManifestOnLoad(c)):s.trigger(_.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new y.default(T.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,T.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+""+e)})}},error:function(t,r,n){s.trigger(_.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new y.default(T.default.MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE,T.default.MANIFEST_LOADER_LOADING_FAILURE_ERROR_MESSAGE+(e+", ")+n)})}})}function i(){s.off(_.default.XLINK_READY,t,d),v&&(v.reset(),v=null),h&&(h.abort(),h=null),E&&E.reset()}e=e||{};var o=this.context,s=(0,b.default)(o).getInstance(),l=(0,f.default)(o).getInstance(),d=void 0,g=void 0,h=void 0,v=void 0,A=void 0,E=e.mssHandler,S=e.errHandler;return d={load:n,reset:i},function(){g=(0,M.default)(o).getInstance().getLogger(d),s.on(_.default.XLINK_READY,t,d),h=(0,c.default)(o).create({errHandler:S,metricsModel:e.metricsModel,mediaPlayerModel:e.mediaPlayerModel,requestModifier:e.requestModifier}),v=(0,u.default)(o).create({errHandler:S,metricsModel:e.metricsModel,mediaPlayerModel:e.mediaPlayerModel,requestModifier:e.requestModifier}),A=null}(),d}Object.defineProperty(t,"__esModule",{value:!0});var o=r(2),a=n(o),s=r(570),u=n(s),l=r(86),c=n(l),d=r(43),f=n(d),g=r(240),p=n(g),h=r(12),y=n(h),m=r(19),v=r(3),b=n(v),A=r(5),_=n(A),E=r(17),T=n(E),S=r(1),I=n(S),w=r(572),C=n(w),D=r(4),M=n(D);i.__dashjs_factory_name="ManifestLoader";var O=I.default.getClassFactory(i);t.default=O,e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(e){e&&(I=e)}function r(e){e&&(w=e)}function n(e){var t=void 0;D=new p.default({escapeMode:!1,attributePrefix:"",arrayAccessForm:"property",emptyNodeForm:"object",stripWhitespaces:!1,enableToStringFunc:!1,ignoreRoot:!0,matchers:I}),C=e,t=d(C.Period_asArray,C,v.default.PERIOD,b),o(t,v.default.PERIOD,b)}function i(){E.off(c.default.XLINK_ELEMENT_LOADED,s,S),M&&(M.reset(),M=null)}function o(e,t,r){var n={},i=void 0,o=void 0;n.elements=e,n.type=t,n.resolveType=r,0===n.elements.length&&l(n);for(var a=0;a<n.elements.length;a++)i=n.elements[a],o=T.isHTTPURL(i.url)?i.url:i.originalContent.BaseURL+i.url,M.load(o,i,n)}function s(e){var t=void 0,r=void 0,n="";if(t=e.element,r=e.resolveObject,t.resolvedContent){var i=0;0===t.resolvedContent.indexOf("<?xml")&&(i=t.resolvedContent.indexOf("?>")+2),n=t.resolvedContent.substr(0,i)+"<response>"+t.resolvedContent.substr(i)+"</response>",t.resolvedContent=D.xml_str2json(n)}h(r)&&l(r)}function l(e){var t=[],r=void 0,n=void 0;if(f(e),e.resolveType===A&&E.trigger(c.default.XLINK_READY,{manifest:C}),e.resolveType===b)switch(e.type){case v.default.PERIOD:for(r=0;r<C[v.default.PERIOD+"_asArray"].length;r++)n=C[v.default.PERIOD+"_asArray"][r],n.hasOwnProperty(v.default.ADAPTATION_SET+"_asArray")&&(t=t.concat(d(n[v.default.ADAPTATION_SET+"_asArray"],n,v.default.ADAPTATION_SET,b))),n.hasOwnProperty(v.default.EVENT_STREAM+"_asArray")&&(t=t.concat(d(n[v.default.EVENT_STREAM+"_asArray"],n,v.default.EVENT_STREAM,b)));o(t,v.default.ADAPTATION_SET,b);break;case v.default.ADAPTATION_SET:E.trigger(c.default.XLINK_READY,{manifest:C})}}function d(e,t,r,n){var i=[],o=void 0,a=void 0,s=void 0;for(a=e.length-1;a>=0;a--)o=e[a],o.hasOwnProperty("xlink:href")&&o["xlink:href"]===_&&e.splice(a,1);for(a=0;a<e.length;a++)o=e[a],o.hasOwnProperty("xlink:href")&&o.hasOwnProperty("xlink:actuate")&&o["xlink:actuate"]===n&&(s=g(o["xlink:href"],t,r,a,n,o),i.push(s));return i}function f(e){var t=[],r=void 0,n=void 0,i=void 0,o=void 0,a=void 0,s=void 0;for(o=e.elements.length-1;o>=0;o--){if(r=e.elements[o],n=r.type+"_asArray",r.resolvedContent){if(r.resolvedContent)for(a=0;a<r.resolvedContent[n].length;a++)i=r.resolvedContent[n][a],t.push(i)}else delete r.originalContent["xlink:actuate"],delete r.originalContent["xlink:href"],t.push(r.originalContent);for(r.parentElement[n].splice(r.index,1),s=0;s<t.length;s++)r.parentElement[n].splice(r.index+s,0,t[s]);t=[]}e.elements.length>0&&w.run(C)}function g(e,t,r,n,i,o){return{url:e,parentElement:t,type:r,index:n,resolveType:i,originalContent:o,resolvedContent:null,resolved:!1}}function h(e){var t=void 0,r=void 0;for(t=0;t<e.elements.length;t++)if(r=e.elements[t],!1===r.resolved)return!1;return!0}e=e||{};var m=this.context,E=(0,u.default)(m).getInstance(),T=(0,y.default)(m).getInstance(),S=void 0,I=void 0,w=void 0,C=void 0,D=void 0,M=void 0;return S={resolveManifestOnLoad:n,setMatchers:t,setIron:r,reset:i},function(){E.on(c.default.XLINK_ELEMENT_LOADED,s,S),M=(0,a.default)(m).create({errHandler:e.errHandler,metricsModel:e.metricsModel,mediaPlayerModel:e.mediaPlayerModel,requestModifier:e.requestModifier})}(),S}Object.defineProperty(t,"__esModule",{value:!0});var o=r(571),a=n(o),s=r(3),u=n(s),l=r(5),c=n(l),d=r(1),f=n(d),g=r(241),p=n(g),h=r(43),y=n(h),m=r(28),v=n(m),b="onLoad",A="onActuate",_="urn:mpeg:dash:resolve-to-zero:2013";i.__dashjs_factory_name="XlinkController",t.default=f.default.getClassFactory(i),e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(e,t,r){var i=function(n,i){t.resolved=!0,t.resolvedContent=n||null,o.trigger(h.default.XLINK_ELEMENT_LOADED,{element:t,resolveObject:r,error:n||i?null:new a.default(b.default.XLINK_LOADER_LOADING_FAILURE_ERROR_CODE,b.default.XLINK_LOADER_LOADING_FAILURE_ERROR_MESSAGE+e)})};if(e===n)i(null,!0);else{var u=new d.default(e,l.HTTPRequest.XLINK_EXPANSION_TYPE);s.load({request:u,success:function(e){i(e)},error:function(){i(null)}})}}function r(){s&&(s.abort(),s=null)}e=e||{};var n="urn:mpeg:dash:resolve-to-zero:2013",i=this.context,o=(0,g.default)(i).getInstance(),s=(0,u.default)(i).create({errHandler:e.errHandler,metricsModel:e.metricsModel,mediaPlayerModel:e.mediaPlayerModel,requestModifier:e.requestModifier});return{load:t,reset:r}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(12),a=n(o),s=r(86),u=n(s),l=r(19),c=r(240),d=n(c),f=r(3),g=n(f),p=r(5),h=n(p),y=r(1),m=n(y),v=r(17),b=n(v);i.__dashjs_factory_name="XlinkLoader",t.default=m.default.getClassFactory(i),e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(){function e(){return a}function t(){return l}function r(e){var t=void 0,r=window.performance.now();if(!(t=s.xml_str2json(e)))throw new Error("parsing the manifest failed");var n=window.performance.now();l.run(t);var i=window.performance.now();return o.info("Parsing complete: ( xml2json: "+(n-r).toPrecision(3)+"ms, objectiron: "+(i-n).toPrecision(3)+"ms, total: "+((i-r)/1e3).toPrecision(3)+"s)"),t}var n=this.context,i=void 0,o=void 0,a=void 0,s=void 0,l=void 0;return i={parse:r,getMatchers:e,getIron:t},function(){o=(0,u.default)(n).getInstance().getLogger(i),a=[new y.default,new v.default,new A.default,new p.default],s=new f.default({escapeMode:!1,attributePrefix:"",arrayAccessForm:"property",emptyNodeForm:"object",stripWhitespaces:!1,enableToStringFunc:!1,ignoreRoot:!0,matchers:a}),l=(0,c.default)(n).create({adaptationset:new E.default,period:new S.default})}(),i}Object.defineProperty(t,"__esModule",{value:!0});var o=r(1),a=n(o),s=r(4),u=n(s),l=r(573),c=n(l),d=r(241),f=n(d),g=r(574),p=n(g),h=r(575),y=n(h),m=r(576),v=n(m),b=r(577),A=n(b),_=r(578),E=n(_),T=r(580),S=n(T);i.__dashjs_factory_name="DashParser",t.default=a.default.getClassFactory(i),e.exports=t.default},function(e,t,r){"use strict";function n(e){function t(e,t){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}function r(e,r,n){for(var i=0,o=e.length;i<o;++i){var a=e[i];if(r[a.name])if(n[a.name]){if(a.merge){var s=r[a.name],u=n[a.name];"object"==typeof s&&"object"==typeof u?t(s,u):n[a.name]=s+u}}else n[a.name]=r[a.name]}}function n(e,t){for(var i=0,o=e.children.length;i<o;++i){var a=e.children[i],s=t[a.name+"_asArray"];if(s)for(var u=0,l=s.length;u<l;++u){var c=s[u];r(e.properties,t,c),n(a,c)}}}function i(t){if(null===t||"object"!=typeof t)return t;if("period"in e)for(var r=e.period,i=t.Period_asArray,o=0,a=i.length;o<a;++o){var s=i[o];if(n(r,s),"adaptationset"in e){var u=s.AdaptationSet_asArray;if(u)for(var l=e.adaptationset,c=0,d=u.length;c<d;++c)n(l,u[c])}}return t}return{run:i}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(1),o=function(e){return e&&e.__esModule?e:{default:e}}(i);n.__dashjs_factory_name="ObjectIron";var a=o.default.getClassFactory(n);t.default=a,e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(e,t,r){for(var n=!0;n;){var i=e,o=t,a=r;n=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=o,r=a,n=!0,s=l=void 0}},u=r(111),l=n(u),c=r(28),d=n(c),f=function(e){function t(){o(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,function(e,t){var r,n=(r={},i(r,d.default.MPD,[d.default.ID,d.default.PROFILES]),i(r,d.default.PERIOD,[d.default.ID]),i(r,d.default.BASE_URL,[d.default.SERVICE_LOCATION,d.default.BYTE_RANGE]),i(r,d.default.SEGMENT_BASE,[d.default.INDEX_RANGE]),i(r,d.default.INITIALIZATION,[d.default.RANGE]),i(r,d.default.REPRESENTATION_INDEX,[d.default.RANGE]),i(r,d.default.SEGMENT_LIST,[d.default.INDEX_RANGE]),i(r,d.default.BITSTREAM_SWITCHING,[d.default.RANGE]),i(r,d.default.SEGMENT_URL,[d.default.MEDIA_RANGE,d.default.INDEX_RANGE]),i(r,d.default.SEGMENT_TEMPLATE,[d.default.INDEX_RANGE,d.default.MEDIA,d.default.INDEX,d.default.INITIALIZATION_MINUS,d.default.BITSTREAM_SWITCHING_MINUS]),i(r,d.default.ASSET_IDENTIFIER,[d.default.VALUE,d.default.ID]),i(r,d.default.EVENT_STREAM,[d.default.VALUE]),i(r,d.default.ADAPTATION_SET,[d.default.PROFILES,d.default.MIME_TYPE,d.default.SEGMENT_PROFILES,d.default.CODECS,d.default.CONTENT_TYPE]),i(r,d.default.FRAME_PACKING,[d.default.VALUE,d.default.ID]),i(r,d.default.AUDIO_CHANNEL_CONFIGURATION,[d.default.VALUE,d.default.ID]),i(r,d.default.CONTENT_PROTECTION,[d.default.VALUE,d.default.ID]),i(r,d.default.ESSENTIAL_PROPERTY,[d.default.VALUE,d.default.ID]),i(r,d.default.SUPPLEMENTAL_PROPERTY,[d.default.VALUE,d.default.ID]),i(r,d.default.INBAND_EVENT_STREAM,[d.default.VALUE,d.default.ID]),i(r,d.default.ACCESSIBILITY,[d.default.VALUE,d.default.ID]),i(r,d.default.ROLE,[d.default.VALUE,d.default.ID]),i(r,d.default.RATING,[d.default.VALUE,d.default.ID]),i(r,d.default.VIEWPOINT,[d.default.VALUE,d.default.ID]),i(r,d.default.CONTENT_COMPONENT,[d.default.CONTENT_TYPE]),i(r,d.default.REPRESENTATION,[d.default.ID,d.default.DEPENDENCY_ID,d.default.MEDIA_STREAM_STRUCTURE_ID]),i(r,d.default.SUBSET,[d.default.ID]),i(r,d.default.METRICS,[d.default.METRICS_MINUS]),i(r,d.default.REPORTING,[d.default.VALUE,d.default.ID]),r);if(n.hasOwnProperty(t)){var o=n[t];return void 0!==o&&o.indexOf(e.name)>=0}return!1},function(e){return String(e)})}return a(t,e),t}(l.default);t.default=f,e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t,r){for(var n=!0;n;){var i=e,o=t,a=r;n=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=o,r=a,n=!0,s=l=void 0}},s=r(111),u=n(s),l=r(2),c=n(l),d=r(28),f=n(d),g=/^([-])?P(([\d.]*)Y)?(([\d.]*)M)?(([\d.]*)D)?T?(([\d.]*)H)?(([\d.]*)M)?(([\d.]*)S)?/,p=31536e3,h=2592e3,y=86400,m=3600,v=60,b=function(e){function t(){i(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,function(e){for(var t=[f.default.MIN_BUFFER_TIME,f.default.MEDIA_PRESENTATION_DURATION,f.default.MINIMUM_UPDATE_PERIOD,f.default.TIMESHIFT_BUFFER_DEPTH,f.default.MAX_SEGMENT_DURATION,f.default.MAX_SUBSEGMENT_DURATION,c.default.SUGGESTED_PRESENTATION_DELAY,f.default.START,c.default.START_TIME,f.default.DURATION],r=t.length,n=0;n<r;n++)if(e.nodeName===t[n])return g.test(e.value);return!1},function(e){var t=g.exec(e),r=parseFloat(t[2]||0)*p+parseFloat(t[4]||0)*h+parseFloat(t[6]||0)*y+parseFloat(t[8]||0)*m+parseFloat(t[10]||0)*v+parseFloat(t[12]||0);return void 0!==t[1]&&(r=-r),r})}return o(t,e),t}(u.default);t.default=b,e.exports=t.default},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t,r){for(var n=!0;n;){var i=e,o=t,a=r;n=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=o,r=a,n=!0,s=l=void 0}},a=r(111),s=function(e){return e&&e.__esModule?e:{default:e}}(a),u=60,l=60,c=1e3,d=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+-])([0-9]{2})(?::?)([0-9]{2}))?/,f=function(e){function t(){n(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,function(e){return d.test(e.value)},function(e){var t=d.exec(e),r=void 0;if(r=Date.UTC(parseInt(t[1],10),parseInt(t[2],10)-1,parseInt(t[3],10),parseInt(t[4],10),parseInt(t[5],10),t[6]&&parseInt(t[6],10)||0,t[7]&&parseFloat(t[7])*c||0),t[9]&&t[10]){var n=parseInt(t[9],10)*l+parseInt(t[10],10);r+=("+"===t[8]?-1:1)*n*u*c}return new Date(r)})}return i(t,e),t}(s.default);t.default=f,e.exports=t.default},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t,r){for(var n=!0;n;){var i=e,o=t,a=r;n=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=o,r=a,n=!0,s=l=void 0}},a=r(111),s=function(e){return e&&e.__esModule?e:{default:e}}(a),u=/^[-+]?[0-9]+[.]?[0-9]*([eE][-+]?[0-9]+)?$/,l=function(e){function t(){n(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,function(e){return u.test(e.value)},function(e){return parseFloat(e)})}return i(t,e),t}(s.default);t.default=l,e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t,r){for(var n=!0;n;){var i=e,o=t,a=r;n=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=o,r=a,n=!0,s=l=void 0}},s=r(242),u=n(s),l=r(28),c=n(l),d=function(e){function t(){i(this,t);var e=[c.default.PROFILES,c.default.WIDTH,c.default.HEIGHT,c.default.SAR,c.default.FRAMERATE,c.default.AUDIO_SAMPLING_RATE,c.default.MIME_TYPE,c.default.SEGMENT_PROFILES,c.default.CODECS,c.default.MAXIMUM_SAP_PERIOD,c.default.START_WITH_SAP,c.default.MAX_PLAYOUT_RATE,c.default.CODING_DEPENDENCY,c.default.SCAN_TYPE,c.default.FRAME_PACKING,c.default.AUDIO_CHANNEL_CONFIGURATION,c.default.CONTENT_PROTECTION,c.default.ESSENTIAL_PROPERTY,c.default.SUPPLEMENTAL_PROPERTY,c.default.INBAND_EVENT_STREAM];a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,c.default.ADAPTATION_SET,e,[new u.default(c.default.REPRESENTATION,e,[new u.default(c.default.SUB_REPRESENTATION,e)])])}return o(t,e),t}(u.default);t.default=d,e.exports=t.default},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function(){function e(t){n(this,e);this._name=t,this._merge=function(e){return e&&e.length&&e.charAt(0)===e.charAt(0).toUpperCase()}(t)}return i(e,[{key:"name",get:function(){return this._name}},{key:"merge",get:function(){return this._merge}}]),e}();t.default=o,e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t,r){for(var n=!0;n;){var i=e,o=t,a=r;n=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=o,r=a,n=!0,s=l=void 0}},s=r(242),u=n(s),l=r(28),c=n(l),d=function(e){function t(){i(this,t);var e=[c.default.SEGMENT_BASE,c.default.SEGMENT_TEMPLATE,c.default.SEGMENT_LIST];a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,c.default.PERIOD,e,[new u.default(c.default.ADAPTATION_SET,e,[new u.default(c.default.REPRESENTATION,e)])])}return o(t,e),t}(u.default);t.default=d,e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(){function e(e){d.trigger(u.default.ERROR,{error:"capability",event:e})}function t(e,t,r){d.trigger(u.default.ERROR,{error:"download",event:{id:e,url:t,request:r}})}function r(e,t,r,n){d.trigger(u.default.ERROR,{error:"manifestError",event:{message:e,id:t,manifest:r,event:n}})}function n(e,t,r){d.trigger(u.default.ERROR,{error:"cc",event:{message:e,id:t,cc:r}})}function i(e){d.trigger(u.default.ERROR,{error:"mediasource",event:e})}function o(e){d.trigger(u.default.ERROR,{error:"key_session",event:e})}function s(e){d.trigger(u.default.ERROR,{error:"key_message",event:e})}function l(e){d.trigger(u.default.ERROR,{error:e})}var c=this.context,d=(0,a.default)(c).getInstance();return{capabilityError:e,downloadError:t,manifestError:r,timedTextError:n,mediaSourceError:i,mediaKeySessionError:o,mediaKeyMessageError:s,error:l}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(3),a=n(o),s=r(5),u=n(s),l=r(1),c=n(l);i.__dashjs_factory_name="ErrorHandler",t.default=c.default.getSingletonFactory(i),e.exports=t.default},function(e,t,r){"use strict";function n(){function e(){var e="WebKitMediaSource"in window,t="MediaSource"in window;return e||t}function t(){return o}function r(e){o=e}function n(e){return!!("MediaSource"in window&&MediaSource.isTypeSupported(e))||!!("WebKitMediaSource"in window&&WebKitMediaSource.isTypeSupported(e))}var i=void 0,o=void 0;return i={supportsMediaSource:e,supportsEncryptedMedia:t,supportsCodec:n,setEncryptedMediaSupported:r},function(){o=!1}(),i}Object.defineProperty(t,"__esModule",{value:!0});var i=r(1),o=function(e){return e&&e.__esModule?e:{default:e}}(i);n.__dashjs_factory_name="Capabilities",t.default=o.default.getSingletonFactory(n),e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(){function e(e){if(r=new a.default,!e)return null;var t=e.indexOf("#");if(-1!==t)for(var n=e.substr(t+1).split("&"),i=0,o=n.length;i<o;++i){var s=n[i],u=s.indexOf("=");if(-1!==u){var l=s.substring(0,u);r.hasOwnProperty(l)&&(r[l]=s.substr(u+1))}}}function t(){return r}var r=void 0;return{initialize:e,getURIFragmentData:t}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(584),a=n(o),s=r(1),u=n(s);i.__dashjs_factory_name="URIFragmentModel",t.default=u.default.getSingletonFactory(i),e.exports=t.default},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(){n(this,e),this.t=null,this.xywh=null,this.track=null,this.id=null,this.s=null,this.r=null};t.default=i,e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(){function e(){return i}function t(e){i=e,e&&n.trigger(u.default.MANIFEST_LOADED,{data:e})}var r=this.context,n=(0,a.default)(r).getInstance(),i=void 0;return{getValue:e,setValue:t}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(3),a=n(o),s=r(5),u=n(s),l=r(1),c=n(l);i.__dashjs_factory_name="ManifestModel",t.default=c.default.getSingletonFactory(i),e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(){function e(e){if(e!==f.default.ABR_STRATEGY_DYNAMIC&&e!==f.default.ABR_STRATEGY_BOLA&&e!==f.default.ABR_STRATEGY_THROUGHPUT)throw f.default.BAD_ARGUMENT_ERROR;Bt=e}function t(){return Bt}function r(e){(0,h.checkParameterType)(e,"boolean"),Rt=e}function n(){return Rt}function o(e){var t=void 0;for(t=0;t<Lt.length;t++)if(Lt[t].rulename===e)return t;return-1}function a(){return Lt}function u(e,t,r){if("string"!=typeof e||e!==p.default.ABANDON_FRAGMENT_RULES&&e!==p.default.QUALITY_SWITCH_RULES||"string"!=typeof t)throw f.default.BAD_ARGUMENT_ERROR;var n=o(t);-1===n?Lt.push({type:e,rulename:t,rule:r}):(Lt[n].type=e,Lt[n].rule=r)}function l(e){if(e){var t=o(e);-1!==t&&Lt.splice(t,1)}else Lt=[]}function d(e){(0,h.checkParameterType)(e,"number"),wt=e}function g(){return wt}function K(e){(0,h.checkParameterType)(e,"number"),Ct=e}function z(){return Ct}function X(e){(0,h.checkParameterType)(e,"number"),_t=e}function J(){return ze()?.6*Me():isNaN(_t)?kt?I:S:_t}function Z(e){(0,h.checkParameterType)(e,"number"),Et=e}function $(){return Et}function ee(e){(0,h.checkParameterType)(e,"number"),Tt=e}function te(){return Tt}function re(e){(0,h.checkParameterType)(e,"number"),St=e}function ne(){return St}function ie(e){(0,h.checkParameterType)(e,"number"),It=e}function oe(){return It}function ae(e,t){(0,h.checkParameterType)(t,"number"),(0,h.checkIsVideoOrAudioType)(e),xt[e]=t}function se(e){return xt[e]}function ue(e){(0,h.checkParameterType)(e,"number"),yt=e}function le(){return yt}function ce(e){(0,h.checkParameterType)(e,"number"),mt=e}function de(){return mt}function fe(e,t){if("boolean"!=typeof e||void 0!==t&&("number"!=typeof t||isNaN(t)))throw f.default.BAD_ARGUMENT_ERROR;bt.enabled=e,void 0!==t&&(bt.ttl=t)}function ge(){return bt}function pe(e,t){if("boolean"!=typeof e||void 0!==t&&("number"!=typeof t||isNaN(t)))throw f.default.BAD_ARGUMENT_ERROR;At.enabled=e,void 0!==t&&(At.ttl=t)}function he(){return At}function ye(e){(0,h.checkParameterType)(e,"number"),vt=e}function me(){return vt}function ve(e,t){if("number"!=typeof t||"string"!=typeof e||e!==c.HTTPRequest.MPD_TYPE&&e!==c.HTTPRequest.MEDIA_SEGMENT_TYPE)throw f.default.BAD_ARGUMENT_ERROR;Dt[e]=t}function be(e){return ze()?Dt[e]*G:Dt[e]}function Ae(e,t){(0,h.checkParameterType)(t,"number"),Mt[e]=t}function _e(e){return ze()?Mt[e]/Q:Mt[e]}function Ee(e){(0,h.checkParameterType)(e,"number"),Ot=e}function Te(){return Ot}function Se(e){(0,h.checkParameterType)(e,"boolean"),ht=e}function Ie(){return ht}function we(e){(0,h.checkParameterType)(e,"number"),gt=e}function Ce(){return gt}function De(e){void 0!==e&&(0,h.checkParameterType)(e,"number"),pt=e}function Me(){return Ft?pt||F:pt}function Oe(e){(0,h.checkParameterType)(e,"boolean"),ct=e}function Be(){return ct}function Re(e){(0,h.checkParameterType)(e,"boolean"),dt=e}function Pe(){return dt}function ke(e,t){Ne(e,t);var r=new s.default;r.schemeIdUri=e,r.value=t,ft.push(r)}function Le(){return ft}function Ne(e,t){(0,h.checkParameterType)(e,"string"),(0,h.checkParameterType)(t,"string"),ft.forEach(function(r,n){r.schemeIdUri===e&&r.value===t&&ft.splice(n,1)})}function xe(){ft=[]}function je(){ke(Vt.scheme,Vt.value)}function Ue(e,t){e?Pt[e]=!!t:Object.keys(Pt).forEach(function(e){Ue(e,t)})}function Fe(e){var t=Pt[e];return void 0===t?Pt.default:t}function Qe(){return kt}function Ge(e){(0,h.checkParameterType)(e,"boolean"),kt=e}function We(e){if(e!==f.default.MOVING_AVERAGE_SLIDING_WINDOW&&e!==f.default.MOVING_AVERAGE_EWMA)throw f.default.BAD_ARGUMENT_ERROR;Nt=e}function He(){return Nt}function Ye(e){(0,h.checkParameterType)(e,"boolean"),jt=e}function Ve(){return jt}function qe(e){(0,h.checkParameterType)(e,"number"),Ut=e}function Ke(){return Ut}function ze(){return Ft}function Xe(e){(0,h.checkParameterType)(e,"boolean"),Ft=e}function Je(e){(0,h.checkParameterType)(e,"number"),(0,h.checkRange)(e,0,.5),Yt=e}function Ze(){return Yt}function $e(e){(0,h.checkParameterType)(e,"number"),Wt=e}function et(){return Wt}function tt(e){(0,h.checkParameterType)(e,"number"),Ht=e}function rt(){return Ht}function nt(e){(0,h.checkParameterType)(e,"number"),Qt=e}function it(){return Qt}function ot(e){(0,h.checkParameterType)(e,"boolean"),Gt=e}function at(){return Gt}function st(){return Vt}function ut(){}var lt=void 0,ct=void 0,dt=void 0,ft=void 0,gt=void 0,pt=void 0,ht=void 0,yt=void 0,mt=void 0,vt=void 0,bt=void 0,At=void 0,_t=void 0,Et=void 0,Tt=void 0,St=void 0,It=void 0,wt=void 0,Ct=void 0,Dt=void 0,Mt=void 0,Ot=void 0,Bt=void 0,Rt=void 0,Pt=void 0,kt=void 0,Lt=void 0,Nt=void 0,xt=void 0,jt=void 0,Ut=void 0,Ft=void 0,Qt=void 0,Gt=void 0,Wt=void 0,Ht=void 0,Yt=void 0,Vt={scheme:"urn:mpeg:dash:utc:http-xsdate:2014",value:"http://time.akamai.com/?iso&ms"};return lt={setABRStrategy:e,getABRStrategy:t,setUseDefaultABRRules:r,getUseDefaultABRRules:n,getABRCustomRules:a,addABRCustomRule:u,removeABRCustomRule:l,setBandwidthSafetyFactor:d,getBandwidthSafetyFactor:g,setAbandonLoadTimeout:K,getAbandonLoadTimeout:z,setLastBitrateCachingInfo:fe,getLastBitrateCachingInfo:ge,setLastMediaSettingsCachingInfo:pe,getLastMediaSettingsCachingInfo:he,setStableBufferTime:X,getStableBufferTime:J,setBufferTimeAtTopQuality:Z,getBufferTimeAtTopQuality:$,setBufferTimeAtTopQualityLongForm:ee,getBufferTimeAtTopQualityLongForm:te,setLongFormContentDurationThreshold:re,getLongFormContentDurationThreshold:ne,setSegmentOverlapToleranceTime:ie,getSegmentOverlapToleranceTime:oe,getCacheLoadThresholdForType:se,setCacheLoadThresholdForType:ae,setBufferToKeep:ue,getBufferToKeep:le,setBufferAheadToKeep:ce,getBufferAheadToKeep:de,setBufferPruningInterval:ye,getBufferPruningInterval:me,setRetryAttemptsForType:ve,getRetryAttemptsForType:be,setRetryIntervalForType:Ae,getRetryIntervalForType:_e,setWallclockTimeUpdateInterval:Ee,getWallclockTimeUpdateInterval:Te,setScheduleWhilePaused:Se,getScheduleWhilePaused:Ie,getUseSuggestedPresentationDelay:Pe,setUseSuggestedPresentationDelay:Re,setLiveDelayFragmentCount:we,getLiveDelayFragmentCount:Ce,getLiveDelay:Me,setLiveDelay:De,setUseManifestDateHeaderTimeSource:Oe,getUseManifestDateHeaderTimeSource:Be,addUTCTimingSource:ke,removeUTCTimingSource:Ne,getUTCTimingSources:Le,clearDefaultUTCTimingSources:xe,restoreDefaultUTCTimingSources:je,setXHRWithCredentialsForType:Ue,getXHRWithCredentialsForType:Fe,setFastSwitchEnabled:Ge,getFastSwitchEnabled:Qe,setMovingAverageMethod:We,getMovingAverageMethod:He,setJumpGaps:Ye,getJumpGaps:Ve,setSmallGapLimit:qe,getSmallGapLimit:Ke,getLowLatencyEnabled:ze,setLowLatencyEnabled:Xe,setCatchUpPlaybackRate:Je,getCatchUpPlaybackRate:Ze,setLowLatencyMinDrift:$e,getLowLatencyMinDrift:et,setLowLatencyMaxDriftBeforeSeeking:tt,getLowLatencyMaxDriftBeforeSeeking:rt,setManifestUpdateRetryInterval:nt,getManifestUpdateRetryInterval:it,setKeepProtectionMediaKeys:ot,getKeepProtectionMediaKeys:at,getDefaultUtcTimingSource:st,reset:ut},function(){var e,t;ft=[],dt=!1,ct=!0,ht=!0,Bt=f.default.ABR_STRATEGY_DYNAMIC,Rt=!0,kt=!1,bt={enabled:!0,ttl:m},At={enabled:!0,ttl:v},gt=y,pt=void 0,yt=_,mt=E,vt=T,_t=NaN,Et=w,Tt=C,St=D,It=M,wt=b,Ct=A,Ot=V,jt=!1,Ut=O,Qt=B,Pt={default:q},Lt=[],Nt=f.default.MOVING_AVERAGE_SLIDING_WINDOW,Ft=!1,Wt=W,Ht=H,Yt=Y,e={},i(e,c.HTTPRequest.MPD_TYPE,N),i(e,c.HTTPRequest.XLINK_EXPANSION_TYPE,j),i(e,c.HTTPRequest.MEDIA_SEGMENT_TYPE,k),i(e,c.HTTPRequest.INIT_SEGMENT_TYPE,k),i(e,c.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,k),i(e,c.HTTPRequest.INDEX_SEGMENT_TYPE,k),i(e,c.HTTPRequest.OTHER_TYPE,k),Dt=e,t={},i(t,c.HTTPRequest.MPD_TYPE,x),i(t,c.HTTPRequest.XLINK_EXPANSION_TYPE,U),i(t,c.HTTPRequest.MEDIA_SEGMENT_TYPE,L),i(t,c.HTTPRequest.INIT_SEGMENT_TYPE,L),i(t,c.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,L),i(t,c.HTTPRequest.INDEX_SEGMENT_TYPE,L),i(t,c.HTTPRequest.OTHER_TYPE,L),Mt=t,xt={},xt[f.default.VIDEO]=R,xt[f.default.AUDIO]=P,Gt=!1}(),lt}Object.defineProperty(t,"__esModule",{value:!0});var a=r(243),s=n(a),u=r(1),l=n(u),c=r(19),d=r(2),f=n(d),g=r(231),p=n(g),h=r(70),y=4,m=36e4,v=36e4,b=.9,A=1e4,_=20,E=80,T=10,S=12,I=20,w=30,C=60,D=600,M=.2,O=.8,B=100,R=50,P=5,k=3,L=1e3,N=3,x=500,j=1,U=500,F=3,Q=10,G=5,W=.02,H=0,Y=.5,V=50,q=!1;o.__dashjs_factory_name="MediaPlayerModel",t.default=l.default.getSingletonFactory(o),e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(){function e(e){}function t(){H.trigger(R.default.METRICS_CHANGED)}function r(e){H.trigger(R.default.METRIC_CHANGED,{mediaType:e}),t()}function n(e,t,n){H.trigger(R.default.METRIC_UPDATED,{mediaType:e,metric:t,value:n}),r(e)}function i(e,t,n){H.trigger(R.default.METRIC_ADDED,{mediaType:e,metric:t,value:n}),r(e)}function o(e){delete V[e],r(e)}function s(){V={},t()}function l(e){return V.hasOwnProperty(e)?V[e]:null}function d(e){var t=void 0;return V.hasOwnProperty(e)?t=V[e]:(t=new c.default,V[e]=t),t}function p(e,t,r){var n=d(e);n[t].push(r),n[t].length>G&&n[t].shift()}function y(e,t,r,n,i,o){var a=new f.default;return a.tcpid=t,a.dest=r,a.topen=n,a.tclose=i,a.tconnect=o,I(e,u.default.TCP_CONNECTION,a),a}function v(e,t,r,n){var i=new g.HTTPRequestTrace;return i.s=t,i.d=r,i.b=n,e.trace.push(i),e.interval||(e.interval=0),e.interval+=r,i}function A(e,t,r,n,i,o,a,s,l,c,d,f,p,h){var y=new g.HTTPRequest;return i&&i!==n&&(A(e,null,r,n,null,null,a,s,null,null,null,f,null,null),y.actualurl=i),y.tcpid=t,y.type=r,y.url=n,y.range=a,y.trequest=s,y.tresponse=l,y.responsecode=d,y._tfinish=c,y._stream=e,y._mediaduration=f,y._responseHeaders=p,y._serviceLocation=o,h?h.forEach(function(e){v(y,e.s,e.d,e.b)}):(delete y.interval,delete y.trace),I(e,u.default.HTTP_REQUEST,y),y}function E(e,t,r,n,i){var o=new h.default;return o.t=t,o.mt=r,o.to=n,i?o.lto=i:delete o.lto,I(e,u.default.TRACK_SWITCH,o),o}function I(e,t,r){p(e,t,r),i(e,t,r)}function C(e,t,r){var n=new m.default;return n.t=t,n.level=r,I(e,u.default.BUFFER_LEVEL,n),n}function M(e,t,r){var n=new b.default;return n.target=r,n.state=t,I(e,u.default.BUFFER_STATE,n),n}function B(e,t,r,n){var i=new _.default;return i.time=t,i.range=n,i.manifestInfo=r,I(e,u.default.DVR_INFO,i),i}function P(e,t){var r=new T.default,n=d(e).DroppedFrames;return r.time=t.creationTime,r.droppedFrames=t.droppedVideoFrames,n.length>0&&n[n.length-1]==r?n[n.length-1]:(I(e,u.default.DROPPED_FRAMES,r),r)}function k(e,t,r,n,i,o,a,s,l){var c=new w.default;return c.mediaType=e,c.t=t,c.type=r,c.startTime=n,c.availabilityStartTime=i,c.duration=o,c.quality=a,c.range=s,c.state=l,I(e,u.default.SCHEDULING_INFO,c),c}function L(e,t,r){var n=new O.default;n.loadingRequests=t,n.executedRequests=r,d(e).RequestsQueue=n,i(e,u.default.REQUESTS_QUEUE,n)}function N(e,t,r,n,o,s,l,c,d,f){var g=new S.ManifestUpdate;return g.mediaType=e,g.type=t,g.requestTime=r,g.fetchTime=n,g.availabilityStartTime=o,g.presentationStartTime=s,g.clientTimeOffset=l,g.currentTime=c,g.buffered=d,g.latency=f,p(a.default.STREAM,u.default.MANIFEST_UPDATE,g),i(e,u.default.MANIFEST_UPDATE,g),g}function x(e,t){if(e){for(var r in t)e[r]=t[r];n(e.mediaType,u.default.MANIFEST_UPDATE,e)}}function j(e,t,r,i,o){if(e){var a=new S.ManifestUpdateStreamInfo;return a.id=t,a.index=r,a.start=i,a.duration=o,e.streamInfo.push(a),n(e.mediaType,u.default.MANIFEST_UPDATE_STREAM_INFO,e),a}return null}function U(e,t,r,i,o,a,s,l){if(e){var c=new S.ManifestUpdateRepresentationInfo;return c.id=t,c.index=r,c.streamIndex=i,c.mediaType=o,c.startNumber=s,c.fragmentInfoType=l,c.presentationTimeOffset=a,e.representationInfo.push(c),n(e.mediaType,u.default.MANIFEST_UPDATE_TRACK_INFO,e),c}return null}function F(e){var t=a.default.STREAM;return e.trace&&Array.isArray(e.trace)?e.trace.forEach(function(e){e.hasOwnProperty("subreplevel")&&!e.subreplevel&&delete e.subreplevel}):delete e.trace,I(t,u.default.PLAY_LIST,e),e}function Q(e){return I(a.default.STREAM,u.default.DVB_ERRORS,e),e}var G=1e3,W=this.context,H=(0,D.default)(W).getInstance(),Y=void 0,V=void 0;return Y={clearCurrentMetricsForType:o,clearAllCurrentMetrics:s,getReadOnlyMetricsFor:l,getMetricsFor:d,addTcpConnection:y,addHttpRequest:A,addRepresentationSwitch:E,addBufferLevel:C,addBufferState:M,addDVRInfo:B,addDroppedFrames:P,addSchedulingInfo:k,addRequestsQueue:L,addManifestUpdate:N,updateManifestUpdateInfo:x,addManifestUpdateStreamInfo:j,addManifestUpdateRepresentationInfo:U,addPlayList:F,addDVBErrors:Q,setConfig:e},function(){V={}}(),Y}Object.defineProperty(t,"__esModule",{value:!0});var o=r(2),a=n(o),s=r(69),u=n(s),l=r(588),c=n(l),d=r(589),f=n(d),g=r(19),p=r(590),h=n(p),y=r(591),m=n(y),v=r(592),b=n(v),A=r(593),_=n(A),E=r(594),T=n(E),S=r(595),I=r(596),w=n(I),C=r(3),D=n(C),M=r(597),O=n(M),B=r(5),R=n(B),P=r(1),k=n(P);i.__dashjs_factory_name="MetricsModel",t.default=k.default.getSingletonFactory(i),e.exports=t.default},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(){n(this,e),this.TcpList=[],this.HttpList=[],this.RepSwitchList=[],this.BufferLevel=[],this.BufferState=[],this.PlayList=[],this.DroppedFrames=[],this.SchedulingInfo=[],this.DVRInfo=[],this.ManifestUpdate=[],this.RequestsQueue=null,this.DVBErrors=[]};t.default=i,e.exports=t.default},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(){n(this,e),this.tcpid=null,this.dest=null,this.topen=null,this.tclose=null,this.tconnect=null};t.default=i,e.exports=t.default},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(){n(this,e),this.t=null,this.mt=null,this.to=null,this.lto=null};t.default=i,e.exports=t.default},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(){n(this,e),this.t=null,this.level=null};t.default=i,e.exports=t.default},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=r(55),o=function(e){return e&&e.__esModule?e:{default:e}}(i),a=function e(){n(this,e),this.target=null,this.state=o.default.BUFFER_EMPTY};t.default=a,e.exports=t.default},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(){n(this,e),this.time=null,this.range=null,this.manifestInfo=null};t.default=i,e.exports=t.default},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(){n(this,e),this.time=null,this.droppedFrames=null};t.default=i,e.exports=t.default},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(){n(this,e),this.mediaType=null,this.type=null,this.requestTime=null,this.fetchTime=null,this.availabilityStartTime=null,this.presentationStartTime=0,this.clientTimeOffset=0,this.currentTime=null,this.buffered=null,this.latency=0,this.streamInfo=[],this.representationInfo=[]},o=function e(){n(this,e),this.id=null,this.index=null,this.start=null,this.duration=null},a=function e(){n(this,e),this.id=null,this.index=null,this.mediaType=null,this.streamIndex=null,this.presentationTimeOffset=null,this.startNumber=null,this.fragmentInfoType=null};t.ManifestUpdate=i,t.ManifestUpdateStreamInfo=o,t.ManifestUpdateRepresentationInfo=a},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(){n(this,e),this.mediaType=null,this.t=null,this.type=null,this.startTime=null,this.availabilityStartTime=null,this.duration=null,this.quality=null,this.range=null,this.state=null};t.default=i,e.exports=t.default},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(){n(this,e),this.loadingRequests=[],this.executedRequests=[]};t.default=i,e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(){function e(){te.on(c.default.PLAYBACK_PLAYING,E,this)}function t(){te.off(c.default.PLAYBACK_PLAYING,E,this)}function r(){z&&(z.playbackRate=Z||1,z.removeEventListener("canplay",r))}function n(e){z&&(z.readyState<=2&&e>0?z.addEventListener("canplay",r):z.playbackRate=e)}function i(e,t){if(z){if(z.currentTime==e)return;try{e=t?o(e):e,z.currentTime=e}catch(t){0===z.readyState&&t.code===t.INVALID_STATE_ERR&&setTimeout(function(){z.currentTime=e},400)}}}function o(e){var t=L(),r=e,n=9999999999;if(t)for(var i=0;i<t.length;i++){var o=t.start(i),a=t.end(i),s=Math.abs(o-e),u=Math.abs(a-e);if(e>=o&&e<=a)return e;s<n&&(n=s,r=o),u<n&&(n=u,r=a)}return r}function a(){return z}function s(e){if(!(null===e||void 0===e||e&&/^(VIDEO|AUDIO)$/i.test(e.nodeName)))throw $;(z=e)&&(z.preload="auto")}function l(e){z&&(e?z.src=e:(z.removeAttribute("src"),z.load()))}function d(){return z?z.src:null}function g(){return J}function p(e){J=e}function h(){return X}function y(e){X=e,X.style.position="absolute",X.style.display="flex",X.style.overflow="hidden",X.style.pointerEvents="none",X.style.top=0,X.style.left=0}function m(e,t){_(e,t)}function v(){return re.length>0}function b(e){var t=void 0;null===e||z.seeking||-1!==re.indexOf(e)||(re.push(e),z&&1===re.length&&(t=document.createEvent("Event"),t.initEvent("waiting",!0,!1),Z=z.playbackRate,n(0),z.dispatchEvent(t)))}function A(e){var t=re.indexOf(e),r=void 0;null!==e&&(-1!==t&&re.splice(t,1),z&&!1===v()&&0===z.playbackRate&&(n(Z||1),z.paused||(r=document.createEvent("Event"),r.initEvent("playing",!0,!1),z.dispatchEvent(r))))}function _(e,t){t?b(e):A(e)}function E(){if(z&&v()&&0===z.playbackRate){var e=document.createEvent("Event");e.initEvent("waiting",!0,!1),z.dispatchEvent(e)}}function T(){if(!z)return null;var e="webkitDroppedFrameCount"in z&&"webkitDecodedFrameCount"in z,t="getVideoPlaybackQuality"in z,r=null;return t?r=z.getVideoPlaybackQuality():e&&(r={droppedVideoFrames:z.webkitDroppedFrameCount,totalVideoFrames:z.webkitDroppedFrameCount+z.webkitDecodedFrameCount,creationTime:new Date}),r}function S(){if(z){z.autoplay=!0;var e=z.play();e&&"undefined"!=typeof Promise&&e instanceof Promise&&e.catch(function(e){"NotAllowedError"===e.name&&te.trigger(c.default.PLAYBACK_NOT_ALLOWED),K.warn("Caught pending play exception - continuing ("+e+")")})}}function I(){return z?z.paused:null}function w(){z&&(z.pause(),z.autoplay=!1)}function C(){return z?z.seeking:null}function D(){return z?z.currentTime:null}function M(){return z?z.playbackRate:null}function O(){return z?z.played:null}function B(){return z?z.ended:null}function R(e,t){z&&z.addEventListener(e,t)}function P(e,t){z&&z.removeEventListener(e,t)}function k(){return z?z.readyState:NaN}function L(){return z?z.buffered:null}function N(){return z?z.clientWidth:NaN}function x(){return z?z.clientHeight:NaN}function j(){return z?z.videoWidth:NaN}function U(){return z?z.videoHeight:NaN}function F(){return z&&z.parentNode?z.getBoundingClientRect().top-z.parentNode.getBoundingClientRect().top:NaN}function Q(){return z&&z.parentNode?z.getBoundingClientRect().left-z.parentNode.getBoundingClientRect().left:NaN}function G(){return z?z.textTracks:[]}function W(e,t,r,n,i){if(z)for(var o=0;o<z.textTracks.length;o++)if(z.textTracks[o].kind===e&&(!t||z.textTracks[o].label==t)&&z.textTracks[o].language===r&&z.textTracks[o].isTTML===n&&z.textTracks[o].isEmbedded===i)return z.textTracks[o];return null}function H(e,t,r){return z?z.addTextTrack(e,t,r):null}function Y(e){z&&(z.appendChild(e),void 0!==e.isTTML&&(z.textTracks[z.textTracks.length-1].isTTML=e.isTTML,z.textTracks[z.textTracks.length-1].isEmbedded=e.isEmbedded))}function V(e){z&&z.removeChild(e)}var q=void 0,K=void 0,z=void 0,X=void 0,J=void 0,Z=void 0,$="element is not video or audio DOM type!",ee=this.context,te=(0,u.default)(ee).getInstance(),re=[];return q={initialize:e,setCurrentTime:i,play:S,isPaused:I,pause:w,isSeeking:C,getTime:D,getPlaybackRate:M,setPlaybackRate:n,getPlayedRanges:O,getEnded:B,setStallState:m,getElement:a,setElement:s,setSource:l,getSource:d,getVideoContainer:g,setVideoContainer:p,getTTMLRenderingDiv:h,setTTMLRenderingDiv:y,getPlaybackQuality:T,addEventListener:R,removeEventListener:P,getReadyState:k,getBufferRange:L,getClientWidth:N,getClientHeight:x,getTextTracks:G,getTextTrack:W,addTextTrack:H,appendChild:Y,removeChild:V,getVideoWidth:j,getVideoHeight:U,getVideoRelativeOffsetTop:F,getVideoRelativeOffsetLeft:Q,reset:t},function(){K=(0,f.default)(ee).getInstance().getLogger(q)}(),q}Object.defineProperty(t,"__esModule",{value:!0});var o=r(1),a=n(o),s=r(3),u=n(s),l=r(5),c=n(l),d=r(4),f=n(d);i.__dashjs_factory_name="VideoModel",t.default=a.default.getSingletonFactory(i),e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(e){if(void 0!==T)return T;T=!1;var t=void 0;try{"undefined"!=typeof window&&(t=window[e])}catch(e){return E.warn("DOMStorage access denied: "+e.message),T}if(!t||e!==p&&e!==h)return T;try{t.setItem("1","1"),t.removeItem("1"),T=!0}catch(e){E.warn("DOMStorage is supported, but cannot be used: "+e.message)}return T}function r(){t(p)&&d.forEach(function(e){var t=localStorage.getItem(e.oldKey);if(t){localStorage.removeItem(e.oldKey);try{localStorage.setItem(e.newKey,t)}catch(e){E.error(e.message)}}})}function n(){return 6e5*Math.round((new Date).getTime()/6e5)}function i(e,r){return t(e)&&A["get"+r+"CachingInfo"]().enabled}function o(){if(!A||!A.hasOwnProperty("getLastMediaSettingsCachingInfo"))throw new Error(c.default.MISSING_CONFIG_ERROR)}function a(e){if(o(),!i(p,m))return null;var t=null,r=g.replace(/\?/,e);try{var n=JSON.parse(localStorage.getItem(r))||{},a=(new Date).getTime()-parseInt(n.timestamp,10)>=A.getLastMediaSettingsCachingInfo().ttl||!1;t=n.settings,a&&(localStorage.removeItem(r),t=null)}catch(e){return null}return t}function s(e){var t=NaN;if(o(),i(p,y)){var r=f.replace(/\?/,e);try{var n=JSON.parse(localStorage.getItem(r))||{},a=(new Date).getTime()-parseInt(n.timestamp,10)>=A.getLastMediaSettingsCachingInfo().ttl||!1,s=parseFloat(n.bitrate);isNaN(s)||a?a&&localStorage.removeItem(r):(t=s,E.debug("Last saved bitrate for "+e+" was "+s))}catch(e){return null}}return t}function l(e,t){if(i(p,m)){var r=g.replace(/\?/,e);try{localStorage.setItem(r,JSON.stringify({settings:t,timestamp:n()}))}catch(e){E.error(e.message)}}}function v(e,t){if(i(p,y)&&t){var r=f.replace(/\?/,e);try{localStorage.setItem(r,JSON.stringify({bitrate:t.toFixed(3),timestamp:n()}))}catch(e){E.error(e.message)}}}e=e||{};var b=this.context,A=e.mediaPlayerModel,_=void 0,E=void 0,T=void 0;return _={getSavedBitrateSettings:s,setSavedBitrateSettings:v,getSavedMediaSettings:a,setSavedMediaSettings:l},function(){E=(0,u.default)(b).getInstance().getLogger(_),r()}(),_}Object.defineProperty(t,"__esModule",{value:!0});var o=r(1),a=n(o),s=r(4),u=n(s),l=r(2),c=n(l),d=[{oldKey:"dashjs_vbitrate",newKey:"dashjs_video_bitrate"},{oldKey:"dashjs_abitrate",newKey:"dashjs_audio_bitrate"},{oldKey:"dashjs_vsettings",newKey:"dashjs_video_settings"},{oldKey:"dashjs_asettings",newKey:"dashjs_audio_settings"}],f="dashjs_?_bitrate",g="dashjs_?_settings",p="localStorage",h="sessionStorage",y="LastBitrate",m="LastMediaSettings";i.__dashjs_factory_name="DOMStorage";var v=a.default.getSingletonFactory(i);t.default=v,e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(){function e(e){e&&e.dashManifestModel&&(N=e.dashManifestModel)}function t(e,t){return t&&e?t.getRepresentationForQuality(e.quality):null}function r(e){return e&&e.streamInfo&&void 0!==e.streamInfo.id&&j[e.streamInfo.id]?j[e.streamInfo.id][e.index]:null}function n(e,t){for(var r=t.length,n=0;n<r;n++){var i=t[n];if(e.id===i.id)return i}return null}function i(e){var t=new u.default,r=e.adaptation.period.mpd.manifest.Period_asArray[e.adaptation.period.index].AdaptationSet_asArray[e.adaptation.index],n=N.getRepresentationFor(e.index,r);return t.id=e.id,t.quality=e.index,t.bandwidth=N.getBandwidth(n),t.DVRWindow=e.segmentAvailabilityRange,t.fragmentDuration=e.segmentDuration||(e.segments&&e.segments.length>0?e.segments[0].duration:NaN),t.MSETimeOffset=e.MSETimeOffset,t.useCalculatedLiveEdgeTime=e.useCalculatedLiveEdgeTime,t.mediaInfo=o(e.adaptation),t}function o(e){var t=new c.default,r=e.period.mpd.manifest.Period_asArray[e.period.index].AdaptationSet_asArray[e.index],n=void 0;return t.id=e.id,t.index=e.index,t.type=e.type,t.streamInfo=d(e.period),t.representationCount=N.getRepresentationCount(r),t.lang=N.getLanguageForAdaptation(r),n=N.getViewpointForAdaptation(r),t.viewpoint=n?n.value:void 0,t.accessibility=N.getAccessibilityForAdaptation(r).map(function(e){var r=e.value,n=r;return e.schemeIdUri&&e.schemeIdUri.search("cea-608")>=0&&void 0!==A.default&&(n=r?"cea-608:"+r:"cea-608",t.embeddedCaptions=!0),n}),t.audioChannelConfiguration=N.getAudioChannelConfigurationForAdaptation(r).map(function(e){return e.value}),t.roles=N.getRolesForAdaptation(r).map(function(e){return e.value}),t.codec=N.getCodec(r),t.mimeType=N.getMimeType(r),t.contentProtection=N.getContentProtectionData(r),t.bitrateList=N.getBitrateListForAdaptation(r),t.contentProtection&&t.contentProtection.forEach(function(e){e.KID=N.getKID(e)}),t.isText=N.getIsTextTrack(t.mimeType),t}function s(e,t,r){e.id=t,e.index=100+parseInt(t.substring(2,3)),e.type=a.default.EMBEDDED_TEXT,e.codec="cea-608-in-SEI",e.isText=!0,e.isEmbedded=!0,e.lang=r,e.roles=["caption"]}function l(e){e.type=a.default.IMAGE}function d(e){var t=new f.default;return t.id=e.id,t.index=e.index,t.start=e.start,t.duration=e.duration,t.manifestInfo=g(e.mpd),t.isLast=1===e.mpd.manifest.Period_asArray.length||Math.abs(t.start+t.duration-t.manifestInfo.duration)<1,t}function g(e){var t=new p.default;return t.DVRWindowSize=e.timeShiftBufferDepth,t.loadedTime=e.manifest.loadedTime,t.availableFrom=e.availabilityStartTime,t.minBufferTime=e.manifest.minBufferTime,t.maxFragmentDuration=e.maxSegmentDuration,t.duration=N.getDuration(e.manifest),t.isDynamic=N.getIsDynamic(e.manifest),t}function h(e,t){if(0===x.length)return null;var r=x[0].mpd.manifest,i=N.getAdaptationForType(r,e.index,t,e);if(!i)return null;var a=n(e,x),s=a.id,u=N.getIndexForAdaptation(i,r,e.index);return j[s]=j[s]||N.getAdaptationsForPeriod(a),o(j[s][u])}function m(e,t,r){var i=x,u=r,c=[],d=void 0,f=void 0,g=void 0,p=void 0,h=void 0,y=void 0;if(u){v();var m=N.getMpd(u);i=N.getRegularPeriods(m)}else{if(!(x.length>0))return c;u=x[0].mpd.manifest}var b=n(e,i),A=b.id,_=N.getAdaptationsForType(u,e.index,t!==a.default.EMBEDDED_TEXT?t:a.default.VIDEO);if(!_)return c;for(j[A]=j[A]||N.getAdaptationsForPeriod(b),p=0,y=_.length;p<y;p++)if(d=_[p],g=N.getIndexForAdaptation(d,u,e.index),f=o(j[A][g]),t===a.default.EMBEDDED_TEXT){var E=f.accessibility.length;for(h=0;h<E;h++)if(f){var T=f.accessibility[h];if(0===T.indexOf("cea-608:")){var S=T.substring(8),I=S.split(";");if("CC"===I[0].substring(0,2))for(h=0;h<I.length;h++)f||(f=o.call(this,j[A][g])),s(f,I[h].substring(0,3),I[h].substring(4)),c.push(f),f=null;else for(h=0;h<I.length;h++)f||(f=o.call(this,j[A][g])),s(f,"CC"+(h+1),I[h]),c.push(f),f=null}else 0===T.indexOf("cea-608")&&(s(f,a.default.CC1,"eng"),c.push(f),f=null)}}else t===a.default.IMAGE?(l(f),c.push(f),f=null):f&&c.push(f);return c}function v(){if(!N||!N.hasOwnProperty("getMpd")||!N.hasOwnProperty("getRegularPeriods"))throw new Error("setConfig function has to be called previously")}function b(e){if(!e)return null;v();var t=N.getMpd(e);x=N.getRegularPeriods(t),j={}}function E(e,t){var r=[],n=x;if(e){v();var i=N.getMpd(e);n=N.getRegularPeriods(i)}t||(t=n.length);for(var o=0;o<t;o++)r.push(d(n[o]));return r}function T(e){if(!(e&&e.hasOwnProperty("getRepresentationController")&&e.hasOwnProperty("getIndexHandler")&&e.hasOwnProperty("getMediaInfo")&&e.hasOwnProperty("getType")&&e.hasOwnProperty("getStreamInfo")))throw new Error("streamProcessor parameter is missing or malformed!")}function S(e){if(!e||!e.hasOwnProperty("getRepresentationForQuality")||!e.hasOwnProperty("getCurrentRepresentation"))throw new Error("representationController parameter is missing or malformed!")}function I(e,t){var r=void 0,n=void 0,i=void 0;return T(e),(0,_.checkInteger)(t),r=e.getRepresentationController(),i=e.getIndexHandler(),n=r?r.getRepresentationForQuality(t):null,i?i.getInitRequest(n):null}function w(e,r,n,i){var o=void 0,a=void 0,s=void 0,u=null;return T(e),o=e.getRepresentationController(),a=t(r,o),s=e.getIndexHandler(),s&&(u=void 0!==n&&void 0!==i?s.getSegmentRequestForTime(a,n,i):s.getNextSegmentRequest(a)),u}function C(e){T(e);var t=e.getIndexHandler();return t?t.getCurrentTime():NaN}function D(e,t){T(e);var r=e.getIndexHandler();r&&r.setCurrentTime(t)}function M(e){T(e);var t=e.getIndexHandler();t&&t.resetIndex()}function O(e){T(e);var t=n(e.getStreamInfo(),x),i=e.getMediaInfo(),o=r(i),a=e.getType(),s=void 0,u=void 0;s=i?i.id:null,x.length>0&&(u=s?N.getAdaptationForId(s,x[0].mpd.manifest,t.index):N.getAdaptationForIndex(i.index,x[0].mpd.manifest,t.index),e.getRepresentationController().updateData(u,o,a))}function B(e,t){S(e);var r=void 0;return void 0!==t?((0,_.checkInteger)(t),r=e.getRepresentationForQuality(t)):r=e.getCurrentRepresentation(),r?i(r):null}function R(e,t,r){if(!e||!t)return null;var n=new y.default,i=e.scheme_id_uri,o=e.value,a=e.timescale,s=e.presentation_time_delta,u=e.event_duration,l=e.id,c=e.message_data,d=r*a+s;return t[i]?(n.eventStream=t[i],n.eventStream.value=o,n.eventStream.timescale=a,n.duration=u,n.id=l,n.presentationTime=d,n.messageData=c,n.presentationTimeDelta=s,n):null}function P(e,i){var o=[];if(0===x.length)return o;var a=x[0].mpd.manifest;return e instanceof f.default?o=N.getEventsForPeriod(n(e,x)):e instanceof c.default?o=N.getEventStreamForAdaptationSet(a,r(e)):e instanceof u.default&&(o=N.getEventStreamForRepresentation(a,t(e,i.getRepresentationController()))),o}function k(){x=[],j={}}var L=void 0,N=void 0,x=void 0,j=void 0;return L={convertDataToRepresentationInfo:i,getDataForMedia:r,getStreamsInfo:E,getMediaInfoForType:h,getAllMediaInfoForType:m,getRepresentationInfo:B,updateData:O,getInitRequest:I,getFragmentRequest:w,getIndexHandlerTime:C,setIndexHandlerTime:D,getEventsFor:P,getEvent:R,setConfig:e,updatePeriods:b,reset:k,resetIndexHandler:M},function(){k()}(),L}Object.defineProperty(t,"__esModule",{value:!0});var o=r(2),a=n(o),s=r(601),u=n(s),l=r(602),c=n(l),d=r(603),f=n(d),g=r(604),p=n(g),h=r(245),y=n(h),m=r(1),v=n(m),b=r(229),A=n(b),_=r(70);i.__dashjs_factory_name="DashAdapter",t.default=v.default.getSingletonFactory(i),e.exports=t.default},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(){n(this,e),this.id=null,this.quality=null,this.DVRWindow=null,this.fragmentDuration=null,this.mediaInfo=null,this.MSETimeOffset=null};t.default=i,e.exports=t.default},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(){n(this,e),this.id=null,this.index=null,this.type=null,this.streamInfo=null,this.representationCount=0,this.lang=null,this.viewpoint=null,this.accessibility=null,this.audioChannelConfiguration=null,this.roles=null,this.codec=null,this.mimeType=null,this.contentProtection=null,this.isText=!1,this.KID=null,this.bitrateList=null};t.default=i,e.exports=t.default},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(){n(this,e),this.id=null,this.index=null,this.start=NaN,this.duration=NaN,this.manifestInfo=null,this.isLast=!0};t.default=i,e.exports=t.default},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(){n(this,e),this.DVRWindowSize=NaN,this.loadedTime=null,this.availableFrom=null,this.minBufferTime=NaN,this.duration=NaN,this.isDynamic=!1,this.maxFragmentDuration=null};t.default=i,e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(e,t){var r=void 0,n=void 0,i=void 0,o=void 0,s=void 0,l=void 0,c=!1,d=!1;if(!e)throw new Error("adaptation is not defined");if(!t)throw new Error("type is not defined");if(e.hasOwnProperty("ContentComponent_asArray")&&(o=e.ContentComponent_asArray),s=t!==a.default.TEXT?new RegExp(t):new RegExp("(vtt|ttml)"),e.Representation_asArray&&e.Representation_asArray.length&&e.Representation_asArray.length>0&&e.Representation_asArray[0].hasOwnProperty(u.default.CODECS)&&(l=e.Representation_asArray[0].codecs,0===l.search(a.default.STPP)||0===l.search(a.default.WVTT)))return t===a.default.FRAGMENTED_TEXT;if(o){if(o.length>1)return t===a.default.MUXED;o[0]&&o[0].contentType===t&&(c=!0,d=!0)}if(e.hasOwnProperty(u.default.MIME_TYPE)&&(c=s.test(e.mimeType),d=!0),!d)for(r=0,n=e.Representation_asArray&&e.Representation_asArray.length?e.Representation_asArray.length:0;!d&&r<n;)i=e.Representation_asArray[r],i.hasOwnProperty(u.default.MIME_TYPE)&&(c=s.test(i.mimeType),d=!0),r++;return c}function r(e){return t(e,a.default.AUDIO)}function n(e){return t(e,a.default.VIDEO)}function i(e){return t(e,a.default.FRAGMENTED_TEXT)}function o(e){return t(e,a.default.MUXED)}function s(e){return t(e,a.default.IMAGE)}function l(e){return"text/vtt"===e||"application/ttml+xml"===e}function d(e){var t="";return e&&e.hasOwnProperty(u.default.LANG)&&(t=e.lang.replace(/[^A-Za-z0-9-]/g,"")),t}function g(e){return e&&e.hasOwnProperty(u.default.VIEWPOINT)?e.Viewpoint:null}function h(e){return e&&e.hasOwnProperty(u.default.ROLE_ASARRAY)?e.Role_asArray:[]}function m(e){return e&&e.hasOwnProperty(u.default.ACCESSIBILITY_ASARRAY)?e.Accessibility_asArray:[]}function b(e){return e&&e.hasOwnProperty(u.default.AUDIOCHANNELCONFIGURATION_ASARRAY)?e.AudioChannelConfiguration_asArray:[]}function _(e){return h(e).filter(function(e){return e.value===u.default.MAIN})[0]}function T(){return function(e,t){return e.bandwidth-t.bandwidth}}function I(e){return e&&void 0!==e.Representation_asArray&&null!==e.Representation_asArray&&e.Representation_asArray.sort(T()),e}function C(e,t){return e&&e.Period_asArray&&Ee(t)&&e.Period_asArray[t]?e.Period_asArray[t].AdaptationSet_asArray:[]}function M(e,t,r){var n=C(t,r),i=void 0,o=void 0;for(i=0,o=n.length;i<o;i++)if(n[i].hasOwnProperty(u.default.ID)&&n[i].id===e)return n[i];return null}function O(e,t,r){var n=C(t,r);return n.length>0&&Ee(e)?n[e]:null}function B(e,t,r){var n=C(t,r),i=n.length;if(e)for(var o=0;o<i;o++){var a=(0,w.default)(he).getInstance();if(a.areEqual(n[o],e))return o}return-1}function P(e,r,n){var i=C(e,r),o=void 0,a=void 0,s=[];for(o=0,a=i.length;o<a;o++)t(i[o],n)&&s.push(I(i[o]));return s}function L(e,t,r,n){var i=P(e,t,r);if(!i||0===i.length)return null;if(i.length>1&&n){var o=me.getCurrentTrackFor(r,n),a=be.getAllMediaInfoForType(n,r);if(o)for(var s=0,u=i.length;s<u;s++)if(me.isTracksEqual(o,a[s]))return i[s];for(var s=0,u=i.length;s<u;s++)if(_(i[s]))return i[s]}return i[0]}function x(e,t,r){var n=null;if(e&&e.Representation_asArray&&e.Representation_asArray.length>0){var i=Ee(t)&&t>=0&&t<e.Representation_asArray.length?e.Representation_asArray[t]:e.Representation_asArray[0];i&&(n=i.mimeType+';codecs="'+i.codecs+'"',r&&void 0!==i.width&&(n+=';width="'+i.width+'";height="'+i.height+'"'))}return n}function j(e){return e&&e.Representation_asArray&&e.Representation_asArray.length>0?e.Representation_asArray[0].mimeType:null}function U(e){return e&&e.hasOwnProperty(u.default.CENC_DEFAULT_KID)?e[u.default.CENC_DEFAULT_KID]:null}function F(e){return e&&e.hasOwnProperty(u.default.CONTENTPROTECTION_ASARRAY)&&0!==e.ContentProtection_asArray.length?e.ContentProtection_asArray:null}function Q(e){var t=!1;return e&&e.hasOwnProperty("type")&&(t=e.type===u.default.DYNAMIC),t}function G(e,t){var r=!1;return e&&e.profiles&&e.profiles.length>0&&(r=-1!==e.profiles.indexOf(t)),r}function W(e){return G(e,_e)}function H(e){return e&&e.hasOwnProperty(u.default.MEDIA_PRESENTATION_DURATION)?e.mediaPresentationDuration:Number.MAX_SAFE_INTEGER||Number.MAX_VALUE}function Y(e){return e&&e.bandwidth?e.bandwidth:NaN}function V(e){var t=arguments.length<=1||void 0===arguments[1]?0:arguments[1],r=NaN;return e&&e.hasOwnProperty(u.default.MINIMUM_UPDATE_PERIOD)&&(r=e.minimumUpdatePeriod),isNaN(r)?r:Math.max(r-t,1)}function q(e){return e&&e.Representation_asArray&&e.Representation_asArray.length?e.Representation_asArray.length:0}function K(e){return e&&e.Representation_asArray&&e.Representation_asArray.length?I(e).Representation_asArray.map(function(e){return{bandwidth:e.bandwidth,width:e.width||0,height:e.height||0,scanType:e.scanType||null}}):null}function z(e){return e&&e.EssentialProperty_asArray&&e.EssentialProperty_asArray.length?e.EssentialProperty_asArray.map(function(e){return{schemeIdUri:e.schemeIdUri,value:e.value}}):null}function X(e,t){return t&&t.Representation_asArray&&t.Representation_asArray.length>0&&Ee(e)?t.Representation_asArray[e]:null}function J(e){if(e&&e.period&&Ee(e.period.index)){var t=e.period.mpd.manifest.Period_asArray[e.period.index];if(t&&t.AdaptationSet_asArray&&Ee(e.index))return I(t.AdaptationSet_asArray[e.index])}}function Z(e){var t=e.S_asArray[e.S_asArray.length-1];return!t.hasOwnProperty("r")||t.r>=0}function $(e){var t=J(e).Representation_asArray[0],r=void 0;return t.hasOwnProperty(u.default.SEGMENT_LIST)?(r=t.SegmentList,!r.hasOwnProperty(u.default.SEGMENT_TIMELINE)||Z(r.SegmentTimeline)):!(!t.hasOwnProperty(u.default.SEGMENT_TEMPLATE)||(r=t.SegmentTemplate,!r.hasOwnProperty(u.default.SEGMENT_TIMELINE)))&&Z(r.SegmentTimeline)}function ee(e){var t=[],r=J(e),n=void 0,i=void 0;if(e&&e.period&&Ee(e.period.index)){var o=de(e.period.mpd.manifest);o&&(i=o[0])}if(r&&r.Representation_asArray)for(var a=0,s=r.Representation_asArray.length;a<s;++a){var d=r.Representation_asArray[a],f=new c.default;if(f.index=a,f.adaptation=e,d.hasOwnProperty(u.default.ID)&&(f.id=d.id),d.hasOwnProperty(u.default.CODECS)&&(f.codecs=d.codecs),d.hasOwnProperty(u.default.CODEC_PRIVATE_DATA)&&(f.codecPrivateData=d.codecPrivateData),d.hasOwnProperty(u.default.BANDWITH)&&(f.bandwidth=d.bandwidth),d.hasOwnProperty(u.default.WIDTH)&&(f.width=d.width),d.hasOwnProperty(u.default.HEIGHT)&&(f.height=d.height),d.hasOwnProperty(u.default.SCAN_TYPE)&&(f.scanType=d.scanType),d.hasOwnProperty(u.default.MAX_PLAYOUT_RATE)&&(f.maxPlayoutRate=d.maxPlayoutRate),d.hasOwnProperty(u.default.SEGMENT_BASE)?(n=d.SegmentBase,f.segmentInfoType=u.default.SEGMENT_BASE):d.hasOwnProperty(u.default.SEGMENT_LIST)?(n=d.SegmentList,n.hasOwnProperty(u.default.SEGMENT_TIMELINE)?(f.segmentInfoType=u.default.SEGMENT_TIMELINE,f.useCalculatedLiveEdgeTime=Z(n.SegmentTimeline)):(f.segmentInfoType=u.default.SEGMENT_LIST,f.useCalculatedLiveEdgeTime=!0)):d.hasOwnProperty(u.default.SEGMENT_TEMPLATE)?(n=d.SegmentTemplate,n.hasOwnProperty(u.default.SEGMENT_TIMELINE)?(f.segmentInfoType=u.default.SEGMENT_TIMELINE,f.useCalculatedLiveEdgeTime=Z(n.SegmentTimeline)):f.segmentInfoType=u.default.SEGMENT_TEMPLATE,n.hasOwnProperty(u.default.INITIALIZATION_MINUS)&&(f.initialization=n.initialization.split("$Bandwidth$").join(d.bandwidth).split("$RepresentationID$").join(d.id))):f.segmentInfoType=u.default.BASE_URL,f.essentialProperties=z(d),n){if(n.hasOwnProperty(u.default.INITIALIZATION)){var g=n.Initialization;g.hasOwnProperty(u.default.SOURCE_URL)?f.initialization=g.sourceURL:g.hasOwnProperty(u.default.RANGE)&&(f.range=g.range)}else d.hasOwnProperty(u.default.MIME_TYPE)&&l(d.mimeType)&&(f.range=0);n.hasOwnProperty(u.default.TIMESCALE)&&(f.timescale=n.timescale),n.hasOwnProperty(u.default.DURATION)&&(f.segmentDuration=n.duration/f.timescale),n.hasOwnProperty(u.default.MEDIA)&&(f.media=n.media),n.hasOwnProperty(u.default.START_NUMBER)&&(f.startNumber=n.startNumber),n.hasOwnProperty(u.default.INDEX_RANGE)&&(f.indexRange=n.indexRange),n.hasOwnProperty(u.default.PRESENTATION_TIME_OFFSET)&&(f.presentationTimeOffset=n.presentationTimeOffset/f.timescale),n.hasOwnProperty(u.default.AVAILABILITY_TIME_OFFSET)?f.availabilityTimeOffset=n.availabilityTimeOffset:i&&void 0!==i.availabilityTimeOffset&&(f.availabilityTimeOffset=i.availabilityTimeOffset),n.hasOwnProperty(u.default.AVAILABILITY_TIME_COMPLETE)?f.availabilityTimeComplete="false"!==n.availabilityTimeComplete:i&&void 0!==i.availabilityTimeComplete&&(f.availabilityTimeComplete=i.availabilityTimeComplete)}f.MSETimeOffset=ve.calcMSETimeOffset(f),f.path=[e.period.index,e.index,a],t.push(f)}return t}function te(e){var t=e&&Ee(e.index)?e.mpd.manifest.Period_asArray[e.index]:null,l=[],c=void 0,d=void 0,g=void 0;if(t&&t.AdaptationSet_asArray)for(g=0;g<t.AdaptationSet_asArray.length;g++)d=t.AdaptationSet_asArray[g],c=new f.default,d.hasOwnProperty(u.default.ID)&&(c.id=d.id),c.index=g,c.period=e,o(d)?c.type=a.default.MUXED:r(d)?c.type=a.default.AUDIO:n(d)?c.type=a.default.VIDEO:i(d)?c.type=a.default.FRAGMENTED_TEXT:s(d)?c.type=a.default.IMAGE:c.type=a.default.TEXT,l.push(c);return l}function re(e){var t=!!e&&Q(e.manifest),r=[],n=null,i=null,o=null,a=null,s=void 0,l=void 0;for(l=0,s=e&&e.manifest&&e.manifest.Period_asArray?e.manifest.Period_asArray.length:0;l<s;l++)i=e.manifest.Period_asArray[l],i.hasOwnProperty(u.default.START)?(a=new p.default,a.start=i.start):null!==n&&n.hasOwnProperty(u.default.DURATION)&&null!==o?(a=new p.default,a.start=parseFloat((o.start+o.duration).toFixed(5))):0!==l||t||(a=new p.default,a.start=0),null!==o&&isNaN(o.duration)&&(null!==a?o.duration=parseFloat((a.start-o.start).toFixed(5)):pe.warn("First period duration could not be calculated because lack of start and duration period properties. This will cause timing issues during playback")),null!==a&&(a.id=ne(i,l),a.index=l,a.mpd=e,i.hasOwnProperty(u.default.DURATION)&&(a.duration=i.duration),r.push(a),n=i,o=a),i=null,a=null;return 0===r.length?r:(null!==o&&isNaN(o.duration)&&(o.duration=parseFloat((oe(o)-o.start).toFixed(5))),r)}function ne(e,t){if(!e)throw new Error("Period cannot be null or undefined");var r=p.default.DEFAULT_ID+"_"+t;return e.hasOwnProperty(u.default.ID)&&e.id.length>0&&"__proto__"!==e.id&&(r=e.id),r}function ie(e){var t=new y.default;return e&&(t.manifest=e,e.hasOwnProperty(u.default.AVAILABILITY_START_TIME)?t.availabilityStartTime=new Date(e.availabilityStartTime.getTime()):t.availabilityStartTime=new Date(e.loadedTime.getTime()),e.hasOwnProperty(u.default.AVAILABILITY_END_TIME)&&(t.availabilityEndTime=new Date(e.availabilityEndTime.getTime())),e.hasOwnProperty(u.default.MINIMUM_UPDATE_PERIOD)&&(t.minimumUpdatePeriod=e.minimumUpdatePeriod),e.hasOwnProperty(u.default.MEDIA_PRESENTATION_DURATION)&&(t.mediaPresentationDuration=e.mediaPresentationDuration),e.hasOwnProperty(a.default.SUGGESTED_PRESENTATION_DELAY)&&(t.suggestedPresentationDelay=e.suggestedPresentationDelay),e.hasOwnProperty(u.default.TIMESHIFT_BUFFER_DEPTH)&&(t.timeShiftBufferDepth=e.timeShiftBufferDepth),e.hasOwnProperty(u.default.MAX_SEGMENT_DURATION)&&(t.maxSegmentDuration=e.maxSegmentDuration)),t}function oe(e){var t=Q(e.mpd.manifest),r=void 0;return e.mpd.manifest.mediaPresentationDuration?r=e.mpd.manifest.mediaPresentationDuration:e.duration?r=e.duration:t?r=Number.POSITIVE_INFINITY:Ae.error(new k.default(N.default.MANIFEST_ERROR_ID_PARSE_CODE,"Must have @mediaPresentationDuration on MPD or an explicit @duration on the last period.",e)),r}function ae(e){var t=e&&e.mpd&&e.mpd.manifest?e.mpd.manifest:null,r=t?t.Period_asArray:null,n=r&&e&&Ee(e.index)?r[e.index].EventStream_asArray:null,i=[],o=void 0,s=void 0;if(n)for(o=0;o<n.length;o++){var l=new S.default;if(l.period=e,l.timescale=1,!n[o].hasOwnProperty(a.default.SCHEME_ID_URI))throw new Error("Invalid EventStream. SchemeIdUri has to be set");for(l.schemeIdUri=n[o].schemeIdUri,n[o].hasOwnProperty(u.default.TIMESCALE)&&(l.timescale=n[o].timescale),n[o].hasOwnProperty(u.default.VALUE)&&(l.value=n[o].value),s=0;s<n[o].Event_asArray.length;s++){var c=new A.default;c.presentationTime=0,c.eventStream=l,n[o].Event_asArray[s].hasOwnProperty(u.default.PRESENTATION_TIME)&&(c.presentationTime=n[o].Event_asArray[s].presentationTime),n[o].Event_asArray[s].hasOwnProperty(u.default.DURATION)&&(c.duration=n[o].Event_asArray[s].duration),n[o].Event_asArray[s].hasOwnProperty(u.default.ID)&&(c.id=n[o].Event_asArray[s].id),c.messageData=n[o].Event_asArray[s].messageData||n[o].Event_asArray[s].__text,i.push(c)}}return i}function se(e,t){var r=[],n=void 0;if(!e)return r;for(n=0;n<e.length;n++){var i=new S.default;if(i.timescale=1,i.representation=t,!e[n].hasOwnProperty(a.default.SCHEME_ID_URI))throw new Error("Invalid EventStream. SchemeIdUri has to be set");i.schemeIdUri=e[n].schemeIdUri,e[n].hasOwnProperty(u.default.TIMESCALE)&&(i.timescale=e[n].timescale),e[n].hasOwnProperty(u.default.VALUE)&&(i.value=e[n].value),r.push(i)}return r}function ue(e,t){var r=void 0,n=void 0,i=void 0;return e&&e.Period_asArray&&t&&t.period&&Ee(t.period.index)&&(n=e.Period_asArray[t.period.index])&&n.AdaptationSet_asArray&&Ee(t.index)&&(i=n.AdaptationSet_asArray[t.index])&&(r=i.InbandEventStream_asArray),se(r,null)}function le(e,t){var r=void 0,n=void 0,i=void 0,o=void 0;return e&&e.Period_asArray&&t&&t.adaptation&&t.adaptation.period&&Ee(t.adaptation.period.index)&&(n=e.Period_asArray[t.adaptation.period.index])&&n.AdaptationSet_asArray&&Ee(t.adaptation.index)&&(i=n.AdaptationSet_asArray[t.adaptation.index])&&i.Representation_asArray&&Ee(t.index)&&(o=i.Representation_asArray[t.index])&&(r=o.InbandEventStream_asArray),se(r,t)}function ce(e){var t=Q(e),r=!!e&&e.hasOwnProperty(u.default.AVAILABILITY_START_TIME),n=e?e.UTCTiming_asArray:null,i=[];return(t||r)&&n&&n.forEach(function(e){var t=new v.default;e.hasOwnProperty(a.default.SCHEME_ID_URI)&&(t.schemeIdUri=e.schemeIdUri,e.hasOwnProperty(u.default.VALUE)&&(t.value=e.value.toString(),i.push(t)))}),i}function de(e){var t=[],r=e.BaseURL_asArray||[e.baseUri],n=!1;return r.some(function(r){if(r){var i=new E.default,o=r.__text||r;return ye.isRelative(o)&&(n=!0,e.baseUri&&(o=ye.resolve(o,e.baseUri))),i.url=o,r.hasOwnProperty(u.default.SERVICE_LOCATION)&&r.serviceLocation.length?i.serviceLocation=r.serviceLocation:i.serviceLocation=o,r.hasOwnProperty(u.default.DVB_PRIORITY)&&(i.dvb_priority=r[u.default.DVB_PRIORITY]),r.hasOwnProperty(u.default.DVB_WEIGHT)&&(i.dvb_weight=r[u.default.DVB_WEIGHT]),r.hasOwnProperty(u.default.AVAILABILITY_TIME_OFFSET)&&(i.availabilityTimeOffset=r[u.default.AVAILABILITY_TIME_OFFSET]),r.hasOwnProperty(u.default.AVAILABILITY_TIME_COMPLETE)&&(i.availabilityTimeComplete="false"!==r[u.default.AVAILABILITY_TIME_COMPLETE]),t.push(i),n}}),t}function fe(e){if(e&&e.hasOwnProperty(a.default.LOCATION))return e.Location=e.Location_asArray[0],e.Location}e=e||{};var ge=void 0,pe=void 0,he=this.context,ye=(0,D.default)(he).getInstance(),me=e.mediaController,ve=e.timelineConverter,be=e.adapter,Ae=e.errHandler,_e="urn:dvb:dash:profile:dvb-dash:2014",Ee=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e};return ge={getIsTypeOf:t,getIsTextTrack:l,getLanguageForAdaptation:d,getViewpointForAdaptation:g,getRolesForAdaptation:h,getAccessibilityForAdaptation:m,getAudioChannelConfigurationForAdaptation:b,getAdaptationForIndex:O,getIndexForAdaptation:B,getAdaptationForId:M,getAdaptationsForType:P,getAdaptationForType:L,getCodec:x,getMimeType:j,getKID:U,getContentProtectionData:F,getIsDynamic:Q,getIsDVB:W,getDuration:H,getBandwidth:Y,getManifestUpdatePeriod:V,getRepresentationCount:q,getBitrateListForAdaptation:K,getRepresentationFor:X,getRepresentationsForAdaptation:ee,getAdaptationsForPeriod:te,getRegularPeriods:re,getMpd:ie,getEventsForPeriod:ae,getEventStreamForAdaptationSet:ue,getEventStreamForRepresentation:le,getUTCTimingSources:ce,getBaseURLsFromElement:de,getRepresentationSortFunction:T,getLocation:fe,getUseCalculatedLiveEdgeTimeForAdaptation:$},function(){pe=(0,R.default)(he).getInstance().getLogger(ge)}(),ge}Object.defineProperty(t,"__esModule",{value:!0});var o=r(2),a=n(o),s=r(28),u=n(s),l=r(164),c=n(l),d=r(606),f=n(d),g=r(607),p=n(g),h=r(608),y=n(h),m=r(243),v=n(m),b=r(245),A=n(b),_=r(239),E=n(_),T=r(609),S=n(T),I=r(238),w=n(I),C=r(43),D=n(C),M=r(1),O=n(M),B=r(4),R=n(B),P=r(12),k=n(P),L=r(17),N=n(L);i.__dashjs_factory_name="DashManifestModel",t.default=O.default.getSingletonFactory(i),e.exports=t.default},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(){n(this,e),this.period=null,this.index=-1,this.type=null};t.default=i,e.exports=t.default},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(){n(this,e),this.id=null,this.index=-1,this.duration=NaN,this.start=NaN,this.mpd=null};i.DEFAULT_ID="defaultId",t.default=i,e.exports=t.default},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(){n(this,e),this.manifest=null,this.suggestedPresentationDelay=0,this.availabilityStartTime=null,this.availabilityEndTime=Number.POSITIVE_INFINITY,this.timeShiftBufferDepth=Number.POSITIVE_INFINITY,this.maxSegmentDuration=Number.POSITIVE_INFINITY,this.minimumUpdatePeriod=NaN,this.mediaPresentationDuration=NaN};t.default=i,e.exports=t.default},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(){n(this,e),this.adaptionSet=null,this.representation=null,this.period=null,this.timescale=1,this.value="",this.schemeIdUri=""};t.default=i,e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(e,t){var r=void 0;return r=E(w.getValue().Period_asArray[t],e),null===r?null:r.bandwidth}function r(e,t){return _(w.getValue().Period_asArray[t],e)}function n(e,t){var r=w.getValue();return r?S(r.Period_asArray[t],e):-1}function i(e){return g(e,l.default.TRACK_SWITCH)}function a(e){return g(e,l.default.BUFFER_LEVEL)}function s(e){var t=a(e);return t?d.default.round10(t.level/1e3,-3):0}function u(e){return e?e.RequestsQueue:null}function c(e){if(!e)return null;var t=e.HttpList,r=null,n=void 0,i=void 0;if(!t||t.length<=0)return null;for(n=t.length,i=n-1;i>=0;){if(t[i].responsecode){r=t[i];break}i--}return r}function f(e){return e&&e.HttpList?e.HttpList:[]}function g(e,t){if(!e)return null;var r=e[t];if(!r)return null;var n=r.length;return n<=0?null:r[n-1]}function p(e){return g(e,l.default.DROPPED_FRAMES)}function h(e){return g(e,l.default.SCHEDULING_INFO)}function y(e){return g(e,l.default.MANIFEST_UPDATE)}function m(e){return g(e,l.default.DVR_INFO)}function v(e,t){var r={},n=void 0,i=void 0,a=void 0;for(n=f(e),a=n.length-1;a>=0;a--)if(i=n[a],i.type===o.HTTPRequest.MPD_TYPE){r=A(i._responseHeaders);break}return void 0===r[t]?null:r[t]}function b(e,t){var r={},n=c(e);return n&&(r=A(n._responseHeaders)),void 0===r[t]?null:r[t]}function A(e){var t={};if(!e)return t;for(var r=e.trim().split("\r\n"),n=0,i=r.length;n<i;n++){var o=r[n],a=o.indexOf(": ");a>0&&(t[o.substring(0,a)]=o.substring(a+2))}return t}function _(e,t){var r=E(e,t,!0);return null!==r?r:-1}function E(e,t,r){var n=void 0,i=void 0,o=void 0,a=void 0,s=void 0,u=void 0;if(e)for(i=e.AdaptationSet_asArray,s=0;s<i.length;s+=1)for(n=i[s],a=n.Representation_asArray,u=0;u<a.length;u+=1)if(o=a[u],t===o.id)return r?u:o;return null}function T(e,t){return I.getIsTypeOf(e,t)}function S(e,t){var r=void 0,n=void 0,i=void 0,o=void 0;if(!e||!t)return-1;for(n=e.AdaptationSet_asArray,o=0;o<n.length;o+=1)if(r=n[o],i=r.Representation_asArray,T(r,t))return i.length;return-1}e=e||{};var I=e.dashManifestModel,w=e.manifestModel;return{getBandwidthForRepresentation:t,getIndexForRepresentation:r,getMaxIndexForBufferType:n,getCurrentRepresentationSwitch:i,getLatestBufferLevelVO:a,getCurrentBufferLevel:s,getCurrentHttpRequest:c,getHttpRequests:f,getCurrentDroppedFrames:p,getCurrentSchedulingInfo:h,getCurrentDVRInfo:m,getCurrentManifestUpdate:y,getLatestFragmentRequestHeaderValueByID:b,getLatestMPDRequestHeaderValueByID:v,getRequestsQueue:u}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(19),a=r(1),s=n(a),u=r(69),l=n(u),c=r(611),d=n(c);i.__dashjs_factory_name="DashMetrics",t.default=s.default.getSingletonFactory(i),e.exports=t.default},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t,r){return void 0===r||0==+r?Math[e](t):(t=+t,r=+r,null===t||isNaN(t)||"number"!=typeof r||r%1!=0?NaN:(t=t.toString().split("e"),t=Math[e](+(t[0]+"e"+(t[1]?+t[1]-r:-r))),t=t.toString().split("e"),+(t[0]+"e"+(t[1]?+t[1]+r:r))))}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=function(){function e(){n(this,e)}return o(e,null,[{key:"round10",value:function(e,t){return i("round",e,t)}}]),e}();t.default=a,e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(){function e(){A(),T.on(u.default.TIME_SYNCHRONIZATION_COMPLETED,v,this)}function t(){return I}function r(e){I=e}function n(){return S}function i(e){S=e}function o(){return w}function s(e){w=e}function l(e,t,r,n){return n?r&&t.timeShiftBufferDepth!=Number.POSITIVE_INFINITY?new Date(t.availabilityStartTime.getTime()+1e3*(e+t.timeShiftBufferDepth)):t.availabilityEndTime:r?new Date(t.availabilityStartTime.getTime()+1e3*(e-S)):t.availabilityStartTime}function c(e,t,r){return l.call(this,e,t,r)}function d(e,t,r){return l.call(this,e,t,r,!0)}function f(e,t){return(e.getTime()-t.mpd.availabilityStartTime.getTime()+1e3*S)/1e3}function g(e,t){return e+(t.adaptation.period.start-t.presentationTimeOffset)}function p(e,t){return e-t.adaptation.period.start+t.presentationTimeOffset}function h(e,t){var r=void 0,n=void 0,i=void 0;return t&&(r=e.representation.adaptation.period.mpd.suggestedPresentationDelay,n=e.presentationStartTime+r,i=new Date(e.availabilityStartTime.getTime()+1e3*n)),i}function y(e,t){var r=e.adaptation.period,n={start:r.start,end:r.start+r.duration};if(!t)return n;if(!I&&e.segmentAvailabilityRange)return e.segmentAvailabilityRange;var i=e.segmentDuration||(e.segments&&e.segments.length?e.segments[e.segments.length-1].duration:0),o=f(new Date,r),a=r.start+r.duration;n.start=Math.max(o-r.mpd.timeShiftBufferDepth,r.start);var s=void 0!==e.availabilityTimeOffset&&e.availabilityTimeOffset<i?i-e.availabilityTimeOffset:i;return n.end=o>=a&&o-s<a?a:o-s,n}function m(e,t){return t-e.adaptation.period.start}function v(e){I||void 0!==e.offset&&(i(e.offset/1e3),I=!0)}function b(e){var t=e.presentationTimeOffset;return e.adaptation.period.start-t}function A(){S=0,I=!1,w=NaN}function _(){T.off(u.default.TIME_SYNCHRONIZATION_COMPLETED,v,this),A()}var E=this.context,T=(0,a.default)(E).getInstance(),S=void 0,I=void 0,w=void 0;return{initialize:e,isTimeSyncCompleted:t,setTimeSyncCompleted:r,getClientTimeOffset:n,setClientTimeOffset:i,getExpectedLiveEdge:o,setExpectedLiveEdge:s,calcAvailabilityStartTimeFromPresentationTime:c,calcAvailabilityEndTimeFromPresentationTime:d,calcPresentationTimeFromWallTime:f,calcPresentationTimeFromMediaTime:g,calcPeriodRelativeTimeFromMpdRelativeTime:m,calcMediaTimeFromPresentationTime:p,calcSegmentAvailabilityRange:y,calcWallTimeForSegment:h,calcMSETimeOffset:b,reset:_}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(3),a=n(o),s=r(5),u=n(s),l=r(1),c=n(l);i.__dashjs_factory_name="TimelineConverter",t.default=c.default.getSingletonFactory(i),e.exports=t.default},function(e,t,r){"use strict";var n={};n.encode=function(e){for(var t=[],r=0;r<e.length;++r){var n=e.charCodeAt(r);n<128?t.push(n):n<2048?(t.push(192|n>>6),t.push(128|63&n)):n<65536?(t.push(224|n>>12),t.push(128|63&n>>6),t.push(128|63&n)):(t.push(240|n>>18),t.push(128|63&n>>12),t.push(128|63&n>>6),t.push(128|63&n))}return t},n.decode=function(e){for(var t=[],r=0;r<e.length;){var n=e[r++];n<128||(n<224?(n=(31&n)<<6,n|=63&e[r++]):n<240?(n=(15&n)<<12,n|=(63&e[r++])<<6,n|=63&e[r++]):(n=(7&n)<<18,n|=(63&e[r++])<<12,n|=(63&e[r++])<<6,n|=63&e[r++])),t.push(String.fromCharCode(n))}return t.join("")};var i={};!function(e){var t=function(t){for(var r=0,n=[],i=0|t.length/3;0<i--;){var o=(t[r]<<16)+(t[r+1]<<8)+t[r+2];r+=3,n.push(e.charAt(63&o>>18)),n.push(e.charAt(63&o>>12)),n.push(e.charAt(63&o>>6)),n.push(e.charAt(63&o))}if(2==t.length-r){var o=(t[r]<<16)+(t[r+1]<<8);n.push(e.charAt(63&o>>18)),n.push(e.charAt(63&o>>12)),n.push(e.charAt(63&o>>6)),n.push("=")}else if(1==t.length-r){var o=t[r]<<16;n.push(e.charAt(63&o>>18)),n.push(e.charAt(63&o>>12)),n.push("==")}return n.join("")},r=function(){for(var t=[],r=0;r<e.length;++r)t[e.charCodeAt(r)]=r;return t["=".charCodeAt(0)]=0,t}(),o=function(e){for(var t=0,n=[],i=0|e.length/4;0<i--;){var o=(r[e.charCodeAt(t)]<<18)+(r[e.charCodeAt(t+1)]<<12)+(r[e.charCodeAt(t+2)]<<6)+r[e.charCodeAt(t+3)];n.push(255&o>>16),n.push(255&o>>8),n.push(255&o),t+=4}return n&&("="==e.charAt(t-2)?(n.pop(),n.pop()):"="==e.charAt(t-1)&&n.pop()),n},u={};u.encode=function(e){for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t},u.decode=function(e){for(var t=0;t<s.length;++t)a[t]=String.fromCharCode(a[t]);return a.join("")},i.decodeArray=function(e){var t=o(e);return new Uint8Array(t)},i.encodeASCII=function(e){var r=u.encode(e);return t(r)},i.decodeASCII=function(e){var t=o(e);return u.decode(t)},i.encode=function(e){var r=n.encode(e);return t(r)},i.decode=function(e){var t=o(e);return n.decode(t)}}("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),t.decode=i.decode,t.decodeArray=i.decodeArray,t.encode=i.encode,t.encodeASCII=i.encodeASCII},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(){function e(e){return i=(0,a.default)(n).getInstance({eventBus:e.eventBus,metricsModel:e.metricsModel,metricsConstants:e.metricsConstants,events:e.events}),(0,c.default)(n).create(e)}function t(){return(0,p.default)(n).getInstance()}function r(){return(0,f.default)(n).getInstance()}var n=this.context,i=void 0;return{createMetricsReporting:e,getReportingFactory:t,getMetricsHandlerFactory:r}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(615),a=n(o),s=r(112),u=n(s),l=r(617),c=n(l),d=r(247),f=n(d),g=r(246),p=n(g);i.__dashjs_factory_name="MetricsReporting";var h=dashjs.FactoryMaker.getClassFactory(i);h.events=u.default,dashjs.FactoryMaker.updateClassFactory(i.__dashjs_factory_name,h),t.default=h,e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(e){var t=new a.default;if(h){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.mpdurl||(t.mpdurl=h.originalUrl||h.url),t.terror||(t.terror=new Date),p.addDVBErrors(t)}}function r(e){e.error||(h=e.manifest)}function n(e){t({errorcode:a.default.BASE_URL_CHANGED,servicelocation:e.entry})}function i(){t({errorcode:a.default.BECAME_REPORTER})}function o(e){(0===e.responsecode||e.responsecode>=400||e.responsecode<100||e.responsecode>=600)&&t({errorcode:e.responsecode||a.default.CONNECTION_ERROR,url:e.url,terror:e.tresponse,servicelocation:e._serviceLocation})}function s(e){switch(e.metric){case y.HTTP_REQUEST:o(e.value)}}function l(e){var r=e.error?e.error.code:0,n=void 0;switch(r){case MediaError.MEDIA_ERR_NETWORK:n=a.default.CONNECTION_ERROR;break;case MediaError.MEDIA_ERR_DECODE:n=a.default.CORRUPT_MEDIA_OTHER;break;default:return}t({errorcode:n})}function c(){g.on(m.MANIFEST_UPDATED,r,f),g.on(m.SERVICE_LOCATION_BLACKLIST_CHANGED,n,f),g.on(m.METRIC_ADDED,s,f),g.on(m.METRIC_UPDATED,s,f),g.on(m.PLAYBACK_ERROR,l,f),g.on(u.default.BECAME_REPORTING_PLAYER,i,f)}function d(){g.off(m.MANIFEST_UPDATED,r,f),g.off(m.SERVICE_LOCATION_BLACKLIST_CHANGED,n,f),g.off(m.METRIC_ADDED,s,f),g.off(m.METRIC_UPDATED,s,f),g.off(m.PLAYBACK_ERROR,l,f),g.off(u.default.BECAME_REPORTING_PLAYER,i,f)}e=e||{};var f=void 0,g=e.eventBus,p=e.metricsModel,h=void 0,y=e.metricsConstants,m=e.events;return f={initialise:c,reset:d},c(),f}Object.defineProperty(t,"__esModule",{value:!0});var o=r(616),a=n(o),s=r(112),u=n(s);i.__dashjs_factory_name="DVBErrorsTranslator",t.default=dashjs.FactoryMaker.getSingletonFactory(i),e.exports=t.default},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(){n(this,e),this.mpdurl=null,this.errorcode=null,this.terror=null,this.url=null,this.ipaddress=null,this.servicelocation=null};i.SSL_CONNECTION_FAILED_PREFIX="SSL",i.DNS_RESOLUTION_FAILED="C00",i.HOST_UNREACHABLE="C01",i.CONNECTION_REFUSED="C02",i.CONNECTION_ERROR="C03",i.CORRUPT_MEDIA_ISOBMFF="M00",i.CORRUPT_MEDIA_OTHER="M01",i.BASE_URL_CHANGED="F00",i.BECAME_REPORTER="S00",t.default=i,e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(t){if(!t.error){var r=Object.keys(i);(0,u.default)(o).getInstance({dashManifestModel:e.dashManifestModel,constants:e.constants}).getMetrics(t.manifest).forEach(function(t){var n=JSON.stringify(t);if(i.hasOwnProperty(n))r.splice(n,1);else try{var s=(0,a.default)(o).create(e);s.initialize(t),i[n]=s}catch(e){}}),r.forEach(function(e){i[e].reset(),delete i[e]}),s.trigger(c.default.METRICS_INITIALISATION_COMPLETE)}}function r(){Object.keys(i).forEach(function(e){i[e].reset()}),i={}}function n(){s.off(l.MANIFEST_UPDATED,t),s.off(l.STREAM_TEARDOWN_COMPLETE,r)}e=e||{};var i={},o=this.context,s=e.eventBus,l=e.events;return function(){s.on(l.MANIFEST_UPDATED,t),s.on(l.STREAM_TEARDOWN_COMPLETE,r)}(),{reset:n}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(618),a=n(o),s=r(629),u=n(s),l=r(112),c=n(l);i.__dashjs_factory_name="MetricsCollectionController",t.default=dashjs.FactoryMaker.getClassFactory(i),e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(t){try{o=(0,a.default)(s).create({mediaElement:e.mediaElement}),o.initialize(t.Range),i=(0,u.default)(s).create({debug:e.debug,metricsConstants:e.metricsConstants}),i.initialize(t.Reporting,o),n=(0,c.default)(s).create({debug:e.debug,eventBus:e.eventBus,metricsConstants:e.metricsConstants,events:e.events}),n.initialize(t.metrics,i)}catch(e){throw r(),e}}function r(){n&&n.reset(),i&&i.reset(),o&&o.reset()}e=e||{};var n=void 0,i=void 0,o=void 0,s=this.context;return{initialize:t,reset:r}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(619),a=n(o),s=r(620),u=n(s),l=r(624),c=n(l);i.__dashjs_factory_name="MetricsController",t.default=dashjs.FactoryMaker.getClassFactory(i),e.exports=t.default},function(e,t,r){"use strict";function n(e){function t(e){e&&e.length&&(e.forEach(function(e){var t=e.starttime,r=t+e.duration;u.add(t,r)}),i=!!e[0]._useWallClockTime)}function r(){u.clear()}function n(){var e=u.length,t=void 0;if(!e)return!0;t=i?(new Date).getTime()/1e3:l.currentTime;for(var r=0;r<e;r+=1){var n=u.start(r),o=u.end(r);if(n<=t&&t<o)return!0}return!1}e=e||{};var i=!1,a=this.context,s=void 0,u=void 0,l=e.mediaElement;return s={initialize:t,reset:r,isEnabled:n},function(){u=(0,o.default)(a).create()}(),s}Object.defineProperty(t,"__esModule",{value:!0});var i=r(223),o=function(e){return e&&e.__esModule?e:{default:e}}(i);n.__dashjs_factory_name="RangeController",t.default=dashjs.FactoryMaker.getClassFactory(n),e.exports=t.default},function(e,t,r){"use strict";function n(e){function t(e,t){e.some(function(e){var r=a.create(e,t);if(r)return i.push(r),!0})}function r(){i.forEach(function(e){return e.reset()}),i=[]}function n(e,t){i.forEach(function(r){return r.report(e,t)})}var i=[],a=(0,o.default)(this.context).getInstance(e);return{initialize:t,reset:r,report:n}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(246),o=function(e){return e&&e.__esModule?e:{default:e}}(i);n.__dashjs_factory_name="ReportingController",t.default=dashjs.FactoryMaker.getClassFactory(n),e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(e,t,r){var n=new XMLHttpRequest,i=function(){var e=y.indexOf(n);-1!==e&&(y.splice(e,1),n.status>=200&&n.status<300?t&&t():r&&r())};y.push(n);try{n.open("GET",e),n.onloadend=i,n.onerror=i,n.send()}catch(e){n.onerror()}}function r(e,r){Array.isArray(r)||(r=[r]),d&&p.isEnabled()&&r.forEach(function(r){var n=s.serialise(r);c&&e!==m.DVB_ERRORS&&(n="metricname="+e+"&"+n),n=g+"?"+n,t(n,null,function(){d=!1})})}function n(e,t){var r=void 0;if(p=t,!(g=e["dvb:reportingUrl"]))throw new Error("required parameter missing (dvb:reportingUrl)");f||(r=e["dvb:probability"]||e["dvb:priority"]||0,r&&(1e3===r||r/1e3>=l.random())&&(d=!0),f=!0)}function i(){h||(y.forEach(function(e){return e.abort()}),y=[]),f=!1,d=!1,g=null,p=null}e=e||{};var o=this.context,s=(0,a.default)(o).getInstance(),l=(0,u.default)(o).getInstance(),c=!0,d=!1,f=!1,g=null,p=null,h=!0,y=[],m=e.metricsConstants;return{report:r,initialize:n,reset:i}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(622),a=n(o),s=r(623),u=n(s);i.__dashjs_factory_name="DVBReporting",t.default=dashjs.FactoryMaker.getClassFactory(i),e.exports=t.default},function(e,t,r){"use strict";function n(){function e(t){var r=[],n=[],i=void 0,o=void 0;for(i in t)if(t.hasOwnProperty(i)&&0!==i.indexOf("_")){if(o=t[i],void 0!==o&&null!==o||(o=""),Array.isArray(o)){if(!o.length)continue;n=[],o.forEach(function(t){var r="Object"!==Object.prototype.toString.call(t).slice(8,-1);n.push(r?t:e(t))}),o=n.map(encodeURIComponent).join(",")}else"string"==typeof o?o=encodeURIComponent(o):o instanceof Date?o=o.toISOString():"number"==typeof o&&(o=Math.round(o));r.push(i+"="+o)}return r.join("&")}return{serialise:e}}Object.defineProperty(t,"__esModule",{value:!0}),n.__dashjs_factory_name="MetricSerialiser",t.default=dashjs.FactoryMaker.getSingletonFactory(n),e.exports=t.default},function(e,t,r){"use strict";function n(){function e(){r&&(a||(a=new n(o)),r.getRandomValues(a),s=0)}function t(t,n){var o=void 0;return t||(t=0),n||(n=1),r?(s===a.length&&e(),o=a[s]/i,s+=1):o=Math.random(),o*(n-t)+t}var r=window.crypto||window.msCrypto,n=Uint32Array,i=Math.pow(2,8*n.BYTES_PER_ELEMENT)-1,o=10,a=void 0,s=void 0,u=void 0;return u={random:t},e(),u}Object.defineProperty(t,"__esModule",{value:!0}),n.__dashjs_factory_name="RNG",t.default=dashjs.FactoryMaker.getSingletonFactory(n),e.exports=t.default},function(e,t,r){"use strict";function n(e){function t(e){i.forEach(function(t){t.handleNewMetric(e.metric,e.value,e.mediaType)})}function r(e,r){e.split(",").forEach(function(e,t,n){var o=void 0;if(-1!==e.indexOf("(")&&-1===e.indexOf(")")){var a=n[t+1];a&&-1===a.indexOf("(")&&-1!==a.indexOf(")")&&(e+=","+a,delete n[t+1])}(o=c.create(e,r))&&i.push(o)}),u.on(l.METRIC_ADDED,t,a),u.on(l.METRIC_UPDATED,t,a)}function n(){u.off(l.METRIC_ADDED,t,a),u.off(l.METRIC_UPDATED,t,a),i.forEach(function(e){return e.reset()}),i=[]}e=e||{};var i=[],a=void 0,s=this.context,u=e.eventBus,l=e.events,c=(0,o.default)(s).getInstance({debug:e.debug,eventBus:e.eventBus,metricsConstants:e.metricsConstants});return a={initialize:r,reset:n}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(247),o=function(e){return e&&e.__esModule?e:{default:e}}(i);n.__dashjs_factory_name="MetricsHandlersController",t.default=dashjs.FactoryMaker.getClassFactory(n),e.exports=t.default},function(e,t,r){"use strict";function n(e){function t(){try{return Object.keys(p).map(function(e){return p[e]}).reduce(function(e,t){return e.level<t.level?e:t})}catch(e){return}}function r(){var e=t();e&&d!==e.t&&(d=e.t,s.report(l,e))}function n(e,t,n){t&&(u=g.validateN(n),s=t,l=g.reconstructFullMetricName(e,n),c=setInterval(r,u))}function i(){clearInterval(c),c=null,u=0,s=null,d=null}function a(e,t,r){e===h.BUFFER_LEVEL&&(p[r]=t)}e=e||{};var s=void 0,u=void 0,l=void 0,c=void 0,d=void 0,f=this.context,g=(0,o.default)(f).getInstance(),p=[],h=e.metricsConstants;return{initialize:n,reset:i,handleNewMetric:a}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(248),o=function(e){return e&&e.__esModule?e:{default:e}}(i);n.__dashjs_factory_name="BufferLevelHandler",t.default=dashjs.FactoryMaker.getClassFactory(n),e.exports=t.default},function(e,t,r){"use strict";function n(e){function t(){s.off(o.default.METRICS_INITIALISATION_COMPLETE,t,this),s.trigger(o.default.BECAME_REPORTING_PLAYER)}function r(e,r){r&&(a=r,s.on(o.default.METRICS_INITIALISATION_COMPLETE,t,this))}function n(){a=null}function i(e,t){e===u.DVB_ERRORS&&a&&a.report(e,t)}e=e||{};var a=void 0,s=e.eventBus,u=e.metricsConstants;return{initialize:r,reset:n,handleNewMetric:i}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(112),o=function(e){return e&&e.__esModule?e:{default:e}}(i);t.default=dashjs.FactoryMaker.getClassFactory(n),e.exports=t.default},function(e,t,r){"use strict";function n(e){function t(){var e=d;e.length&&a&&a.report(l,e),d=[]}function r(e,r,n,i){r&&(s=f.validateN(n),a=r,i&&i.length&&(u=i),l=f.reconstructFullMetricName(e,n,i),c=setInterval(t,s))}function n(){clearInterval(c),c=null,s=null,u=null,d=[],a=null}function i(e,t){e===g.HTTP_REQUEST&&(u&&u!==t.type||d.push(t))}e=e||{};var a=void 0,s=void 0,u=void 0,l=void 0,c=void 0,d=[],f=(0,o.default)(this.context).getInstance(),g=e.metricsConstants;return{initialize:r,reset:n,handleNewMetric:i}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(248),o=function(e){return e&&e.__esModule?e:{default:e}}(i);n.__dashjs_factory_name="HttpListHandler",t.default=dashjs.FactoryMaker.getClassFactory(n),e.exports=t.default},function(e,t,r){"use strict";function n(){function e(e,t){n=e,i=t}function t(){i=null,n=void 0}function r(e,t){e===n&&i&&i.report(n,t)}var n=void 0,i=void 0;return{initialize:e,reset:t,handleNewMetric:r}}Object.defineProperty(t,"__esModule",{value:!0}),n.__dashjs_factory_name="GenericMetricHandler",t.default=dashjs.FactoryMaker.getClassFactory(n),e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(e,t,r){var o,a,s=n.getMpd(e),u=0;return t?u=s.availabilityStartTime.getTime()/1e3:(o=this.getRegularPeriods(s),o.length&&(u=o[0].start)),a=u,r&&r.hasOwnProperty(i.START_TIME)&&(a+=r.starttime),a}function r(e){var r=[];return e.Metrics_asArray&&e.Metrics_asArray.forEach(function(o){var s=new a.default,l=n.getIsDynamic(e);o.hasOwnProperty("metrics")&&(s.metrics=o.metrics,o.Range_asArray&&o.Range_asArray.forEach(function(r){var i=new u.default;i.starttime=t(e,l,r),r.hasOwnProperty("duration")?i.duration=r.duration:i.duration=n.getDuration(e),i._useWallClockTime=l,s.Range.push(i)}),o.Reporting_asArray&&(o.Reporting_asArray.forEach(function(e){var t=new c.default;if(e.hasOwnProperty(i.SCHEME_ID_URI)){t.schemeIdUri=e.schemeIdUri;for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);s.Reporting.push(t)}}),r.push(s)))}),r}e=e||{};var n=e.dashManifestModel,i=e.constants;return{getMetrics:r}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(630),a=n(o),s=r(631),u=n(s),l=r(632),c=n(l);i.__dashjs_factory_name="ManifestParsing",t.default=dashjs.FactoryMaker.getSingletonFactory(i),e.exports=t.default},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(){n(this,e),this.metrics="",this.Range=[],this.Reporting=[]};t.default=i,e.exports=t.default},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(){n(this,e),this.starttime=0,this.duration=1/0,this._useWallClockTime=!1};t.default=i,e.exports=t.default},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(){n(this,e),this.schemeIdUri="",this.value=""};t.default=i,e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(){function e(e){var r=null,n=(0,u.default)(i).getInstance();n.setConfig({debug:e.debug,BASE64:e.BASE64}),n.initialize();var o=t(e);return!r&&o&&(r=(0,a.default)(i).create({protectionModel:o,protectionKeyController:n,eventBus:e.eventBus,debug:e.debug,events:e.events,BASE64:e.BASE64,constants:e.constants}),e.capabilities.setEncryptedMediaSupported(!0)),r}function t(e){var t=e.debug,o=t.getLogger(n),a=e.eventBus,s=e.errHandler,u=e.videoModel?e.videoModel.getElement():null;return u&&void 0===u.onencrypted||u&&void 0===u.mediaKeys?r(u,A)?(o.info("EME detected on this user agent! (ProtectionModel_3Feb2014)"),(0,y.default)(i).create({debug:t,eventBus:a,events:e.events,api:r(u,A)})):r(u,b)?(o.info("EME detected on this user agent! (ProtectionModel_01b)"),(0,v.default)(i).create({debug:t,eventBus:a,errHandler:s,events:e.events,api:r(u,b)})):(o.warn("No supported version of EME detected on this user agent! - Attempts to play encrypted content will fail!"),null):(o.info("EME detected on this user agent! (ProtectionModel_21Jan2015)"),(0,p.default)(i).create({debug:t,eventBus:a,events:e.events}))}function r(e,t){for(var r=0;r<t.length;r++){var n=t[r];if("function"==typeof e[n[Object.keys(n)[0]]])return n}return null}var n=void 0,i=this.context;return n={createProtectionSystem:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(634),a=n(o),s=r(113),u=n(s),l=r(644),c=n(l),d=r(87),f=n(d),g=r(645),p=n(g),h=r(646),y=n(h),m=r(647),v=n(m),b=[{generateKeyRequest:"generateKeyRequest",addKey:"addKey",cancelKeyRequest:"cancelKeyRequest",needkey:"needkey",keyerror:"keyerror",keyadded:"keyadded",keymessage:"keymessage"},{generateKeyRequest:"webkitGenerateKeyRequest",addKey:"webkitAddKey",cancelKeyRequest:"webkitCancelKeyRequest",needkey:"webkitneedkey",keyerror:"webkitkeyerror",keyadded:"webkitkeyadded",keymessage:"webkitkeymessage"}],A=[{setMediaKeys:"setMediaKeys",MediaKeys:"MediaKeys",release:"close",needkey:"needkey",error:"keyerror",message:"keymessage",ready:"keyadded",close:"keyclose"},{setMediaKeys:"msSetMediaKeys",MediaKeys:"MSMediaKeys",release:"close",needkey:"msneedkey",error:"mskeyerror",message:"mskeymessage",ready:"mskeyadded",close:"mskeyclose"}];i.__dashjs_factory_name="Protection";var _=dashjs.FactoryMaker.getClassFactory(i);_.events=c.default,_.errors=f.default,dashjs.FactoryMaker.updateClassFactory(i.__dashjs_factory_name,_),t.default=_,e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(){if(!(x&&x.hasOwnProperty("on")&&L&&L.hasOwnProperty("getSupportedKeySystemsFromContentProtection")))throw new Error("Missing config parameter(s)")}function r(e){if(!e)throw new Error("mediaInfo can not be null or undefined");t(),x.on(j.INTERNAL_KEY_MESSAGE,B,this),x.on(j.INTERNAL_KEY_STATUS_CHANGED,O,this),V.push(e);var r=L.getSupportedKeySystemsFromContentProtection(e.contentProtection);r&&r.length>0&&D(r,!0)}function n(e){return L.getSupportedKeySystemsFromContentProtection(e)}function i(e,t){var r=a.default.getPSSHForKeySystem(X,e),n=I(X);if(r){for(var i=N.getAllInitData(),o=0;o<i.length;o++)if(L.initDataEquals(r,i[o]))return void H.warn("DRM: Ignoring initData because we have already seen it!");try{N.createKeySession(r,n,C(X),t)}catch(e){x.trigger(j.KEY_SESSION_CREATED,{data:null,error:new p.default(f.default.KEY_SESSION_CREATED_ERROR_CODE,f.default.KEY_SESSION_CREATED_ERROR_MESSAGE+e.message)})}}else e?N.createKeySession(e,n,C(X),t):x.trigger(j.KEY_SESSION_CREATED,{data:null,error:new p.default(f.default.KEY_SESSION_CREATED_ERROR_CODE,f.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Selected key system is "+X.systemString+".  needkey/encrypted event contains no initData corresponding to that key system!")})}function o(e,t){N.loadKeySession(e,t,C(X))}function s(e){N.removeKeySession(e)}function l(e){N.closeKeySession(e)}function d(e){N.setServerCertificate(e)}function g(e){e?(N.setMediaElement(e),x.on(j.NEED_KEY,P,this)):null===e&&(N.setMediaElement(e),x.off(j.NEED_KEY,P,this))}function A(e){K=e}function _(e){z=e}function E(e){q=e,L.setProtectionData(e)}function T(){N&&N.stop()}function S(){x.off(j.INTERNAL_KEY_MESSAGE,B,this),x.off(j.INTERNAL_KEY_STATUS_CHANGED,O,this),g(null),X=void 0,N&&(N.reset(),N=null),G.forEach(function(e){return clearTimeout(e)}),G=[],V=[]}function I(e){var t=null;if(e){var r=e.systemString;q&&(t=r in q?q[r]:null)}return t}function w(e){var t=I(e),r=[],n=[],i=t&&t.audioRobustness&&t.audioRobustness.length>0?t.audioRobustness:z,o=t&&t.videoRobustness&&t.videoRobustness.length>0?t.videoRobustness:z,a=C(e),s=t&&t.distinctiveIdentifier?t.distinctiveIdentifier:"optional",l=t&&t.persistentState?t.persistentState:"temporary"===a?"optional":"required";return V.forEach(function(e){e.type===Q.AUDIO?r.push(new u.default(e.codec,i)):e.type===Q.VIDEO&&n.push(new u.default(e.codec,o))}),new c.default(r,n,s,l,[a])}function C(e){var t=I(e);return t&&t.sessionType?t.sessionType:K}function D(e,t){var r=this,n=[],a=void 0;if(X){for(a=0;a<e.length;a++)if(X===e[a].ks){var s=function(){n.push({ks:e[a].ks,configs:[w(X)]});var s=function n(s){x.off(j.KEY_SYSTEM_ACCESS_COMPLETE,n,r),s.error?t||x.trigger(j.KEY_SYSTEM_SELECTED,{error:new p.default(f.default.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE,f.default.KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE+s.error)}):(H.info("DRM: KeySystem Access Granted"),x.trigger(j.KEY_SYSTEM_SELECTED,{data:s.data}),e[a].sessionId?o(e[a].sessionId,e[a].initData):e[a].initData&&i(e[a].initData,e[a].cdmData))};return x.on(j.KEY_SYSTEM_ACCESS_COMPLETE,s,r),N.requestKeySystemAccess(n),"break"}();if("break"===s)break}}else if(void 0===X){var u;!function(){X=null,Y.push(e);for(var s=0;s<e.length;s++)n.push({ks:e[s].ks,configs:[w(e[s].ks)]});var l=void 0,c=function e(n){x.off(j.KEY_SYSTEM_ACCESS_COMPLETE,e,r),n.error?(X=void 0,x.off(j.INTERNAL_KEY_SYSTEM_SELECTED,u,r),t||x.trigger(j.KEY_SYSTEM_SELECTED,{data:null,error:new p.default(f.default.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE,f.default.KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE+n.error)})):(l=n.data,H.info("DRM: KeySystem Access Granted ("+l.keySystem.systemString+")!  Selecting key system..."),N.selectKeySystem(l))};u=function e(n){if(x.off(j.INTERNAL_KEY_SYSTEM_SELECTED,e,r),x.off(j.KEY_SYSTEM_ACCESS_COMPLETE,c,r),n.error)X=void 0,t||x.trigger(j.KEY_SYSTEM_SELECTED,{data:null,error:new p.default(f.default.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE,f.default.KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE+"Error selecting key system! -- "+n.error)});else{if(!N)return;X=N.getKeySystem(),x.trigger(j.KEY_SYSTEM_SELECTED,{data:l});var s=I(X);s&&s.serverCertificate&&s.serverCertificate.length>0&&N.setServerCertificate(F.decodeArray(s.serverCertificate).buffer);for(var u=0;u<Y.length;u++)for(a=0;a<Y[u].length;a++)if(X===Y[u][a].ks){if(L.isClearKey(X)&&s&&s.hasOwnProperty("clearkeys")){var d={kids:Object.keys(s.clearkeys)};Y[u][a].initData=(new TextEncoder).encode(JSON.stringify(d))}Y[u][a].sessionId?o(Y[u][a].sessionId,Y[u][a].initData):null!==Y[u][a].initData&&i(Y[u][a].initData,Y[u][a].cdmData);break}}},x.on(j.INTERNAL_KEY_SYSTEM_SELECTED,u,r),x.on(j.KEY_SYSTEM_ACCESS_COMPLETE,c,r),N.requestKeySystemAccess(n)}()}else Y.push(e)}function M(e,t){x.trigger(j.LICENSE_REQUEST_COMPLETE,{data:e,error:t})}function O(e){e.error?x.trigger(j.KEY_STATUSES_CHANGED,{data:null,error:e.error}):H.debug("DRM: key status = "+e.status)}function B(e){H.debug("DRM: onKeyMessage");var t=e.data;x.trigger(j.KEY_MESSAGE,{data:t});var r=t.messageType?t.messageType:"license-request",n=t.message,i=t.sessionToken,o=I(X),s=X?X.systemString:null,u=L.getLicenseServer(X,o,r),l={sessionToken:i,messageType:r};if(!n||0===n.byteLength)return void M(l,new p.default(f.default.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_CODE,f.default.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_MESSAGE));if(!u)return H.debug("DRM: License server request not required for this message (type = "+e.data.messageType+").  Session ID = "+i.getSessionID()),void M(l);if(L.isClearKey(X)){var c=L.processClearKeyLicenseRequest(X,o,n);if(c)return H.debug("DRM: ClearKey license request handled by application!"),M(l),void N.updateKeySession(i,c)}var d=null;if(o&&o.serverURL){var g=o.serverURL;"string"==typeof g&&""!==g?d=g:"object"==typeof g&&g.hasOwnProperty(r)&&(d=g[r])}else o&&o.laURL&&""!==o.laURL?d=o.laURL:(d=X.getLicenseServerURLFromInitData(a.default.getPSSHData(i.initData)))||(d=e.data.laURL);if(!(d=u.getServerURLFromMessage(d,n,r)))return void M(l,new p.default(f.default.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_CODE,f.default.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_MESSAGE));var h={},y=!1,v=function(e){if(e)for(var t in e)"authorization"===t.toLowerCase()&&(y=!0),h[t]=e[t]};o&&v(o.httpRequestHeaders),v(X.getRequestHeadersFromMessage(n)),o&&"boolean"==typeof o.withCredentials&&(y=o.withCredentials);var A=function(e,t,r,n){var i=e.response?u.getErrorResponse(e.response,r,n):"NONE";M(t,new p.default(f.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,f.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+r+' update, XHR complete. status is "'+e.statusText+'" ('+e.status+"), readyState is "+e.readyState+".  Response is "+i))},_=function(e){if(N)if(200===e.status){var t=u.getLicenseMessage(e.response,s,r);null!==t?(M(l),N.updateKeySession(i,t)):A(e,l,s,r)}else A(e,l,s,r)},E=function(e){M(l,new p.default(f.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,f.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+s+' update, XHR aborted. status is "'+e.statusText+'" ('+e.status+"), readyState is "+e.readyState))},T=function(e){M(l,new p.default(f.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,f.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+s+' update, XHR error. status is "'+e.statusText+'" ('+e.status+"), readyState is "+e.readyState))},S=X.getLicenseRequestFromMessage(n),w=u.getHTTPMethod(r),C=u.getResponseType(s,r),D=o&&!isNaN(o.httpTimeout)?o.httpTimeout:b;R(d,h,w,C,y,S,m,D,_,E,T)}function R(e,t,r,n,i,o,a,s,u,l,c){var d=new XMLHttpRequest;d.open(r,e,!0),d.responseType=n,d.withCredentials=i,s>0&&(d.timeout=s);for(var f in t)d.setRequestHeader(f,t[f]);var g=function(){a--,setTimeout(function(){R(e,t,r,n,i,o,a,s,u,l,c)},v)};d.onload=function(){200===this.status||a<=0?u(this):(H.warn("License request failed ("+this.status+"). Retrying it... Pending retries: "+a),g())},d.onerror=function(){a<=0?c(this):(H.warn("License request network request failed . Retrying it... Pending retries: "+a),g())},d.onabort=function(){l(this)},d.send(o)}function P(e,t){if(H.debug("DRM: onNeedKey"),"cenc"!==e.key.initDataType)return void H.warn("DRM:  Only 'cenc' initData is supported!  Ignoring initData of type: "+e.key.initDataType);if(0===V.length&&(H.warn("DRM: onNeedKey called before initializeForMedia, wait until initialized"),(t=void 0===t?1:t+1)<h))return void G.push(setTimeout(function(){P(e,t)},y));var r=e.key.initData;if(ArrayBuffer.isView(r)&&(r=r.buffer),X){var n=a.default.getPSSHForKeySystem(X,r);if(n)for(var i=N.getAllInitData(),o=0;o<i.length;o++)if(L.initDataEquals(n,i[o]))return void H.warn("DRM: Ignoring initData because we have already seen it!")}H.debug("DRM: initData:",String.fromCharCode.apply(null,new Uint8Array(r)));var s=L.getSupportedKeySystems(r,q);if(0===s.length)return void H.debug("DRM: Received needkey event with initData, but we don't support any of the key systems!");D(s,!1)}function k(){return L?L.getKeySystems():[]}e=e||{};var L=e.protectionKeyController,N=e.protectionModel,x=e.eventBus,j=e.events,U=e.debug,F=e.BASE64,Q=e.constants,G=[],W=void 0,H=void 0,Y=void 0,V=void 0,q=void 0,K=void 0,z=void 0,X=void 0;return W={initializeForMedia:r,createKeySession:i,loadKeySession:o,removeKeySession:s,closeKeySession:l,setServerCertificate:d,setMediaElement:g,setSessionType:A,setRobustnessLevel:_,setProtectionData:E,getSupportedKeySystemsFromContentProtection:n,getKeySystems:k,stop:T,reset:S},function(){H=U.getLogger(W),Y=[],V=[],K="temporary",z=""}(),W}Object.defineProperty(t,"__esModule",{value:!0});var o=r(72),a=n(o),s=r(635),u=n(s),l=r(165),c=n(l),d=r(87),f=n(d),g=r(12),p=n(g),h=5,y=500,m=3,v=1e3,b=8e3;i.__dashjs_factory_name="ProtectionController",t.default=dashjs.FactoryMaker.getClassFactory(i),e.exports=t.default},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(t,r){n(this,e),this.contentType=t,this.robustness=r};t.default=i,e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(e,t){var r=null;if(e){for(var n=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(t))),i=[],o=0;o<n.kids.length;o++){var s=n.kids[o],l=e.clearkeys&&e.clearkeys.hasOwnProperty(s)?e.clearkeys[s]:null;if(!l)throw new Error("DRM: ClearKey keyID ("+s+") is not known!");i.push(new a.default(s,l))}r=new u.default(i)}return r}function r(e){return c.default.parseInitDataFromContentProtection(e,d)}function n(){return null}function i(e){return new Uint8Array(e)}function o(){return null}function s(){return null}function l(){return null}e=e||{};var d=e.BASE64;return{uuid:g,schemeIdURI:h,systemString:p,getInitData:r,getRequestHeadersFromMessage:n,getLicenseRequestFromMessage:i,getLicenseServerURLFromInitData:o,getCDMData:s,getSessionId:l,getClearKeysFromProtectionData:t}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(166),a=n(o),s=r(167),u=n(s),l=r(72),c=n(l),d=r(59),f=n(d),g="e2719d58-a985-b3c9-781a-b030af78d30e",p=f.default.CLEARKEY_KEYSTEM_STRING,h="urn:uuid:"+g;i.__dashjs_factory_name="KeySystemClearKey",t.default=dashjs.FactoryMaker.getSingletonFactory(i),e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(e,t){var r=null;if(e){for(var n=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(t))),i=[],o=0;o<n.kids.length;o++){var s=n.kids[o],l=e.clearkeys&&e.clearkeys.hasOwnProperty(s)?e.clearkeys[s]:null;if(!l)throw new Error("DRM: ClearKey keyID ("+s+") is not known!");i.push(new a.default(s,l))}r=new u.default(i),y.warn("ClearKey schemeIdURI is using W3C Common PSSH systemID (1077efec-c0b2-4d02-ace3-3c1e52e2fb4b) in Content Protection. See DASH-IF IOP v4.1 section 7.6.2.4")}return r}function r(e){return c.default.parseInitDataFromContentProtection(e,f)}function n(){return null}function i(e){return new Uint8Array(e)}function o(){return null}function s(){return null}function l(){return null}var d=void 0,f=e.BASE64,y=e.debug.getLogger(d);return d={uuid:g,schemeIdURI:h,systemString:p,getInitData:r,getRequestHeadersFromMessage:n,getLicenseRequestFromMessage:i,getLicenseServerURLFromInitData:o,getCDMData:s,getSessionId:l,getClearKeysFromProtectionData:t}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(166),a=n(o),s=r(167),u=n(s),l=r(72),c=n(l),d=r(59),f=n(d),g="1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",p=f.default.CLEARKEY_KEYSTEM_STRING,h="urn:uuid:"+g;i.__dashjs_factory_name="KeySystemW3CClearKey",t.default=dashjs.FactoryMaker.getSingletonFactory(i),e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(e){e&&(f=e)}function r(e){return a.default.parseInitDataFromContentProtection(e,g)}function n(){return null}function i(e){return new Uint8Array(e)}function o(){return null}function s(){return null}function u(e){return f&&f.sessionId?f.sessionId:e&&e.sessionId?e.sessionId:null}e=e||{};var f=null,g=e.BASE64;return{uuid:l,schemeIdURI:d,systemString:c,init:t,getInitData:r,getRequestHeadersFromMessage:n,getLicenseRequestFromMessage:i,getLicenseServerURLFromInitData:o,getCDMData:s,getSessionId:u}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(72),a=n(o),s=r(59),u=n(s),l="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",c=u.default.WIDEVINE_KEYSTEM_STRING,d="urn:uuid:"+l;i.__dashjs_factory_name="KeySystemWidevine",t.default=dashjs.FactoryMaker.getSingletonFactory(i),e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(){if(!m||!m.hasOwnProperty("decodeArray")||!m.hasOwnProperty("decodeArray"))throw new Error("Missing config parameter(s)")}function r(e){var t=void 0,r=void 0,n={},i=new DOMParser,o="utf16"===y?new Uint16Array(e):new Uint8Array(e);t=String.fromCharCode.apply(null,o),r=i.parseFromString(t,"application/xml");for(var a=r.getElementsByTagName("name"),s=r.getElementsByTagName("value"),u=0;u<a.length;u++)n[a[u].childNodes[0].nodeValue]=s[u].childNodes[0].nodeValue;return n.hasOwnProperty("Content")&&(n["Content-Type"]=n.Content,delete n.Content),n.hasOwnProperty("Content-Type")||(n["Content-Type"]="text/xml; charset="+y),n}function n(e){var r=null,n=new DOMParser,i="utf16"===y?new Uint16Array(e):new Uint8Array(e);t();var o=String.fromCharCode.apply(null,i),a=n.parseFromString(o,"application/xml");if(a.getElementsByTagName("Challenge")[0]){var s=a.getElementsByTagName("Challenge")[0].childNodes[0].nodeValue;s&&(r=m.decode(s))}else if(a.getElementsByTagName("parsererror").length)return e;return r}function i(e){if(e)for(var t=new DataView(e),r=t.getUint16(4,!0),n=6,i=new DOMParser,o=0;o<r;o++){var a=t.getUint16(n,!0);n+=2;var s=t.getUint16(n,!0);if(n+=2,1===a){var u=e.slice(n,n+s),l=String.fromCharCode.apply(null,new Uint16Array(u)),c=i.parseFromString(l,"application/xml");if(c.getElementsByTagName("LA_URL")[0]){var d=c.getElementsByTagName("LA_URL")[0].childNodes[0].nodeValue;if(d)return d}if(c.getElementsByTagName("LUI_URL")[0]){var f=c.getElementsByTagName("LUI_URL")[0].childNodes[0].nodeValue;if(f)return f}}else n+=s}return null}function o(e){var r=new Uint8Array([112,115,115,104,0,0,0,0]),n=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),i=0,o=null,s=void 0,u=void 0,l=void 0,c=void 0,d=void 0;if(t(),"pssh"in e)return a.default.parseInitDataFromContentProtection(e,m);if("pro"in e)o=m.decodeArray(e.pro.__text);else{if(!("prheader"in e))return null;o=m.decodeArray(e.prheader.__text)}return s=o.length,u=4+r.length+n.length+4+s,l=new ArrayBuffer(u),c=new Uint8Array(l),d=new DataView(l),d.setUint32(i,u),i+=4,c.set(r,i),i+=r.length,c.set(n,i),i+=n.length,d.setUint32(i,s),i+=4,c.set(o,i),i+=s,c.buffer}function s(e){if("utf8"!==e&&"utf16"!==e)throw new Error("Illegal PlayReady message format! -- "+e);y=e}function u(e){e&&(g=e)}function p(){var e=void 0,r=void 0,n=void 0,i=void 0;if(t(),g&&g.cdmData){for(e=[],i=0;i<g.cdmData.length;++i)e.push(g.cdmData.charCodeAt(i)),e.push(0);for(e=String.fromCharCode.apply(null,e),e=m.encode(e),r=f.replace("%CUSTOMDATA%",e),n=[],i=0;i<r.length;++i)n.push(r.charCodeAt(i)),n.push(0);return new Uint8Array(n).buffer}return null}function h(){return null}e=e||{};var y="utf16",m=e.BASE64;return{uuid:l,schemeIdURI:d,systemString:c,getInitData:o,getRequestHeadersFromMessage:r,getLicenseRequestFromMessage:n,getLicenseServerURLFromInitData:i,getCDMData:p,getSessionId:h,setPlayReadyMessageFormat:s,init:u}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(72),a=n(o),s=r(59),u=n(s),l="9a04f079-9840-4286-ab92-e65be0885f95",c=u.default.PLAYREADY_KEYSTEM_STRING,d="urn:uuid:"+l,f='<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">%CUSTOMDATA%</CustomData></LicenseAcquisition></PlayReadyCDMData>',g=void 0;i.__dashjs_factory_name="KeySystemPlayReady",t.default=dashjs.FactoryMaker.getSingletonFactory(i),e.exports=t.default},function(e,t,r){"use strict";function n(e){function t(){if(!u||!u.hasOwnProperty("decodeArray"))throw new Error("Missing config parameter(s)")}function r(e){return e}function n(){return"POST"}function i(e){return l[e].responseType}function a(e,r){return t(),l[r].getLicenseMessage(e)}function s(e,t){return l[t].getErrorResponse(e)}e=e||{};var u=e.BASE64,l={};l[o.default.WIDEVINE_KEYSTEM_STRING]={responseType:"json",getLicenseMessage:function(e){return u.decodeArray(e.license)},getErrorResponse:function(e){return e}},l[o.default.PLAYREADY_KEYSTEM_STRING]={responseType:"arraybuffer",getLicenseMessage:function(e){return e},getErrorResponse:function(e){return String.fromCharCode.apply(null,new Uint8Array(e))}};return{getServerURLFromMessage:r,getHTTPMethod:n,getResponseType:i,getLicenseMessage:a,getErrorResponse:s}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(59),o=function(e){return e&&e.__esModule?e:{default:e}}(i);n.__dashjs_factory_name="DRMToday",t.default=dashjs.FactoryMaker.getSingletonFactory(n),e.exports=t.default},function(e,t,r){"use strict";function n(){function e(e){var t=String.fromCharCode.apply(null,new Uint8Array(e));return decodeURIComponent(escape(t))}function t(t){if(window.DOMParser){var r=e(t),n=new window.DOMParser,i=n.parseFromString(r,"text/xml"),o=i?i.getElementsByTagNameNS(u,"Envelope")[0]:null,a=o?o.getElementsByTagNameNS(u,"Body")[0]:null;if(a?a.getElementsByTagNameNS(u,"Fault")[0]:null)return null}return t}function r(t){var r="",n="",i="",o=-1,a=-1;if(window.DOMParser){var s=e(t),l=new window.DOMParser,c=l.parseFromString(s,"text/xml"),d=c?c.getElementsByTagNameNS(u,"Envelope")[0]:null,f=d?d.getElementsByTagNameNS(u,"Body")[0]:null,g=f?f.getElementsByTagNameNS(u,"Fault")[0]:null,p=g?g.getElementsByTagName("detail")[0]:null,h=p?p.getElementsByTagName("Exception")[0]:null,y=null;if(null===g)return s;y=g.getElementsByTagName("faultstring")[0].firstChild,r=y?y.nodeValue:null,null!==h&&(y=h.getElementsByTagName("StatusCode")[0],n=y?y.firstChild.nodeValue:null,y=h.getElementsByTagName("Message")[0],i=y?y.firstChild.nodeValue:null,o=i?i.lastIndexOf("[")+1:-1,a=i?i.indexOf("]"):-1,i=i?i.substring(o,a):"")}var m="code: "+n+", name: "+r;return i&&(m+=", message: "+i),m}function n(e){return e}function i(){return"POST"}function o(){return"arraybuffer"}function a(e){return t.call(this,e)}function s(e){return r.call(this,e)}var u="http://schemas.xmlsoap.org/soap/envelope/";return{getServerURLFromMessage:n,getHTTPMethod:i,getResponseType:o,getLicenseMessage:a,getErrorResponse:s}}Object.defineProperty(t,"__esModule",{value:!0}),n.__dashjs_factory_name="PlayReady",t.default=dashjs.FactoryMaker.getSingletonFactory(n),e.exports=t.default},function(e,t,r){"use strict";function n(){function e(e){return e}function t(){return"POST"}function r(){return"arraybuffer"}function n(e){return e}function i(e){return String.fromCharCode.apply(null,new Uint8Array(e))}return{getServerURLFromMessage:e,getHTTPMethod:t,getResponseType:r,getLicenseMessage:n,getErrorResponse:i}}Object.defineProperty(t,"__esModule",{value:!0}),n.__dashjs_factory_name="Widevine",t.default=dashjs.FactoryMaker.getSingletonFactory(n),e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(){function e(e,t){var r=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(t)));e+="/?";for(var n=0;n<r.kids.length;n++)e+=r.kids[n]+"&";return e=e.substring(0,e.length-1)}function t(){return"GET"}function r(){return"json"}function n(e){if(!e.hasOwnProperty("keys"))return null;for(var t=[],r=0;r<e.keys.length;r++){var n=e.keys[r],i=n.kid.replace(/=/g,""),o=n.k.replace(/=/g,"");t.push(new a.default(i,o))}return new u.default(t)}function i(e){return String.fromCharCode.apply(null,new Uint8Array(e))}return{getServerURLFromMessage:e,getHTTPMethod:t,getResponseType:r,getLicenseMessage:n,getErrorResponse:i}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(166),a=n(o),s=r(167),u=n(s);i.__dashjs_factory_name="ClearKey",t.default=dashjs.FactoryMaker.getSingletonFactory(i),e.exports=t.default},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t,r){for(var n=!0;n;){var i=e,o=t,a=r;n=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=o,r=a,n=!0,s=l=void 0}},a=r(104),s=function(e){return e&&e.__esModule?e:{default:e}}(a),u=function(e){function t(){n(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.INTERNAL_KEY_MESSAGE="internalKeyMessage",this.INTERNAL_KEY_SYSTEM_SELECTED="internalKeySystemSelected",this.INTERNAL_KEY_STATUS_CHANGED="internalkeyStatusChanged",this.KEY_ADDED="public_keyAdded",this.KEY_ERROR="public_keyError",this.KEY_MESSAGE="public_keyMessage",this.KEY_SESSION_CLOSED="public_keySessionClosed",this.KEY_SESSION_CREATED="public_keySessionCreated",this.KEY_SESSION_REMOVED="public_keySessionRemoved",this.KEY_STATUSES_CHANGED="public_keyStatusesChanged",this.KEY_SYSTEM_ACCESS_COMPLETE="public_keySystemAccessComplete",this.KEY_SYSTEM_SELECTED="public_keySystemSelected",this.LICENSE_REQUEST_COMPLETE="public_licenseRequestComplete",this.NEED_KEY="needkey",this.PROTECTION_CREATED="public_protectioncreated",this.PROTECTION_DESTROYED="public_protectiondestroyed",this.SERVER_CERTIFICATE_UPDATED="serverCertificateUpdated",this.TEARDOWN_COMPLETE="protectionTeardownComplete",this.VIDEO_ELEMENT_SELECTED="videoElementSelected"}return i(t,e),t}(s.default),l=new u;t.default=l,e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(){var e=N.length,t=void 0;0!==e?function(){for(var r=function(e){S(e),0===N.length&&(k?(k.removeEventListener("encrypted",x),k.setMediaKeys(null).then(function(){D.trigger(M.TEARDOWN_COMPLETE)})):D.trigger(M.TEARDOWN_COMPLETE))},n=0;n<e;n++)t=N[n],function(e){t.session.closed.then(function(){r(e)}),E(t).catch(function(){r(e)})}(t)}():D.trigger(M.TEARDOWN_COMPLETE)}function r(){for(var e=void 0,t=0;t<N.length;t++)e=N[t],e.getUsable()||E(e).catch(function(){S(e)})}function n(){return P}function i(){for(var e=[],t=0;t<N.length;t++)N[t].initData&&e.push(N[t].initData);return e}function o(e){_(e,0)}function s(e){e.mksa.createMediaKeys().then(function(t){P=e.keySystem,L=t,k?k.setMediaKeys(L).then(function(){D.trigger(M.INTERNAL_KEY_SYSTEM_SELECTED)}):D.trigger(M.INTERNAL_KEY_SYSTEM_SELECTED)}).catch(function(){D.trigger(M.INTERNAL_KEY_SYSTEM_SELECTED,{error:"Error selecting keys system ("+e.keySystem.systemString+")! Could not create MediaKeys -- TODO"})})}function l(e){k!==e&&(k&&(k.removeEventListener("encrypted",x),k.setMediaKeys&&k.setMediaKeys(null)),(k=e)&&(k.addEventListener("encrypted",x),k.setMediaKeys&&L&&k.setMediaKeys(L)))}function d(e){if(!P||!L)throw new Error("Can not set server certificate until you have selected a key system");L.setServerCertificate(e).then(function(){R.info("DRM: License server certificate successfully updated."),D.trigger(M.SERVER_CERTIFICATE_UPDATED)}).catch(function(e){D.trigger(M.SERVER_CERTIFICATE_UPDATED,{error:new f.default(c.default.SERVER_CERTIFICATE_UPDATED_ERROR_CODE,c.default.SERVER_CERTIFICATE_UPDATED_ERROR_MESSAGE+e.name)})})}function g(e,t,r){if(!P||!L)throw new Error("Can not create sessions until you have selected a key system");var n=L.createSession(r),i=w(n,e,r),o=this.getKeySystem(),a=o.systemString===v.default.CLEARKEY_KEYSTEM_STRING&&t&&t.clearkeys?"keyids":"cenc";n.generateRequest(a,e).then(function(){R.debug("DRM: Session created.  SessionID = "+i.getSessionID()),D.trigger(M.KEY_SESSION_CREATED,{data:i})}).catch(function(e){S(i),D.trigger(M.KEY_SESSION_CREATED,{data:null,error:new f.default(c.default.KEY_SESSION_CREATED_ERROR_CODE,c.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Error generating key request -- "+e.name)})})}function h(e,t){var r=e.session;j.isClearKey(P)&&(t=t.toJWK()),r.update(t).catch(function(t){D.trigger(M.KEY_ERROR,{data:new f.default(c.default.MEDIA_KEYERR_CODE,"Error sending update() message! "+t.name,e)})})}function m(e,t,r){if(!P||!L)throw new Error("Can not load sessions until you have selected a key system");for(var n=0;n<N.length;n++)if(e===N[n].sessionId)return void R.warn("DRM: Ignoring session ID because we have already seen it!");var i=L.createSession(r),o=w(i,t,r,e);i.load(e).then(function(t){t?(R.debug("DRM: Session loaded.  SessionID = "+o.getSessionID()),D.trigger(M.KEY_SESSION_CREATED,{data:o})):(S(o),D.trigger(M.KEY_SESSION_CREATED,{data:null,error:new f.default(c.default.KEY_SESSION_CREATED_ERROR_CODE,c.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Could not load session! Invalid Session ID ("+e+")")}))}).catch(function(t){S(o),D.trigger(M.KEY_SESSION_CREATED,{data:null,error:new f.default(c.default.KEY_SESSION_CREATED_ERROR_CODE,c.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Could not load session ("+e+")! "+t.name)})})}function b(e){e.session.remove().then(function(){R.debug("DRM: Session removed.  SessionID = "+e.getSessionID()),D.trigger(M.KEY_SESSION_REMOVED,{data:e.getSessionID()})},function(t){D.trigger(M.KEY_SESSION_REMOVED,{data:null,error:"Error removing session ("+e.getSessionID()+"). "+t.name})})}function A(e){E(e).catch(function(t){S(e),D.trigger(M.KEY_SESSION_CLOSED,{data:null,error:"Error closing session ("+e.getSessionID()+") "+t.name})})}function _(e,t){if(void 0===navigator.requestMediaKeySystemAccess||"function"!=typeof navigator.requestMediaKeySystemAccess)return void D.trigger(M.KEY_SYSTEM_ACCESS_COMPLETE,{error:"Insecure origins are not allowed"});!function(t){var r=e[t].ks,n=e[t].configs;navigator.requestMediaKeySystemAccess(r.systemString,n).then(function(e){var t="function"==typeof e.getConfiguration?e.getConfiguration():null,n=new y.default(r,t);n.mksa=e,D.trigger(M.KEY_SYSTEM_ACCESS_COMPLETE,{data:n})}).catch(function(r){++t<e.length?_(e,t):D.trigger(M.KEY_SYSTEM_ACCESS_COMPLETE,{error:"Key system access denied! "+r.message})})}(t)}function E(e){var t=e.session;return t.removeEventListener("keystatuseschange",e),t.removeEventListener("message",e),t.close()}function T(){return{handleEvent:function(e){switch(e.type){case"encrypted":if(e.initData){var t=ArrayBuffer.isView(e.initData)?e.initData.buffer:e.initData;D.trigger(M.NEED_KEY,{key:new u.default(t,e.initDataType)})}}}}}function S(e){for(var t=0;t<N.length;t++)if(N[t]===e){N.splice(t,1);break}}function I(e){var t=void 0,r=void 0;return e&&e.length>0&&(e[0]&&("string"==typeof e[0]?t=e[0]:r=e[0]),e[1]&&("string"==typeof e[1]?t=e[1]:r=e[1])),{status:t,keyId:r}}function w(e,t,r,n){var i={session:e,initData:t,sessionId:n,handleEvent:function(e){switch(e.type){case"keystatuseschange":D.trigger(M.KEY_STATUSES_CHANGED,{data:this}),e.target.keyStatuses.forEach(function(){var e=I(arguments);switch(e.status){case"expired":D.trigger(M.INTERNAL_KEY_STATUS_CHANGED,{error:new f.default(c.default.KEY_STATUS_CHANGED_EXPIRED_ERROR_CODE,c.default.KEY_STATUS_CHANGED_EXPIRED_ERROR_MESSAGE)});break;default:D.trigger(M.INTERNAL_KEY_STATUS_CHANGED,e)}});break;case"message":var t=ArrayBuffer.isView(e.message)?e.message.buffer:e.message;D.trigger(M.INTERNAL_KEY_MESSAGE,{data:new p.default(this,t,void 0,e.messageType)})}},getSessionID:function(){return e.sessionId},getExpirationTime:function(){return e.expiration},getKeyStatuses:function(){return e.keyStatuses},getUsable:function(){var t=!1;return e.keyStatuses.forEach(function(){"usable"===I(arguments).status&&(t=!0)}),t},getSessionType:function(){return r}};return e.addEventListener("keystatuseschange",i),e.addEventListener("message",i),e.closed.then(function(){S(i),R.debug("DRM: Session closed.  SessionID = "+i.getSessionID()),D.trigger(M.KEY_SESSION_CLOSED,{data:i.getSessionID()})}),N.push(i),i}e=e||{};var C=this.context,D=e.eventBus,M=e.events,O=e.debug,B=void 0,R=void 0,P=void 0,k=void 0,L=void 0,N=void 0,x=void 0,j=void 0;return B={getAllInitData:i,requestKeySystemAccess:o,getKeySystem:n,selectKeySystem:s,setMediaElement:l,setServerCertificate:d,createKeySession:g,updateKeySession:h,loadKeySession:m,removeKeySession:b,closeKeySession:A,stop:r,reset:t},function(){R=O.getLogger(B),P=null,k=null,L=null,N=[],j=(0,a.default)(C).getInstance(),x=T()}(),B}Object.defineProperty(t,"__esModule",{value:!0});var o=r(113),a=n(o),s=r(168),u=n(s),l=r(87),c=n(l),d=r(12),f=n(d),g=r(169),p=n(g),h=r(170),y=n(h),m=r(59),v=n(m);i.__dashjs_factory_name="ProtectionModel_21Jan2015",t.default=dashjs.FactoryMaker.getClassFactory(i),e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(){try{for(var e=0;e<k.length;e++)g(k[e]);O&&O.removeEventListener(C.needkey,L),S.trigger(I.TEARDOWN_COMPLETE)}catch(e){S.trigger(I.TEARDOWN_COMPLETE,{error:"Error tearing down key sessions and MediaKeys! -- "+e.message})}}function r(){return B}function n(){for(var e=[],t=0;t<k.length;t++)e.push(k[t].initData);return e}function i(e){for(var t=!1,r=0;r<e.length;r++)for(var n=e[r].ks.systemString,i=e[r].configs,o=null,a=null,s=0;s<i.length;s++){var u=i[s].audioCapabilities,l=i[s].videoCapabilities;if(u&&0!==u.length){o=[];for(var c=0;c<u.length;c++)window[C.MediaKeys].isTypeSupported(n,u[c].contentType)&&o.push(u[c])}if(l&&0!==l.length){a=[];for(var d=0;d<l.length;d++)window[C.MediaKeys].isTypeSupported(n,l[d].contentType)&&a.push(l[d])}if(!(!o&&!a||o&&0===o.length||a&&0===a.length)){t=!0;var f=new y.default(o,a),g=N.getKeySystemBySystemString(n);S.trigger(I.KEY_SYSTEM_ACCESS_COMPLETE,{data:new v.default(g,f)});break}}t||S.trigger(I.KEY_SYSTEM_ACCESS_COMPLETE,{error:"Key system access denied! -- No valid audio/video content configurations detected!"})}function o(e){try{R=e.mediaKeys=new window[C.MediaKeys](e.keySystem.systemString),B=e.keySystem,P=e,O&&_(),S.trigger(I.INTERNAL_KEY_SYSTEM_SELECTED)}catch(e){S.trigger(I.INTERNAL_KEY_SYSTEM_SELECTED,{error:"Error selecting keys system ("+B.systemString+")! Could not create MediaKeys -- TODO"})}}function s(e){O!==e&&(O&&O.removeEventListener(C.needkey,L),(O=e)&&(O.addEventListener(C.needkey,L),R&&_()))}function l(e,t,r,n){if(!B||!R||!P)throw new Error("Can not create sessions until you have selected a key system");var i=null;if(P.ksConfiguration.videoCapabilities&&P.ksConfiguration.videoCapabilities.length>0&&(i=P.ksConfiguration.videoCapabilities[0]),null===i&&P.ksConfiguration.audioCapabilities&&P.ksConfiguration.audioCapabilities.length>0&&(i=P.ksConfiguration.audioCapabilities[0]),null===i)throw new Error("Can not create sessions for unknown content types.");var o=i.contentType,a=R.createSession(o,new Uint8Array(e),n?new Uint8Array(n):null),s=E(a,e);a.addEventListener(C.error,s),a.addEventListener(C.message,s),a.addEventListener(C.ready,s),a.addEventListener(C.close,s),k.push(s),M.debug("DRM: Session created.  SessionID = "+s.getSessionID()),S.trigger(I.KEY_SESSION_CREATED,{data:s})}function d(e,t){var r=e.session;N.isClearKey(B)?r.update(new Uint8Array(t.toJWK())):r.update(new Uint8Array(t))}function g(e){var t=e.session;t.removeEventListener(C.error,e),t.removeEventListener(C.message,e),t.removeEventListener(C.ready,e),t.removeEventListener(C.close,e);for(var r=0;r<k.length;r++)if(k[r]===e){k.splice(r,1);break}t[C.release]()}function h(){}function m(){}function b(){}function A(){return{handleEvent:function(e){switch(e.type){case C.needkey:if(e.initData){var t=ArrayBuffer.isView(e.initData)?e.initData.buffer:e.initData;S.trigger(I.NEED_KEY,{key:new u.default(t,"cenc")})}}}}}function _(){var e=null,t=function(){O.removeEventListener("loadedmetadata",e),O[C.setMediaKeys](R),S.trigger(I.VIDEO_ELEMENT_SELECTED)};O.readyState>=1?t():(e=t.bind(this),O.addEventListener("loadedmetadata",e))}function E(e,t){return{session:e,initData:t,getSessionID:function(){return this.session.sessionId},getExpirationTime:function(){return NaN},getSessionType:function(){return"temporary"},handleEvent:function(e){switch(e.type){case C.error:;S.trigger(I.KEY_ERROR,{data:new c.default(f.default.MEDIA_KEYERR_CODE,"KeyError",this)});break;case C.message:var t=ArrayBuffer.isView(e.message)?e.message.buffer:e.message;S.trigger(I.INTERNAL_KEY_MESSAGE,{data:new p.default(this,t,e.destinationURL)});break;case C.ready:M.debug("DRM: Key added."),S.trigger(I.KEY_ADDED);break;case C.close:M.debug("DRM: Session closed.  SessionID = "+this.getSessionID()),S.trigger(I.KEY_SESSION_CLOSED,{data:this.getSessionID()})}}}}e=e||{};var T=this.context,S=e.eventBus,I=e.events,w=e.debug,C=e.api,D=void 0,M=void 0,O=void 0,B=void 0,R=void 0,P=void 0,k=void 0,L=void 0,N=void 0;return D={getAllInitData:n,requestKeySystemAccess:i,getKeySystem:r,selectKeySystem:o,setMediaElement:s,createKeySession:l,updateKeySession:d,closeKeySession:g,setServerCertificate:h,loadKeySession:m,removeKeySession:b,stop:t,reset:t},function(){M=w.getLogger(D),O=null,B=null,R=null,P=null,k=[],N=(0,a.default)(T).getInstance(),L=A()}(),D}Object.defineProperty(t,"__esModule",{value:!0});var o=r(113),a=n(o),s=r(168),u=n(s),l=r(12),c=n(l),d=r(87),f=n(d),g=r(169),p=n(g),h=r(165),y=n(h),m=r(170),v=n(m);i.__dashjs_factory_name="ProtectionModel_3Feb2014",t.default=dashjs.FactoryMaker.getClassFactory(i),e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(){B&&E();for(var e=0;e<L.length;e++)g(L[e]);S.trigger(I.TEARDOWN_COMPLETE)}function r(){return R}function n(){for(var e=[],t=0;t<k.length;t++)e.push(k[t].initData);for(var t=0;t<L.length;t++)e.push(L[t].initData);return e}function i(e){var t=B;t||(t=document.createElement("video"));for(var r=!1,n=0;n<e.length;n++)for(var i=e[n].ks.systemString,o=e[n].configs,a=null,s=0;s<o.length;s++){var u=o[s].videoCapabilities;if(u&&0!==u.length){a=[];for(var l=0;l<u.length;l++)""!==t.canPlayType(u[l].contentType,i)&&a.push(u[l])}if(a&&(!a||0!==a.length)){r=!0;var c=new p.default(null,a),d=P.getKeySystemBySystemString(i);S.trigger(I.KEY_SYSTEM_ACCESS_COMPLETE,{data:new y.default(d,c)});break}}r||S.trigger(I.KEY_SYSTEM_ACCESS_COMPLETE,{error:"Key system access denied! -- No valid audio/video content configurations detected!"})}function o(e){R=e.keySystem,S.trigger(I.INTERNAL_KEY_SYSTEM_SELECTED)}function s(e){if(B!==e){if(B){E();for(var t=0;t<L.length;t++)g(L[t]);L=[]}B=e,B&&(B.addEventListener(C.keyerror,x),B.addEventListener(C.needkey,x),B.addEventListener(C.keymessage,x),B.addEventListener(C.keyadded,x),S.trigger(I.VIDEO_ELEMENT_SELECTED))}}function l(e){if(!R)throw new Error("Can not create sessions until you have selected a key system");if(N||0===L.length){var t={sessionID:null,initData:e,getSessionID:function(){return this.sessionID},getExpirationTime:function(){return NaN},getSessionType:function(){return"temporary"}};return k.push(t),B[C.generateKeyRequest](R.systemString,new Uint8Array(e)),t}throw new Error("Multiple sessions not allowed!")}function d(e,t){var r=e.sessionID;if(P.isClearKey(R))for(var n=0;n<t.keyPairs.length;n++)B[C.addKey](R.systemString,t.keyPairs[n].key,t.keyPairs[n].keyID,r);else B[C.addKey](R.systemString,new Uint8Array(t),new Uint8Array(e.initData),r)}function g(e){try{B[C.cancelKeyRequest](R.systemString,e.sessionID)}catch(t){S.trigger(I.KEY_SESSION_CLOSED,{data:null,error:"Error closing session ("+e.sessionID+") "+t.message})}}function h(){}function m(){}function b(){}function A(){return{handleEvent:function(e){var t=null;switch(e.type){case C.needkey:var r=ArrayBuffer.isView(e.initData)?e.initData.buffer:e.initData;S.trigger(I.NEED_KEY,{key:new u.default(r,"cenc")});break;case C.keyerror:if(t=_(L,e.sessionId),t||(t=_(k,e.sessionId)),t){var n=v.default.MEDIA_KEYERR_CODE,i="";switch(e.errorCode.code){case 1:n=v.default.MEDIA_KEYERR_UNKNOWN_CODE,i+="MEDIA_KEYERR_UNKNOWN - "+v.default.MEDIA_KEYERR_UNKNOWN_MESSAGE;break;case 2:n=v.default.MEDIA_KEYERR_CLIENT_CODE,i+="MEDIA_KEYERR_CLIENT - "+v.default.MEDIA_KEYERR_CLIENT_MESSAGE;break;case 3:n=v.default.MEDIA_KEYERR_SERVICE_CODE,i+="MEDIA_KEYERR_SERVICE - "+v.default.MEDIA_KEYERR_SERVICE_MESSAGE;break;case 4:n=v.default.MEDIA_KEYERR_OUTPUT_CODE,i+="MEDIA_KEYERR_OUTPUT - "+v.default.MEDIA_KEYERR_OUTPUT_MESSAGE;break;case 5:n=v.default.MEDIA_KEYERR_HARDWARECHANGE_CODE,i+="MEDIA_KEYERR_HARDWARECHANGE - "+v.default.MEDIA_KEYERR_HARDWARECHANGE_MESSAGE;break;case 6:n=v.default.MEDIA_KEYERR_DOMAIN_CODE,i+="MEDIA_KEYERR_DOMAIN - "+v.default.MEDIA_KEYERR_DOMAIN_MESSAGE}i+="  System Code = "+e.systemCode,S.trigger(I.KEY_ERROR,{data:new c.default(n,i,t)})}else O.error("No session token found for key error");break;case C.keyadded:t=_(L,e.sessionId),t||(t=_(k,e.sessionId)),t?(O.debug("DRM: Key added."),S.trigger(I.KEY_ADDED,{data:t})):O.debug("No session token found for key added");break;case C.keymessage:if(N=null!==e.sessionId&&void 0!==e.sessionId,N?!(t=_(L,e.sessionId))&&k.length>0&&(t=k.shift(),L.push(t),t.sessionID=e.sessionId,S.trigger(I.KEY_SESSION_CREATED,{data:t})):k.length>0&&(t=k.shift(),L.push(t),0!==k.length&&(D.mediaKeyMessageError(v.default.MEDIA_KEY_MESSAGE_ERROR_MESSAGE),D.error(new c.default(v.default.MEDIA_KEY_MESSAGE_ERROR_CODE,v.default.MEDIA_KEY_MESSAGE_ERROR_MESSAGE)))),t){var o=ArrayBuffer.isView(e.message)?e.message.buffer:e.message;t.keyMessage=o,S.trigger(I.INTERNAL_KEY_MESSAGE,{data:new f.default(t,o,e.defaultURL)})}else O.warn("No session token found for key message")}}}}function _(e,t){if(t&&e){for(var r=e.length,n=0;n<r;n++)if(e[n].sessionID==t)return e[n];return null}return null}function E(){B.removeEventListener(C.keyerror,x),B.removeEventListener(C.needkey,x),B.removeEventListener(C.keymessage,x),B.removeEventListener(C.keyadded,x)}e=e||{};var T=this.context,S=e.eventBus,I=e.events,w=e.debug,C=e.api,D=e.errHandler,M=void 0,O=void 0,B=void 0,R=void 0,P=void 0,k=void 0,L=void 0,N=void 0,x=void 0;return M={getAllInitData:n,requestKeySystemAccess:i,getKeySystem:r,selectKeySystem:o,setMediaElement:s,createKeySession:l,updateKeySession:d,closeKeySession:g,setServerCertificate:h,loadKeySession:m,removeKeySession:b,stop:t,reset:t},function(){O=w.getLogger(M),B=null,R=null,k=[],L=[],P=(0,a.default)(T).getInstance(),x=A()}(),M}Object.defineProperty(t,"__esModule",{value:!0});var o=r(113),a=n(o),s=r(168),u=n(s),l=r(12),c=n(l),d=r(169),f=n(d),g=r(165),p=n(g),h=r(170),y=n(h),m=r(87),v=n(m);i.__dashjs_factory_name="ProtectionModel_01b",t.default=dashjs.FactoryMaker.getClassFactory(i),e.exports=t.default},function(e,t,r){"use strict";function n(){window.removeEventListener("load",n),s.createAll()}function i(){window.dashjs&&(window.clearInterval(u),s.createAll())}Object.defineProperty(t,"__esModule",{value:!0});var o=r(221),a=function(e){return e&&e.__esModule?e:{default:e}}(o),s=function(){function e(e,t,r){if(!e||!/^VIDEO$/i.test(e.nodeName))return null;if(e._dashjs_player)return e._dashjs_player;var o=void 0,s=e.id||e.name||"video element";if(!(t=t||[].slice.call(e.querySelectorAll("source")).filter(function(e){return e.type==n})[0])&&e.src)t=document.createElement("source"),t.src=e.src;else if(!t&&!e.src)return null;return r=r||{},o=(0,a.default)(r).create(),o.initialize(e,t.src,e.autoplay),i||(i=o.getDebug().getLogger()),i.debug("Converted "+s+" to dash.js player and added content: "+t.src),e._dashjs_player=o,o}function t(t,i){var o=[];t=t||"[data-dashjs-player]",i=i||document;for(var a=i.querySelectorAll(t),s=0;s<a.length;s++){var u=e(a[s],null);o.push(u)}for(var l=i.querySelectorAll('source[type="'+n+'"]'),s=0;s<l.length;s++){var c=r(l[s]),u=e(c,null);o.push(u)}return o}function r(e){for(var t=!0;t;){var r=e;if(t=!1,/^VIDEO$/i.test(r.nodeName))return r;e=r.parentNode,t=!0}}var n="application/dash+xml",i=void 0;return{create:e,createAll:t}}(),u=void 0;!("undefined"!=typeof window&&window&&window.dashjs&&window.dashjs.skipAutoCreate)&&"undefined"!=typeof window&&window&&window.addEventListener&&("complete"===window.document.readyState?window.dashjs?s.createAll():u=window.setInterval(i,500):window.addEventListener("load",n)),t.default=s,e.exports=t.default},function(e,t,r){e.exports={castArray:r(650),clone:r(651),cloneDeep:r(708),cloneDeepWith:r(709),cloneWith:r(710),conformsTo:r(711),eq:r(117),gt:r(713),gte:r(715),isArguments:r(173),isArray:r(40),isArrayBuffer:r(716),isArrayLike:r(77),isArrayLikeObject:r(718),isBoolean:r(719),isBuffer:r(89),isDate:r(720),isElement:r(722),isEmpty:r(723),isEqual:r(724),isEqualWith:r(733),isError:r(734),isFinite:r(735),isFunction:r(118),isInteger:r(272),isLength:r(175),isMap:r(267),isMatch:r(736),isMatchWith:r(738),isNaN:r(739),isNative:r(740),isNil:r(742),isNull:r(743),isNumber:r(276),isObject:r(44),isObjectLike:r(14),isPlainObject:r(182),isRegExp:r(744),isSafeInteger:r(746),isSet:r(268),isString:r(277),isSymbol:r(181),isTypedArray:r(121),isUndefined:r(747),isWeakMap:r(748),isWeakSet:r(749),lt:r(750),lte:r(752),toArray:r(753),toFinite:r(273),toInteger:r(124),toLength:r(761),toNumber:r(180),toPlainObject:r(762),toSafeInteger:r(763),toString:r(764)}},function(e,t,r){function n(){if(!arguments.length)return[];var e=arguments[0];return i(e)?e:[e]}var i=r(40);e.exports=n},function(e,t,r){function n(e){return i(e,o)}var i=r(114),o=4;e.exports=n},function(e,t){function r(){this.__data__=[],this.size=0}e.exports=r},function(e,t,r){function n(e){var t=this.__data__,r=i(t,e);return!(r<0)&&(r==t.length-1?t.pop():a.call(t,r,1),--this.size,!0)}var i=r(116),o=Array.prototype,a=o.splice;e.exports=n},function(e,t,r){function n(e){var t=this.__data__,r=i(t,e);return r<0?void 0:t[r][1]}var i=r(116);e.exports=n},function(e,t,r){function n(e){return i(this.__data__,e)>-1}var i=r(116);e.exports=n},function(e,t,r){function n(e,t){var r=this.__data__,n=i(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var i=r(116);e.exports=n},function(e,t,r){function n(){this.__data__=new i,this.size=0}var i=r(115);e.exports=n},function(e,t){function r(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}e.exports=r},function(e,t){function r(e){return this.__data__.get(e)}e.exports=r},function(e,t){function r(e){return this.__data__.has(e)}e.exports=r},function(e,t,r){function n(e,t){var r=this.__data__;if(r instanceof i){var n=r.__data__;if(!o||n.length<s-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new a(n)}return r.set(e,t),this.size=r.size,this}var i=r(115),o=r(172),a=r(253),s=200;e.exports=n},function(e,t,r){function n(e){var t=a.call(e,u),r=e[u];try{e[u]=void 0;var n=!0}catch(e){}var i=s.call(e);return n&&(t?e[u]=r:delete e[u]),i}var i=r(73),o=Object.prototype,a=o.hasOwnProperty,s=o.toString,u=i?i.toStringTag:void 0;e.exports=n},function(e,t){function r(e){return i.call(e)}var n=Object.prototype,i=n.toString;e.exports=r},function(e,t,r){function n(e){return!!o&&o in e}var i=r(251),o=function(){var e=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=n},function(e,t){function r(e,t){return null==e?void 0:e[t]}e.exports=r},function(e,t,r){function n(){this.size=0,this.__data__={hash:new i,map:new(a||o),string:new i}}var i=r(667),o=r(115),a=r(172);e.exports=n},function(e,t,r){function n(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}var i=r(668),o=r(669),a=r(670),s=r(671),u=r(672);n.prototype.clear=i,n.prototype.delete=o,n.prototype.get=a,n.prototype.has=s,n.prototype.set=u,e.exports=n},function(e,t,r){function n(){this.__data__=i?i(null):{},this.size=0}var i=r(119);e.exports=n},function(e,t){function r(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}e.exports=r},function(e,t,r){function n(e){var t=this.__data__;if(i){var r=t[e];return r===o?void 0:r}return s.call(t,e)?t[e]:void 0}var i=r(119),o="__lodash_hash_undefined__",a=Object.prototype,s=a.hasOwnProperty;e.exports=n},function(e,t,r){function n(e){var t=this.__data__;return i?void 0!==t[e]:a.call(t,e)}var i=r(119),o=Object.prototype,a=o.hasOwnProperty;e.exports=n},function(e,t,r){function n(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=i&&void 0===t?o:t,this}var i=r(119),o="__lodash_hash_undefined__";e.exports=n},function(e,t,r){function n(e){var t=i(this,e).delete(e);return this.size-=t?1:0,t}var i=r(120);e.exports=n},function(e,t){function r(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}e.exports=r},function(e,t,r){function n(e){return i(this,e).get(e)}var i=r(120);e.exports=n},function(e,t,r){function n(e){return i(this,e).has(e)}var i=r(120);e.exports=n},function(e,t,r){function n(e,t){var r=i(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var i=r(120);e.exports=n},function(e,t){function r(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e}e.exports=r},function(e,t,r){var n=r(60),i=function(){try{var e=n(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=i},function(e,t,r){function n(e,t){return e&&i(t,o(t),e)}var i=r(88),o=r(74);e.exports=n},function(e,t){function r(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}e.exports=r},function(e,t,r){function n(e){return o(e)&&i(e)==a}var i=r(21),o=r(14),a="[object Arguments]";e.exports=n},function(e,t){function r(e,t){var r=typeof e;return!!(t=null==t?n:t)&&("number"==r||"symbol"!=r&&i.test(e))&&e>-1&&e%1==0&&e<t}var n=9007199254740991,i=/^(?:0|[1-9]\d*)$/;e.exports=r},function(e,t,r){function n(e){return a(e)&&o(e.length)&&!!s[i(e)]}var i=r(21),o=r(175),a=r(14),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,e.exports=n},function(e,t,r){var n=r(259),i=n(Object.keys,Object);e.exports=i},function(e,t,r){function n(e,t){return e&&i(t,o(t),e)}var i=r(88),o=r(176);e.exports=n},function(e,t,r){function n(e){if(!i(e))return a(e);var t=o(e),r=[];for(var n in e)("constructor"!=n||!t&&u.call(e,n))&&r.push(n);return r}var i=r(44),o=r(122),a=r(688),s=Object.prototype,u=s.hasOwnProperty;e.exports=n},function(e,t){function r(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}e.exports=r},function(e,t,r){(function(e){function n(e,t){if(t)return e.slice();var r=e.length,n=l?l(r):new e.constructor(r);return e.copy(n),n}var i=r(29),o="object"==typeof t&&t&&!t.nodeType&&t,a=o&&"object"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===o,u=s?i.Buffer:void 0,l=u?u.allocUnsafe:void 0;e.exports=n}).call(t,r(174)(e))},function(e,t,r){function n(e,t){return i(e,o(e),t)}var i=r(88),o=r(177);e.exports=n},function(e,t){function r(e,t){for(var r=-1,n=null==e?0:e.length,i=0,o=[];++r<n;){var a=e[r];t(a,r,e)&&(o[i++]=a)}return o}e.exports=r},function(e,t,r){function n(e,t){return i(e,o(e),t)}var i=r(88),o=r(262);e.exports=n},function(e,t,r){function n(e){return i(e,a,o)}var i=r(265),o=r(262),a=r(176);e.exports=n},function(e,t,r){var n=r(60),i=r(29),o=n(i,"DataView");e.exports=o},function(e,t,r){var n=r(60),i=r(29),o=n(i,"Promise");e.exports=o},function(e,t,r){var n=r(60),i=r(29),o=n(i,"Set");e.exports=o},function(e,t,r){var n=r(60),i=r(29),o=n(i,"WeakMap");e.exports=o},function(e,t){function r(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&i.call(e,"index")&&(r.index=e.index,r.input=e.input),r}var n=Object.prototype,i=n.hasOwnProperty;e.exports=r},function(e,t,r){function n(e,t,r){var n=e.constructor;switch(t){case m:return i(e);case l:case c:return new n(+e);case v:return o(e,r);case b:case A:case _:case E:case T:case S:case I:case w:case C:return u(e,r);case d:return new n;case f:case h:return new n(e);case g:return a(e);case p:return new n;case y:return s(e)}}var i=r(179),o=r(700),a=r(701),s=r(702),u=r(703),l="[object Boolean]",c="[object Date]",d="[object Map]",f="[object Number]",g="[object RegExp]",p="[object Set]",h="[object String]",y="[object Symbol]",m="[object ArrayBuffer]",v="[object DataView]",b="[object Float32Array]",A="[object Float64Array]",_="[object Int8Array]",E="[object Int16Array]",T="[object Int32Array]",S="[object Uint8Array]",I="[object Uint8ClampedArray]",w="[object Uint16Array]",C="[object Uint32Array]";e.exports=n},function(e,t,r){function n(e,t){var r=t?i(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}var i=r(179);e.exports=n},function(e,t){function r(e){var t=new e.constructor(e.source,n.exec(e));return t.lastIndex=e.lastIndex,t}var n=/\w*$/;e.exports=r},function(e,t,r){function n(e){return a?Object(a.call(e)):{}}var i=r(73),o=i?i.prototype:void 0,a=o?o.valueOf:void 0;e.exports=n},function(e,t,r){function n(e,t){var r=t?i(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var i=r(179);e.exports=n},function(e,t,r){function n(e){return"function"!=typeof e.constructor||a(e)?{}:i(o(e))}var i=r(705),o=r(178),a=r(122);e.exports=n},function(e,t,r){var n=r(44),i=Object.create,o=function(){function e(){}return function(t){if(!n(t))return{};if(i)return i(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();e.exports=o},function(e,t,r){function n(e){return o(e)&&i(e)==a}var i=r(61),o=r(14),a="[object Map]";e.exports=n},function(e,t,r){function n(e){return o(e)&&i(e)==a}var i=r(61),o=r(14),a="[object Set]";e.exports=n},function(e,t,r){function n(e){return i(e,o|a)}var i=r(114),o=1,a=4;e.exports=n},function(e,t,r){function n(e,t){return t="function"==typeof t?t:void 0,i(e,o|a,t)}var i=r(114),o=1,a=4;e.exports=n},function(e,t,r){function n(e,t){return t="function"==typeof t?t:void 0,i(e,o,t)}var i=r(114),o=4;e.exports=n},function(e,t,r){function n(e,t){return null==t||i(e,t,o(t))}var i=r(712),o=r(74);e.exports=n},function(e,t){function r(e,t,r){var n=r.length;if(null==e)return!n;for(e=Object(e);n--;){var i=r[n],o=t[i],a=e[i];if(void 0===a&&!(i in e)||!o(a))return!1}return!0}e.exports=r},function(e,t,r){var n=r(714),i=r(123),o=i(n);e.exports=o},function(e,t){function r(e,t){return e>t}e.exports=r},function(e,t,r){var n=r(123),i=n(function(e,t){return e>=t});e.exports=i},function(e,t,r){var n=r(717),i=r(75),o=r(76),a=o&&o.isArrayBuffer,s=a?i(a):n;e.exports=s},function(e,t,r){function n(e){return o(e)&&i(e)==a}var i=r(21),o=r(14),a="[object ArrayBuffer]";e.exports=n},function(e,t,r){function n(e){return o(e)&&i(e)}var i=r(77),o=r(14);e.exports=n},function(e,t,r){function n(e){return!0===e||!1===e||o(e)&&i(e)==a}var i=r(21),o=r(14),a="[object Boolean]";e.exports=n},function(e,t,r){var n=r(721),i=r(75),o=r(76),a=o&&o.isDate,s=a?i(a):n;e.exports=s},function(e,t,r){function n(e){return o(e)&&i(e)==a}var i=r(21),o=r(14),a="[object Date]";e.exports=n},function(e,t,r){function n(e){return i(e)&&1===e.nodeType&&!o(e)}var i=r(14),o=r(182);e.exports=n},function(e,t,r){function n(e){if(null==e)return!0;if(u(e)&&(s(e)||"string"==typeof e||"function"==typeof e.splice||l(e)||d(e)||a(e)))return!e.length;var t=o(e);if(t==f||t==g)return!e.size;if(c(e))return!i(e).length;for(var r in e)if(h.call(e,r))return!1;return!0}var i=r(258),o=r(61),a=r(173),s=r(40),u=r(77),l=r(89),c=r(122),d=r(121),f="[object Map]",g="[object Set]",p=Object.prototype,h=p.hasOwnProperty;e.exports=n},function(e,t,r){function n(e,t){return i(e,t)}var i=r(183);e.exports=n},function(e,t,r){function n(e,t,r,n,y,v){var b=l(e),A=l(t),_=b?p:u(e),E=A?p:u(t);_=_==g?h:_,E=E==g?h:E;var T=_==h,S=E==h,I=_==E;if(I&&c(e)){if(!c(t))return!1;b=!0,T=!1}if(I&&!T)return v||(v=new i),b||d(e)?o(e,t,r,n,y,v):a(e,t,_,r,n,y,v);if(!(r&f)){var w=T&&m.call(e,"__wrapped__"),C=S&&m.call(t,"__wrapped__");if(w||C){var D=w?e.value():e,M=C?t.value():t;return v||(v=new i),y(D,M,r,n,v)}}return!!I&&(v||(v=new i),s(e,t,r,n,y,v))}var i=r(171),o=r(269),a=r(731),s=r(732),u=r(61),l=r(40),c=r(89),d=r(121),f=1,g="[object Arguments]",p="[object Array]",h="[object Object]",y=Object.prototype,m=y.hasOwnProperty;e.exports=n},function(e,t,r){function n(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new i;++t<r;)this.add(e[t])}var i=r(253),o=r(727),a=r(728);n.prototype.add=n.prototype.push=o,n.prototype.has=a,e.exports=n},function(e,t){function r(e){return this.__data__.set(e,n),this}var n="__lodash_hash_undefined__";e.exports=r},function(e,t){function r(e){return this.__data__.has(e)}e.exports=r},function(e,t){function r(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}e.exports=r},function(e,t){function r(e,t){return e.has(t)}e.exports=r},function(e,t,r){function n(e,t,r,n,i,T,I){switch(r){case E:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case _:return!(e.byteLength!=t.byteLength||!T(new o(e),new o(t)));case f:case g:case y:return a(+e,+t);case p:return e.name==t.name&&e.message==t.message;case m:case b:return e==t+"";case h:var w=u;case v:var C=n&c;if(w||(w=l),e.size!=t.size&&!C)return!1;var D=I.get(e);if(D)return D==t;n|=d,I.set(e,t);var M=s(w(e),w(t),n,i,T,I);return I.delete(e),M;case A:if(S)return S.call(e)==S.call(t)}return!1}var i=r(73),o=r(266),a=r(117),s=r(269),u=r(270),l=r(271),c=1,d=2,f="[object Boolean]",g="[object Date]",p="[object Error]",h="[object Map]",y="[object Number]",m="[object RegExp]",v="[object Set]",b="[object String]",A="[object Symbol]",_="[object ArrayBuffer]",E="[object DataView]",T=i?i.prototype:void 0,S=T?T.valueOf:void 0;e.exports=n},function(e,t,r){function n(e,t,r,n,a,u){var l=r&o,c=i(e),d=c.length;if(d!=i(t).length&&!l)return!1;for(var f=d;f--;){var g=c[f];if(!(l?g in t:s.call(t,g)))return!1}var p=u.get(e);if(p&&u.get(t))return p==t;var h=!0;u.set(e,t),u.set(t,e);for(var y=l;++f<d;){g=c[f];var m=e[g],v=t[g];if(n)var b=l?n(v,m,g,t,e,u):n(m,v,g,e,t,u);if(!(void 0===b?m===v||a(m,v,r,n,u):b)){h=!1;break}y||(y="constructor"==g)}if(h&&!y){var A=e.constructor,_=t.constructor;A!=_&&"constructor"in e&&"constructor"in t&&!("function"==typeof A&&A instanceof A&&"function"==typeof _&&_ instanceof _)&&(h=!1)}return u.delete(e),u.delete(t),h}var i=r(264),o=1,a=Object.prototype,s=a.hasOwnProperty;e.exports=n},function(e,t,r){function n(e,t,r){r="function"==typeof r?r:void 0;var n=r?r(e,t):void 0;return void 0===n?i(e,t,void 0,r):!!n}var i=r(183);e.exports=n},function(e,t,r){function n(e){if(!o(e))return!1;var t=i(e);return t==u||t==s||"string"==typeof e.message&&"string"==typeof e.name&&!a(e)}var i=r(21),o=r(14),a=r(182),s="[object DOMException]",u="[object Error]";e.exports=n},function(e,t,r){function n(e){return"number"==typeof e&&o(e)}var i=r(29),o=i.isFinite;e.exports=n},function(e,t,r){function n(e,t){return e===t||i(e,t,o(t))}var i=r(274),o=r(275);e.exports=n},function(e,t,r){function n(e){return e===e&&!i(e)}var i=r(44);e.exports=n},function(e,t,r){function n(e,t,r){return r="function"==typeof r?r:void 0,i(e,t,o(t),r)}var i=r(274),o=r(275);e.exports=n},function(e,t,r){function n(e){return i(e)&&e!=+e}var i=r(276);e.exports=n},function(e,t,r){function n(e){if(o(e))throw new Error(a);return i(e)}var i=r(249),o=r(741),a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.";e.exports=n},function(e,t,r){var n=r(251),i=r(118),o=r(257),a=n?i:o;e.exports=a},function(e,t){function r(e){return null==e}e.exports=r},function(e,t){function r(e){return null===e}e.exports=r},function(e,t,r){var n=r(745),i=r(75),o=r(76),a=o&&o.isRegExp,s=a?i(a):n;e.exports=s},function(e,t,r){function n(e){return o(e)&&i(e)==a}var i=r(21),o=r(14),a="[object RegExp]";e.exports=n},function(e,t,r){function n(e){return i(e)&&e>=-o&&e<=o}var i=r(272),o=9007199254740991;e.exports=n},function(e,t){function r(e){return void 0===e}e.exports=r},function(e,t,r){function n(e){return o(e)&&i(e)==a}var i=r(61),o=r(14),a="[object WeakMap]";e.exports=n},function(e,t,r){function n(e){return o(e)&&i(e)==a}var i=r(21),o=r(14),a="[object WeakSet]";e.exports=n},function(e,t,r){var n=r(751),i=r(123),o=i(n);e.exports=o},function(e,t){function r(e,t){return e<t}e.exports=r},function(e,t,r){var n=r(123),i=n(function(e,t){return e<=t});e.exports=i},function(e,t,r){function n(e){if(!e)return[];if(s(e))return u(e)?f(e):o(e);if(y&&e[y])return l(e[y]());var t=a(e);return(t==p?c:t==h?d:g)(e)}var i=r(73),o=r(260),a=r(61),s=r(77),u=r(277),l=r(754),c=r(270),d=r(271),f=r(755),g=r(759),p="[object Map]",h="[object Set]",y=i?i.iterator:void 0;e.exports=n},function(e,t){function r(e){for(var t,r=[];!(t=e.next()).done;)r.push(t.value);return r}e.exports=r},function(e,t,r){function n(e){return o(e)?a(e):i(e)}var i=r(756),o=r(757),a=r(758);e.exports=n},function(e,t){function r(e){return e.split("")}e.exports=r},function(e,t){function r(e){return n.test(e)}var n=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=r},function(e,t){function r(e){return e.match(d)||[]}var n="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",i="\\ud83c[\\udffb-\\udfff]",o="(?:\\ud83c[\\udde6-\\uddff]){2}",a="[\\ud800-\\udbff][\\udc00-\\udfff]",s="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",u="(?:\\u200d(?:"+["[^\\ud800-\\udfff]",o,a].join("|")+")[\\ufe0e\\ufe0f]?"+s+")*",l="[\\ufe0e\\ufe0f]?"+s+u,c="(?:"+["[^\\ud800-\\udfff]"+n+"?",n,o,a,"[\\ud800-\\udfff]"].join("|")+")",d=RegExp(i+"(?="+i+")|"+c+l,"g");e.exports=r},function(e,t,r){function n(e){return null==e?[]:i(e,o(e))}var i=r(760),o=r(74);e.exports=n},function(e,t,r){function n(e,t){return i(t,function(t){return e[t]})}var i=r(278);e.exports=n},function(e,t,r){function n(e){return e?i(o(e),0,a):0}var i=r(279),o=r(124),a=4294967295;e.exports=n},function(e,t,r){function n(e){return i(e,o(e))}var i=r(88),o=r(176);e.exports=n},function(e,t,r){function n(e){return e?i(o(e),-a,a):0===e?e:0}var i=r(279),o=r(124),a=9007199254740991;e.exports=n},function(e,t,r){function n(e){return null==e?"":i(e)}var i=r(765);e.exports=n},function(e,t,r){function n(e){if("string"==typeof e)return e;if(a(e))return o(e,n)+"";if(s(e))return c?c.call(e):"";var t=e+"";return"0"==t&&1/e==-u?"-0":t}var i=r(73),o=r(278),a=r(40),s=r(181),u=1/0,l=i?i.prototype:void 0,c=l?l.toString:void 0;e.exports=n},function(module,exports,__webpack_require__){(function(global,Buffer){var $jscomp=$jscomp||{};$jscomp.scope={},$jscomp.findInternal=function(e,t,r){e instanceof String&&(e=String(e));for(var n=e.length,i=0;i<n;i++){var o=e[i];if(t.call(r,o,i,e))return{i:i,v:o}}return{i:-1,v:void 0}},$jscomp.ASSUME_ES5=!1,$jscomp.ASSUME_NO_NATIVE_MAP=!1,$jscomp.ASSUME_NO_NATIVE_SET=!1,$jscomp.SIMPLE_FROUND_POLYFILL=!1,$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,r){e!=Array.prototype&&e!=Object.prototype&&(e[t]=r.value)},$jscomp.getGlobal=function(e){return"undefined"!=typeof window&&window===e?e:void 0!==global&&null!=global?global:e},$jscomp.global=$jscomp.getGlobal(this),$jscomp.polyfill=function(e,t,r,n){if(t){for(r=$jscomp.global,e=e.split("."),n=0;n<e.length-1;n++){var i=e[n];i in r||(r[i]={}),r=r[i]}e=e[e.length-1],n=r[e],t=t(n),t!=n&&null!=t&&$jscomp.defineProperty(r,e,{configurable:!0,writable:!0,value:t})}},$jscomp.polyfill("Array.prototype.findIndex",function(e){return e||function(e,t){return $jscomp.findInternal(this,e,t).i}},"es6","es3"),$jscomp.checkStringArgs=function(e,t,r){if(null==e)throw new TypeError("The 'this' value for String.prototype."+r+" must not be null or undefined");if(t instanceof RegExp)throw new TypeError("First argument to String.prototype."+r+" must not be a regular expression");return e+""},$jscomp.polyfill("String.prototype.startsWith",function(e){return e||function(e,t){var r=$jscomp.checkStringArgs(this,e,"startsWith");e+="";var n=r.length,i=e.length;t=Math.max(0,Math.min(0|t,r.length));for(var o=0;o<i&&t<n;)if(r[t++]!=e[o++])return!1;return o>=i}},"es6","es3"),$jscomp.polyfill("String.prototype.endsWith",function(e){return e||function(e,t){var r=$jscomp.checkStringArgs(this,e,"endsWith");e+="",void 0===t&&(t=r.length),t=Math.max(0,Math.min(0|t,r.length));for(var n=e.length;0<n&&0<t;)if(r[--t]!=e[--n])return!1;return 0>=n}},"es6","es3"),$jscomp.polyfill("String.prototype.repeat",function(e){return e||function(e){var t=$jscomp.checkStringArgs(this,null,"repeat");if(0>e||1342177279<e)throw new RangeError("Invalid count value");e|=0;for(var r="";e;)1&e&&(r+=t),(e>>>=1)&&(t+=t);return r}},"es6","es3"),$jscomp.polyfill("Array.prototype.find",function(e){return e||function(e,t){return $jscomp.findInternal(this,e,t).v}},"es6","es3");var COMPILED=!0,goog=goog||{};goog.global=this,goog.isDef=function(e){return void 0!==e},goog.isString=function(e){return"string"==typeof e},goog.isBoolean=function(e){return"boolean"==typeof e},goog.isNumber=function(e){return"number"==typeof e},goog.exportPath_=function(e,t,r){e=e.split("."),r=r||goog.global,e[0]in r||void 0===r.execScript||r.execScript("var "+e[0]);for(var n;e.length&&(n=e.shift());)!e.length&&goog.isDef(t)?r[n]=t:r=r[n]&&r[n]!==Object.prototype[n]?r[n]:r[n]={}},goog.define=function(e,t){if(!COMPILED){var r=goog.global.CLOSURE_UNCOMPILED_DEFINES,n=goog.global.CLOSURE_DEFINES;r&&void 0===r.nodeType&&Object.prototype.hasOwnProperty.call(r,e)?t=r[e]:n&&void 0===n.nodeType&&Object.prototype.hasOwnProperty.call(n,e)&&(t=n[e])}return goog.exportPath_(e,t),t},goog.DEBUG=!0,goog.LOCALE="en",goog.TRUSTED_SITE=!0,goog.STRICT_MODE_COMPATIBLE=!1,goog.DISALLOW_TEST_ONLY_CODE=COMPILED&&!goog.DEBUG,goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING=!1,goog.provide=function(e){if(goog.isInModuleLoader_())throw Error("goog.provide cannot be used within a module.");if(!COMPILED&&goog.isProvided_(e))throw Error('Namespace "'+e+'" already declared.');goog.constructNamespace_(e)},goog.constructNamespace_=function(e,t){if(!COMPILED){delete goog.implicitNamespaces_[e];for(var r=e;(r=r.substring(0,r.lastIndexOf(".")))&&!goog.getObjectByName(r);)goog.implicitNamespaces_[r]=!0}goog.exportPath_(e,t)},goog.getScriptNonce=function(e){return e&&e!=goog.global?goog.getScriptNonce_(e.document):(null===goog.cspNonce_&&(goog.cspNonce_=goog.getScriptNonce_(goog.global.document)),goog.cspNonce_)},goog.NONCE_PATTERN_=/^[\w+/_-]+[=]{0,2}$/,goog.cspNonce_=null,goog.getScriptNonce_=function(e){return(e=e.querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&goog.NONCE_PATTERN_.test(e)?e:""},goog.VALID_MODULE_RE_=/^[a-zA-Z_$][a-zA-Z0-9._$]*$/,goog.module=function(e){if(!goog.isString(e)||!e||-1==e.search(goog.VALID_MODULE_RE_))throw Error("Invalid module identifier");if(!goog.isInGoogModuleLoader_())throw Error("Module "+e+" has been loaded incorrectly. Note, modules cannot be loaded as normal scripts. They require some kind of pre-processing step. You're likely trying to load a module via a script tag or as a part of a concatenated bundle without rewriting the module. For more info see: https://github.com/google/closure-library/wiki/goog.module:-an-ES6-module-like-alternative-to-goog.provide.");if(goog.moduleLoaderState_.moduleName)throw Error("goog.module may only be called once per module.");if(goog.moduleLoaderState_.moduleName=e,!COMPILED){if(goog.isProvided_(e))throw Error('Namespace "'+e+'" already declared.');delete goog.implicitNamespaces_[e]}},goog.module.get=function(e){return goog.module.getInternal_(e)},goog.module.getInternal_=function(e){if(!COMPILED){if(e in goog.loadedModules_)return goog.loadedModules_[e].exports;if(!goog.implicitNamespaces_[e])return e=goog.getObjectByName(e),null!=e?e:null}return null},goog.ModuleType={ES6:"es6",GOOG:"goog"},goog.moduleLoaderState_=null,goog.isInModuleLoader_=function(){return goog.isInGoogModuleLoader_()||goog.isInEs6ModuleLoader_()},goog.isInGoogModuleLoader_=function(){return!!goog.moduleLoaderState_&&goog.moduleLoaderState_.type==goog.ModuleType.GOOG},goog.isInEs6ModuleLoader_=function(){if(goog.moduleLoaderState_&&goog.moduleLoaderState_.type==goog.ModuleType.ES6)return!0;var e=goog.global.$jscomp;return!!e&&("function"==typeof e.getCurrentModulePath&&!!e.getCurrentModulePath())},goog.module.declareLegacyNamespace=function(){if(!COMPILED&&!goog.isInGoogModuleLoader_())throw Error("goog.module.declareLegacyNamespace must be called from within a goog.module");if(!COMPILED&&!goog.moduleLoaderState_.moduleName)throw Error("goog.module must be called prior to goog.module.declareLegacyNamespace.");goog.moduleLoaderState_.declareLegacyNamespace=!0},goog.declareModuleId=function(e){if(!COMPILED){if(!goog.isInEs6ModuleLoader_())throw Error("goog.declareModuleId may only be called from within an ES6 module");if(goog.moduleLoaderState_&&goog.moduleLoaderState_.moduleName)throw Error("goog.declareModuleId may only be called once per module.");if(e in goog.loadedModules_)throw Error('Module with namespace "'+e+'" already exists.')}if(goog.moduleLoaderState_)goog.moduleLoaderState_.moduleName=e;else{var t=goog.global.$jscomp;if(!t||"function"!=typeof t.getCurrentModulePath)throw Error('Module with namespace "'+e+'" has been loaded incorrectly.');t=t.require(t.getCurrentModulePath()),goog.loadedModules_[e]={exports:t,type:goog.ModuleType.ES6,moduleId:e}}},goog.module.declareNamespace=goog.declareModuleId,goog.setTestOnly=function(e){if(goog.DISALLOW_TEST_ONLY_CODE)throw e=e||"",Error("Importing test-only code into non-debug environment"+(e?": "+e:"."))},goog.forwardDeclare=function(e){},COMPILED||(goog.isProvided_=function(e){return e in goog.loadedModules_||!goog.implicitNamespaces_[e]&&goog.isDefAndNotNull(goog.getObjectByName(e))},goog.implicitNamespaces_={"goog.module":!0}),goog.getObjectByName=function(e,t){e=e.split("."),t=t||goog.global;for(var r=0;r<e.length;r++)if(t=t[e[r]],!goog.isDefAndNotNull(t))return null;return t},goog.globalize=function(e,t){t=t||goog.global;for(var r in e)t[r]=e[r]},goog.addDependency=function(e,t,r,n){!COMPILED&&goog.DEPENDENCIES_ENABLED&&goog.debugLoader_.addDependency(e,t,r,n)},goog.ENABLE_DEBUG_LOADER=!0,goog.logToConsole_=function(e){goog.global.console&&goog.global.console.error(e)},goog.require=function(e){if(!COMPILED){if(goog.ENABLE_DEBUG_LOADER&&goog.debugLoader_.requested(e),goog.isProvided_(e)){if(goog.isInModuleLoader_())return goog.module.getInternal_(e)}else if(goog.ENABLE_DEBUG_LOADER){var t=goog.moduleLoaderState_;goog.moduleLoaderState_=null;try{goog.debugLoader_.load_(e)}finally{goog.moduleLoaderState_=t}}return null}},goog.requireType=function(e){return{}},goog.basePath="",goog.nullFunction=function(){},goog.abstractMethod=function(){throw Error("unimplemented abstract method")},goog.addSingletonGetter=function(e){e.instance_=void 0,e.getInstance=function(){return e.instance_?e.instance_:(goog.DEBUG&&(goog.instantiatedSingletons_[goog.instantiatedSingletons_.length]=e),e.instance_=new e)}},goog.instantiatedSingletons_=[],goog.LOAD_MODULE_USING_EVAL=!0,goog.SEAL_MODULE_EXPORTS=goog.DEBUG,goog.loadedModules_={},goog.DEPENDENCIES_ENABLED=!COMPILED&&goog.ENABLE_DEBUG_LOADER,goog.TRANSPILE="detect",goog.ASSUME_ES_MODULES_TRANSPILED=!1,goog.TRANSPILE_TO_LANGUAGE="",goog.TRANSPILER="transpile.js",goog.hasBadLetScoping=null,goog.useSafari10Workaround=function(){if(null==goog.hasBadLetScoping){try{var a=!eval('"use strict";let x = 1; function f() { return typeof x; };f() == "number";')}catch(e){a=!1}goog.hasBadLetScoping=a}return goog.hasBadLetScoping},goog.workaroundSafari10EvalBug=function(e){return"(function(){"+e+"\n;})();\n"},goog.loadModule=function(e){var t=goog.moduleLoaderState_;try{if(goog.moduleLoaderState_={moduleName:"",declareLegacyNamespace:!1,type:goog.ModuleType.GOOG},goog.isFunction(e))var r=e.call(void 0,{});else{if(!goog.isString(e))throw Error("Invalid module definition");goog.useSafari10Workaround()&&(e=goog.workaroundSafari10EvalBug(e)),r=goog.loadModuleFromSource_.call(void 0,e)}var n=goog.moduleLoaderState_.moduleName;if(!goog.isString(n)||!n)throw Error('Invalid module name "'+n+'"');goog.moduleLoaderState_.declareLegacyNamespace?goog.constructNamespace_(n,r):goog.SEAL_MODULE_EXPORTS&&Object.seal&&"object"==typeof r&&null!=r&&Object.seal(r),goog.loadedModules_[n]={exports:r,type:goog.ModuleType.GOOG,moduleId:goog.moduleLoaderState_.moduleName}}finally{goog.moduleLoaderState_=t}},goog.loadModuleFromSource_=function(a){return eval(a),{}},goog.normalizePath_=function(e){e=e.split("/");for(var t=0;t<e.length;)"."==e[t]?e.splice(t,1):t&&".."==e[t]&&e[t-1]&&".."!=e[t-1]?e.splice(--t,2):t++;return e.join("/")},goog.loadFileSync_=function(e){if(goog.global.CLOSURE_LOAD_FILE_SYNC)return goog.global.CLOSURE_LOAD_FILE_SYNC(e);try{var t=new goog.global.XMLHttpRequest;return t.open("get",e,!1),t.send(),0==t.status||200==t.status?t.responseText:null}catch(e){return null}},goog.transpile_=function(a,b,c){var d=goog.global.$jscomp;d||(goog.global.$jscomp=d={});var e=d.transpile;if(!e){var f=goog.basePath+goog.TRANSPILER,g=goog.loadFileSync_(f);if(g){if(function(){eval(g+"\n//# sourceURL="+f)}.call(goog.global),goog.global.$gwtExport&&goog.global.$gwtExport.$jscomp&&!goog.global.$gwtExport.$jscomp.transpile)throw Error('The transpiler did not properly export the "transpile" method. $gwtExport: '+JSON.stringify(goog.global.$gwtExport));goog.global.$jscomp.transpile=goog.global.$gwtExport.$jscomp.transpile,d=goog.global.$jscomp,e=d.transpile}}return e||(e=d.transpile=function(e,t){return goog.logToConsole_(t+" requires transpilation but no transpiler was found."),e}),e(a,b,c)},goog.typeOf=function(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var r=Object.prototype.toString.call(e);if("[object Window]"==r)return"object";if("[object Array]"==r||"number"==typeof e.length&&void 0!==e.splice&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==r||void 0!==e.call&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&void 0===e.call)return"object";return t},goog.isNull=function(e){return null===e},goog.isDefAndNotNull=function(e){return null!=e},goog.isArray=function(e){return"array"==goog.typeOf(e)},goog.isArrayLike=function(e){var t=goog.typeOf(e);return"array"==t||"object"==t&&"number"==typeof e.length},goog.isDateLike=function(e){return goog.isObject(e)&&"function"==typeof e.getFullYear},goog.isFunction=function(e){return"function"==goog.typeOf(e)},goog.isObject=function(e){var t=typeof e;return"object"==t&&null!=e||"function"==t},goog.getUid=function(e){return e[goog.UID_PROPERTY_]||(e[goog.UID_PROPERTY_]=++goog.uidCounter_)},goog.hasUid=function(e){return!!e[goog.UID_PROPERTY_]},goog.removeUid=function(e){null!==e&&"removeAttribute"in e&&e.removeAttribute(goog.UID_PROPERTY_);try{delete e[goog.UID_PROPERTY_]}catch(e){}},goog.UID_PROPERTY_="closure_uid_"+(1e9*Math.random()>>>0),goog.uidCounter_=0,goog.getHashCode=goog.getUid,goog.removeHashCode=goog.removeUid,goog.cloneObject=function(e){var t=goog.typeOf(e);if("object"==t||"array"==t){if("function"==typeof e.clone)return e.clone();t="array"==t?[]:{};for(var r in e)t[r]=goog.cloneObject(e[r]);return t}return e},goog.bindNative_=function(e,t,r){return e.call.apply(e.bind,arguments)},goog.bindJs_=function(e,t,r){if(!e)throw Error();if(2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,n),e.apply(t,r)}}return function(){return e.apply(t,arguments)}},goog.bind=function(e,t,r){return Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?goog.bind=goog.bindNative_:goog.bind=goog.bindJs_,goog.bind.apply(null,arguments)},goog.partial=function(e,t){var r=Array.prototype.slice.call(arguments,1);return function(){var t=r.slice();return t.push.apply(t,arguments),e.apply(this,t)}},goog.mixin=function(e,t){for(var r in t)e[r]=t[r]},goog.now=goog.TRUSTED_SITE&&Date.now||function(){return+new Date},goog.globalEval=function(e){if(goog.global.execScript)goog.global.execScript(e,"JavaScript");else{if(!goog.global.eval)throw Error("goog.globalEval not available");if(null==goog.evalWorksForGlobals_){try{goog.global.eval("var _evalTest_ = 1;")}catch(e){}if(void 0!==goog.global._evalTest_){try{delete goog.global._evalTest_}catch(e){}goog.evalWorksForGlobals_=!0}else goog.evalWorksForGlobals_=!1}if(goog.evalWorksForGlobals_)goog.global.eval(e);else{var t=goog.global.document,r=t.createElement("SCRIPT");r.type="text/javascript",r.defer=!1,r.appendChild(t.createTextNode(e)),t.head.appendChild(r),t.head.removeChild(r)}}},goog.evalWorksForGlobals_=null,goog.getCssName=function(e,t){if("."==String(e).charAt(0))throw Error('className passed in goog.getCssName must not start with ".". You passed: '+e);var r=function(e){return goog.cssNameMapping_[e]||e},n=function(e){e=e.split("-");for(var t=[],n=0;n<e.length;n++)t.push(r(e[n]));return t.join("-")};return n=goog.cssNameMapping_?"BY_WHOLE"==goog.cssNameMappingStyle_?r:n:function(e){return e},e=t?e+"-"+n(t):n(e),goog.global.CLOSURE_CSS_NAME_MAP_FN?goog.global.CLOSURE_CSS_NAME_MAP_FN(e):e},goog.setCssNameMapping=function(e,t){goog.cssNameMapping_=e,goog.cssNameMappingStyle_=t},!COMPILED&&goog.global.CLOSURE_CSS_NAME_MAPPING&&(goog.cssNameMapping_=goog.global.CLOSURE_CSS_NAME_MAPPING),goog.getMsg=function(e,t){return t&&(e=e.replace(/\{\$([^}]+)}/g,function(e,r){return null!=t&&r in t?t[r]:e})),e},goog.getMsgWithFallback=function(e,t){return e},goog.exportSymbol=function(e,t,r){goog.exportPath_(e,t,r)},goog.exportProperty=function(e,t,r){e[t]=r},goog.inherits=function(e,t){function r(){}r.prototype=t.prototype,e.superClass_=t.prototype,e.prototype=new r,e.prototype.constructor=e,e.base=function(e,r,n){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[r].apply(e,i)}},goog.base=function(e,t,r){var n=arguments.callee.caller;if(goog.STRICT_MODE_COMPATIBLE||goog.DEBUG&&!n)throw Error("arguments.caller not defined.  goog.base() cannot be used with strict mode code. See http://www.ecma-international.org/ecma-262/5.1/#sec-C");if(void 0!==n.superClass_){for(var i=Array(arguments.length-1),o=1;o<arguments.length;o++)i[o-1]=arguments[o];return n.superClass_.constructor.apply(e,i)}if("string"!=typeof t&&"symbol"!=typeof t)throw Error("method names provided to goog.base must be a string or a symbol");for(i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];o=!1;for(var a=e.constructor;a;a=a.superClass_&&a.superClass_.constructor)if(a.prototype[t]===n)o=!0;else if(o)return a.prototype[t].apply(e,i);if(e[t]===n)return e.constructor.prototype[t].apply(e,i);throw Error("goog.base called from a method of one name to a method of a different name")},goog.scope=function(e){if(goog.isInModuleLoader_())throw Error("goog.scope is not supported within a module.");e.call(goog.global)},COMPILED||(goog.global.COMPILED=COMPILED),goog.defineClass=function(e,t){var r=t.constructor,n=t.statics;return r&&r!=Object.prototype.constructor||(r=function(){throw Error("cannot instantiate an interface (no constructor defined).")}),r=goog.defineClass.createSealingConstructor_(r,e),e&&goog.inherits(r,e),delete t.constructor,delete t.statics,goog.defineClass.applyProperties_(r.prototype,t),null!=n&&(n instanceof Function?n(r):goog.defineClass.applyProperties_(r,n)),r},goog.defineClass.SEAL_CLASS_INSTANCES=goog.DEBUG,goog.defineClass.createSealingConstructor_=function(e,t){if(!goog.defineClass.SEAL_CLASS_INSTANCES)return e;var r=!goog.defineClass.isUnsealable_(t),n=function(){var t=e.apply(this,arguments)||this;return t[goog.UID_PROPERTY_]=t[goog.UID_PROPERTY_],this.constructor===n&&r&&Object.seal instanceof Function&&Object.seal(t),t};return n},goog.defineClass.isUnsealable_=function(e){return e&&e.prototype&&e.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]},goog.defineClass.OBJECT_PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),goog.defineClass.applyProperties_=function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);for(var n=0;n<goog.defineClass.OBJECT_PROTOTYPE_FIELDS_.length;n++)r=goog.defineClass.OBJECT_PROTOTYPE_FIELDS_[n],Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},goog.tagUnsealableClass=function(e){!COMPILED&&goog.defineClass.SEAL_CLASS_INSTANCES&&(e.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]=!0)},goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_="goog_defineClass_legacy_unsealable",!COMPILED&&goog.DEPENDENCIES_ENABLED&&(goog.inHtmlDocument_=function(){var e=goog.global.document;return null!=e&&"write"in e},goog.isDocumentLoading_=function(){var e=goog.global.document;return e.attachEvent?"complete"!=e.readyState:"loading"==e.readyState},goog.findBasePath_=function(){if(goog.isDef(goog.global.CLOSURE_BASE_PATH)&&goog.isString(goog.global.CLOSURE_BASE_PATH))goog.basePath=goog.global.CLOSURE_BASE_PATH;else if(goog.inHtmlDocument_()){var e=goog.global.document,t=e.currentScript;for(e=t?[t]:e.getElementsByTagName("SCRIPT"),t=e.length-1;0<=t;--t){var r=e[t].src,n=r.lastIndexOf("?");if(n=-1==n?r.length:n,"base.js"==r.substr(n-7,7)){goog.basePath=r.substr(0,n-7);break}}}},goog.findBasePath_(),goog.Transpiler=function(){this.requiresTranspilation_=null,this.transpilationTarget_=goog.TRANSPILE_TO_LANGUAGE},goog.Transpiler.prototype.createRequiresTranspilation_=function(){function a(t,r){e?d[t]=!0:r()?(c=t,d[t]=!1):e=d[t]=!0}function b(a){try{return!!eval(a)}catch(e){return!1}}var c="es3",d={es3:!1},e=!1,f=goog.global.navigator&&goog.global.navigator.userAgent?goog.global.navigator.userAgent:"";return a("es5",function(){return b("[1,].length==1")}),a("es6",function(){return!f.match(/Edge\/(\d+)(\.\d)*/i)&&b('(()=>{"use strict";class X{constructor(){if(new.target!=String)throw 1;this.x=42}}let q=Reflect.construct(X,[],String);if(q.x!=42||!(q instanceof String))throw 1;for(const a of[2,3]){if(a==2)continue;function f(z={a}){let a=0;return z.a}{function f(){return 0;}}return f()==3}})()')}),a("es6-impl",function(){return!0}),a("es7",function(){return b("2 ** 2 == 4")}),a("es8",function(){return b("async () => 1, true")}),a("es9",function(){return b("({...rest} = {}), true")}),a("es_next",function(){return!1}),{target:c,map:d}},goog.Transpiler.prototype.needsTranspile=function(e,t){if("always"==goog.TRANSPILE)return!0;if("never"==goog.TRANSPILE)return!1;if(!this.requiresTranspilation_){var r=this.createRequiresTranspilation_();this.requiresTranspilation_=r.map,this.transpilationTarget_=this.transpilationTarget_||r.target}if(e in this.requiresTranspilation_)return!!this.requiresTranspilation_[e]||!(!goog.inHtmlDocument_()||"es6"!=t||"noModule"in goog.global.document.createElement("script"));throw Error("Unknown language mode: "+e)},goog.Transpiler.prototype.transpile=function(e,t){return goog.transpile_(e,t,this.transpilationTarget_)},goog.transpiler_=new goog.Transpiler,goog.protectScriptTag_=function(e){return e.replace(/<\/(SCRIPT)/gi,"\\x3c/$1")},goog.DebugLoader_=function(){this.dependencies_={},this.idToPath_={},this.written_={},this.loadingDeps_=[],this.depsToLoad_=[],this.paused_=!1,this.factory_=new goog.DependencyFactory(goog.transpiler_),this.deferredCallbacks_={},this.deferredQueue_=[]},goog.DebugLoader_.prototype.bootstrap=function(e,t){function r(){n&&(goog.global.setTimeout(n,0),n=null)}var n=t;if(e.length){t=[];for(var i=0;i<e.length;i++){var o=this.getPathFromDeps_(e[i]);if(!o)throw Error("Unregonized namespace: "+e[i]);t.push(this.dependencies_[o])}o=goog.require;var a=0;for(i=0;i<e.length;i++)o(e[i]),t[i].onLoad(function(){++a==e.length&&r()})}else r()},goog.DebugLoader_.prototype.loadClosureDeps=function(){this.depsToLoad_.push(this.factory_.createDependency(goog.normalizePath_(goog.basePath+"deps.js"),"deps.js",[],[],{},!1)),this.loadDeps_()},goog.DebugLoader_.prototype.requested=function(e,t){(e=this.getPathFromDeps_(e))&&(t||this.areDepsLoaded_(this.dependencies_[e].requires))&&(t=this.deferredCallbacks_[e])&&(delete this.deferredCallbacks_[e],t())},goog.DebugLoader_.prototype.setDependencyFactory=function(e){this.factory_=e},goog.DebugLoader_.prototype.load_=function(e){if(!this.getPathFromDeps_(e))throw e="goog.require could not find: "+e,goog.logToConsole_(e),Error(e);var t=this,r=[],n=function(e){var i=t.getPathFromDeps_(e);if(!i)throw Error("Bad dependency path or symbol: "+e);if(!t.written_[i]){for(t.written_[i]=!0,e=t.dependencies_[i],i=0;i<e.requires.length;i++)goog.isProvided_(e.requires[i])||n(e.requires[i]);r.push(e)}};n(e),e=!!this.depsToLoad_.length,this.depsToLoad_=this.depsToLoad_.concat(r),this.paused_||e||this.loadDeps_()},goog.DebugLoader_.prototype.loadDeps_=function(){for(var e=this,t=this.paused_;this.depsToLoad_.length&&!t;)!function(){var r=!1,n=e.depsToLoad_.shift(),i=!1;e.loading_(n);var o={pause:function(){if(r)throw Error("Cannot call pause after the call to load.");t=!0},resume:function(){r?e.resume_():t=!1},loaded:function(){if(i)throw Error("Double call to loaded.");i=!0,e.loaded_(n)},pending:function(){for(var t=[],r=0;r<e.loadingDeps_.length;r++)t.push(e.loadingDeps_[r]);return t},setModuleState:function(e){goog.moduleLoaderState_={type:e,moduleName:"",declareLegacyNamespace:!1}},registerEs6ModuleExports:function(e,t,r){r&&(goog.loadedModules_[r]={exports:t,type:goog.ModuleType.ES6,moduleId:r||""})},registerGoogModuleExports:function(e,t){goog.loadedModules_[e]={exports:t,type:goog.ModuleType.GOOG,moduleId:e}},clearModuleState:function(){goog.moduleLoaderState_=null},defer:function(t){if(r)throw Error("Cannot register with defer after the call to load.");e.defer_(n,t)},areDepsLoaded:function(){return e.areDepsLoaded_(n.requires)}};try{n.load(o)}finally{r=!0}}();t&&this.pause_()},goog.DebugLoader_.prototype.pause_=function(){this.paused_=!0},goog.DebugLoader_.prototype.resume_=function(){this.paused_&&(this.paused_=!1,this.loadDeps_())},goog.DebugLoader_.prototype.loading_=function(e){this.loadingDeps_.push(e)},goog.DebugLoader_.prototype.loaded_=function(e){for(var t=0;t<this.loadingDeps_.length;t++)if(this.loadingDeps_[t]==e){this.loadingDeps_.splice(t,1);break}for(t=0;t<this.deferredQueue_.length;t++)if(this.deferredQueue_[t]==e.path){this.deferredQueue_.splice(t,1);break}if(this.loadingDeps_.length==this.deferredQueue_.length&&!this.depsToLoad_.length)for(;this.deferredQueue_.length;)this.requested(this.deferredQueue_.shift(),!0);e.loaded()},goog.DebugLoader_.prototype.areDepsLoaded_=function(e){for(var t=0;t<e.length;t++){var r=this.getPathFromDeps_(e[t]);if(!r||!(r in this.deferredCallbacks_||goog.isProvided_(e[t])))return!1}return!0},goog.DebugLoader_.prototype.getPathFromDeps_=function(e){return e in this.idToPath_?this.idToPath_[e]:e in this.dependencies_?e:null},goog.DebugLoader_.prototype.defer_=function(e,t){this.deferredCallbacks_[e.path]=t,this.deferredQueue_.push(e.path)},goog.LoadController=function(){},goog.LoadController.prototype.pause=function(){},goog.LoadController.prototype.resume=function(){},goog.LoadController.prototype.loaded=function(){},goog.LoadController.prototype.pending=function(){},goog.LoadController.prototype.registerEs6ModuleExports=function(e,t,r){},goog.LoadController.prototype.setModuleState=function(e){},goog.LoadController.prototype.clearModuleState=function(){},goog.LoadController.prototype.defer=function(e){},goog.LoadController.prototype.areDepsLoaded=function(){},goog.Dependency=function(e,t,r,n,i){this.path=e,this.relativePath=t,this.provides=r,this.requires=n,this.loadFlags=i,this.loaded_=!1,this.loadCallbacks_=[]},goog.Dependency.prototype.getPathName=function(){var e=this.path,t=e.indexOf("://");return 0<=t&&(e=e.substring(t+3),0<=(t=e.indexOf("/"))&&(e=e.substring(t+1))),e},goog.Dependency.prototype.onLoad=function(e){this.loaded_?e():this.loadCallbacks_.push(e)},goog.Dependency.prototype.loaded=function(){this.loaded_=!0;var e=this.loadCallbacks_;this.loadCallbacks_=[];for(var t=0;t<e.length;t++)e[t]()},goog.Dependency.defer_=!1,goog.Dependency.callbackMap_={},goog.Dependency.registerCallback_=function(e){var t=Math.random().toString(32);return goog.Dependency.callbackMap_[t]=e,t},goog.Dependency.unregisterCallback_=function(e){delete goog.Dependency.callbackMap_[e]},goog.Dependency.callback_=function(e,t){if(!(e in goog.Dependency.callbackMap_))throw Error("Callback key "+e+" does not exist (was base.js loaded more than once?).");for(var r=goog.Dependency.callbackMap_[e],n=[],i=1;i<arguments.length;i++)n.push(arguments[i]);r.apply(void 0,n)},goog.Dependency.prototype.load=function(e){if(goog.global.CLOSURE_IMPORT_SCRIPT)goog.global.CLOSURE_IMPORT_SCRIPT(this.path)?e.loaded():e.pause();else if(goog.inHtmlDocument_()){var t=goog.global.document;if("complete"==t.readyState&&!goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING){if(/\bdeps.js$/.test(this.path))return void e.loaded();throw Error('Cannot write "'+this.path+'" after document load')}if(!goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING&&goog.isDocumentLoading_()){var r=goog.Dependency.registerCallback_(function(t){goog.DebugLoader_.IS_OLD_IE_&&"complete"!=t.readyState||(goog.Dependency.unregisterCallback_(r),e.loaded())}),n=!goog.DebugLoader_.IS_OLD_IE_&&goog.getScriptNonce()?' nonce="'+goog.getScriptNonce()+'"':"";t.write('<script src="'+this.path+'" '+(goog.DebugLoader_.IS_OLD_IE_?"onreadystatechange":"onload")+"=\"goog.Dependency.callback_('"+r+'\', this)" type="text/javascript" '+(goog.Dependency.defer_?"defer":"")+n+"><\/script>")}else{var i=t.createElement("script");i.defer=goog.Dependency.defer_,i.async=!1,i.type="text/javascript",(n=goog.getScriptNonce())&&i.setAttribute("nonce",n),goog.DebugLoader_.IS_OLD_IE_?(e.pause(),i.onreadystatechange=function(){"loaded"!=i.readyState&&"complete"!=i.readyState||(e.loaded(),e.resume())}):i.onload=function(){i.onload=null,e.loaded()},i.src=this.path,t.head.appendChild(i)}}else goog.logToConsole_("Cannot use default debug loader outside of HTML documents."),"deps.js"==this.relativePath?(goog.logToConsole_("Consider setting CLOSURE_IMPORT_SCRIPT before loading base.js, or setting CLOSURE_NO_DEPS to true."),e.loaded()):e.pause()},goog.Es6ModuleDependency=function(e,t,r,n,i){goog.Dependency.call(this,e,t,r,n,i)},goog.inherits(goog.Es6ModuleDependency,goog.Dependency),goog.Es6ModuleDependency.prototype.load=function(e){function t(e,t){t?n.write('<script type="module" crossorigin>'+t+"<\/script>"):n.write('<script type="module" crossorigin src="'+e+'"><\/script>')}function r(e,t){var r=n.createElement("script");r.defer=!0,r.async=!1,r.type="module",r.setAttribute("crossorigin",!0);var i=goog.getScriptNonce();i&&r.setAttribute("nonce",i),t?r.textContent=t:r.src=e,n.head.appendChild(r)}if(goog.global.CLOSURE_IMPORT_SCRIPT)goog.global.CLOSURE_IMPORT_SCRIPT(this.path)?e.loaded():e.pause();else if(goog.inHtmlDocument_()){var n=goog.global.document,i=this;if(goog.isDocumentLoading_()){var o=t;goog.Dependency.defer_=!0}else o=r;var a=goog.Dependency.registerCallback_(function(){goog.Dependency.unregisterCallback_(a),e.setModuleState(goog.ModuleType.ES6)});o(void 0,'goog.Dependency.callback_("'+a+'")'),o(this.path,void 0);var s=goog.Dependency.registerCallback_(function(t){goog.Dependency.unregisterCallback_(s),e.registerEs6ModuleExports(i.path,t,goog.moduleLoaderState_.moduleName)});o(void 0,'import * as m from "'+this.path+'"; goog.Dependency.callback_("'+s+'", m)');var u=goog.Dependency.registerCallback_(function(){goog.Dependency.unregisterCallback_(u),e.clearModuleState(),e.loaded()});o(void 0,'goog.Dependency.callback_("'+u+'")')}else goog.logToConsole_("Cannot use default debug loader outside of HTML documents."),e.pause()},goog.TransformedDependency=function(e,t,r,n,i){goog.Dependency.call(this,e,t,r,n,i),this.contents_=null,this.lazyFetch_=!(goog.inHtmlDocument_()&&"noModule"in goog.global.document.createElement("script"))},goog.inherits(goog.TransformedDependency,goog.Dependency),goog.TransformedDependency.prototype.load=function(e){function t(){n.contents_=goog.loadFileSync_(n.path),n.contents_&&(n.contents_=n.transform(n.contents_),n.contents_&&(n.contents_+="\n//# sourceURL="+n.path))}function r(){if(n.lazyFetch_&&t(),n.contents_){i&&e.setModuleState(goog.ModuleType.ES6);try{var r=n.contents_;if(n.contents_=null,goog.globalEval(r),i)var o=goog.moduleLoaderState_.moduleName}finally{i&&e.clearModuleState()}i&&goog.global.$jscomp.require.ensure([n.getPathName()],function(){e.registerEs6ModuleExports(n.path,goog.global.$jscomp.require(n.getPathName()),o)}),e.loaded()}}var n=this;if(goog.global.CLOSURE_IMPORT_SCRIPT)t(),this.contents_&&goog.global.CLOSURE_IMPORT_SCRIPT("",this.contents_)?(this.contents_=null,e.loaded()):e.pause();else{var i=this.loadFlags.module==goog.ModuleType.ES6;this.lazyFetch_||t();var o=1<e.pending().length,a=o&&goog.DebugLoader_.IS_OLD_IE_;if(o=goog.Dependency.defer_&&(o||goog.isDocumentLoading_()),a||o)e.defer(function(){r()});else{var s=goog.global.document;if(a=goog.inHtmlDocument_()&&"ActiveXObject"in goog.global,i&&goog.inHtmlDocument_()&&goog.isDocumentLoading_()&&!a){goog.Dependency.defer_=!0,e.pause();var u=s.onreadystatechange;s.onreadystatechange=function(){"interactive"==s.readyState&&(s.onreadystatechange=u,r(),e.resume()),goog.isFunction(u)&&u.apply(void 0,arguments)}}else!goog.DebugLoader_.IS_OLD_IE_&&goog.inHtmlDocument_()&&goog.isDocumentLoading_()?function(){var e=goog.global.document,t=goog.Dependency.registerCallback_(function(){goog.Dependency.unregisterCallback_(t),r()});e.write('<script type="text/javascript">'+goog.protectScriptTag_('goog.Dependency.callback_("'+t+'");')+"<\/script>")}():r()}}},goog.TransformedDependency.prototype.transform=function(e){},goog.TranspiledDependency=function(e,t,r,n,i,o){goog.TransformedDependency.call(this,e,t,r,n,i),this.transpiler=o},goog.inherits(goog.TranspiledDependency,goog.TransformedDependency),goog.TranspiledDependency.prototype.transform=function(e){return this.transpiler.transpile(e,this.getPathName())},goog.PreTranspiledEs6ModuleDependency=function(e,t,r,n,i){goog.TransformedDependency.call(this,e,t,r,n,i)},goog.inherits(goog.PreTranspiledEs6ModuleDependency,goog.TransformedDependency),goog.PreTranspiledEs6ModuleDependency.prototype.transform=function(e){return e},goog.GoogModuleDependency=function(e,t,r,n,i,o,a){goog.TransformedDependency.call(this,e,t,r,n,i),this.needsTranspile_=o,this.transpiler_=a},goog.inherits(goog.GoogModuleDependency,goog.TransformedDependency),goog.GoogModuleDependency.prototype.transform=function(e){return this.needsTranspile_&&(e=this.transpiler_.transpile(e,this.getPathName())),goog.LOAD_MODULE_USING_EVAL&&goog.isDef(goog.global.JSON)?"goog.loadModule("+goog.global.JSON.stringify(e+"\n//# sourceURL="+this.path+"\n")+");":'goog.loadModule(function(exports) {"use strict";'+e+"\n;return exports});\n//# sourceURL="+this.path+"\n"},goog.DebugLoader_.IS_OLD_IE_=!(goog.global.atob||!goog.global.document||!goog.global.document.all),goog.DebugLoader_.prototype.addDependency=function(e,t,r,n){t=t||[],e=e.replace(/\\/g,"/");var i=goog.normalizePath_(goog.basePath+e);for(n&&"boolean"!=typeof n||(n=n?{module:goog.ModuleType.GOOG}:{}),r=this.factory_.createDependency(i,e,t,r,n,goog.transpiler_.needsTranspile(n.lang||"es3",n.module)),this.dependencies_[i]=r,r=0;r<t.length;r++)this.idToPath_[t[r]]=i;this.idToPath_[e]=i},goog.DependencyFactory=function(e){this.transpiler=e},goog.DependencyFactory.prototype.createDependency=function(e,t,r,n,i,o){return i.module==goog.ModuleType.GOOG?new goog.GoogModuleDependency(e,t,r,n,i,o,this.transpiler):o?new goog.TranspiledDependency(e,t,r,n,i,this.transpiler):i.module==goog.ModuleType.ES6?"never"==goog.TRANSPILE&&goog.ASSUME_ES_MODULES_TRANSPILED?new goog.PreTranspiledEs6ModuleDependency(e,t,r,n,i):new goog.Es6ModuleDependency(e,t,r,n,i):new goog.Dependency(e,t,r,n,i)},goog.debugLoader_=new goog.DebugLoader_,goog.loadClosureDeps=function(){goog.debugLoader_.loadClosureDeps()},goog.setDependencyFactory=function(e){goog.debugLoader_.setDependencyFactory(e)},goog.global.CLOSURE_NO_DEPS||goog.debugLoader_.loadClosureDeps(),goog.bootstrap=function(e,t){goog.debugLoader_.bootstrap(e,t)});var jspb={BinaryConstants:{},ConstBinaryMessage:function(){},BinaryMessage:function(){}};jspb.BinaryConstants.FieldType={INVALID:-1,DOUBLE:1,FLOAT:2,INT64:3,UINT64:4,INT32:5,FIXED64:6,FIXED32:7,BOOL:8,STRING:9,GROUP:10,MESSAGE:11,BYTES:12,UINT32:13,ENUM:14,SFIXED32:15,SFIXED64:16,SINT32:17,SINT64:18,FHASH64:30,VHASH64:31},jspb.BinaryConstants.WireType={INVALID:-1,VARINT:0,FIXED64:1,DELIMITED:2,START_GROUP:3,END_GROUP:4,FIXED32:5},jspb.BinaryConstants.FieldTypeToWireType=function(e){var t=jspb.BinaryConstants.FieldType,r=jspb.BinaryConstants.WireType;switch(e){case t.INT32:case t.INT64:case t.UINT32:case t.UINT64:case t.SINT32:case t.SINT64:case t.BOOL:case t.ENUM:case t.VHASH64:return r.VARINT;case t.DOUBLE:case t.FIXED64:case t.SFIXED64:case t.FHASH64:return r.FIXED64;case t.STRING:case t.MESSAGE:case t.BYTES:return r.DELIMITED;case t.FLOAT:case t.FIXED32:case t.SFIXED32:return r.FIXED32;default:return r.INVALID}},jspb.BinaryConstants.INVALID_FIELD_NUMBER=-1,jspb.BinaryConstants.FLOAT32_EPS=1.401298464324817e-45,jspb.BinaryConstants.FLOAT32_MIN=1.1754943508222875e-38,jspb.BinaryConstants.FLOAT32_MAX=3.4028234663852886e38,jspb.BinaryConstants.FLOAT64_EPS=5e-324,jspb.BinaryConstants.FLOAT64_MIN=2.2250738585072014e-308,jspb.BinaryConstants.FLOAT64_MAX=1.7976931348623157e308,jspb.BinaryConstants.TWO_TO_20=1048576,jspb.BinaryConstants.TWO_TO_23=8388608,jspb.BinaryConstants.TWO_TO_31=2147483648,jspb.BinaryConstants.TWO_TO_32=4294967296,jspb.BinaryConstants.TWO_TO_52=4503599627370496,jspb.BinaryConstants.TWO_TO_63=0x8000000000000000,jspb.BinaryConstants.TWO_TO_64=0x10000000000000000,jspb.BinaryConstants.ZERO_HASH="\0\0\0\0\0\0\0\0",goog.dom={},goog.dom.NodeType={ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12},goog.debug={},goog.debug.Error=function(e){if(Error.captureStackTrace)Error.captureStackTrace(this,goog.debug.Error);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e)),this.reportErrorToServer=!0},goog.inherits(goog.debug.Error,Error),goog.debug.Error.prototype.name="CustomError",goog.asserts={},goog.asserts.ENABLE_ASSERTS=goog.DEBUG,goog.asserts.AssertionError=function(e,t){goog.debug.Error.call(this,goog.asserts.subs_(e,t)),this.messagePattern=e},goog.inherits(goog.asserts.AssertionError,goog.debug.Error),goog.asserts.AssertionError.prototype.name="AssertionError",goog.asserts.DEFAULT_ERROR_HANDLER=function(e){throw e},goog.asserts.errorHandler_=goog.asserts.DEFAULT_ERROR_HANDLER,goog.asserts.subs_=function(e,t){e=e.split("%s");for(var r="",n=e.length-1,i=0;i<n;i++)r+=e[i]+(i<t.length?t[i]:"%s");return r+e[n]},goog.asserts.doAssertFailure_=function(e,t,r,n){var i="Assertion failed";if(r){i+=": "+r;var o=n}else e&&(i+=": "+e,o=t);e=new goog.asserts.AssertionError(""+i,o||[]),goog.asserts.errorHandler_(e)},goog.asserts.setErrorHandler=function(e){goog.asserts.ENABLE_ASSERTS&&(goog.asserts.errorHandler_=e)},goog.asserts.assert=function(e,t,r){return goog.asserts.ENABLE_ASSERTS&&!e&&goog.asserts.doAssertFailure_("",null,t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.fail=function(e,t){goog.asserts.ENABLE_ASSERTS&&goog.asserts.errorHandler_(new goog.asserts.AssertionError("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1)))},goog.asserts.assertNumber=function(e,t,r){return goog.asserts.ENABLE_ASSERTS&&!goog.isNumber(e)&&goog.asserts.doAssertFailure_("Expected number but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertString=function(e,t,r){return goog.asserts.ENABLE_ASSERTS&&!goog.isString(e)&&goog.asserts.doAssertFailure_("Expected string but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertFunction=function(e,t,r){return goog.asserts.ENABLE_ASSERTS&&!goog.isFunction(e)&&goog.asserts.doAssertFailure_("Expected function but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertObject=function(e,t,r){return goog.asserts.ENABLE_ASSERTS&&!goog.isObject(e)&&goog.asserts.doAssertFailure_("Expected object but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertArray=function(e,t,r){return goog.asserts.ENABLE_ASSERTS&&!goog.isArray(e)&&goog.asserts.doAssertFailure_("Expected array but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertBoolean=function(e,t,r){return goog.asserts.ENABLE_ASSERTS&&!goog.isBoolean(e)&&goog.asserts.doAssertFailure_("Expected boolean but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertElement=function(e,t,r){return!goog.asserts.ENABLE_ASSERTS||goog.isObject(e)&&e.nodeType==goog.dom.NodeType.ELEMENT||goog.asserts.doAssertFailure_("Expected Element but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertInstanceof=function(e,t,r,n){return!goog.asserts.ENABLE_ASSERTS||e instanceof t||goog.asserts.doAssertFailure_("Expected instanceof %s but got %s.",[goog.asserts.getType_(t),goog.asserts.getType_(e)],r,Array.prototype.slice.call(arguments,3)),e},goog.asserts.assertFinite=function(e,t,r){return!goog.asserts.ENABLE_ASSERTS||"number"==typeof e&&isFinite(e)||goog.asserts.doAssertFailure_("Expected %s to be a finite number but it is not.",[e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertObjectPrototypeIsIntact=function(){for(var e in Object.prototype)goog.asserts.fail(e+" should not be enumerable in Object.prototype.")},goog.asserts.getType_=function(e){return e instanceof Function?e.displayName||e.name||"unknown type name":e instanceof Object?e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e):null===e?"null":typeof e},goog.array={},goog.NATIVE_ARRAY_PROTOTYPES=goog.TRUSTED_SITE,goog.array.ASSUME_NATIVE_FUNCTIONS=!1,goog.array.peek=function(e){return e[e.length-1]},goog.array.last=goog.array.peek,goog.array.indexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.indexOf)?function(e,t,r){return goog.asserts.assert(null!=e.length),Array.prototype.indexOf.call(e,t,r)}:function(e,t,r){if(r=null==r?0:0>r?Math.max(0,e.length+r):r,goog.isString(e))return goog.isString(t)&&1==t.length?e.indexOf(t,r):-1;for(;r<e.length;r++)if(r in e&&e[r]===t)return r;return-1},goog.array.lastIndexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.lastIndexOf)?function(e,t,r){return goog.asserts.assert(null!=e.length),Array.prototype.lastIndexOf.call(e,t,null==r?e.length-1:r)}:function(e,t,r){if(r=null==r?e.length-1:r,0>r&&(r=Math.max(0,e.length+r)),goog.isString(e))return goog.isString(t)&&1==t.length?e.lastIndexOf(t,r):-1;for(;0<=r;r--)if(r in e&&e[r]===t)return r;return-1},goog.array.forEach=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.forEach)?function(e,t,r){goog.asserts.assert(null!=e.length),Array.prototype.forEach.call(e,t,r)}:function(e,t,r){for(var n=e.length,i=goog.isString(e)?e.split(""):e,o=0;o<n;o++)o in i&&t.call(r,i[o],o,e)},goog.array.forEachRight=function(e,t,r){var n=e.length,i=goog.isString(e)?e.split(""):e;for(--n;0<=n;--n)n in i&&t.call(r,i[n],n,e)},goog.array.filter=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.filter)?function(e,t,r){return goog.asserts.assert(null!=e.length),Array.prototype.filter.call(e,t,r)}:function(e,t,r){for(var n=e.length,i=[],o=0,a=goog.isString(e)?e.split(""):e,s=0;s<n;s++)if(s in a){var u=a[s];t.call(r,u,s,e)&&(i[o++]=u)}return i},goog.array.map=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.map)?function(e,t,r){return goog.asserts.assert(null!=e.length),Array.prototype.map.call(e,t,r)}:function(e,t,r){for(var n=e.length,i=Array(n),o=goog.isString(e)?e.split(""):e,a=0;a<n;a++)a in o&&(i[a]=t.call(r,o[a],a,e));return i},goog.array.reduce=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.reduce)?function(e,t,r,n){return goog.asserts.assert(null!=e.length),n&&(t=goog.bind(t,n)),Array.prototype.reduce.call(e,t,r)}:function(e,t,r,n){var i=r;return goog.array.forEach(e,function(r,o){i=t.call(n,i,r,o,e)}),i},goog.array.reduceRight=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.reduceRight)?function(e,t,r,n){return goog.asserts.assert(null!=e.length),goog.asserts.assert(null!=t),n&&(t=goog.bind(t,n)),Array.prototype.reduceRight.call(e,t,r)}:function(e,t,r,n){var i=r;return goog.array.forEachRight(e,function(r,o){i=t.call(n,i,r,o,e)}),i},goog.array.some=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.some)?function(e,t,r){return goog.asserts.assert(null!=e.length),Array.prototype.some.call(e,t,r)}:function(e,t,r){for(var n=e.length,i=goog.isString(e)?e.split(""):e,o=0;o<n;o++)if(o in i&&t.call(r,i[o],o,e))return!0;return!1},goog.array.every=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.every)?function(e,t,r){return goog.asserts.assert(null!=e.length),Array.prototype.every.call(e,t,r)}:function(e,t,r){for(var n=e.length,i=goog.isString(e)?e.split(""):e,o=0;o<n;o++)if(o in i&&!t.call(r,i[o],o,e))return!1;return!0},goog.array.count=function(e,t,r){var n=0;return goog.array.forEach(e,function(e,i,o){t.call(r,e,i,o)&&++n},r),n},goog.array.find=function(e,t,r){return t=goog.array.findIndex(e,t,r),0>t?null:goog.isString(e)?e.charAt(t):e[t]},goog.array.findIndex=function(e,t,r){for(var n=e.length,i=goog.isString(e)?e.split(""):e,o=0;o<n;o++)if(o in i&&t.call(r,i[o],o,e))return o;return-1},goog.array.findRight=function(e,t,r){return t=goog.array.findIndexRight(e,t,r),0>t?null:goog.isString(e)?e.charAt(t):e[t]},goog.array.findIndexRight=function(e,t,r){var n=e.length,i=goog.isString(e)?e.split(""):e;for(--n;0<=n;n--)if(n in i&&t.call(r,i[n],n,e))return n;return-1},goog.array.contains=function(e,t){return 0<=goog.array.indexOf(e,t)},goog.array.isEmpty=function(e){return 0==e.length},goog.array.clear=function(e){if(!goog.isArray(e))for(var t=e.length-1;0<=t;t--)delete e[t];e.length=0},goog.array.insert=function(e,t){goog.array.contains(e,t)||e.push(t)},goog.array.insertAt=function(e,t,r){goog.array.splice(e,r,0,t)},goog.array.insertArrayAt=function(e,t,r){goog.partial(goog.array.splice,e,r,0).apply(null,t)},goog.array.insertBefore=function(e,t,r){var n;2==arguments.length||0>(n=goog.array.indexOf(e,r))?e.push(t):goog.array.insertAt(e,t,n)},goog.array.remove=function(e,t){t=goog.array.indexOf(e,t);var r;return(r=0<=t)&&goog.array.removeAt(e,t),r},goog.array.removeLast=function(e,t){return 0<=(t=goog.array.lastIndexOf(e,t))&&(goog.array.removeAt(e,t),!0)},goog.array.removeAt=function(e,t){return goog.asserts.assert(null!=e.length),1==Array.prototype.splice.call(e,t,1).length},goog.array.removeIf=function(e,t,r){return 0<=(t=goog.array.findIndex(e,t,r))&&(goog.array.removeAt(e,t),!0)},goog.array.removeAllIf=function(e,t,r){var n=0;return goog.array.forEachRight(e,function(i,o){t.call(r,i,o,e)&&goog.array.removeAt(e,o)&&n++}),n},goog.array.concat=function(e){return Array.prototype.concat.apply([],arguments)},goog.array.join=function(e){return Array.prototype.concat.apply([],arguments)},goog.array.toArray=function(e){var t=e.length;if(0<t){for(var r=Array(t),n=0;n<t;n++)r[n]=e[n];return r}return[]},goog.array.clone=goog.array.toArray,goog.array.extend=function(e,t){for(var r=1;r<arguments.length;r++){var n=arguments[r];if(goog.isArrayLike(n)){var i=e.length||0,o=n.length||0;e.length=i+o;for(var a=0;a<o;a++)e[i+a]=n[a]}else e.push(n)}},goog.array.splice=function(e,t,r,n){return goog.asserts.assert(null!=e.length),Array.prototype.splice.apply(e,goog.array.slice(arguments,1))},goog.array.slice=function(e,t,r){return goog.asserts.assert(null!=e.length),2>=arguments.length?Array.prototype.slice.call(e,t):Array.prototype.slice.call(e,t,r)},goog.array.removeDuplicates=function(e,t,r){t=t||e;var n=function(e){return goog.isObject(e)?"o"+goog.getUid(e):(typeof e).charAt(0)+e};r=r||n,n={};for(var i=0,o=0;o<e.length;){var a=e[o++],s=r(a);Object.prototype.hasOwnProperty.call(n,s)||(n[s]=!0,t[i++]=a)}t.length=i},goog.array.binarySearch=function(e,t,r){return goog.array.binarySearch_(e,r||goog.array.defaultCompare,!1,t)},goog.array.binarySelect=function(e,t,r){return goog.array.binarySearch_(e,t,!0,void 0,r)},goog.array.binarySearch_=function(e,t,r,n,i){for(var o,a=0,s=e.length;a<s;){var u=a+s>>1,l=r?t.call(i,e[u],u,e):t(n,e[u]);0<l?a=u+1:(s=u,o=!l)}return o?a:~a},goog.array.sort=function(e,t){e.sort(t||goog.array.defaultCompare)},goog.array.stableSort=function(e,t){for(var r=Array(e.length),n=0;n<e.length;n++)r[n]={index:n,value:e[n]};var i=t||goog.array.defaultCompare;for(goog.array.sort(r,function(e,t){return i(e.value,t.value)||e.index-t.index}),n=0;n<e.length;n++)e[n]=r[n].value},goog.array.sortByKey=function(e,t,r){var n=r||goog.array.defaultCompare;goog.array.sort(e,function(e,r){return n(t(e),t(r))})},goog.array.sortObjectsByKey=function(e,t,r){goog.array.sortByKey(e,function(e){return e[t]},r)},goog.array.isSorted=function(e,t,r){t=t||goog.array.defaultCompare;for(var n=1;n<e.length;n++){var i=t(e[n-1],e[n]);if(0<i||0==i&&r)return!1}return!0},goog.array.equals=function(e,t,r){if(!goog.isArrayLike(e)||!goog.isArrayLike(t)||e.length!=t.length)return!1;var n=e.length;r=r||goog.array.defaultCompareEquality;for(var i=0;i<n;i++)if(!r(e[i],t[i]))return!1;return!0},goog.array.compare3=function(e,t,r){r=r||goog.array.defaultCompare;for(var n=Math.min(e.length,t.length),i=0;i<n;i++){var o=r(e[i],t[i]);if(0!=o)return o}return goog.array.defaultCompare(e.length,t.length)},goog.array.defaultCompare=function(e,t){return e>t?1:e<t?-1:0},goog.array.inverseDefaultCompare=function(e,t){return-goog.array.defaultCompare(e,t)},goog.array.defaultCompareEquality=function(e,t){return e===t},goog.array.binaryInsert=function(e,t,r){return 0>(r=goog.array.binarySearch(e,t,r))&&(goog.array.insertAt(e,t,-(r+1)),!0)},goog.array.binaryRemove=function(e,t,r){return 0<=(t=goog.array.binarySearch(e,t,r))&&goog.array.removeAt(e,t)},goog.array.bucket=function(e,t,r){for(var n={},i=0;i<e.length;i++){var o=e[i],a=t.call(r,o,i,e);goog.isDef(a)&&(n[a]||(n[a]=[])).push(o)}return n},goog.array.toObject=function(e,t,r){var n={};return goog.array.forEach(e,function(i,o){n[t.call(r,i,o,e)]=i}),n},goog.array.range=function(e,t,r){var n=[],i=0,o=e;if(r=r||1,void 0!==t&&(i=e,o=t),0>r*(o-i))return[];if(0<r)for(e=i;e<o;e+=r)n.push(e);else for(e=i;e>o;e+=r)n.push(e);return n},goog.array.repeat=function(e,t){for(var r=[],n=0;n<t;n++)r[n]=e;return r},goog.array.flatten=function(e){for(var t=[],r=0;r<arguments.length;r++){var n=arguments[r];if(goog.isArray(n))for(var i=0;i<n.length;i+=8192){var o=goog.array.slice(n,i,i+8192);o=goog.array.flatten.apply(null,o);for(var a=0;a<o.length;a++)t.push(o[a])}else t.push(n)}return t},goog.array.rotate=function(e,t){return goog.asserts.assert(null!=e.length),e.length&&(t%=e.length,0<t?Array.prototype.unshift.apply(e,e.splice(-t,t)):0>t&&Array.prototype.push.apply(e,e.splice(0,-t))),e},goog.array.moveItem=function(e,t,r){goog.asserts.assert(0<=t&&t<e.length),goog.asserts.assert(0<=r&&r<e.length),t=Array.prototype.splice.call(e,t,1),Array.prototype.splice.call(e,r,0,t[0])},goog.array.zip=function(e){if(!arguments.length)return[];for(var t=[],r=arguments[0].length,n=1;n<arguments.length;n++)arguments[n].length<r&&(r=arguments[n].length);for(n=0;n<r;n++){for(var i=[],o=0;o<arguments.length;o++)i.push(arguments[o][n]);t.push(i)}return t},goog.array.shuffle=function(e,t){t=t||Math.random;for(var r=e.length-1;0<r;r--){var n=Math.floor(t()*(r+1)),i=e[r];e[r]=e[n],e[n]=i}},goog.array.copyByIndex=function(e,t){var r=[];return goog.array.forEach(t,function(t){r.push(e[t])}),r},goog.array.concatMap=function(e,t,r){return goog.array.concat.apply([],goog.array.map(e,t,r))},goog.crypt={},goog.crypt.stringToByteArray=function(e){for(var t=[],r=0,n=0;n<e.length;n++){var i=e.charCodeAt(n);255<i&&(t[r++]=255&i,i>>=8),t[r++]=i}return t},goog.crypt.byteArrayToString=function(e){if(8192>=e.length)return String.fromCharCode.apply(null,e);for(var t="",r=0;r<e.length;r+=8192){var n=goog.array.slice(e,r,r+8192);t+=String.fromCharCode.apply(null,n)}return t},goog.crypt.byteArrayToHex=function(e,t){return goog.array.map(e,function(e){return e=e.toString(16),1<e.length?e:"0"+e}).join(t||"")},goog.crypt.hexToByteArray=function(e){goog.asserts.assert(0==e.length%2,"Key string length must be multiple of 2");for(var t=[],r=0;r<e.length;r+=2)t.push(parseInt(e.substring(r,r+2),16));return t},goog.crypt.stringToUtf8ByteArray=function(e){for(var t=[],r=0,n=0;n<e.length;n++){var i=e.charCodeAt(n);128>i?t[r++]=i:(2048>i?t[r++]=i>>6|192:(55296==(64512&i)&&n+1<e.length&&56320==(64512&e.charCodeAt(n+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++n)),t[r++]=i>>18|240,t[r++]=i>>12&63|128):t[r++]=i>>12|224,t[r++]=i>>6&63|128),t[r++]=63&i|128)}return t},goog.crypt.utf8ByteArrayToString=function(e){for(var t=[],r=0,n=0;r<e.length;){var i=e[r++];if(128>i)t[n++]=String.fromCharCode(i);else if(191<i&&224>i){var o=e[r++];t[n++]=String.fromCharCode((31&i)<<6|63&o)}else if(239<i&&365>i){o=e[r++];var a=e[r++],s=e[r++];i=((7&i)<<18|(63&o)<<12|(63&a)<<6|63&s)-65536,t[n++]=String.fromCharCode(55296+(i>>10)),t[n++]=String.fromCharCode(56320+(1023&i))}else o=e[r++],a=e[r++],t[n++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}return t.join("")},goog.crypt.xorByteArray=function(e,t){goog.asserts.assert(e.length==t.length,"XOR array lengths must match");for(var r=[],n=0;n<e.length;n++)r.push(e[n]^t[n]);return r},goog.string={},goog.string.internal={},goog.string.internal.startsWith=function(e,t){return 0==e.lastIndexOf(t,0)},goog.string.internal.endsWith=function(e,t){var r=e.length-t.length;return 0<=r&&e.indexOf(t,r)==r},goog.string.internal.caseInsensitiveStartsWith=function(e,t){return 0==goog.string.internal.caseInsensitiveCompare(t,e.substr(0,t.length))},goog.string.internal.caseInsensitiveEndsWith=function(e,t){return 0==goog.string.internal.caseInsensitiveCompare(t,e.substr(e.length-t.length,t.length))},goog.string.internal.caseInsensitiveEquals=function(e,t){return e.toLowerCase()==t.toLowerCase()},goog.string.internal.isEmptyOrWhitespace=function(e){return/^[\s\xa0]*$/.test(e)},goog.string.internal.trim=goog.TRUSTED_SITE&&String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]},goog.string.internal.caseInsensitiveCompare=function(e,t){return e=String(e).toLowerCase(),t=String(t).toLowerCase(),e<t?-1:e==t?0:1},goog.string.internal.newLineToBr=function(e,t){return e.replace(/(\r\n|\r|\n)/g,t?"<br />":"<br>")},goog.string.internal.htmlEscape=function(e,t){if(t)e=e.replace(goog.string.internal.AMP_RE_,"&amp;").replace(goog.string.internal.LT_RE_,"&lt;").replace(goog.string.internal.GT_RE_,"&gt;").replace(goog.string.internal.QUOT_RE_,"&quot;").replace(goog.string.internal.SINGLE_QUOTE_RE_,"&#39;").replace(goog.string.internal.NULL_RE_,"&#0;");else{if(!goog.string.internal.ALL_RE_.test(e))return e;-1!=e.indexOf("&")&&(e=e.replace(goog.string.internal.AMP_RE_,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(goog.string.internal.LT_RE_,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(goog.string.internal.GT_RE_,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(goog.string.internal.QUOT_RE_,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(goog.string.internal.SINGLE_QUOTE_RE_,"&#39;")),-1!=e.indexOf("\0")&&(e=e.replace(goog.string.internal.NULL_RE_,"&#0;"))}return e},goog.string.internal.AMP_RE_=/&/g,goog.string.internal.LT_RE_=/</g,goog.string.internal.GT_RE_=/>/g,goog.string.internal.QUOT_RE_=/"/g,goog.string.internal.SINGLE_QUOTE_RE_=/'/g,goog.string.internal.NULL_RE_=/\x00/g,goog.string.internal.ALL_RE_=/[\x00&<>"']/,goog.string.internal.whitespaceEscape=function(e,t){return goog.string.internal.newLineToBr(e.replace(/  /g," &#160;"),t)},goog.string.internal.contains=function(e,t){return-1!=e.indexOf(t)},goog.string.internal.caseInsensitiveContains=function(e,t){return goog.string.internal.contains(e.toLowerCase(),t.toLowerCase())},goog.string.internal.compareVersions=function(e,t){var r=0;e=goog.string.internal.trim(String(e)).split("."),t=goog.string.internal.trim(String(t)).split(".");for(var n=Math.max(e.length,t.length),i=0;0==r&&i<n;i++){var o=e[i]||"",a=t[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;r=0==o[1].length?0:parseInt(o[1],10);var s=0==a[1].length?0:parseInt(a[1],10);r=goog.string.internal.compareElements_(r,s)||goog.string.internal.compareElements_(0==o[2].length,0==a[2].length)||goog.string.internal.compareElements_(o[2],a[2]),o=o[3],a=a[3]}while(0==r)}return r},goog.string.internal.compareElements_=function(e,t){return e<t?-1:e>t?1:0},goog.string.DETECT_DOUBLE_ESCAPING=!1,goog.string.FORCE_NON_DOM_HTML_UNESCAPING=!1,goog.string.Unicode={NBSP:""},goog.string.startsWith=goog.string.internal.startsWith,goog.string.endsWith=goog.string.internal.endsWith,goog.string.caseInsensitiveStartsWith=goog.string.internal.caseInsensitiveStartsWith,goog.string.caseInsensitiveEndsWith=goog.string.internal.caseInsensitiveEndsWith,goog.string.caseInsensitiveEquals=goog.string.internal.caseInsensitiveEquals,goog.string.subs=function(e,t){for(var r=e.split("%s"),n="",i=Array.prototype.slice.call(arguments,1);i.length&&1<r.length;)n+=r.shift()+i.shift();return n+r.join("%s")},goog.string.collapseWhitespace=function(e){return e.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"")},goog.string.isEmptyOrWhitespace=goog.string.internal.isEmptyOrWhitespace,goog.string.isEmptyString=function(e){return 0==e.length},goog.string.isEmpty=goog.string.isEmptyOrWhitespace,goog.string.isEmptyOrWhitespaceSafe=function(e){return goog.string.isEmptyOrWhitespace(goog.string.makeSafe(e))},goog.string.isEmptySafe=goog.string.isEmptyOrWhitespaceSafe,goog.string.isBreakingWhitespace=function(e){return!/[^\t\n\r ]/.test(e)},goog.string.isAlpha=function(e){return!/[^a-zA-Z]/.test(e)},goog.string.isNumeric=function(e){return!/[^0-9]/.test(e)},goog.string.isAlphaNumeric=function(e){return!/[^a-zA-Z0-9]/.test(e)},goog.string.isSpace=function(e){return" "==e},goog.string.isUnicodeChar=function(e){return 1==e.length&&" "<=e&&"~">=e||""<=e&&"">=e},goog.string.stripNewlines=function(e){return e.replace(/(\r\n|\r|\n)+/g," ")},goog.string.canonicalizeNewlines=function(e){return e.replace(/(\r\n|\r|\n)/g,"\n")},goog.string.normalizeWhitespace=function(e){return e.replace(/\xa0|\s/g," ")},goog.string.normalizeSpaces=function(e){return e.replace(/\xa0|[ \t]+/g," ")},goog.string.collapseBreakingSpaces=function(e){return e.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")},goog.string.trim=goog.string.internal.trim,goog.string.trimLeft=function(e){return e.replace(/^[\s\xa0]+/,"")},goog.string.trimRight=function(e){return e.replace(/[\s\xa0]+$/,"")},goog.string.caseInsensitiveCompare=goog.string.internal.caseInsensitiveCompare,goog.string.numberAwareCompare_=function(e,t,r){if(e==t)return 0;if(!e)return-1;if(!t)return 1;for(var n=e.toLowerCase().match(r),i=t.toLowerCase().match(r),o=Math.min(n.length,i.length),a=0;a<o;a++){r=n[a];var s=i[a];if(r!=s)return e=parseInt(r,10),!isNaN(e)&&(t=parseInt(s,10),!isNaN(t)&&e-t)?e-t:r<s?-1:1}return n.length!=i.length?n.length-i.length:e<t?-1:1},goog.string.intAwareCompare=function(e,t){return goog.string.numberAwareCompare_(e,t,/\d+|\D+/g)},goog.string.floatAwareCompare=function(e,t){return goog.string.numberAwareCompare_(e,t,/\d+|\.\d+|\D+/g)},goog.string.numerateCompare=goog.string.floatAwareCompare,goog.string.urlEncode=function(e){return encodeURIComponent(String(e))},goog.string.urlDecode=function(e){return decodeURIComponent(e.replace(/\+/g," "))},goog.string.newLineToBr=goog.string.internal.newLineToBr,goog.string.htmlEscape=function(e,t){return e=goog.string.internal.htmlEscape(e,t),goog.string.DETECT_DOUBLE_ESCAPING&&(e=e.replace(goog.string.E_RE_,"&#101;")),e},goog.string.E_RE_=/e/g,goog.string.unescapeEntities=function(e){return goog.string.contains(e,"&")?!goog.string.FORCE_NON_DOM_HTML_UNESCAPING&&"document"in goog.global?goog.string.unescapeEntitiesUsingDom_(e):goog.string.unescapePureXmlEntities_(e):e},goog.string.unescapeEntitiesWithDocument=function(e,t){return goog.string.contains(e,"&")?goog.string.unescapeEntitiesUsingDom_(e,t):e},goog.string.unescapeEntitiesUsingDom_=function(e,t){var r={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'},n=t?t.createElement("div"):goog.global.document.createElement("div");return e.replace(goog.string.HTML_ENTITY_PATTERN_,function(e,t){var i=r[e];return i||("#"==t.charAt(0)&&(t=Number("0"+t.substr(1)),isNaN(t)||(i=String.fromCharCode(t))),i||(n.innerHTML=e+" ",i=n.firstChild.nodeValue.slice(0,-1)),r[e]=i)})},goog.string.unescapePureXmlEntities_=function(e){return e.replace(/&([^;]+);/g,function(e,t){switch(t){case"amp":return"&";case"lt":return"<";case"gt":return">";case"quot":return'"';default:return"#"!=t.charAt(0)||(t=Number("0"+t.substr(1)),isNaN(t))?e:String.fromCharCode(t)}})},goog.string.HTML_ENTITY_PATTERN_=/&([^;\s<&]+);?/g,goog.string.whitespaceEscape=function(e,t){return goog.string.newLineToBr(e.replace(/  /g," &#160;"),t)},goog.string.preserveSpaces=function(e){return e.replace(/(^|[\n ]) /g,"$1"+goog.string.Unicode.NBSP)},goog.string.stripQuotes=function(e,t){for(var r=t.length,n=0;n<r;n++){var i=1==r?t:t.charAt(n);if(e.charAt(0)==i&&e.charAt(e.length-1)==i)return e.substring(1,e.length-1)}return e},goog.string.truncate=function(e,t,r){return r&&(e=goog.string.unescapeEntities(e)),e.length>t&&(e=e.substring(0,t-3)+"..."),r&&(e=goog.string.htmlEscape(e)),e},goog.string.truncateMiddle=function(e,t,r,n){if(r&&(e=goog.string.unescapeEntities(e)),n&&e.length>t){n>t&&(n=t);var i=e.length-n;e=e.substring(0,t-n)+"..."+e.substring(i)}else e.length>t&&(n=Math.floor(t/2),i=e.length-n,e=e.substring(0,n+t%2)+"..."+e.substring(i));return r&&(e=goog.string.htmlEscape(e)),e},goog.string.specialEscapeChars_={"\0":"\\0","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\x0B",'"':'\\"',"\\":"\\\\","<":"<"},goog.string.jsEscapeCache_={"'":"\\'"},goog.string.quote=function(e){e=String(e);for(var t=['"'],r=0;r<e.length;r++){var n=e.charAt(r),i=n.charCodeAt(0);t[r+1]=goog.string.specialEscapeChars_[n]||(31<i&&127>i?n:goog.string.escapeChar(n))}return t.push('"'),t.join("")},goog.string.escapeString=function(e){for(var t=[],r=0;r<e.length;r++)t[r]=goog.string.escapeChar(e.charAt(r));return t.join("")},goog.string.escapeChar=function(e){if(e in goog.string.jsEscapeCache_)return goog.string.jsEscapeCache_[e];if(e in goog.string.specialEscapeChars_)return goog.string.jsEscapeCache_[e]=goog.string.specialEscapeChars_[e];var t=e.charCodeAt(0);if(31<t&&127>t)var r=e;else 256>t?(r="\\x",(16>t||256<t)&&(r+="0")):(r="\\u",4096>t&&(r+="0")),r+=t.toString(16).toUpperCase();return goog.string.jsEscapeCache_[e]=r},goog.string.contains=goog.string.internal.contains;goog.string.caseInsensitiveContains=goog.string.internal.caseInsensitiveContains,goog.string.countOf=function(e,t){return e&&t?e.split(t).length-1:0},goog.string.removeAt=function(e,t,r){var n=e;return 0<=t&&t<e.length&&0<r&&(n=e.substr(0,t)+e.substr(t+r,e.length-t-r)),n},goog.string.remove=function(e,t){return e.replace(t,"")},goog.string.removeAll=function(e,t){return t=new RegExp(goog.string.regExpEscape(t),"g"),e.replace(t,"")},goog.string.replaceAll=function(e,t,r){return t=new RegExp(goog.string.regExpEscape(t),"g"),e.replace(t,r.replace(/\$/g,"$$$$"))},goog.string.regExpEscape=function(e){return String(e).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},goog.string.repeat=String.prototype.repeat?function(e,t){return e.repeat(t)}:function(e,t){return Array(t+1).join(e)},goog.string.padNumber=function(e,t,r){return e=goog.isDef(r)?e.toFixed(r):String(e),r=e.indexOf("."),-1==r&&(r=e.length),goog.string.repeat("0",Math.max(0,t-r))+e},goog.string.makeSafe=function(e){return null==e?"":String(e)},goog.string.buildString=function(e){return Array.prototype.join.call(arguments,"")},goog.string.getRandomString=function(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^goog.now()).toString(36)},goog.string.compareVersions=goog.string.internal.compareVersions,goog.string.hashCode=function(e){for(var t=0,r=0;r<e.length;++r)t=31*t+e.charCodeAt(r)>>>0;return t},goog.string.uniqueStringCounter_=2147483648*Math.random()|0,goog.string.createUniqueString=function(){return"goog_"+goog.string.uniqueStringCounter_++},goog.string.toNumber=function(e){var t=Number(e);return 0==t&&goog.string.isEmptyOrWhitespace(e)?NaN:t},goog.string.isLowerCamelCase=function(e){return/^[a-z]+([A-Z][a-z]*)*$/.test(e)},goog.string.isUpperCamelCase=function(e){return/^([A-Z][a-z]*)+$/.test(e)},goog.string.toCamelCase=function(e){return String(e).replace(/\-([a-z])/g,function(e,t){return t.toUpperCase()})},goog.string.toSelectorCase=function(e){return String(e).replace(/([A-Z])/g,"-$1").toLowerCase()},goog.string.toTitleCase=function(e,t){return t=goog.isString(t)?goog.string.regExpEscape(t):"\\s",e.replace(new RegExp("(^"+(t?"|["+t+"]+":"")+")([a-z])","g"),function(e,t,r){return t+r.toUpperCase()})},goog.string.capitalize=function(e){return String(e.charAt(0)).toUpperCase()+String(e.substr(1)).toLowerCase()},goog.string.parseInt=function(e){return isFinite(e)&&(e=String(e)),goog.isString(e)?/^\s*-?0x/i.test(e)?parseInt(e,16):parseInt(e,10):NaN},goog.string.splitLimit=function(e,t,r){e=e.split(t);for(var n=[];0<r&&e.length;)n.push(e.shift()),r--;return e.length&&n.push(e.join(t)),n},goog.string.lastComponent=function(e,t){if(!t)return e;"string"==typeof t&&(t=[t]);for(var r=-1,n=0;n<t.length;n++)if(""!=t[n]){var i=e.lastIndexOf(t[n]);i>r&&(r=i)}return-1==r?e:e.slice(r+1)},goog.string.editDistance=function(e,t){var r=[],n=[];if(e==t)return 0;if(!e.length||!t.length)return Math.max(e.length,t.length);for(var i=0;i<t.length+1;i++)r[i]=i;for(i=0;i<e.length;i++){n[0]=i+1;for(var o=0;o<t.length;o++)n[o+1]=Math.min(n[o]+1,r[o+1]+1,r[o]+Number(e[i]!=t[o]));for(o=0;o<r.length;o++)r[o]=n[o]}return n[t.length]},goog.labs={},goog.labs.userAgent={},goog.labs.userAgent.util={},goog.labs.userAgent.util.getNativeUserAgentString_=function(){var e=goog.labs.userAgent.util.getNavigator_();return e&&(e=e.userAgent)?e:""},goog.labs.userAgent.util.getNavigator_=function(){return goog.global.navigator},goog.labs.userAgent.util.userAgent_=goog.labs.userAgent.util.getNativeUserAgentString_(),goog.labs.userAgent.util.setUserAgent=function(e){goog.labs.userAgent.util.userAgent_=e||goog.labs.userAgent.util.getNativeUserAgentString_()},goog.labs.userAgent.util.getUserAgent=function(){return goog.labs.userAgent.util.userAgent_},goog.labs.userAgent.util.matchUserAgent=function(e){var t=goog.labs.userAgent.util.getUserAgent();return goog.string.internal.contains(t,e)},goog.labs.userAgent.util.matchUserAgentIgnoreCase=function(e){var t=goog.labs.userAgent.util.getUserAgent();return goog.string.internal.caseInsensitiveContains(t,e)},goog.labs.userAgent.util.extractVersionTuples=function(e){for(var t,r=/(\w[\w ]+)\/([^\s]+)\s*(?:\((.*?)\))?/g,n=[];t=r.exec(e);)n.push([t[1],t[2],t[3]||void 0]);return n},goog.labs.userAgent.platform={},goog.labs.userAgent.platform.isAndroid=function(){return goog.labs.userAgent.util.matchUserAgent("Android")},goog.labs.userAgent.platform.isIpod=function(){return goog.labs.userAgent.util.matchUserAgent("iPod")},goog.labs.userAgent.platform.isIphone=function(){return goog.labs.userAgent.util.matchUserAgent("iPhone")&&!goog.labs.userAgent.util.matchUserAgent("iPod")&&!goog.labs.userAgent.util.matchUserAgent("iPad")},goog.labs.userAgent.platform.isIpad=function(){return goog.labs.userAgent.util.matchUserAgent("iPad")},goog.labs.userAgent.platform.isIos=function(){return goog.labs.userAgent.platform.isIphone()||goog.labs.userAgent.platform.isIpad()||goog.labs.userAgent.platform.isIpod()},goog.labs.userAgent.platform.isMacintosh=function(){return goog.labs.userAgent.util.matchUserAgent("Macintosh")},goog.labs.userAgent.platform.isLinux=function(){return goog.labs.userAgent.util.matchUserAgent("Linux")},goog.labs.userAgent.platform.isWindows=function(){return goog.labs.userAgent.util.matchUserAgent("Windows")},goog.labs.userAgent.platform.isChromeOS=function(){return goog.labs.userAgent.util.matchUserAgent("CrOS")},goog.labs.userAgent.platform.isChromecast=function(){return goog.labs.userAgent.util.matchUserAgent("CrKey")},goog.labs.userAgent.platform.isKaiOS=function(){return goog.labs.userAgent.util.matchUserAgentIgnoreCase("KaiOS")},goog.labs.userAgent.platform.isGo2Phone=function(){return goog.labs.userAgent.util.matchUserAgentIgnoreCase("GAFP")},goog.labs.userAgent.platform.getVersion=function(){var e=goog.labs.userAgent.util.getUserAgent(),t="";return goog.labs.userAgent.platform.isWindows()?(t=/Windows (?:NT|Phone) ([0-9.]+)/,t=(e=t.exec(e))?e[1]:"0.0"):goog.labs.userAgent.platform.isIos()?(t=/(?:iPhone|iPod|iPad|CPU)\s+OS\s+(\S+)/,t=(e=t.exec(e))&&e[1].replace(/_/g,".")):goog.labs.userAgent.platform.isMacintosh()?(t=/Mac OS X ([0-9_.]+)/,t=(e=t.exec(e))?e[1].replace(/_/g,"."):"10"):goog.labs.userAgent.platform.isAndroid()?(t=/Android\s+([^\);]+)(\)|;)/,t=(e=t.exec(e))&&e[1]):goog.labs.userAgent.platform.isChromeOS()&&(t=/(?:CrOS\s+(?:i686|x86_64)\s+([0-9.]+))/,t=(e=t.exec(e))&&e[1]),t||""},goog.labs.userAgent.platform.isVersionOrHigher=function(e){return 0<=goog.string.compareVersions(goog.labs.userAgent.platform.getVersion(),e)},goog.object={},goog.object.is=function(e,t){return e===t?0!==e||1/e==1/t:e!==e&&t!==t},goog.object.forEach=function(e,t,r){for(var n in e)t.call(r,e[n],n,e)},goog.object.filter=function(e,t,r){var n,i={};for(n in e)t.call(r,e[n],n,e)&&(i[n]=e[n]);return i},goog.object.map=function(e,t,r){var n,i={};for(n in e)i[n]=t.call(r,e[n],n,e);return i},goog.object.some=function(e,t,r){for(var n in e)if(t.call(r,e[n],n,e))return!0;return!1},goog.object.every=function(e,t,r){for(var n in e)if(!t.call(r,e[n],n,e))return!1;return!0},goog.object.getCount=function(e){var t,r=0;for(t in e)r++;return r},goog.object.getAnyKey=function(e){for(var t in e)return t},goog.object.getAnyValue=function(e){for(var t in e)return e[t]},goog.object.contains=function(e,t){return goog.object.containsValue(e,t)},goog.object.getValues=function(e){var t,r=[],n=0;for(t in e)r[n++]=e[t];return r},goog.object.getKeys=function(e){var t,r=[],n=0;for(t in e)r[n++]=t;return r},goog.object.getValueByKeys=function(e,t){var r=goog.isArrayLike(t),n=r?t:arguments;for(r=r?0:1;r<n.length;r++){if(null==e)return;e=e[n[r]]}return e},goog.object.containsKey=function(e,t){return null!==e&&t in e},goog.object.containsValue=function(e,t){for(var r in e)if(e[r]==t)return!0;return!1},goog.object.findKey=function(e,t,r){for(var n in e)if(t.call(r,e[n],n,e))return n},goog.object.findValue=function(e,t,r){return(t=goog.object.findKey(e,t,r))&&e[t]},goog.object.isEmpty=function(e){for(var t in e)return!1;return!0},goog.object.clear=function(e){for(var t in e)delete e[t]},goog.object.remove=function(e,t){var r;return(r=t in e)&&delete e[t],r},goog.object.add=function(e,t,r){if(null!==e&&t in e)throw Error('The object already contains the key "'+t+'"');goog.object.set(e,t,r)},goog.object.get=function(e,t,r){return null!==e&&t in e?e[t]:r},goog.object.set=function(e,t,r){e[t]=r},goog.object.setIfUndefined=function(e,t,r){return t in e?e[t]:e[t]=r},goog.object.setWithReturnValueIfNotSet=function(e,t,r){return t in e?e[t]:(r=r(),e[t]=r)},goog.object.equals=function(e,t){for(var r in e)if(!(r in t)||e[r]!==t[r])return!1;for(r in t)if(!(r in e))return!1;return!0},goog.object.clone=function(e){var t,r={};for(t in e)r[t]=e[t];return r},goog.object.unsafeClone=function(e){var t=goog.typeOf(e);if("object"==t||"array"==t){if(goog.isFunction(e.clone))return e.clone();t="array"==t?[]:{};for(var r in e)t[r]=goog.object.unsafeClone(e[r]);return t}return e},goog.object.transpose=function(e){var t,r={};for(t in e)r[e[t]]=t;return r},goog.object.PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),goog.object.extend=function(e,t){for(var r,n,i=1;i<arguments.length;i++){n=arguments[i];for(r in n)e[r]=n[r];for(var o=0;o<goog.object.PROTOTYPE_FIELDS_.length;o++)r=goog.object.PROTOTYPE_FIELDS_[o],Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}},goog.object.create=function(e){var t=arguments.length;if(1==t&&goog.isArray(arguments[0]))return goog.object.create.apply(null,arguments[0]);if(t%2)throw Error("Uneven number of arguments");for(var r={},n=0;n<t;n+=2)r[arguments[n]]=arguments[n+1];return r},goog.object.createSet=function(e){var t=arguments.length;if(1==t&&goog.isArray(arguments[0]))return goog.object.createSet.apply(null,arguments[0]);for(var r={},n=0;n<t;n++)r[arguments[n]]=!0;return r},goog.object.createImmutableView=function(e){var t=e;return Object.isFrozen&&!Object.isFrozen(e)&&(t=Object.create(e),Object.freeze(t)),t},goog.object.isImmutableView=function(e){return!!Object.isFrozen&&Object.isFrozen(e)},goog.object.getAllPropertyNames=function(e,t,r){if(!e)return[];if(!Object.getOwnPropertyNames||!Object.getPrototypeOf)return goog.object.getKeys(e);for(var n={};e&&(e!==Object.prototype||t)&&(e!==Function.prototype||r);){for(var i=Object.getOwnPropertyNames(e),o=0;o<i.length;o++)n[i[o]]=!0;e=Object.getPrototypeOf(e)}return goog.object.getKeys(n)},goog.labs.userAgent.browser={},goog.labs.userAgent.browser.matchOpera_=function(){return goog.labs.userAgent.util.matchUserAgent("Opera")},goog.labs.userAgent.browser.matchIE_=function(){return goog.labs.userAgent.util.matchUserAgent("Trident")||goog.labs.userAgent.util.matchUserAgent("MSIE")},goog.labs.userAgent.browser.matchEdge_=function(){return goog.labs.userAgent.util.matchUserAgent("Edge")},goog.labs.userAgent.browser.matchFirefox_=function(){return goog.labs.userAgent.util.matchUserAgent("Firefox")||goog.labs.userAgent.util.matchUserAgent("FxiOS")},goog.labs.userAgent.browser.matchSafari_=function(){return goog.labs.userAgent.util.matchUserAgent("Safari")&&!(goog.labs.userAgent.browser.matchChrome_()||goog.labs.userAgent.browser.matchCoast_()||goog.labs.userAgent.browser.matchOpera_()||goog.labs.userAgent.browser.matchEdge_()||goog.labs.userAgent.browser.matchFirefox_()||goog.labs.userAgent.browser.isSilk()||goog.labs.userAgent.util.matchUserAgent("Android"))},goog.labs.userAgent.browser.matchCoast_=function(){return goog.labs.userAgent.util.matchUserAgent("Coast")},goog.labs.userAgent.browser.matchIosWebview_=function(){return(goog.labs.userAgent.util.matchUserAgent("iPad")||goog.labs.userAgent.util.matchUserAgent("iPhone"))&&!goog.labs.userAgent.browser.matchSafari_()&&!goog.labs.userAgent.browser.matchChrome_()&&!goog.labs.userAgent.browser.matchCoast_()&&!goog.labs.userAgent.browser.matchFirefox_()&&goog.labs.userAgent.util.matchUserAgent("AppleWebKit")},goog.labs.userAgent.browser.matchChrome_=function(){return(goog.labs.userAgent.util.matchUserAgent("Chrome")||goog.labs.userAgent.util.matchUserAgent("CriOS"))&&!goog.labs.userAgent.browser.matchEdge_()},goog.labs.userAgent.browser.matchAndroidBrowser_=function(){return goog.labs.userAgent.util.matchUserAgent("Android")&&!(goog.labs.userAgent.browser.isChrome()||goog.labs.userAgent.browser.isFirefox()||goog.labs.userAgent.browser.isOpera()||goog.labs.userAgent.browser.isSilk())},goog.labs.userAgent.browser.isOpera=goog.labs.userAgent.browser.matchOpera_,goog.labs.userAgent.browser.isIE=goog.labs.userAgent.browser.matchIE_,goog.labs.userAgent.browser.isEdge=goog.labs.userAgent.browser.matchEdge_,goog.labs.userAgent.browser.isFirefox=goog.labs.userAgent.browser.matchFirefox_,goog.labs.userAgent.browser.isSafari=goog.labs.userAgent.browser.matchSafari_,goog.labs.userAgent.browser.isCoast=goog.labs.userAgent.browser.matchCoast_,goog.labs.userAgent.browser.isIosWebview=goog.labs.userAgent.browser.matchIosWebview_,goog.labs.userAgent.browser.isChrome=goog.labs.userAgent.browser.matchChrome_,goog.labs.userAgent.browser.isAndroidBrowser=goog.labs.userAgent.browser.matchAndroidBrowser_,goog.labs.userAgent.browser.isSilk=function(){return goog.labs.userAgent.util.matchUserAgent("Silk")},goog.labs.userAgent.browser.getVersion=function(){function e(e){return e=goog.array.find(e,n),r[e]||""}var t=goog.labs.userAgent.util.getUserAgent();if(goog.labs.userAgent.browser.isIE())return goog.labs.userAgent.browser.getIEVersion_(t);t=goog.labs.userAgent.util.extractVersionTuples(t);var r={};goog.array.forEach(t,function(e){r[e[0]]=e[1]});var n=goog.partial(goog.object.containsKey,r);return goog.labs.userAgent.browser.isOpera()?e(["Version","Opera"]):goog.labs.userAgent.browser.isEdge()?e(["Edge"]):goog.labs.userAgent.browser.isChrome()?e(["Chrome","CriOS"]):(t=t[2])&&t[1]||""},goog.labs.userAgent.browser.isVersionOrHigher=function(e){return 0<=goog.string.internal.compareVersions(goog.labs.userAgent.browser.getVersion(),e)},goog.labs.userAgent.browser.getIEVersion_=function(e){var t=/rv: *([\d\.]*)/.exec(e);if(t&&t[1])return t[1];t="";var r=/MSIE +([\d\.]+)/.exec(e);if(r&&r[1])if(e=/Trident\/(\d.\d)/.exec(e),"7.0"==r[1])if(e&&e[1])switch(e[1]){case"4.0":t="8.0";break;case"5.0":t="9.0";break;case"6.0":t="10.0";break;case"7.0":t="11.0"}else t="7.0";else t=r[1];return t},goog.reflect={},goog.reflect.object=function(e,t){return t},goog.reflect.objectProperty=function(e,t){return e},goog.reflect.sinkValue=function(e){return goog.reflect.sinkValue[" "](e),e},goog.reflect.sinkValue[" "]=goog.nullFunction,goog.reflect.canAccessProperty=function(e,t){try{return goog.reflect.sinkValue(e[t]),!0}catch(e){}return!1},goog.reflect.cache=function(e,t,r,n){return n=n?n(t):t,Object.prototype.hasOwnProperty.call(e,n)?e[n]:e[n]=r(t)},goog.labs.userAgent.engine={},goog.labs.userAgent.engine.isPresto=function(){return goog.labs.userAgent.util.matchUserAgent("Presto")},goog.labs.userAgent.engine.isTrident=function(){return goog.labs.userAgent.util.matchUserAgent("Trident")||goog.labs.userAgent.util.matchUserAgent("MSIE")},goog.labs.userAgent.engine.isEdge=function(){return goog.labs.userAgent.util.matchUserAgent("Edge")},goog.labs.userAgent.engine.isWebKit=function(){return goog.labs.userAgent.util.matchUserAgentIgnoreCase("WebKit")&&!goog.labs.userAgent.engine.isEdge()},goog.labs.userAgent.engine.isGecko=function(){return goog.labs.userAgent.util.matchUserAgent("Gecko")&&!goog.labs.userAgent.engine.isWebKit()&&!goog.labs.userAgent.engine.isTrident()&&!goog.labs.userAgent.engine.isEdge()},goog.labs.userAgent.engine.getVersion=function(){var e=goog.labs.userAgent.util.getUserAgent();if(e){e=goog.labs.userAgent.util.extractVersionTuples(e);var t=goog.labs.userAgent.engine.getEngineTuple_(e);if(t)return"Gecko"==t[0]?goog.labs.userAgent.engine.getVersionForKey_(e,"Firefox"):t[1];e=e[0];var r;if(e&&(r=e[2])&&(r=/Trident\/([^\s;]+)/.exec(r)))return r[1]}return""},goog.labs.userAgent.engine.getEngineTuple_=function(e){if(!goog.labs.userAgent.engine.isEdge())return e[1];for(var t=0;t<e.length;t++){var r=e[t];if("Edge"==r[0])return r}},goog.labs.userAgent.engine.isVersionOrHigher=function(e){return 0<=goog.string.compareVersions(goog.labs.userAgent.engine.getVersion(),e)},goog.labs.userAgent.engine.getVersionForKey_=function(e,t){return(e=goog.array.find(e,function(e){return t==e[0]}))&&e[1]||""},goog.userAgent={},goog.userAgent.ASSUME_IE=!1,goog.userAgent.ASSUME_EDGE=!1,goog.userAgent.ASSUME_GECKO=!1,goog.userAgent.ASSUME_WEBKIT=!1,goog.userAgent.ASSUME_MOBILE_WEBKIT=!1,goog.userAgent.ASSUME_OPERA=!1,goog.userAgent.ASSUME_ANY_VERSION=!1,goog.userAgent.BROWSER_KNOWN_=goog.userAgent.ASSUME_IE||goog.userAgent.ASSUME_EDGE||goog.userAgent.ASSUME_GECKO||goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_OPERA,goog.userAgent.getUserAgentString=function(){return goog.labs.userAgent.util.getUserAgent()},goog.userAgent.getNavigatorTyped=function(){return goog.global.navigator||null},goog.userAgent.getNavigator=function(){return goog.userAgent.getNavigatorTyped()},goog.userAgent.OPERA=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_OPERA:goog.labs.userAgent.browser.isOpera(),goog.userAgent.IE=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_IE:goog.labs.userAgent.browser.isIE(),goog.userAgent.EDGE=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_EDGE:goog.labs.userAgent.engine.isEdge(),goog.userAgent.EDGE_OR_IE=goog.userAgent.EDGE||goog.userAgent.IE,goog.userAgent.GECKO=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_GECKO:goog.labs.userAgent.engine.isGecko(),goog.userAgent.WEBKIT=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_MOBILE_WEBKIT:goog.labs.userAgent.engine.isWebKit(),goog.userAgent.isMobile_=function(){return goog.userAgent.WEBKIT&&goog.labs.userAgent.util.matchUserAgent("Mobile")},goog.userAgent.MOBILE=goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.isMobile_(),goog.userAgent.SAFARI=goog.userAgent.WEBKIT,goog.userAgent.determinePlatform_=function(){var e=goog.userAgent.getNavigatorTyped();return e&&e.platform||""},goog.userAgent.PLATFORM=goog.userAgent.determinePlatform_(),goog.userAgent.ASSUME_MAC=!1,goog.userAgent.ASSUME_WINDOWS=!1,goog.userAgent.ASSUME_LINUX=!1,goog.userAgent.ASSUME_X11=!1,goog.userAgent.ASSUME_ANDROID=!1,goog.userAgent.ASSUME_IPHONE=!1,goog.userAgent.ASSUME_IPAD=!1,goog.userAgent.ASSUME_IPOD=!1,goog.userAgent.ASSUME_KAIOS=!1,goog.userAgent.ASSUME_GO2PHONE=!1,goog.userAgent.PLATFORM_KNOWN_=goog.userAgent.ASSUME_MAC||goog.userAgent.ASSUME_WINDOWS||goog.userAgent.ASSUME_LINUX||goog.userAgent.ASSUME_X11||goog.userAgent.ASSUME_ANDROID||goog.userAgent.ASSUME_IPHONE||goog.userAgent.ASSUME_IPAD||goog.userAgent.ASSUME_IPOD,goog.userAgent.MAC=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_MAC:goog.labs.userAgent.platform.isMacintosh(),goog.userAgent.WINDOWS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_WINDOWS:goog.labs.userAgent.platform.isWindows(),goog.userAgent.isLegacyLinux_=function(){return goog.labs.userAgent.platform.isLinux()||goog.labs.userAgent.platform.isChromeOS()},goog.userAgent.LINUX=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_LINUX:goog.userAgent.isLegacyLinux_(),goog.userAgent.isX11_=function(){var e=goog.userAgent.getNavigatorTyped();return!!e&&goog.string.contains(e.appVersion||"","X11")},goog.userAgent.X11=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_X11:goog.userAgent.isX11_(),goog.userAgent.ANDROID=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_ANDROID:goog.labs.userAgent.platform.isAndroid(),goog.userAgent.IPHONE=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPHONE:goog.labs.userAgent.platform.isIphone(),goog.userAgent.IPAD=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPAD:goog.labs.userAgent.platform.isIpad(),goog.userAgent.IPOD=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPOD:goog.labs.userAgent.platform.isIpod(),goog.userAgent.IOS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPHONE||goog.userAgent.ASSUME_IPAD||goog.userAgent.ASSUME_IPOD:goog.labs.userAgent.platform.isIos(),goog.userAgent.KAIOS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_KAIOS:goog.labs.userAgent.platform.isKaiOS(),goog.userAgent.GO2PHONE=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_GO2PHONE:goog.labs.userAgent.platform.isGo2Phone(),goog.userAgent.determineVersion_=function(){var e="",t=goog.userAgent.getVersionRegexResult_();return t&&(e=t?t[1]:""),goog.userAgent.IE&&null!=(t=goog.userAgent.getDocumentMode_())&&t>parseFloat(e)?String(t):e},goog.userAgent.getVersionRegexResult_=function(){var e=goog.userAgent.getUserAgentString();return goog.userAgent.GECKO?/rv:([^\);]+)(\)|;)/.exec(e):goog.userAgent.EDGE?/Edge\/([\d\.]+)/.exec(e):goog.userAgent.IE?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):goog.userAgent.WEBKIT?/WebKit\/(\S+)/.exec(e):goog.userAgent.OPERA?/(?:Version)[ \/]?(\S+)/.exec(e):void 0},goog.userAgent.getDocumentMode_=function(){var e=goog.global.document;return e?e.documentMode:void 0},goog.userAgent.VERSION=goog.userAgent.determineVersion_(),goog.userAgent.compare=function(e,t){return goog.string.compareVersions(e,t)},goog.userAgent.isVersionOrHigherCache_={},goog.userAgent.isVersionOrHigher=function(e){return goog.userAgent.ASSUME_ANY_VERSION||goog.reflect.cache(goog.userAgent.isVersionOrHigherCache_,e,function(){return 0<=goog.string.compareVersions(goog.userAgent.VERSION,e)})},goog.userAgent.isVersion=goog.userAgent.isVersionOrHigher,goog.userAgent.isDocumentModeOrHigher=function(e){return Number(goog.userAgent.DOCUMENT_MODE)>=e},goog.userAgent.isDocumentMode=goog.userAgent.isDocumentModeOrHigher,goog.userAgent.DOCUMENT_MODE=function(){var e=goog.global.document,t=goog.userAgent.getDocumentMode_();if(e&&goog.userAgent.IE)return t||("CSS1Compat"==e.compatMode?parseInt(goog.userAgent.VERSION,10):5)}(),goog.userAgent.product={},goog.userAgent.product.ASSUME_FIREFOX=!1,goog.userAgent.product.ASSUME_IPHONE=!1,goog.userAgent.product.ASSUME_IPAD=!1,goog.userAgent.product.ASSUME_ANDROID=!1,goog.userAgent.product.ASSUME_CHROME=!1,goog.userAgent.product.ASSUME_SAFARI=!1,goog.userAgent.product.PRODUCT_KNOWN_=goog.userAgent.ASSUME_IE||goog.userAgent.ASSUME_EDGE||goog.userAgent.ASSUME_OPERA||goog.userAgent.product.ASSUME_FIREFOX||goog.userAgent.product.ASSUME_IPHONE||goog.userAgent.product.ASSUME_IPAD||goog.userAgent.product.ASSUME_ANDROID||goog.userAgent.product.ASSUME_CHROME||goog.userAgent.product.ASSUME_SAFARI,goog.userAgent.product.OPERA=goog.userAgent.OPERA,goog.userAgent.product.IE=goog.userAgent.IE,goog.userAgent.product.EDGE=goog.userAgent.EDGE,goog.userAgent.product.FIREFOX=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_FIREFOX:goog.labs.userAgent.browser.isFirefox();goog.userAgent.product.isIphoneOrIpod_=function(){return goog.labs.userAgent.platform.isIphone()||goog.labs.userAgent.platform.isIpod()},goog.userAgent.product.IPHONE=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_IPHONE:goog.userAgent.product.isIphoneOrIpod_(),goog.userAgent.product.IPAD=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_IPAD:goog.labs.userAgent.platform.isIpad(),goog.userAgent.product.ANDROID=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_ANDROID:goog.labs.userAgent.browser.isAndroidBrowser(),goog.userAgent.product.CHROME=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_CHROME:goog.labs.userAgent.browser.isChrome(),goog.userAgent.product.isSafariDesktop_=function(){return goog.labs.userAgent.browser.isSafari()&&!goog.labs.userAgent.platform.isIos()},goog.userAgent.product.SAFARI=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_SAFARI:goog.userAgent.product.isSafariDesktop_(),goog.crypt.base64={},goog.crypt.base64.byteToCharMap_=null,goog.crypt.base64.charToByteMap_=null,goog.crypt.base64.byteToCharMapWebSafe_=null,goog.crypt.base64.ENCODED_VALS_BASE="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",goog.crypt.base64.ENCODED_VALS=goog.crypt.base64.ENCODED_VALS_BASE+"+/=",goog.crypt.base64.ENCODED_VALS_WEBSAFE=goog.crypt.base64.ENCODED_VALS_BASE+"-_.",goog.crypt.base64.ASSUME_NATIVE_SUPPORT_=goog.userAgent.GECKO||goog.userAgent.WEBKIT&&!goog.userAgent.product.SAFARI||goog.userAgent.OPERA,goog.crypt.base64.HAS_NATIVE_ENCODE_=goog.crypt.base64.ASSUME_NATIVE_SUPPORT_||"function"==typeof goog.global.btoa,goog.crypt.base64.HAS_NATIVE_DECODE_=goog.crypt.base64.ASSUME_NATIVE_SUPPORT_||!goog.userAgent.product.SAFARI&&!goog.userAgent.IE&&"function"==typeof goog.global.atob,goog.crypt.base64.encodeByteArray=function(e,t){goog.asserts.assert(goog.isArrayLike(e),"encodeByteArray takes an array as a parameter"),goog.crypt.base64.init_(),t=t?goog.crypt.base64.byteToCharMapWebSafe_:goog.crypt.base64.byteToCharMap_;for(var r=[],n=0;n<e.length;n+=3){var i=e[n],o=n+1<e.length,a=o?e[n+1]:0,s=n+2<e.length,u=s?e[n+2]:0,l=i>>2;i=(3&i)<<4|a>>4,a=(15&a)<<2|u>>6,u&=63,s||(u=64,o||(a=64)),r.push(t[l],t[i],t[a],t[u])}return r.join("")},goog.crypt.base64.encodeString=function(e,t){return goog.crypt.base64.HAS_NATIVE_ENCODE_&&!t?goog.global.btoa(e):goog.crypt.base64.encodeByteArray(goog.crypt.stringToByteArray(e),t)},goog.crypt.base64.decodeString=function(e,t){if(goog.crypt.base64.HAS_NATIVE_DECODE_&&!t)return goog.global.atob(e);var r="";return goog.crypt.base64.decodeStringInternal_(e,function(e){r+=String.fromCharCode(e)}),r},goog.crypt.base64.decodeStringToByteArray=function(e,t){var r=[];return goog.crypt.base64.decodeStringInternal_(e,function(e){r.push(e)}),r},goog.crypt.base64.decodeStringToUint8Array=function(e){goog.asserts.assert(!goog.userAgent.IE||goog.userAgent.isVersionOrHigher("10"),"Browser does not support typed arrays");var t=e.length,r=0;"="===e[t-2]?r=2:"="===e[t-1]&&(r=1);var n=new Uint8Array(Math.ceil(3*t/4)-r),i=0;return goog.crypt.base64.decodeStringInternal_(e,function(e){n[i++]=e}),n.subarray(0,i)},goog.crypt.base64.decodeStringInternal_=function(e,t){function r(t){for(;n<e.length;){var r=e.charAt(n++),i=goog.crypt.base64.charToByteMap_[r];if(null!=i)return i;if(!goog.string.isEmptyOrWhitespace(r))throw Error("Unknown base64 encoding at char: "+r)}return t}goog.crypt.base64.init_();for(var n=0;;){var i=r(-1),o=r(0),a=r(64),s=r(64);if(64===s&&-1===i)break;t(i<<2|o>>4),64!=a&&(t(o<<4&240|a>>2),64!=s&&t(a<<6&192|s))}},goog.crypt.base64.init_=function(){if(!goog.crypt.base64.byteToCharMap_){goog.crypt.base64.byteToCharMap_={},goog.crypt.base64.charToByteMap_={},goog.crypt.base64.byteToCharMapWebSafe_={};for(var e=0;e<goog.crypt.base64.ENCODED_VALS.length;e++)goog.crypt.base64.byteToCharMap_[e]=goog.crypt.base64.ENCODED_VALS.charAt(e),goog.crypt.base64.charToByteMap_[goog.crypt.base64.byteToCharMap_[e]]=e,goog.crypt.base64.byteToCharMapWebSafe_[e]=goog.crypt.base64.ENCODED_VALS_WEBSAFE.charAt(e),e>=goog.crypt.base64.ENCODED_VALS_BASE.length&&(goog.crypt.base64.charToByteMap_[goog.crypt.base64.ENCODED_VALS_WEBSAFE.charAt(e)]=e)}},jspb.utils={},jspb.utils.split64Low=0,jspb.utils.split64High=0,jspb.utils.splitUint64=function(e){var t=e>>>0;e=Math.floor((e-t)/jspb.BinaryConstants.TWO_TO_32)>>>0,jspb.utils.split64Low=t,jspb.utils.split64High=e},jspb.utils.splitInt64=function(e){var t=0>e;e=Math.abs(e);var r=e>>>0;e=Math.floor((e-r)/jspb.BinaryConstants.TWO_TO_32),e>>>=0,t&&(e=~e>>>0,4294967295<(r=1+(~r>>>0))&&(r=0,4294967295<++e&&(e=0))),jspb.utils.split64Low=r,jspb.utils.split64High=e},jspb.utils.splitZigzag64=function(e){var t=0>e;e=2*Math.abs(e),jspb.utils.splitUint64(e),e=jspb.utils.split64Low;var r=jspb.utils.split64High;t&&(0==e?0==r?r=e=4294967295:(r--,e=4294967295):e--),jspb.utils.split64Low=e,jspb.utils.split64High=r},jspb.utils.splitFloat32=function(e){var t=0>e?1:0;if(0===(e=t?-e:e))0<1/e?(jspb.utils.split64High=0,jspb.utils.split64Low=0):(jspb.utils.split64High=0,jspb.utils.split64Low=2147483648);else if(isNaN(e))jspb.utils.split64High=0,jspb.utils.split64Low=2147483647;else if(e>jspb.BinaryConstants.FLOAT32_MAX)jspb.utils.split64High=0,jspb.utils.split64Low=(t<<31|2139095040)>>>0;else if(e<jspb.BinaryConstants.FLOAT32_MIN)e=Math.round(e/Math.pow(2,-149)),jspb.utils.split64High=0,jspb.utils.split64Low=(t<<31|e)>>>0;else{var r=Math.floor(Math.log(e)/Math.LN2);e*=Math.pow(2,-r),e=8388607&Math.round(e*jspb.BinaryConstants.TWO_TO_23),jspb.utils.split64High=0,jspb.utils.split64Low=(t<<31|r+127<<23|e)>>>0}},jspb.utils.splitFloat64=function(e){var t=0>e?1:0;if(0===(e=t?-e:e))jspb.utils.split64High=0<1/e?0:2147483648,jspb.utils.split64Low=0;else if(isNaN(e))jspb.utils.split64High=2147483647,jspb.utils.split64Low=4294967295;else if(e>jspb.BinaryConstants.FLOAT64_MAX)jspb.utils.split64High=(t<<31|2146435072)>>>0,jspb.utils.split64Low=0;else if(e<jspb.BinaryConstants.FLOAT64_MIN){var r=e/Math.pow(2,-1074);e=r/jspb.BinaryConstants.TWO_TO_32,jspb.utils.split64High=(t<<31|e)>>>0,jspb.utils.split64Low=r>>>0}else{var n=Math.floor(Math.log(e)/Math.LN2);1024==n&&(n=1023),r=e*Math.pow(2,-n),e=r*jspb.BinaryConstants.TWO_TO_20&1048575,r=r*jspb.BinaryConstants.TWO_TO_52>>>0,jspb.utils.split64High=(t<<31|n+1023<<20|e)>>>0,jspb.utils.split64Low=r}},jspb.utils.splitHash64=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1),n=e.charCodeAt(2),i=e.charCodeAt(3),o=e.charCodeAt(4),a=e.charCodeAt(5),s=e.charCodeAt(6);e=e.charCodeAt(7),jspb.utils.split64Low=t+(r<<8)+(n<<16)+(i<<24)>>>0,jspb.utils.split64High=o+(a<<8)+(s<<16)+(e<<24)>>>0},jspb.utils.joinUint64=function(e,t){return t*jspb.BinaryConstants.TWO_TO_32+e},jspb.utils.joinInt64=function(e,t){var r=2147483648&t;return r&&(e=1+~e>>>0,t=~t>>>0,0==e&&(t=t+1>>>0)),e=jspb.utils.joinUint64(e,t),r?-e:e},jspb.utils.joinZigzag64=function(e,t){var r=1&e;return e=(e>>>1|t<<31)>>>0,t>>>=1,r&&0==(e=e+1>>>0)&&(t=t+1>>>0),e=jspb.utils.joinUint64(e,t),r?-e:e},jspb.utils.joinFloat32=function(e,t){t=2*(e>>31)+1;var r=e>>>23&255;return e&=8388607,255==r?e?NaN:1/0*t:0==r?t*Math.pow(2,-149)*e:t*Math.pow(2,r-150)*(e+Math.pow(2,23))},jspb.utils.joinFloat64=function(e,t){var r=2*(t>>31)+1,n=t>>>20&2047;return e=jspb.BinaryConstants.TWO_TO_32*(1048575&t)+e,2047==n?e?NaN:1/0*r:0==n?r*Math.pow(2,-1074)*e:r*Math.pow(2,n-1075)*(e+jspb.BinaryConstants.TWO_TO_52)},jspb.utils.joinHash64=function(e,t){return String.fromCharCode(e>>>0&255,e>>>8&255,e>>>16&255,e>>>24&255,t>>>0&255,t>>>8&255,t>>>16&255,t>>>24&255)},jspb.utils.DIGITS="0123456789abcdef".split(""),jspb.utils.joinUnsignedDecimalString=function(e,t){function r(e){for(var t=1e7,r=0;7>r;r++){t/=10;var n=e/t%10>>>0;(0!=n||o)&&(o=!0,a+=i[n])}}if(2097151>=t)return""+(jspb.BinaryConstants.TWO_TO_32*t+e);var n=(e>>>24|t<<8)>>>0&16777215;t=t>>16&65535,e=(16777215&e)+6777216*n+6710656*t,n+=8147497*t,t*=2,1e7<=e&&(n+=Math.floor(e/1e7),e%=1e7),1e7<=n&&(t+=Math.floor(n/1e7),n%=1e7);var i=jspb.utils.DIGITS,o=!1,a="";return(t||o)&&r(t),(n||o)&&r(n),(e||o)&&r(e),a},jspb.utils.joinSignedDecimalString=function(e,t){var r=2147483648&t;return r&&(e=1+~e>>>0,t=~t+(0==e?1:0)>>>0),e=jspb.utils.joinUnsignedDecimalString(e,t),r?"-"+e:e},jspb.utils.hash64ToDecimalString=function(e,t){jspb.utils.splitHash64(e),e=jspb.utils.split64Low;var r=jspb.utils.split64High;return t?jspb.utils.joinSignedDecimalString(e,r):jspb.utils.joinUnsignedDecimalString(e,r)},jspb.utils.hash64ArrayToDecimalStrings=function(e,t){for(var r=Array(e.length),n=0;n<e.length;n++)r[n]=jspb.utils.hash64ToDecimalString(e[n],t);return r},jspb.utils.decimalStringToHash64=function(e){function t(e,t){for(var r=0;8>r&&(1!==e||0<t);r++)t=e*n[r]+t,n[r]=255&t,t>>>=8}goog.asserts.assert(0<e.length);var r=!1;"-"===e[0]&&(r=!0,e=e.slice(1));for(var n=[0,0,0,0,0,0,0,0],i=0;i<e.length;i++)t(10,jspb.utils.DIGITS.indexOf(e[i]));return r&&(function(){for(var e=0;8>e;e++)n[e]=255&~n[e]}(),t(1,1)),goog.crypt.byteArrayToString(n)},jspb.utils.splitDecimalString=function(e){jspb.utils.splitHash64(jspb.utils.decimalStringToHash64(e))},jspb.utils.hash64ToHexString=function(e){var t=Array(18);t[0]="0",t[1]="x";for(var r=0;8>r;r++){var n=e.charCodeAt(7-r);t[2*r+2]=jspb.utils.DIGITS[n>>4],t[2*r+3]=jspb.utils.DIGITS[15&n]}return t.join("")},jspb.utils.hexStringToHash64=function(e){e=e.toLowerCase(),goog.asserts.assert(18==e.length),goog.asserts.assert("0"==e[0]),goog.asserts.assert("x"==e[1]);for(var t="",r=0;8>r;r++){var n=jspb.utils.DIGITS.indexOf(e[2*r+2]),i=jspb.utils.DIGITS.indexOf(e[2*r+3]);t=String.fromCharCode(16*n+i)+t}return t},jspb.utils.hash64ToNumber=function(e,t){jspb.utils.splitHash64(e),e=jspb.utils.split64Low;var r=jspb.utils.split64High;return t?jspb.utils.joinInt64(e,r):jspb.utils.joinUint64(e,r)},jspb.utils.numberToHash64=function(e){return jspb.utils.splitInt64(e),jspb.utils.joinHash64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.utils.countVarints=function(e,t,r){for(var n=0,i=t;i<r;i++)n+=e[i]>>7;return r-t-n},jspb.utils.countVarintFields=function(e,t,r,n){var i=0;if(128>(n=8*n+jspb.BinaryConstants.WireType.VARINT))for(;t<r&&e[t++]==n;)for(i++;;){var o=e[t++];if(0==(128&o))break}else for(;t<r;){for(o=n;128<o;){if(e[t]!=(127&o|128))return i;t++,o>>=7}if(e[t++]!=o)break;for(i++;0!=(128&(o=e[t++])););}return i},jspb.utils.countFixedFields_=function(e,t,r,n,i){var o=0;if(128>n)for(;t<r&&e[t++]==n;)o++,t+=i;else for(;t<r;){for(var a=n;128<a;){if(e[t++]!=(127&a|128))return o;a>>=7}if(e[t++]!=a)break;o++,t+=i}return o},jspb.utils.countFixed32Fields=function(e,t,r,n){return jspb.utils.countFixedFields_(e,t,r,8*n+jspb.BinaryConstants.WireType.FIXED32,4)},jspb.utils.countFixed64Fields=function(e,t,r,n){return jspb.utils.countFixedFields_(e,t,r,8*n+jspb.BinaryConstants.WireType.FIXED64,8)},jspb.utils.countDelimitedFields=function(e,t,r,n){var i=0;for(n=8*n+jspb.BinaryConstants.WireType.DELIMITED;t<r;){for(var o=n;128<o;){if(e[t++]!=(127&o|128))return i;o>>=7}if(e[t++]!=o)break;i++;for(var a=0,s=1;o=e[t++],a+=(127&o)*s,s*=128,0!=(128&o););t+=a}return i},jspb.utils.debugBytesToTextFormat=function(e){var t='"';if(e){e=jspb.utils.byteSourceToUint8Array(e);for(var r=0;r<e.length;r++)t+="\\x",16>e[r]&&(t+="0"),t+=e[r].toString(16)}return t+'"'},jspb.utils.debugScalarToTextFormat=function(e){return goog.isString(e)?goog.string.quote(e):e.toString()},jspb.utils.stringToByteArray=function(e){for(var t=new Uint8Array(e.length),r=0;r<e.length;r++){var n=e.charCodeAt(r);if(255<n)throw Error("Conversion error: string contains codepoint outside of byte range");t[r]=n}return t},jspb.utils.byteSourceToUint8Array=function(e){return e.constructor===Uint8Array?e:e.constructor===ArrayBuffer||void 0!==Buffer&&e.constructor===Buffer||e.constructor===Array?new Uint8Array(e):e.constructor===String?goog.crypt.base64.decodeStringToUint8Array(e):(goog.asserts.fail("Type not convertible to Uint8Array."),new Uint8Array(0))},jspb.BinaryIterator=function(e,t,r){this.elements_=this.nextMethod_=this.decoder_=null,this.cursor_=0,this.nextValue_=null,this.atEnd_=!0,this.init_(e,t,r)},jspb.BinaryIterator.prototype.init_=function(e,t,r){e&&t&&(this.decoder_=e,this.nextMethod_=t),this.elements_=r||null,this.cursor_=0,this.nextValue_=null,this.atEnd_=!this.decoder_&&!this.elements_,this.next()},jspb.BinaryIterator.instanceCache_=[],jspb.BinaryIterator.alloc=function(e,t,r){if(jspb.BinaryIterator.instanceCache_.length){var n=jspb.BinaryIterator.instanceCache_.pop();return n.init_(e,t,r),n}return new jspb.BinaryIterator(e,t,r)},jspb.BinaryIterator.prototype.free=function(){this.clear(),100>jspb.BinaryIterator.instanceCache_.length&&jspb.BinaryIterator.instanceCache_.push(this)},jspb.BinaryIterator.prototype.clear=function(){this.decoder_&&this.decoder_.free(),this.elements_=this.nextMethod_=this.decoder_=null,this.cursor_=0,this.nextValue_=null,this.atEnd_=!0},jspb.BinaryIterator.prototype.get=function(){return this.nextValue_},jspb.BinaryIterator.prototype.atEnd=function(){return this.atEnd_},jspb.BinaryIterator.prototype.next=function(){var e=this.nextValue_;return this.decoder_?this.decoder_.atEnd()?(this.nextValue_=null,this.atEnd_=!0):this.nextValue_=this.nextMethod_.call(this.decoder_):this.elements_&&(this.cursor_==this.elements_.length?(this.nextValue_=null,this.atEnd_=!0):this.nextValue_=this.elements_[this.cursor_++]),e},jspb.BinaryDecoder=function(e,t,r){this.bytes_=null,this.tempHigh_=this.tempLow_=this.cursor_=this.end_=this.start_=0,this.error_=!1,e&&this.setBlock(e,t,r)},jspb.BinaryDecoder.instanceCache_=[],jspb.BinaryDecoder.alloc=function(e,t,r){if(jspb.BinaryDecoder.instanceCache_.length){var n=jspb.BinaryDecoder.instanceCache_.pop();return e&&n.setBlock(e,t,r),n}return new jspb.BinaryDecoder(e,t,r)},jspb.BinaryDecoder.prototype.free=function(){this.clear(),100>jspb.BinaryDecoder.instanceCache_.length&&jspb.BinaryDecoder.instanceCache_.push(this)},jspb.BinaryDecoder.prototype.clone=function(){return jspb.BinaryDecoder.alloc(this.bytes_,this.start_,this.end_-this.start_)},jspb.BinaryDecoder.prototype.clear=function(){this.bytes_=null,this.cursor_=this.end_=this.start_=0,this.error_=!1},jspb.BinaryDecoder.prototype.getBuffer=function(){return this.bytes_},jspb.BinaryDecoder.prototype.setBlock=function(e,t,r){this.bytes_=jspb.utils.byteSourceToUint8Array(e),this.start_=goog.isDef(t)?t:0,this.end_=goog.isDef(r)?this.start_+r:this.bytes_.length,this.cursor_=this.start_},jspb.BinaryDecoder.prototype.getEnd=function(){return this.end_},jspb.BinaryDecoder.prototype.setEnd=function(e){this.end_=e},jspb.BinaryDecoder.prototype.reset=function(){this.cursor_=this.start_},jspb.BinaryDecoder.prototype.getCursor=function(){return this.cursor_},jspb.BinaryDecoder.prototype.setCursor=function(e){this.cursor_=e},jspb.BinaryDecoder.prototype.advance=function(e){this.cursor_+=e,goog.asserts.assert(this.cursor_<=this.end_)},jspb.BinaryDecoder.prototype.atEnd=function(){return this.cursor_==this.end_},jspb.BinaryDecoder.prototype.pastEnd=function(){return this.cursor_>this.end_},jspb.BinaryDecoder.prototype.getError=function(){return this.error_||0>this.cursor_||this.cursor_>this.end_},jspb.BinaryDecoder.prototype.readSplitVarint64_=function(){for(var e,t,r=0,n=0;4>n;n++)if(e=this.bytes_[this.cursor_++],r|=(127&e)<<7*n,128>e)return this.tempLow_=r>>>0,void(this.tempHigh_=0);if(e=this.bytes_[this.cursor_++],r|=(127&e)<<28,t=0|(127&e)>>4,128>e)this.tempLow_=r>>>0,this.tempHigh_=t>>>0;else{for(n=0;5>n;n++)if(e=this.bytes_[this.cursor_++],t|=(127&e)<<7*n+3,128>e)return this.tempLow_=r>>>0,void(this.tempHigh_=t>>>0);goog.asserts.fail("Failed to read varint, encoding is invalid."),this.error_=!0}},jspb.BinaryDecoder.prototype.skipVarint=function(){for(;128&this.bytes_[this.cursor_];)this.cursor_++;this.cursor_++},jspb.BinaryDecoder.prototype.unskipVarint=function(e){for(;128<e;)this.cursor_--,e>>>=7;this.cursor_--},jspb.BinaryDecoder.prototype.readUnsignedVarint32=function(){var e=this.bytes_,t=e[this.cursor_+0],r=127&t;return 128>t?(this.cursor_+=1,goog.asserts.assert(this.cursor_<=this.end_),r):(t=e[this.cursor_+1],r|=(127&t)<<7,128>t?(this.cursor_+=2,goog.asserts.assert(this.cursor_<=this.end_),r):(t=e[this.cursor_+2],r|=(127&t)<<14,128>t?(this.cursor_+=3,goog.asserts.assert(this.cursor_<=this.end_),r):(t=e[this.cursor_+3],r|=(127&t)<<21,128>t?(this.cursor_+=4,goog.asserts.assert(this.cursor_<=this.end_),r):(t=e[this.cursor_+4],r|=(15&t)<<28,128>t?(this.cursor_+=5,goog.asserts.assert(this.cursor_<=this.end_),r>>>0):(this.cursor_+=5,128<=e[this.cursor_++]&&128<=e[this.cursor_++]&&128<=e[this.cursor_++]&&128<=e[this.cursor_++]&&128<=e[this.cursor_++]&&goog.asserts.assert(!1),goog.asserts.assert(this.cursor_<=this.end_),r)))))},jspb.BinaryDecoder.prototype.readSignedVarint32=jspb.BinaryDecoder.prototype.readUnsignedVarint32,jspb.BinaryDecoder.prototype.readUnsignedVarint32String=function(){return this.readUnsignedVarint32().toString()},jspb.BinaryDecoder.prototype.readSignedVarint32String=function(){return this.readSignedVarint32().toString()},jspb.BinaryDecoder.prototype.readZigzagVarint32=function(){var e=this.readUnsignedVarint32();return e>>>1^-(1&e)},jspb.BinaryDecoder.prototype.readUnsignedVarint64=function(){return this.readSplitVarint64_(),jspb.utils.joinUint64(this.tempLow_,this.tempHigh_)},jspb.BinaryDecoder.prototype.readUnsignedVarint64String=function(){return this.readSplitVarint64_(),jspb.utils.joinUnsignedDecimalString(this.tempLow_,this.tempHigh_)},jspb.BinaryDecoder.prototype.readSignedVarint64=function(){return this.readSplitVarint64_(),jspb.utils.joinInt64(this.tempLow_,this.tempHigh_)},jspb.BinaryDecoder.prototype.readSignedVarint64String=function(){return this.readSplitVarint64_(),jspb.utils.joinSignedDecimalString(this.tempLow_,this.tempHigh_)},jspb.BinaryDecoder.prototype.readZigzagVarint64=function(){return this.readSplitVarint64_(),jspb.utils.joinZigzag64(this.tempLow_,this.tempHigh_)},jspb.BinaryDecoder.prototype.readZigzagVarint64String=function(){return this.readZigzagVarint64().toString()},jspb.BinaryDecoder.prototype.readUint8=function(){var e=this.bytes_[this.cursor_+0];return this.cursor_+=1,goog.asserts.assert(this.cursor_<=this.end_),e},jspb.BinaryDecoder.prototype.readUint16=function(){var e=this.bytes_[this.cursor_+0],t=this.bytes_[this.cursor_+1];return this.cursor_+=2,goog.asserts.assert(this.cursor_<=this.end_),e<<0|t<<8},jspb.BinaryDecoder.prototype.readUint32=function(){var e=this.bytes_[this.cursor_+0],t=this.bytes_[this.cursor_+1],r=this.bytes_[this.cursor_+2],n=this.bytes_[this.cursor_+3];return this.cursor_+=4,goog.asserts.assert(this.cursor_<=this.end_),(e<<0|t<<8|r<<16|n<<24)>>>0},jspb.BinaryDecoder.prototype.readUint64=function(){var e=this.readUint32(),t=this.readUint32();return jspb.utils.joinUint64(e,t)},jspb.BinaryDecoder.prototype.readUint64String=function(){var e=this.readUint32(),t=this.readUint32();return jspb.utils.joinUnsignedDecimalString(e,t)},jspb.BinaryDecoder.prototype.readInt8=function(){var e=this.bytes_[this.cursor_+0];return this.cursor_+=1,goog.asserts.assert(this.cursor_<=this.end_),e<<24>>24},jspb.BinaryDecoder.prototype.readInt16=function(){var e=this.bytes_[this.cursor_+0],t=this.bytes_[this.cursor_+1];return this.cursor_+=2,goog.asserts.assert(this.cursor_<=this.end_),(e<<0|t<<8)<<16>>16},jspb.BinaryDecoder.prototype.readInt32=function(){var e=this.bytes_[this.cursor_+0],t=this.bytes_[this.cursor_+1],r=this.bytes_[this.cursor_+2],n=this.bytes_[this.cursor_+3];return this.cursor_+=4,goog.asserts.assert(this.cursor_<=this.end_),e<<0|t<<8|r<<16|n<<24},jspb.BinaryDecoder.prototype.readInt64=function(){var e=this.readUint32(),t=this.readUint32();return jspb.utils.joinInt64(e,t)},jspb.BinaryDecoder.prototype.readInt64String=function(){var e=this.readUint32(),t=this.readUint32();return jspb.utils.joinSignedDecimalString(e,t)},jspb.BinaryDecoder.prototype.readFloat=function(){var e=this.readUint32();return jspb.utils.joinFloat32(e,0)},jspb.BinaryDecoder.prototype.readDouble=function(){var e=this.readUint32(),t=this.readUint32();return jspb.utils.joinFloat64(e,t)},jspb.BinaryDecoder.prototype.readBool=function(){return!!this.bytes_[this.cursor_++]},jspb.BinaryDecoder.prototype.readEnum=function(){return this.readSignedVarint32()},jspb.BinaryDecoder.prototype.readString=function(e){var t=this.bytes_,r=this.cursor_;e=r+e;for(var n=[],i="";r<e;){var o=t[r++];if(128>o)n.push(o);else{if(192>o)continue;if(224>o){var a=t[r++];n.push((31&o)<<6|63&a)}else if(240>o){a=t[r++];var s=t[r++];n.push((15&o)<<12|(63&a)<<6|63&s)}else if(248>o){a=t[r++],s=t[r++];var u=t[r++];o=(7&o)<<18|(63&a)<<12|(63&s)<<6|63&u,o-=65536,n.push(55296+(o>>10&1023),56320+(1023&o))}}8192<=n.length&&(i+=String.fromCharCode.apply(null,n),n.length=0)}return i+=goog.crypt.byteArrayToString(n),this.cursor_=r,i},jspb.BinaryDecoder.prototype.readStringWithLength=function(){var e=this.readUnsignedVarint32();return this.readString(e)},jspb.BinaryDecoder.prototype.readBytes=function(e){if(0>e||this.cursor_+e>this.bytes_.length)return this.error_=!0,goog.asserts.fail("Invalid byte length!"),new Uint8Array(0);var t=this.bytes_.subarray(this.cursor_,this.cursor_+e);return this.cursor_+=e,goog.asserts.assert(this.cursor_<=this.end_),t},jspb.BinaryDecoder.prototype.readVarintHash64=function(){return this.readSplitVarint64_(),jspb.utils.joinHash64(this.tempLow_,this.tempHigh_)},jspb.BinaryDecoder.prototype.readFixedHash64=function(){var e=this.bytes_,t=this.cursor_,r=e[t+0],n=e[t+1],i=e[t+2],o=e[t+3],a=e[t+4],s=e[t+5],u=e[t+6];return e=e[t+7],this.cursor_+=8,String.fromCharCode(r,n,i,o,a,s,u,e)},jspb.BinaryReader=function(e,t,r){this.decoder_=jspb.BinaryDecoder.alloc(e,t,r),this.fieldCursor_=this.decoder_.getCursor(),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID,this.error_=!1,this.readCallbacks_=null},jspb.BinaryReader.instanceCache_=[],jspb.BinaryReader.alloc=function(e,t,r){if(jspb.BinaryReader.instanceCache_.length){var n=jspb.BinaryReader.instanceCache_.pop();return e&&n.decoder_.setBlock(e,t,r),n}return new jspb.BinaryReader(e,t,r)},jspb.BinaryReader.prototype.alloc=jspb.BinaryReader.alloc,jspb.BinaryReader.prototype.free=function(){this.decoder_.clear(),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID,this.error_=!1,this.readCallbacks_=null,100>jspb.BinaryReader.instanceCache_.length&&jspb.BinaryReader.instanceCache_.push(this)},jspb.BinaryReader.prototype.getFieldCursor=function(){return this.fieldCursor_},jspb.BinaryReader.prototype.getCursor=function(){return this.decoder_.getCursor()},jspb.BinaryReader.prototype.getBuffer=function(){return this.decoder_.getBuffer()},jspb.BinaryReader.prototype.getFieldNumber=function(){return this.nextField_},jspb.BinaryReader.prototype.getWireType=function(){return this.nextWireType_},jspb.BinaryReader.prototype.isEndGroup=function(){return this.nextWireType_==jspb.BinaryConstants.WireType.END_GROUP},jspb.BinaryReader.prototype.getError=function(){return this.error_||this.decoder_.getError()},jspb.BinaryReader.prototype.setBlock=function(e,t,r){this.decoder_.setBlock(e,t,r),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID},jspb.BinaryReader.prototype.reset=function(){this.decoder_.reset(),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID},jspb.BinaryReader.prototype.advance=function(e){this.decoder_.advance(e)},jspb.BinaryReader.prototype.nextField=function(){if(this.decoder_.atEnd())return!1;if(this.getError())return goog.asserts.fail("Decoder hit an error"),!1;this.fieldCursor_=this.decoder_.getCursor();var e=this.decoder_.readUnsignedVarint32(),t=e>>>3;return(e&=7)!=jspb.BinaryConstants.WireType.VARINT&&e!=jspb.BinaryConstants.WireType.FIXED32&&e!=jspb.BinaryConstants.WireType.FIXED64&&e!=jspb.BinaryConstants.WireType.DELIMITED&&e!=jspb.BinaryConstants.WireType.START_GROUP&&e!=jspb.BinaryConstants.WireType.END_GROUP?(goog.asserts.fail("Invalid wire type: %s (at position %s)",e,this.fieldCursor_),this.error_=!0,!1):(this.nextField_=t,this.nextWireType_=e,!0)},jspb.BinaryReader.prototype.unskipHeader=function(){this.decoder_.unskipVarint(this.nextField_<<3|this.nextWireType_)},jspb.BinaryReader.prototype.skipMatchingFields=function(){var e=this.nextField_;for(this.unskipHeader();this.nextField()&&this.getFieldNumber()==e;)this.skipField();this.decoder_.atEnd()||this.unskipHeader()},jspb.BinaryReader.prototype.skipVarintField=function(){this.nextWireType_!=jspb.BinaryConstants.WireType.VARINT?(goog.asserts.fail("Invalid wire type for skipVarintField"),this.skipField()):this.decoder_.skipVarint()},jspb.BinaryReader.prototype.skipDelimitedField=function(){if(this.nextWireType_!=jspb.BinaryConstants.WireType.DELIMITED)goog.asserts.fail("Invalid wire type for skipDelimitedField"),this.skipField();else{var e=this.decoder_.readUnsignedVarint32();this.decoder_.advance(e)}},jspb.BinaryReader.prototype.skipFixed32Field=function(){this.nextWireType_!=jspb.BinaryConstants.WireType.FIXED32?(goog.asserts.fail("Invalid wire type for skipFixed32Field"),this.skipField()):this.decoder_.advance(4)},jspb.BinaryReader.prototype.skipFixed64Field=function(){this.nextWireType_!=jspb.BinaryConstants.WireType.FIXED64?(goog.asserts.fail("Invalid wire type for skipFixed64Field"),this.skipField()):this.decoder_.advance(8)},jspb.BinaryReader.prototype.skipGroup=function(){for(var e=this.nextField_;;){if(!this.nextField()){goog.asserts.fail("Unmatched start-group tag: stream EOF"),this.error_=!0;break}if(this.nextWireType_==jspb.BinaryConstants.WireType.END_GROUP){this.nextField_!=e&&(goog.asserts.fail("Unmatched end-group tag"),this.error_=!0);break}this.skipField()}},jspb.BinaryReader.prototype.skipField=function(){switch(this.nextWireType_){case jspb.BinaryConstants.WireType.VARINT:this.skipVarintField();break;case jspb.BinaryConstants.WireType.FIXED64:this.skipFixed64Field();break;case jspb.BinaryConstants.WireType.DELIMITED:this.skipDelimitedField();break;case jspb.BinaryConstants.WireType.FIXED32:this.skipFixed32Field();break;case jspb.BinaryConstants.WireType.START_GROUP:this.skipGroup();break;default:goog.asserts.fail("Invalid wire encoding for field.")}},jspb.BinaryReader.prototype.registerReadCallback=function(e,t){goog.isNull(this.readCallbacks_)&&(this.readCallbacks_={}),goog.asserts.assert(!this.readCallbacks_[e]),this.readCallbacks_[e]=t},jspb.BinaryReader.prototype.runReadCallback=function(e){return goog.asserts.assert(!goog.isNull(this.readCallbacks_)),e=this.readCallbacks_[e],goog.asserts.assert(e),e(this)},jspb.BinaryReader.prototype.readAny=function(e){this.nextWireType_=jspb.BinaryConstants.FieldTypeToWireType(e);var t=jspb.BinaryConstants.FieldType;switch(e){case t.DOUBLE:return this.readDouble();case t.FLOAT:return this.readFloat();case t.INT64:return this.readInt64();case t.UINT64:return this.readUint64();case t.INT32:return this.readInt32();case t.FIXED64:return this.readFixed64();case t.FIXED32:return this.readFixed32();case t.BOOL:return this.readBool();case t.STRING:return this.readString();case t.GROUP:goog.asserts.fail("Group field type not supported in readAny()");case t.MESSAGE:goog.asserts.fail("Message field type not supported in readAny()");case t.BYTES:return this.readBytes();case t.UINT32:return this.readUint32();case t.ENUM:return this.readEnum();case t.SFIXED32:return this.readSfixed32();case t.SFIXED64:return this.readSfixed64();case t.SINT32:return this.readSint32();case t.SINT64:return this.readSint64();case t.FHASH64:return this.readFixedHash64();case t.VHASH64:return this.readVarintHash64();default:goog.asserts.fail("Invalid field type in readAny()")}return 0},jspb.BinaryReader.prototype.readMessage=function(e,t){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var r=this.decoder_.getEnd(),n=this.decoder_.readUnsignedVarint32();n=this.decoder_.getCursor()+n,this.decoder_.setEnd(n),t(e,this),this.decoder_.setCursor(n),this.decoder_.setEnd(r)},jspb.BinaryReader.prototype.readGroup=function(e,t,r){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.START_GROUP),goog.asserts.assert(this.nextField_==e),r(t,this),this.error_||this.nextWireType_==jspb.BinaryConstants.WireType.END_GROUP||(goog.asserts.fail("Group submessage did not end with an END_GROUP tag"),this.error_=!0)},jspb.BinaryReader.prototype.getFieldDecoder=function(){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var e=this.decoder_.readUnsignedVarint32(),t=this.decoder_.getCursor(),r=t+e;return e=jspb.BinaryDecoder.alloc(this.decoder_.getBuffer(),t,e),this.decoder_.setCursor(r),e},jspb.BinaryReader.prototype.readInt32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint32()},jspb.BinaryReader.prototype.readInt32String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint32String()},jspb.BinaryReader.prototype.readInt64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint64()},jspb.BinaryReader.prototype.readInt64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint64String()},jspb.BinaryReader.prototype.readUint32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint32()},jspb.BinaryReader.prototype.readUint32String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint32String()},jspb.BinaryReader.prototype.readUint64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint64()},jspb.BinaryReader.prototype.readUint64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint64String()},jspb.BinaryReader.prototype.readSint32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarint32()},jspb.BinaryReader.prototype.readSint64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarint64()},jspb.BinaryReader.prototype.readSint64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarint64String()},jspb.BinaryReader.prototype.readFixed32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readUint32()},jspb.BinaryReader.prototype.readFixed64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readUint64()},jspb.BinaryReader.prototype.readFixed64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readUint64String()},jspb.BinaryReader.prototype.readSfixed32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readInt32()},jspb.BinaryReader.prototype.readSfixed32String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readInt32().toString()},jspb.BinaryReader.prototype.readSfixed64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readInt64()},jspb.BinaryReader.prototype.readSfixed64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readInt64String()},jspb.BinaryReader.prototype.readFloat=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readFloat()},jspb.BinaryReader.prototype.readDouble=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readDouble()},jspb.BinaryReader.prototype.readBool=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),!!this.decoder_.readUnsignedVarint32()},jspb.BinaryReader.prototype.readEnum=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint64()},jspb.BinaryReader.prototype.readString=function(){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var e=this.decoder_.readUnsignedVarint32();return this.decoder_.readString(e)},jspb.BinaryReader.prototype.readBytes=function(){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var e=this.decoder_.readUnsignedVarint32();return this.decoder_.readBytes(e)},jspb.BinaryReader.prototype.readVarintHash64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readVarintHash64()},jspb.BinaryReader.prototype.readFixedHash64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readFixedHash64()},jspb.BinaryReader.prototype.readPackedField_=function(e){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var t=this.decoder_.readUnsignedVarint32();t=this.decoder_.getCursor()+t;for(var r=[];this.decoder_.getCursor()<t;)r.push(e.call(this.decoder_));return r},jspb.BinaryReader.prototype.readPackedInt32=function(){return this.readPackedField_(this.decoder_.readSignedVarint32)},jspb.BinaryReader.prototype.readPackedInt32String=function(){return this.readPackedField_(this.decoder_.readSignedVarint32String)},jspb.BinaryReader.prototype.readPackedInt64=function(){return this.readPackedField_(this.decoder_.readSignedVarint64)},jspb.BinaryReader.prototype.readPackedInt64String=function(){return this.readPackedField_(this.decoder_.readSignedVarint64String)},jspb.BinaryReader.prototype.readPackedUint32=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint32)},jspb.BinaryReader.prototype.readPackedUint32String=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint32String)},jspb.BinaryReader.prototype.readPackedUint64=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint64)},jspb.BinaryReader.prototype.readPackedUint64String=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint64String)},jspb.BinaryReader.prototype.readPackedSint32=function(){return this.readPackedField_(this.decoder_.readZigzagVarint32)},jspb.BinaryReader.prototype.readPackedSint64=function(){return this.readPackedField_(this.decoder_.readZigzagVarint64)},jspb.BinaryReader.prototype.readPackedSint64String=function(){return this.readPackedField_(this.decoder_.readZigzagVarint64String)},jspb.BinaryReader.prototype.readPackedFixed32=function(){return this.readPackedField_(this.decoder_.readUint32)},jspb.BinaryReader.prototype.readPackedFixed64=function(){return this.readPackedField_(this.decoder_.readUint64)},jspb.BinaryReader.prototype.readPackedFixed64String=function(){return this.readPackedField_(this.decoder_.readUint64String)},jspb.BinaryReader.prototype.readPackedSfixed32=function(){return this.readPackedField_(this.decoder_.readInt32)},jspb.BinaryReader.prototype.readPackedSfixed64=function(){return this.readPackedField_(this.decoder_.readInt64)},jspb.BinaryReader.prototype.readPackedSfixed64String=function(){return this.readPackedField_(this.decoder_.readInt64String)},jspb.BinaryReader.prototype.readPackedFloat=function(){return this.readPackedField_(this.decoder_.readFloat)},jspb.BinaryReader.prototype.readPackedDouble=function(){return this.readPackedField_(this.decoder_.readDouble)},jspb.BinaryReader.prototype.readPackedBool=function(){return this.readPackedField_(this.decoder_.readBool)},jspb.BinaryReader.prototype.readPackedEnum=function(){return this.readPackedField_(this.decoder_.readEnum)},jspb.BinaryReader.prototype.readPackedVarintHash64=function(){return this.readPackedField_(this.decoder_.readVarintHash64)},jspb.BinaryReader.prototype.readPackedFixedHash64=function(){return this.readPackedField_(this.decoder_.readFixedHash64)},jspb.Map=function(e,t){this.arr_=e,this.valueCtor_=t,this.map_={},this.arrClean=!0,0<this.arr_.length&&this.loadFromArray_()};jspb.Map.prototype.loadFromArray_=function(){for(var e=0;e<this.arr_.length;e++){var t=this.arr_[e],r=t[0];this.map_[r.toString()]=new jspb.Map.Entry_(r,t[1])}this.arrClean=!0},jspb.Map.prototype.toArray=function(){if(this.arrClean){if(this.valueCtor_){var e,t=this.map_;for(e in t)if(Object.prototype.hasOwnProperty.call(t,e)){var r=t[e].valueWrapper;r&&r.toArray()}}}else{for(this.arr_.length=0,t=this.stringKeys_(),t.sort(),e=0;e<t.length;e++){var n=this.map_[t[e]];(r=n.valueWrapper)&&r.toArray(),this.arr_.push([n.key,n.value])}this.arrClean=!0}return this.arr_},jspb.Map.prototype.toObject=function(e,t){for(var r=this.toArray(),n=[],i=0;i<r.length;i++){var o=this.map_[r[i][0].toString()];this.wrapEntry_(o);var a=o.valueWrapper;a?(goog.asserts.assert(t),n.push([o.key,t(e,a)])):n.push([o.key,o.value])}return n},jspb.Map.fromObject=function(e,t,r){t=new jspb.Map([],t);for(var n=0;n<e.length;n++){var i=e[n][0],o=r(e[n][1]);t.set(i,o)}return t},jspb.Map.ArrayIteratorIterable_=function(e){this.idx_=0,this.arr_=e},jspb.Map.ArrayIteratorIterable_.prototype.next=function(){return this.idx_<this.arr_.length?{done:!1,value:this.arr_[this.idx_++]}:{done:!0,value:void 0}},"undefined"!=typeof Symbol&&(jspb.Map.ArrayIteratorIterable_.prototype[Symbol.iterator]=function(){return this}),jspb.Map.prototype.getLength=function(){return this.stringKeys_().length},jspb.Map.prototype.clear=function(){this.map_={},this.arrClean=!1},jspb.Map.prototype.del=function(e){e=e.toString();var t=this.map_.hasOwnProperty(e);return delete this.map_[e],this.arrClean=!1,t},jspb.Map.prototype.getEntryList=function(){var e=[],t=this.stringKeys_();t.sort();for(var r=0;r<t.length;r++){var n=this.map_[t[r]];e.push([n.key,n.value])}return e},jspb.Map.prototype.entries=function(){var e=[],t=this.stringKeys_();t.sort();for(var r=0;r<t.length;r++){var n=this.map_[t[r]];e.push([n.key,this.wrapEntry_(n)])}return new jspb.Map.ArrayIteratorIterable_(e)},jspb.Map.prototype.keys=function(){var e=[],t=this.stringKeys_();t.sort();for(var r=0;r<t.length;r++)e.push(this.map_[t[r]].key);return new jspb.Map.ArrayIteratorIterable_(e)},jspb.Map.prototype.values=function(){var e=[],t=this.stringKeys_();t.sort();for(var r=0;r<t.length;r++)e.push(this.wrapEntry_(this.map_[t[r]]));return new jspb.Map.ArrayIteratorIterable_(e)},jspb.Map.prototype.forEach=function(e,t){var r=this.stringKeys_();r.sort();for(var n=0;n<r.length;n++){var i=this.map_[r[n]];e.call(t,this.wrapEntry_(i),i.key,this)}},jspb.Map.prototype.set=function(e,t){var r=new jspb.Map.Entry_(e);return this.valueCtor_?(r.valueWrapper=t,r.value=t.toArray()):r.value=t,this.map_[e.toString()]=r,this.arrClean=!1,this},jspb.Map.prototype.wrapEntry_=function(e){return this.valueCtor_?(e.valueWrapper||(e.valueWrapper=new this.valueCtor_(e.value)),e.valueWrapper):e.value},jspb.Map.prototype.get=function(e){if(e=this.map_[e.toString()])return this.wrapEntry_(e)},jspb.Map.prototype.has=function(e){return e.toString()in this.map_},jspb.Map.prototype.serializeBinary=function(e,t,r,n,i){var o=this.stringKeys_();o.sort();for(var a=0;a<o.length;a++){var s=this.map_[o[a]];t.beginSubMessage(e),r.call(t,1,s.key),this.valueCtor_?n.call(t,2,this.wrapEntry_(s),i):n.call(t,2,s.value),t.endSubMessage()}},jspb.Map.deserializeBinary=function(e,t,r,n,i,o){for(var a=void 0;t.nextField()&&!t.isEndGroup();){var s=t.getFieldNumber();1==s?o=r.call(t):2==s&&(e.valueCtor_?(goog.asserts.assert(i),a=new e.valueCtor_,n.call(t,a,i)):a=n.call(t))}goog.asserts.assert(void 0!=o),goog.asserts.assert(void 0!=a),e.set(o,a)},jspb.Map.prototype.stringKeys_=function(){var e,t=this.map_,r=[];for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&r.push(e);return r},jspb.Map.Entry_=function(e,t){this.key=e,this.value=t,this.valueWrapper=void 0},jspb.ExtensionFieldInfo=function(e,t,r,n,i){this.fieldIndex=e,this.fieldName=t,this.ctor=r,this.toObjectFn=n,this.isRepeated=i},jspb.ExtensionFieldBinaryInfo=function(e,t,r,n,i,o){this.fieldInfo=e,this.binaryReaderFn=t,this.binaryWriterFn=r,this.binaryMessageSerializeFn=n,this.binaryMessageDeserializeFn=i,this.isPacked=o},jspb.ExtensionFieldInfo.prototype.isMessageType=function(){return!!this.ctor},jspb.Message=function(){},jspb.Message.GENERATE_TO_OBJECT=!0,jspb.Message.GENERATE_FROM_OBJECT=!goog.DISALLOW_TEST_ONLY_CODE,jspb.Message.GENERATE_TO_STRING=!0,jspb.Message.ASSUME_LOCAL_ARRAYS=!1,jspb.Message.SERIALIZE_EMPTY_TRAILING_FIELDS=!0,jspb.Message.SUPPORTS_UINT8ARRAY_="function"==typeof Uint8Array,jspb.Message.prototype.getJsPbMessageId=function(){return this.messageId_},jspb.Message.getIndex_=function(e,t){return t+e.arrayIndexOffset_},jspb.Message.hiddenES6Property_=function(){},jspb.Message.getFieldNumber_=function(e,t){return t-e.arrayIndexOffset_},jspb.Message.initialize=function(e,t,r,n,i,o){if(e.wrappers_=null,t||(t=r?[r]:[]),e.messageId_=r?String(r):void 0,e.arrayIndexOffset_=0===r?-1:0,e.array=t,jspb.Message.initPivotAndExtensionObject_(e,n),e.convertedPrimitiveFields_={},jspb.Message.SERIALIZE_EMPTY_TRAILING_FIELDS||(e.repeatedFields=i),i)for(t=0;t<i.length;t++)r=i[t],r<e.pivot_?(r=jspb.Message.getIndex_(e,r),e.array[r]=e.array[r]||jspb.Message.EMPTY_LIST_SENTINEL_):(jspb.Message.maybeInitEmptyExtensionObject_(e),e.extensionObject_[r]=e.extensionObject_[r]||jspb.Message.EMPTY_LIST_SENTINEL_);if(o&&o.length)for(t=0;t<o.length;t++)jspb.Message.computeOneofCase(e,o[t])},jspb.Message.EMPTY_LIST_SENTINEL_=goog.DEBUG&&Object.freeze?Object.freeze([]):[],jspb.Message.isArray_=function(e){return jspb.Message.ASSUME_LOCAL_ARRAYS?e instanceof Array:goog.isArray(e)},jspb.Message.isExtensionObject_=function(e){return!(null===e||"object"!=typeof e||jspb.Message.isArray_(e)||jspb.Message.SUPPORTS_UINT8ARRAY_&&e instanceof Uint8Array)},jspb.Message.initPivotAndExtensionObject_=function(e,t){var r=e.array.length,n=-1;if(r&&(n=r-1,r=e.array[n],jspb.Message.isExtensionObject_(r)))return e.pivot_=jspb.Message.getFieldNumber_(e,n),void(e.extensionObject_=r);-1<t?(e.pivot_=Math.max(t,jspb.Message.getFieldNumber_(e,n+1)),e.extensionObject_=null):e.pivot_=Number.MAX_VALUE},jspb.Message.maybeInitEmptyExtensionObject_=function(e){var t=jspb.Message.getIndex_(e,e.pivot_);e.array[t]||(e.extensionObject_=e.array[t]={})},jspb.Message.toObjectList=function(e,t,r){for(var n=[],i=0;i<e.length;i++)n[i]=t.call(e[i],r,e[i]);return n},jspb.Message.toObjectExtension=function(e,t,r,n,i){for(var o in r){var a=r[o],s=n.call(e,a);if(null!=s){for(var u in a.fieldName)if(a.fieldName.hasOwnProperty(u))break;t[u]=a.toObjectFn?a.isRepeated?jspb.Message.toObjectList(s,a.toObjectFn,i):a.toObjectFn(i,s):s}}},jspb.Message.serializeBinaryExtensions=function(e,t,r,n){for(var i in r){var o=r[i],a=o.fieldInfo;if(!o.binaryWriterFn)throw Error("Message extension present that was generated without binary serialization support");var s=n.call(e,a);if(null!=s)if(a.isMessageType()){if(!o.binaryMessageSerializeFn)throw Error("Message extension present holding submessage without binary support enabled, and message is being serialized to binary format");o.binaryWriterFn.call(t,a.fieldIndex,s,o.binaryMessageSerializeFn)}else o.binaryWriterFn.call(t,a.fieldIndex,s)}},jspb.Message.readBinaryExtension=function(e,t,r,n,i){var o=r[t.getFieldNumber()];if(o){if(r=o.fieldInfo,!o.binaryReaderFn)throw Error("Deserializing extension whose generated code does not support binary format");if(r.isMessageType()){var a=new r.ctor;o.binaryReaderFn.call(t,a,o.binaryMessageDeserializeFn)}else a=o.binaryReaderFn.call(t);r.isRepeated&&!o.isPacked?(t=n.call(e,r))?t.push(a):i.call(e,r,[a]):i.call(e,r,a)}else t.skipField()},jspb.Message.getField=function(e,t){if(t<e.pivot_){t=jspb.Message.getIndex_(e,t);var r=e.array[t];return r===jspb.Message.EMPTY_LIST_SENTINEL_?e.array[t]=[]:r}if(e.extensionObject_)return r=e.extensionObject_[t],r===jspb.Message.EMPTY_LIST_SENTINEL_?e.extensionObject_[t]=[]:r},jspb.Message.getRepeatedField=function(e,t){return jspb.Message.getField(e,t)},jspb.Message.getOptionalFloatingPointField=function(e,t){return e=jspb.Message.getField(e,t),null==e?e:+e},jspb.Message.getBooleanField=function(e,t){return e=jspb.Message.getField(e,t),null==e?e:!!e},jspb.Message.getRepeatedFloatingPointField=function(e,t){var r=jspb.Message.getRepeatedField(e,t);if(e.convertedPrimitiveFields_||(e.convertedPrimitiveFields_={}),!e.convertedPrimitiveFields_[t]){for(var n=0;n<r.length;n++)r[n]=+r[n];e.convertedPrimitiveFields_[t]=!0}return r},jspb.Message.getRepeatedBooleanField=function(e,t){var r=jspb.Message.getRepeatedField(e,t);if(e.convertedPrimitiveFields_||(e.convertedPrimitiveFields_={}),!e.convertedPrimitiveFields_[t]){for(var n=0;n<r.length;n++)r[n]=!!r[n];e.convertedPrimitiveFields_[t]=!0}return r},jspb.Message.bytesAsB64=function(e){return null==e||goog.isString(e)?e:jspb.Message.SUPPORTS_UINT8ARRAY_&&e instanceof Uint8Array?goog.crypt.base64.encodeByteArray(e):(goog.asserts.fail("Cannot coerce to b64 string: "+goog.typeOf(e)),null)},jspb.Message.bytesAsU8=function(e){return null==e||e instanceof Uint8Array?e:goog.isString(e)?goog.crypt.base64.decodeStringToUint8Array(e):(goog.asserts.fail("Cannot coerce to Uint8Array: "+goog.typeOf(e)),null)},jspb.Message.bytesListAsB64=function(e){return jspb.Message.assertConsistentTypes_(e),!e.length||goog.isString(e[0])?e:goog.array.map(e,jspb.Message.bytesAsB64)},jspb.Message.bytesListAsU8=function(e){return jspb.Message.assertConsistentTypes_(e),!e.length||e[0]instanceof Uint8Array?e:goog.array.map(e,jspb.Message.bytesAsU8)},jspb.Message.assertConsistentTypes_=function(e){if(goog.DEBUG&&e&&1<e.length){var t=goog.typeOf(e[0]);goog.array.forEach(e,function(e){goog.typeOf(e)!=t&&goog.asserts.fail("Inconsistent type in JSPB repeated field array. Got "+goog.typeOf(e)+" expected "+t)})}},jspb.Message.getFieldWithDefault=function(e,t,r){return e=jspb.Message.getField(e,t),null==e?r:e},jspb.Message.getBooleanFieldWithDefault=function(e,t,r){return e=jspb.Message.getBooleanField(e,t),null==e?r:e},jspb.Message.getFloatingPointFieldWithDefault=function(e,t,r){return e=jspb.Message.getOptionalFloatingPointField(e,t),null==e?r:e},jspb.Message.getFieldProto3=jspb.Message.getFieldWithDefault,jspb.Message.getMapField=function(e,t,r,n){if(e.wrappers_||(e.wrappers_={}),t in e.wrappers_)return e.wrappers_[t];var i=jspb.Message.getField(e,t);if(!i){if(r)return;i=[],jspb.Message.setField(e,t,i)}return e.wrappers_[t]=new jspb.Map(i,n)},jspb.Message.setField=function(e,t,r){t<e.pivot_?e.array[jspb.Message.getIndex_(e,t)]=r:(jspb.Message.maybeInitEmptyExtensionObject_(e),e.extensionObject_[t]=r)},jspb.Message.setProto3IntField=function(e,t,r){jspb.Message.setFieldIgnoringDefault_(e,t,r,0)},jspb.Message.setProto3FloatField=function(e,t,r){jspb.Message.setFieldIgnoringDefault_(e,t,r,0)},jspb.Message.setProto3BooleanField=function(e,t,r){jspb.Message.setFieldIgnoringDefault_(e,t,r,!1)},jspb.Message.setProto3StringField=function(e,t,r){jspb.Message.setFieldIgnoringDefault_(e,t,r,"")},jspb.Message.setProto3BytesField=function(e,t,r){jspb.Message.setFieldIgnoringDefault_(e,t,r,"")},jspb.Message.setProto3EnumField=function(e,t,r){jspb.Message.setFieldIgnoringDefault_(e,t,r,0)},jspb.Message.setProto3StringIntField=function(e,t,r){jspb.Message.setFieldIgnoringDefault_(e,t,r,"0")},jspb.Message.setFieldIgnoringDefault_=function(e,t,r,n){r!==n?jspb.Message.setField(e,t,r):e.array[jspb.Message.getIndex_(e,t)]=null},jspb.Message.addToRepeatedField=function(e,t,r,n){e=jspb.Message.getRepeatedField(e,t),void 0!=n?e.splice(n,0,r):e.push(r)},jspb.Message.setOneofField=function(e,t,r,n){(r=jspb.Message.computeOneofCase(e,r))&&r!==t&&void 0!==n&&(e.wrappers_&&r in e.wrappers_&&(e.wrappers_[r]=void 0),jspb.Message.setField(e,r,void 0)),jspb.Message.setField(e,t,n)},jspb.Message.computeOneofCase=function(e,t){for(var r,n,i=0;i<t.length;i++){var o=t[i],a=jspb.Message.getField(e,o);null!=a&&(r=o,n=a,jspb.Message.setField(e,o,void 0))}return r?(jspb.Message.setField(e,r,n),r):0},jspb.Message.getWrapperField=function(e,t,r,n){if(e.wrappers_||(e.wrappers_={}),!e.wrappers_[r]){var i=jspb.Message.getField(e,r);(n||i)&&(e.wrappers_[r]=new t(i))}return e.wrappers_[r]},jspb.Message.getRepeatedWrapperField=function(e,t,r){return jspb.Message.wrapRepeatedField_(e,t,r),t=e.wrappers_[r],t==jspb.Message.EMPTY_LIST_SENTINEL_&&(t=e.wrappers_[r]=[]),t},jspb.Message.wrapRepeatedField_=function(e,t,r){if(e.wrappers_||(e.wrappers_={}),!e.wrappers_[r]){for(var n=jspb.Message.getRepeatedField(e,r),i=[],o=0;o<n.length;o++)i[o]=new t(n[o]);e.wrappers_[r]=i}},jspb.Message.setWrapperField=function(e,t,r){e.wrappers_||(e.wrappers_={});var n=r?r.toArray():r;e.wrappers_[t]=r,jspb.Message.setField(e,t,n)},jspb.Message.setOneofWrapperField=function(e,t,r,n){e.wrappers_||(e.wrappers_={});var i=n?n.toArray():n;e.wrappers_[t]=n,jspb.Message.setOneofField(e,t,r,i)},jspb.Message.setRepeatedWrapperField=function(e,t,r){e.wrappers_||(e.wrappers_={}),r=r||[];for(var n=[],i=0;i<r.length;i++)n[i]=r[i].toArray();e.wrappers_[t]=r,jspb.Message.setField(e,t,n)},jspb.Message.addToRepeatedWrapperField=function(e,t,r,n,i){jspb.Message.wrapRepeatedField_(e,n,t);var o=e.wrappers_[t];return o||(o=e.wrappers_[t]=[]),r=r||new n,e=jspb.Message.getRepeatedField(e,t),void 0!=i?(o.splice(i,0,r),e.splice(i,0,r.toArray())):(o.push(r),e.push(r.toArray())),r},jspb.Message.toMap=function(e,t,r,n){for(var i={},o=0;o<e.length;o++)i[t.call(e[o])]=r?r.call(e[o],n,e[o]):e[o];return i},jspb.Message.prototype.syncMapFields_=function(){if(this.wrappers_)for(var e in this.wrappers_){var t=this.wrappers_[e];if(goog.isArray(t))for(var r=0;r<t.length;r++)t[r]&&t[r].toArray();else t&&t.toArray()}},jspb.Message.prototype.toArray=function(){return this.syncMapFields_(),this.array},jspb.Message.GENERATE_TO_STRING&&(jspb.Message.prototype.toString=function(){return this.syncMapFields_(),this.array.toString()}),jspb.Message.prototype.getExtension=function(e){if(this.extensionObject_){this.wrappers_||(this.wrappers_={});var t=e.fieldIndex;if(e.isRepeated){if(e.isMessageType())return this.wrappers_[t]||(this.wrappers_[t]=goog.array.map(this.extensionObject_[t]||[],function(t){return new e.ctor(t)})),this.wrappers_[t]}else if(e.isMessageType())return!this.wrappers_[t]&&this.extensionObject_[t]&&(this.wrappers_[t]=new e.ctor(this.extensionObject_[t])),this.wrappers_[t];return this.extensionObject_[t]}},jspb.Message.prototype.setExtension=function(e,t){this.wrappers_||(this.wrappers_={}),jspb.Message.maybeInitEmptyExtensionObject_(this);var r=e.fieldIndex;return e.isRepeated?(t=t||[],e.isMessageType()?(this.wrappers_[r]=t,this.extensionObject_[r]=goog.array.map(t,function(e){return e.toArray()})):this.extensionObject_[r]=t):e.isMessageType()?(this.wrappers_[r]=t,this.extensionObject_[r]=t?t.toArray():t):this.extensionObject_[r]=t,this},jspb.Message.difference=function(e,t){if(!(e instanceof t.constructor))throw Error("Messages have different types.");var r=e.toArray();t=t.toArray();var n=[],i=0,o=r.length>t.length?r.length:t.length;for(e.getJsPbMessageId()&&(n[0]=e.getJsPbMessageId(),i=1);i<o;i++)jspb.Message.compareFields(r[i],t[i])||(n[i]=t[i]);return new e.constructor(n)},jspb.Message.equals=function(e,t){return e==t||!(!e||!t)&&e instanceof t.constructor&&jspb.Message.compareFields(e.toArray(),t.toArray())},jspb.Message.compareExtensions=function(e,t){e=e||{},t=t||{};var r,n={};for(r in e)n[r]=0;for(r in t)n[r]=0;for(r in n)if(!jspb.Message.compareFields(e[r],t[r]))return!1;return!0},jspb.Message.compareFields=function(e,t){if(e==t)return!0;if(!goog.isObject(e)||!goog.isObject(t))return!!(goog.isNumber(e)&&isNaN(e)||goog.isNumber(t)&&isNaN(t))&&String(e)==String(t);if(e.constructor!=t.constructor)return!1;if(jspb.Message.SUPPORTS_UINT8ARRAY_&&e.constructor===Uint8Array){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!=t[r])return!1;return!0}if(e.constructor===Array){var n=void 0,i=void 0,o=Math.max(e.length,t.length);for(r=0;r<o;r++){var a=e[r],s=t[r];if(a&&a.constructor==Object&&(goog.asserts.assert(void 0===n),goog.asserts.assert(r===e.length-1),n=a,a=void 0),s&&s.constructor==Object&&(goog.asserts.assert(void 0===i),goog.asserts.assert(r===t.length-1),i=s,s=void 0),!jspb.Message.compareFields(a,s))return!1}return!n&&!i||(n=n||{},i=i||{},jspb.Message.compareExtensions(n,i))}if(e.constructor===Object)return jspb.Message.compareExtensions(e,t);throw Error("Invalid type in JSPB array")},jspb.Message.prototype.cloneMessage=function(){return jspb.Message.cloneMessage(this)},jspb.Message.prototype.clone=function(){return jspb.Message.cloneMessage(this)},jspb.Message.clone=function(e){return jspb.Message.cloneMessage(e)},jspb.Message.cloneMessage=function(e){return new e.constructor(jspb.Message.clone_(e.toArray()))},jspb.Message.copyInto=function(e,t){goog.asserts.assertInstanceof(e,jspb.Message),goog.asserts.assertInstanceof(t,jspb.Message),goog.asserts.assert(e.constructor==t.constructor,"Copy source and target message should have the same type."),e=jspb.Message.clone(e);for(var r=t.toArray(),n=e.toArray(),i=r.length=0;i<n.length;i++)r[i]=n[i];t.wrappers_=e.wrappers_,t.extensionObject_=e.extensionObject_},jspb.Message.clone_=function(e){if(goog.isArray(e)){for(var t=Array(e.length),r=0;r<e.length;r++){var n=e[r];null!=n&&(t[r]="object"==typeof n?jspb.Message.clone_(goog.asserts.assert(n)):n)}return t}if(jspb.Message.SUPPORTS_UINT8ARRAY_&&e instanceof Uint8Array)return new Uint8Array(e);t={};for(r in e)null!=(n=e[r])&&(t[r]="object"==typeof n?jspb.Message.clone_(goog.asserts.assert(n)):n);return t},jspb.Message.registerMessageType=function(e,t){jspb.Message.registry_[e]=t,t.messageId=e},jspb.Message.registry_={},jspb.Message.messageSetExtensions={},jspb.Message.messageSetExtensionsBinary={},jspb.arith={},jspb.arith.UInt64=function(e,t){this.lo=e,this.hi=t},jspb.arith.UInt64.prototype.cmp=function(e){return this.hi<e.hi||this.hi==e.hi&&this.lo<e.lo?-1:this.hi==e.hi&&this.lo==e.lo?0:1},jspb.arith.UInt64.prototype.rightShift=function(){return new jspb.arith.UInt64((this.lo>>>1|(1&this.hi)<<31)>>>0,this.hi>>>1>>>0)},jspb.arith.UInt64.prototype.leftShift=function(){return new jspb.arith.UInt64(this.lo<<1>>>0,(this.hi<<1|this.lo>>>31)>>>0)},jspb.arith.UInt64.prototype.msb=function(){return!!(2147483648&this.hi)},jspb.arith.UInt64.prototype.lsb=function(){return!!(1&this.lo)},jspb.arith.UInt64.prototype.zero=function(){return 0==this.lo&&0==this.hi},jspb.arith.UInt64.prototype.add=function(e){return new jspb.arith.UInt64((this.lo+e.lo&4294967295)>>>0>>>0,((this.hi+e.hi&4294967295)>>>0)+(4294967296<=this.lo+e.lo?1:0)>>>0)},jspb.arith.UInt64.prototype.sub=function(e){return new jspb.arith.UInt64((this.lo-e.lo&4294967295)>>>0>>>0,((this.hi-e.hi&4294967295)>>>0)-(0>this.lo-e.lo?1:0)>>>0)},jspb.arith.UInt64.mul32x32=function(e,t){var r=65535&e;e>>>=16;var n=65535&t,i=t>>>16;for(t=r*n+65536*(r*i&65535)+65536*(e*n&65535),r=e*i+(r*i>>>16)+(e*n>>>16);4294967296<=t;)t-=4294967296,r+=1;return new jspb.arith.UInt64(t>>>0,r>>>0)},jspb.arith.UInt64.prototype.mul=function(e){var t=jspb.arith.UInt64.mul32x32(this.lo,e);return e=jspb.arith.UInt64.mul32x32(this.hi,e),e.hi=e.lo,e.lo=0,t.add(e)},jspb.arith.UInt64.prototype.div=function(e){if(0==e)return[];var t=new jspb.arith.UInt64(0,0),r=new jspb.arith.UInt64(this.lo,this.hi);e=new jspb.arith.UInt64(e,0);for(var n=new jspb.arith.UInt64(1,0);!e.msb();)e=e.leftShift(),n=n.leftShift();for(;!n.zero();)0>=e.cmp(r)&&(t=t.add(n),r=r.sub(e)),e=e.rightShift(),n=n.rightShift();return[t,r]},jspb.arith.UInt64.prototype.toString=function(){for(var e="",t=this;!t.zero();){t=t.div(10);var r=t[0];e=t[1].lo+e,t=r}return""==e&&(e="0"),e},jspb.arith.UInt64.fromString=function(e){for(var t=new jspb.arith.UInt64(0,0),r=new jspb.arith.UInt64(0,0),n=0;n<e.length;n++){if("0">e[n]||"9"<e[n])return null;var i=parseInt(e[n],10);r.lo=i,t=t.mul(10).add(r)}return t},jspb.arith.UInt64.prototype.clone=function(){return new jspb.arith.UInt64(this.lo,this.hi)},jspb.arith.Int64=function(e,t){this.lo=e,this.hi=t},jspb.arith.Int64.prototype.add=function(e){return new jspb.arith.Int64((this.lo+e.lo&4294967295)>>>0>>>0,((this.hi+e.hi&4294967295)>>>0)+(4294967296<=this.lo+e.lo?1:0)>>>0)},jspb.arith.Int64.prototype.sub=function(e){return new jspb.arith.Int64((this.lo-e.lo&4294967295)>>>0>>>0,((this.hi-e.hi&4294967295)>>>0)-(0>this.lo-e.lo?1:0)>>>0)},jspb.arith.Int64.prototype.clone=function(){return new jspb.arith.Int64(this.lo,this.hi)},jspb.arith.Int64.prototype.toString=function(){var e=0!=(2147483648&this.hi),t=new jspb.arith.UInt64(this.lo,this.hi);return e&&(t=new jspb.arith.UInt64(0,0).sub(t)),(e?"-":"")+t.toString()},jspb.arith.Int64.fromString=function(e){var t=0<e.length&&"-"==e[0];return t&&(e=e.substring(1)),null===(e=jspb.arith.UInt64.fromString(e))?null:(t&&(e=new jspb.arith.UInt64(0,0).sub(e)),new jspb.arith.Int64(e.lo,e.hi))},jspb.BinaryEncoder=function(){this.buffer_=[]},jspb.BinaryEncoder.prototype.length=function(){return this.buffer_.length},jspb.BinaryEncoder.prototype.end=function(){var e=this.buffer_;return this.buffer_=[],e},jspb.BinaryEncoder.prototype.writeSplitVarint64=function(e,t){for(goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(t==Math.floor(t)),goog.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_32),goog.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_32);0<t||127<e;)this.buffer_.push(127&e|128),e=(e>>>7|t<<25)>>>0,t>>>=7;this.buffer_.push(e)},jspb.BinaryEncoder.prototype.writeSplitFixed64=function(e,t){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(t==Math.floor(t)),goog.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_32),goog.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_32),this.writeUint32(e),this.writeUint32(t)},jspb.BinaryEncoder.prototype.writeUnsignedVarint32=function(e){for(goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_32);127<e;)this.buffer_.push(127&e|128),e>>>=7;this.buffer_.push(e)},jspb.BinaryEncoder.prototype.writeSignedVarint32=function(e){if(goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_31&&e<jspb.BinaryConstants.TWO_TO_31),0<=e)this.writeUnsignedVarint32(e);else{for(var t=0;9>t;t++)this.buffer_.push(127&e|128),e>>=7;this.buffer_.push(1)}},jspb.BinaryEncoder.prototype.writeUnsignedVarint64=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_64),jspb.utils.splitInt64(e),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeSignedVarint64=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_63&&e<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitInt64(e),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeZigzagVarint32=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_31&&e<jspb.BinaryConstants.TWO_TO_31),this.writeUnsignedVarint32((e<<1^e>>31)>>>0)},jspb.BinaryEncoder.prototype.writeZigzagVarint64=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_63&&e<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitZigzag64(e),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeZigzagVarint64String=function(e){this.writeZigzagVarint64(parseInt(e,10))},jspb.BinaryEncoder.prototype.writeUint8=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(0<=e&&256>e),this.buffer_.push(e>>>0&255)},jspb.BinaryEncoder.prototype.writeUint16=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(0<=e&&65536>e),this.buffer_.push(e>>>0&255),this.buffer_.push(e>>>8&255)},jspb.BinaryEncoder.prototype.writeUint32=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_32),this.buffer_.push(e>>>0&255),this.buffer_.push(e>>>8&255),this.buffer_.push(e>>>16&255),this.buffer_.push(e>>>24&255)},jspb.BinaryEncoder.prototype.writeUint64=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_64),jspb.utils.splitUint64(e),this.writeUint32(jspb.utils.split64Low),this.writeUint32(jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeInt8=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(-128<=e&&128>e),this.buffer_.push(e>>>0&255)},jspb.BinaryEncoder.prototype.writeInt16=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(-32768<=e&&32768>e),this.buffer_.push(e>>>0&255),this.buffer_.push(e>>>8&255)},jspb.BinaryEncoder.prototype.writeInt32=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_31&&e<jspb.BinaryConstants.TWO_TO_31),this.buffer_.push(e>>>0&255),this.buffer_.push(e>>>8&255),this.buffer_.push(e>>>16&255),this.buffer_.push(e>>>24&255)},jspb.BinaryEncoder.prototype.writeInt64=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_63&&e<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitInt64(e),this.writeSplitFixed64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeInt64String=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(+e>=-jspb.BinaryConstants.TWO_TO_63&&+e<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitHash64(jspb.utils.decimalStringToHash64(e)),this.writeSplitFixed64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeFloat=function(e){goog.asserts.assert(e>=-jspb.BinaryConstants.FLOAT32_MAX&&e<=jspb.BinaryConstants.FLOAT32_MAX),jspb.utils.splitFloat32(e),this.writeUint32(jspb.utils.split64Low)},jspb.BinaryEncoder.prototype.writeDouble=function(e){goog.asserts.assert(e>=-jspb.BinaryConstants.FLOAT64_MAX&&e<=jspb.BinaryConstants.FLOAT64_MAX),jspb.utils.splitFloat64(e),this.writeUint32(jspb.utils.split64Low),this.writeUint32(jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeBool=function(e){goog.asserts.assert(goog.isBoolean(e)||goog.isNumber(e)),this.buffer_.push(e?1:0)},jspb.BinaryEncoder.prototype.writeEnum=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_31&&e<jspb.BinaryConstants.TWO_TO_31),this.writeSignedVarint32(e)},jspb.BinaryEncoder.prototype.writeBytes=function(e){this.buffer_.push.apply(this.buffer_,e)},jspb.BinaryEncoder.prototype.writeVarintHash64=function(e){jspb.utils.splitHash64(e),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeFixedHash64=function(e){jspb.utils.splitHash64(e),this.writeUint32(jspb.utils.split64Low),this.writeUint32(jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeString=function(e){for(var t=this.buffer_.length,r=0;r<e.length;r++){var n=e.charCodeAt(r);if(128>n)this.buffer_.push(n);else if(2048>n)this.buffer_.push(n>>6|192),this.buffer_.push(63&n|128);else if(65536>n)if(55296<=n&&56319>=n&&r+1<e.length){var i=e.charCodeAt(r+1);56320<=i&&57343>=i&&(n=1024*(n-55296)+i-56320+65536,this.buffer_.push(n>>18|240),this.buffer_.push(n>>12&63|128),this.buffer_.push(n>>6&63|128),this.buffer_.push(63&n|128),r++)}else this.buffer_.push(n>>12|224),this.buffer_.push(n>>6&63|128),this.buffer_.push(63&n|128)}return this.buffer_.length-t},jspb.BinaryWriter=function(){this.blocks_=[],this.totalLength_=0,this.encoder_=new jspb.BinaryEncoder,this.bookmarks_=[]},jspb.BinaryWriter.prototype.appendUint8Array_=function(e){var t=this.encoder_.end();this.blocks_.push(t),this.blocks_.push(e),this.totalLength_+=t.length+e.length},jspb.BinaryWriter.prototype.beginDelimited_=function(e){return this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),e=this.encoder_.end(),this.blocks_.push(e),this.totalLength_+=e.length,e.push(this.totalLength_),e},jspb.BinaryWriter.prototype.endDelimited_=function(e){var t=e.pop();for(t=this.totalLength_+this.encoder_.length()-t,goog.asserts.assert(0<=t);127<t;)e.push(127&t|128),t>>>=7,this.totalLength_++;e.push(t),this.totalLength_++},jspb.BinaryWriter.prototype.writeSerializedMessage=function(e,t,r){this.appendUint8Array_(e.subarray(t,r))},jspb.BinaryWriter.prototype.maybeWriteSerializedMessage=function(e,t,r){null!=e&&null!=t&&null!=r&&this.writeSerializedMessage(e,t,r)},jspb.BinaryWriter.prototype.reset=function(){this.blocks_=[],this.encoder_.end(),this.totalLength_=0,this.bookmarks_=[]},jspb.BinaryWriter.prototype.getResultBuffer=function(){goog.asserts.assert(0==this.bookmarks_.length);for(var e=new Uint8Array(this.totalLength_+this.encoder_.length()),t=this.blocks_,r=t.length,n=0,i=0;i<r;i++){var o=t[i];e.set(o,n),n+=o.length}return t=this.encoder_.end(),e.set(t,n),n+=t.length,goog.asserts.assert(n==e.length),this.blocks_=[e],e},jspb.BinaryWriter.prototype.getResultBase64String=function(e){return goog.crypt.base64.encodeByteArray(this.getResultBuffer(),e)},jspb.BinaryWriter.prototype.beginSubMessage=function(e){this.bookmarks_.push(this.beginDelimited_(e))},jspb.BinaryWriter.prototype.endSubMessage=function(){goog.asserts.assert(0<=this.bookmarks_.length),this.endDelimited_(this.bookmarks_.pop())},jspb.BinaryWriter.prototype.writeFieldHeader_=function(e,t){goog.asserts.assert(1<=e&&e==Math.floor(e)),this.encoder_.writeUnsignedVarint32(8*e+t)},jspb.BinaryWriter.prototype.writeAny=function(e,t,r){var n=jspb.BinaryConstants.FieldType;switch(e){case n.DOUBLE:this.writeDouble(t,r);break;case n.FLOAT:this.writeFloat(t,r);break;case n.INT64:this.writeInt64(t,r);break;case n.UINT64:this.writeUint64(t,r);break;case n.INT32:this.writeInt32(t,r);break;case n.FIXED64:this.writeFixed64(t,r);break;case n.FIXED32:this.writeFixed32(t,r);break;case n.BOOL:this.writeBool(t,r);break;case n.STRING:this.writeString(t,r);break;case n.GROUP:goog.asserts.fail("Group field type not supported in writeAny()");break;case n.MESSAGE:goog.asserts.fail("Message field type not supported in writeAny()");break;case n.BYTES:this.writeBytes(t,r);break;case n.UINT32:this.writeUint32(t,r);break;case n.ENUM:this.writeEnum(t,r);break;case n.SFIXED32:this.writeSfixed32(t,r);break;case n.SFIXED64:this.writeSfixed64(t,r);break;case n.SINT32:this.writeSint32(t,r);break;case n.SINT64:this.writeSint64(t,r);break;case n.FHASH64:this.writeFixedHash64(t,r);break;case n.VHASH64:this.writeVarintHash64(t,r);break;default:goog.asserts.fail("Invalid field type in writeAny()")}},jspb.BinaryWriter.prototype.writeUnsignedVarint32_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeUnsignedVarint32(t))},jspb.BinaryWriter.prototype.writeSignedVarint32_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint32(t))},jspb.BinaryWriter.prototype.writeUnsignedVarint64_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeUnsignedVarint64(t))},jspb.BinaryWriter.prototype.writeSignedVarint64_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint64(t))},jspb.BinaryWriter.prototype.writeZigzagVarint32_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarint32(t))},jspb.BinaryWriter.prototype.writeZigzagVarint64_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarint64(t))},jspb.BinaryWriter.prototype.writeZigzagVarint64String_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarint64String(t))},jspb.BinaryWriter.prototype.writeInt32=function(e,t){null!=t&&(goog.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_31&&t<jspb.BinaryConstants.TWO_TO_31),this.writeSignedVarint32_(e,t))},jspb.BinaryWriter.prototype.writeInt32String=function(e,t){null!=t&&(t=parseInt(t,10),goog.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_31&&t<jspb.BinaryConstants.TWO_TO_31),this.writeSignedVarint32_(e,t))},jspb.BinaryWriter.prototype.writeInt64=function(e,t){null!=t&&(goog.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_63&&t<jspb.BinaryConstants.TWO_TO_63),this.writeSignedVarint64_(e,t))},jspb.BinaryWriter.prototype.writeInt64String=function(e,t){null!=t&&(t=jspb.arith.Int64.fromString(t),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSplitVarint64(t.lo,t.hi))},jspb.BinaryWriter.prototype.writeUint32=function(e,t){null!=t&&(goog.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_32),this.writeUnsignedVarint32_(e,t))},jspb.BinaryWriter.prototype.writeUint32String=function(e,t){null!=t&&(t=parseInt(t,10),goog.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_32),this.writeUnsignedVarint32_(e,t))},jspb.BinaryWriter.prototype.writeUint64=function(e,t){null!=t&&(goog.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_64),this.writeUnsignedVarint64_(e,t))},jspb.BinaryWriter.prototype.writeUint64String=function(e,t){null!=t&&(t=jspb.arith.UInt64.fromString(t),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSplitVarint64(t.lo,t.hi))},jspb.BinaryWriter.prototype.writeSint32=function(e,t){null!=t&&(goog.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_31&&t<jspb.BinaryConstants.TWO_TO_31),this.writeZigzagVarint32_(e,t))},jspb.BinaryWriter.prototype.writeSint64=function(e,t){null!=t&&(goog.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_63&&t<jspb.BinaryConstants.TWO_TO_63),this.writeZigzagVarint64_(e,t))},jspb.BinaryWriter.prototype.writeSint64String=function(e,t){null!=t&&(goog.asserts.assert(+t>=-jspb.BinaryConstants.TWO_TO_63&&+t<jspb.BinaryConstants.TWO_TO_63),this.writeZigzagVarint64String_(e,t))},jspb.BinaryWriter.prototype.writeFixed32=function(e,t){null!=t&&(goog.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_32),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED32),this.encoder_.writeUint32(t))},jspb.BinaryWriter.prototype.writeFixed64=function(e,t){null!=t&&(goog.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_64),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeUint64(t))},jspb.BinaryWriter.prototype.writeFixed64String=function(e,t){null!=t&&(t=jspb.arith.UInt64.fromString(t),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeSplitFixed64(t.lo,t.hi))},jspb.BinaryWriter.prototype.writeSfixed32=function(e,t){null!=t&&(goog.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_31&&t<jspb.BinaryConstants.TWO_TO_31),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED32),this.encoder_.writeInt32(t))},jspb.BinaryWriter.prototype.writeSfixed64=function(e,t){null!=t&&(goog.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_63&&t<jspb.BinaryConstants.TWO_TO_63),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeInt64(t))},jspb.BinaryWriter.prototype.writeSfixed64String=function(e,t){null!=t&&(t=jspb.arith.Int64.fromString(t),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeSplitFixed64(t.lo,t.hi))},jspb.BinaryWriter.prototype.writeFloat=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED32),this.encoder_.writeFloat(t))},jspb.BinaryWriter.prototype.writeDouble=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeDouble(t))},jspb.BinaryWriter.prototype.writeBool=function(e,t){null!=t&&(goog.asserts.assert(goog.isBoolean(t)||goog.isNumber(t)),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeBool(t))},jspb.BinaryWriter.prototype.writeEnum=function(e,t){null!=t&&(goog.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_31&&t<jspb.BinaryConstants.TWO_TO_31),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint32(t))},jspb.BinaryWriter.prototype.writeString=function(e,t){null!=t&&(e=this.beginDelimited_(e),this.encoder_.writeString(t),this.endDelimited_(e))},jspb.BinaryWriter.prototype.writeBytes=function(e,t){null!=t&&(t=jspb.utils.byteSourceToUint8Array(t),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(t.length),this.appendUint8Array_(t))},jspb.BinaryWriter.prototype.writeMessage=function(e,t,r){null!=t&&(e=this.beginDelimited_(e),r(t,this),this.endDelimited_(e))},jspb.BinaryWriter.prototype.writeMessageSet=function(e,t,r){null!=t&&(this.writeFieldHeader_(1,jspb.BinaryConstants.WireType.START_GROUP),this.writeFieldHeader_(2,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint32(e),e=this.beginDelimited_(3),r(t,this),this.endDelimited_(e),this.writeFieldHeader_(1,jspb.BinaryConstants.WireType.END_GROUP))},jspb.BinaryWriter.prototype.writeGroup=function(e,t,r){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.START_GROUP),r(t,this),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.END_GROUP))},jspb.BinaryWriter.prototype.writeFixedHash64=function(e,t){null!=t&&(goog.asserts.assert(8==t.length),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeFixedHash64(t))};jspb.BinaryWriter.prototype.writeVarintHash64=function(e,t){null!=t&&(goog.asserts.assert(8==t.length),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeVarintHash64(t))},jspb.BinaryWriter.prototype.writeRepeatedInt32=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeSignedVarint32_(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedInt32String=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeInt32String(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedInt64=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeSignedVarint64_(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedInt64String=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeInt64String(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedUint32=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeUnsignedVarint32_(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedUint32String=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeUint32String(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedUint64=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeUnsignedVarint64_(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedUint64String=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeUint64String(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedSint32=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeZigzagVarint32_(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedSint64=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeZigzagVarint64_(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedSint64String=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeZigzagVarint64String_(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedFixed32=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeFixed32(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedFixed64=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeFixed64(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedFixed64String=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeFixed64String(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedSfixed32=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeSfixed32(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedSfixed64=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeSfixed64(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedSfixed64String=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeSfixed64String(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedFloat=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeFloat(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedDouble=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeDouble(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedBool=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeBool(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedEnum=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeEnum(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedString=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeString(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedBytes=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeBytes(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedMessage=function(e,t,r){if(null!=t)for(var n=0;n<t.length;n++){var i=this.beginDelimited_(e);r(t[n],this),this.endDelimited_(i)}},jspb.BinaryWriter.prototype.writeRepeatedGroup=function(e,t,r){if(null!=t)for(var n=0;n<t.length;n++)this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.START_GROUP),r(t[n],this),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.END_GROUP)},jspb.BinaryWriter.prototype.writeRepeatedFixedHash64=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeFixedHash64(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedVarintHash64=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeVarintHash64(e,t[r])},jspb.BinaryWriter.prototype.writePackedInt32=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeSignedVarint32(t[r]);this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedInt32String=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeSignedVarint32(parseInt(t[r],10));this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedInt64=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeSignedVarint64(t[r]);this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedInt64String=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++){var n=jspb.arith.Int64.fromString(t[r]);this.encoder_.writeSplitVarint64(n.lo,n.hi)}this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedUint32=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeUnsignedVarint32(t[r]);this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedUint32String=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeUnsignedVarint32(parseInt(t[r],10));this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedUint64=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeUnsignedVarint64(t[r]);this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedUint64String=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++){var n=jspb.arith.UInt64.fromString(t[r]);this.encoder_.writeSplitVarint64(n.lo,n.hi)}this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedSint32=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeZigzagVarint32(t[r]);this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedSint64=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeZigzagVarint64(t[r]);this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedSint64String=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeZigzagVarint64(parseInt(t[r],10));this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedFixed32=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(4*t.length),e=0;e<t.length;e++)this.encoder_.writeUint32(t[e])},jspb.BinaryWriter.prototype.writePackedFixed64=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*t.length),e=0;e<t.length;e++)this.encoder_.writeUint64(t[e])},jspb.BinaryWriter.prototype.writePackedFixed64String=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*t.length),e=0;e<t.length;e++){var r=jspb.arith.UInt64.fromString(t[e]);this.encoder_.writeSplitFixed64(r.lo,r.hi)}},jspb.BinaryWriter.prototype.writePackedSfixed32=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(4*t.length),e=0;e<t.length;e++)this.encoder_.writeInt32(t[e])},jspb.BinaryWriter.prototype.writePackedSfixed64=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*t.length),e=0;e<t.length;e++)this.encoder_.writeInt64(t[e])},jspb.BinaryWriter.prototype.writePackedSfixed64String=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*t.length),e=0;e<t.length;e++)this.encoder_.writeInt64String(t[e])},jspb.BinaryWriter.prototype.writePackedFloat=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(4*t.length),e=0;e<t.length;e++)this.encoder_.writeFloat(t[e])},jspb.BinaryWriter.prototype.writePackedDouble=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*t.length),e=0;e<t.length;e++)this.encoder_.writeDouble(t[e])},jspb.BinaryWriter.prototype.writePackedBool=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(t.length),e=0;e<t.length;e++)this.encoder_.writeBool(t[e])},jspb.BinaryWriter.prototype.writePackedEnum=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeEnum(t[r]);this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedFixedHash64=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*t.length),e=0;e<t.length;e++)this.encoder_.writeFixedHash64(t[e])},jspb.BinaryWriter.prototype.writePackedVarintHash64=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeVarintHash64(t[r]);this.endDelimited_(e)}},jspb.Export={},exports.Map=jspb.Map,exports.Message=jspb.Message,exports.BinaryReader=jspb.BinaryReader,exports.BinaryWriter=jspb.BinaryWriter,exports.ExtensionFieldInfo=jspb.ExtensionFieldInfo,exports.ExtensionFieldBinaryInfo=jspb.ExtensionFieldBinaryInfo,exports.exportSymbol=goog.exportSymbol,exports.inherits=goog.inherits,exports.object={extend:goog.object.extend},exports.typeOf=goog.typeOf}).call(exports,__webpack_require__(18),__webpack_require__(82).Buffer)},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var o=r(219),a=n(o),s=r(68),u=n(s),l=r(102),c=n(l),d=r(768),f=n(d),g=r(769),p=n(g),h=function(){function e(t,r,n){var o=this;if(i(this,e),n=n||r.options_,this.player=(0,u.default)(n.playerId),this.player.dash=this.player.dash||{},this.tech_=r,this.el_=r.el(),this.elParent_=this.el_.parentNode,t.src){r.isReady_=!1,e.updateSourceData&&(u.default.log.warn('updateSourceData has been deprecated. Please switch to using hook("updatesource", callback).'),t=e.updateSourceData(t)),e.hooks("updatesource").forEach(function(e){t=e(t)});var a=t.src;this.keySystemOptions_=e.buildDashJSProtData(t.keySystemOptions),this.player.dash.mediaPlayer=c.default.MediaPlayer().create(),this.mediaPlayer_=this.player.dash.mediaPlayer,e.useVideoJSDebug&&(u.default.log.warn('useVideoJSDebug has been deprecated. Please switch to using hook("beforeinitialize", callback).'),e.useVideoJSDebug(this.mediaPlayer_)),e.beforeInitialize&&(u.default.log.warn('beforeInitialize has been deprecated. Please switch to using hook("beforeinitialize", callback).'),e.beforeInitialize(this.player,this.mediaPlayer_)),e.hooks("beforeinitialize").forEach(function(e){e(o.player,o.mediaPlayer_)}),this.mediaPlayer_.initialize(),this.timeUpdated=function(e){o.player.duration(o.duration()),o.tech_.trigger({type:"timeupdate",target:o.tech_,manuallyTriggered:!0})},this.retriggerError_=function(e){if("capability"===e.error&&"mediasource"===e.event)o.player.error({code:4,message:"The media cannot be played because it requires a feature that your browser does not support."});else if("manifestError"!==e.error||"createParser"!==e.event.id&&"codec"!==e.event.id&&"nostreams"!==e.event.id&&"nostreamscomposed"!==e.event.id&&"parse"!==e.event.id&&"multiplexedrep"!==e.event.id)if("mediasource"===e.error)e.event.match("MEDIA_ERR_ABORTED")?o.player.error({code:1,message:e.event}):e.event.match("MEDIA_ERR_NETWORK")?o.player.error({code:2,message:e.event}):e.event.match("MEDIA_ERR_DECODE")?o.player.error({code:3,message:e.event}):e.event.match("MEDIA_ERR_SRC_NOT_SUPPORTED")?o.player.error({code:4,message:e.event}):e.event.match("MEDIA_ERR_ENCRYPTED")?o.player.error({code:5,message:e.event}):(e.event.match("UNKNOWN"),o.player.error({code:4,message:e.event}));else if("capability"===e.error&&"encryptedmedia"===e.event)o.player.error({code:5,message:"The media cannot be played because it requires encryption features that your browser does not support."});else if("key_session"===e.error)o.player.error({code:5,message:e.event});else{if("download"!==e.error)return;o.player.error({code:2,message:"The media playback was aborted because too many consecutive download errors occurred."})}else o.player.error({code:4,message:e.event.message});setTimeout(function(){o.mediaPlayer_.reset()},10)},this.mediaPlayer_.on(c.default.MediaPlayer.events.ERROR,this.retriggerError_),this.mediaPlayer_.on(c.default.MediaPlayer.events.PLAYBACK_TIME_UPDATED,this.timeUpdated),n.dash&&Object.keys(n.dash).forEach(function(e){var t,r="set"+e.charAt(0).toUpperCase()+e.slice(1),i=n.dash[e];if(o.mediaPlayer_.hasOwnProperty(r)&&(u.default.log.warn("Using dash options in videojs-contrib-dash without the set prefix has been deprecated. Change '"+e+"' to '"+r+"'"),e=r),!o.mediaPlayer_.hasOwnProperty(e))return void u.default.log.warn("Warning: dash configuration option unrecognized: "+e);Array.isArray(i)||(i=[i]),(t=o.mediaPlayer_)[e].apply(t,i)}),this.mediaPlayer_.attachView(this.el_),this.mediaPlayer_.setAutoPlay(!!this.player.autoplay()),f.default.call(null,this.player,r),p.default.call(null,this.player,r,n),this.mediaPlayer_.setProtectionData(this.keySystemOptions_),this.mediaPlayer_.attachSource(a),this.mediaPlayer_.attachTTMLRenderingDiv(this.player.textTrackDisplay.el_),this.timeOffset=0,this.pastSeekEnd=0;var s=this;this.mediaPlayer_.on("manifestLoaded",function(e){var t=s.pastSeekEnd;s.pastSeekEnd=0,"dynamic"===e.data.type&&(s.timeOffset+=t,s.pastSeekEndInterval&&clearInterval(s.pastSeekEndInterval),s.pastSeekEndInterval=setInterval(function(){s.pastSeekEnd+=.03,s.pastSeekEnd>e.data.minBufferTime&&(s.timeOffset+=s.pastSeekEnd,s.pastSeekEnd=0)},30))}),this.tech_.triggerReady()}}return e.buildDashJSProtData=function(e){var t={};if(!e||!Array.isArray(e))return null;for(var r=0;r<e.length;r++){var n=e[r],i=u.default.mergeOptions({},n.options);i.licenseUrl&&(i.serverURL=i.licenseUrl,delete i.licenseUrl),t[n.name]=i}return t},e.prototype.dispose=function(){this.mediaPlayer_&&(this.mediaPlayer_.off(c.default.MediaPlayer.events.PLAYBACK_TIME_UPDATED,this.timeUpdated),this.mediaPlayer_.off(c.default.MediaPlayer.events.ERROR,this.retriggerError_),this.mediaPlayer_.reset()),this.pastSeekEndInterval&&clearInterval(this.pastSeekEndInterval),this.player.dash&&delete this.player.dash},e.prototype.duration=function(){var e=this.mediaPlayer_.duration();return this.mediaPlayer_.isDynamic()?-e:e},e.prototype.currentTime=function(){return this.mediaPlayer_.time()+this.timeOffset+this.pastSeekEnd},e.prototype.setCurrentTime=function(e){var t=e-this.timeOffset-this.pastSeekEnd;this.mediaPlayer_.seek(t)},e.prototype.seekable=function(){var e=this,t=this.mediaPlayer_.duration();return{length:1,start:function(){return e.timeOffset},end:function(){return e.timeOffset+t}}},e.hooks=function(t,r){return e.hooks_[t]=e.hooks_[t]||[],r&&(e.hooks_[t]=e.hooks_[t].concat(r)),e.hooks_[t]},e.hook=function(t,r){e.hooks(t,r)},e.removeHook=function(t,r){var n=e.hooks(t).indexOf(r);return-1!==n&&(e.hooks_[t]=e.hooks_[t].slice(),e.hooks_[t].splice(n,1),!0)},e}();h.hooks_={};var y=function(e){e=JSON.parse(JSON.stringify(e)),h.updateSourceData&&(u.default.log.warn('updateSourceData has been deprecated. Please switch to using hook("updatesource", callback).'),e=h.updateSourceData(e)),h.hooks("updatesource").forEach(function(t){e=t(e)});var t=document.createElement("video");return!(e.keySystemOptions&&!navigator.requestMediaKeySystemAccess&&!t.msSetMediaKeys)};u.default.DashSourceHandler=function(){return{canHandleSource:function(e){var t=/\.mpd/i;return y(e)?u.default.DashSourceHandler.canPlayType(e.type)?"probably":t.test(e.src)?"maybe":"":""},handleSource:function(e,t,r){return new h(e,t,r)},canPlayType:function(e){return u.default.DashSourceHandler.canPlayType(e)}}},u.default.DashSourceHandler.canPlayType=function(e){return/^application\/dash\+xml/i.test(e)?"probably":""},a.default.MediaSource&&u.default.getTech("Html5").registerSourceHandler(u.default.DashSourceHandler(),0),u.default.Html5DashJS=h,t.default=h},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){function r(e){return"dash-audio-"+e}function n(e,t){return e.find(function(e){return r(e.index)===t.id})}var i=e.dash.mediaPlayer,o=i.getTracksFor("audio"),a=e.audioTracks();a.length&&t.clearTracks(["audio"]);var u=i.getCurrentTrackFor("audio");o.forEach(function(e){var t=e.lang;e.roles&&e.roles.length&&(t+=" ("+e.roles.join(", ")+")"),a.addTrack(new l.default.AudioTrack({enabled:e===u,id:r(e.index),kind:e.kind||"main",label:t,language:e.lang}))});var c=function(){for(var e=0;e<a.length;e++){var t=a[e];if(t.enabled){var r=n(o,t);i.setCurrentTrack(r)}else;}};a.addEventListener("change",c),e.dash.mediaPlayer.on(s.default.MediaPlayer.events.STREAM_TEARDOWN_COMPLETE,function(){a.removeEventListener("change",c)})}function o(e,t){e.dash.mediaPlayer.on(s.default.MediaPlayer.events.PLAYBACK_METADATA_LOADED,i.bind(null,e,t))}t.__esModule=!0,t.default=o;var a=r(102),s=n(a),u=r(68),l=n(u)},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return e[r]}function o(e,t,r){function n(){for(var t=e.dash.mediaPlayer,n=e.textTracks(),a=-1,s=0;s<n.length;s+=1)!function(e){var t=n[e];if("showing"===t.mode){var s=i(o,function(e){return e.textTrack===t}),u=s?s.dashTrack:null;u&&(a=r.indexOf(u))}}(s);a!==t.getCurrentTextTrackIndex()&&t.setTextTrack(a)}var o=[],a=r.map(function(e){return{dashTrack:e,trackConfig:{label:e.lang,language:e.lang,srclang:e.lang}}}).map(function(t){var r=t.trackConfig,n=t.dashTrack,i=e.addRemoteTextTrack(r,!1);return o.push({textTrack:i.track,dashTrack:n}),i});return e.textTracks().on("change",n),e.dash.mediaPlayer.on(u.default.MediaPlayer.events.STREAM_TEARDOWN_COMPLETE,function(){e.textTracks().off("change",n)}),setTimeout(n,1e3),a}function a(e,t,r){function n(){a.forEach(e.removeRemoteTextTrack.bind(e)),a=[]}function i(l){var c=(l.index,l.tracks);s.off(u.default.MediaPlayer.events.TEXT_TRACKS_ADDED,i),n(),c.length&&(a=o(e,t,c,r))}window.VTTCue&&!/\[native code\]/.test(window.VTTCue.toString())&&(window.VTTCue=!1);var a=[];if(t.featuresNativeTextTracks)return void c.default.log.error("You must pass {html: {nativeCaptions: false}} in the videojs constructor to use text tracks in videojs-contrib-dash");var s=e.dash.mediaPlayer;s.on(u.default.MediaPlayer.events.TEXT_TRACKS_ADDED,i),s.on(u.default.MediaPlayer.events.CAN_PLAY,function(){s.off(u.default.MediaPlayer.events.TEXT_TRACKS_ADDED,i)})}t.__esModule=!0,t.default=a;var s=r(102),u=n(s),l=r(68),c=n(l)},function(e,t,r){r(771)(r(772))},function(e,t){e.exports=function(e){function t(e){"undefined"!=typeof console&&(console.error||console.log)("[Script Loader]",e)}try{"undefined"!=typeof execScript&&function(){return"undefined"!=typeof attachEvent&&"undefined"==typeof addEventListener}()?execScript(e):"undefined"!=typeof eval?eval.call(null,e):t("EvalError: No eval function available")}catch(e){t(e)}}},function(e,t){e.exports='!function(){return function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module \'"+i+"\'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){return o(e[i][1][r]||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}}()({1:[function(require,module,exports){"use strict";exports.byteLength=function(b64){var lens=getLens(b64),validLen=lens[0],placeHoldersLen=lens[1];return 3*(validLen+placeHoldersLen)/4-placeHoldersLen},exports.toByteArray=function(b64){for(var tmp,lens=getLens(b64),validLen=lens[0],placeHoldersLen=lens[1],arr=new Arr(function(b64,validLen,placeHoldersLen){return 3*(validLen+placeHoldersLen)/4-placeHoldersLen}(0,validLen,placeHoldersLen)),curByte=0,len=placeHoldersLen>0?validLen-4:validLen,i=0;i<len;i+=4)tmp=revLookup[b64.charCodeAt(i)]<<18|revLookup[b64.charCodeAt(i+1)]<<12|revLookup[b64.charCodeAt(i+2)]<<6|revLookup[b64.charCodeAt(i+3)],arr[curByte++]=tmp>>16&255,arr[curByte++]=tmp>>8&255,arr[curByte++]=255&tmp;2===placeHoldersLen&&(tmp=revLookup[b64.charCodeAt(i)]<<2|revLookup[b64.charCodeAt(i+1)]>>4,arr[curByte++]=255&tmp);1===placeHoldersLen&&(tmp=revLookup[b64.charCodeAt(i)]<<10|revLookup[b64.charCodeAt(i+1)]<<4|revLookup[b64.charCodeAt(i+2)]>>2,arr[curByte++]=tmp>>8&255,arr[curByte++]=255&tmp);return arr},exports.fromByteArray=function(uint8){for(var tmp,len=uint8.length,extraBytes=len%3,parts=[],i=0,len2=len-extraBytes;i<len2;i+=16383)parts.push(encodeChunk(uint8,i,i+16383>len2?len2:i+16383));1===extraBytes?(tmp=uint8[len-1],parts.push(lookup[tmp>>2]+lookup[tmp<<4&63]+"==")):2===extraBytes&&(tmp=(uint8[len-2]<<8)+uint8[len-1],parts.push(lookup[tmp>>10]+lookup[tmp>>4&63]+lookup[tmp<<2&63]+"="));return parts.join("")};for(var lookup=[],revLookup=[],Arr="undefined"!=typeof Uint8Array?Uint8Array:Array,code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,len=code.length;i<len;++i)lookup[i]=code[i],revLookup[code.charCodeAt(i)]=i;function getLens(b64){var len=b64.length;if(len%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var validLen=b64.indexOf("=");return-1===validLen&&(validLen=len),[validLen,validLen===len?0:4-validLen%4]}function encodeChunk(uint8,start,end){for(var tmp,num,output=[],i=start;i<end;i+=3)tmp=(uint8[i]<<16&16711680)+(uint8[i+1]<<8&65280)+(255&uint8[i+2]),output.push(lookup[(num=tmp)>>18&63]+lookup[num>>12&63]+lookup[num>>6&63]+lookup[63&num]);return output.join("")}revLookup["-".charCodeAt(0)]=62,revLookup["_".charCodeAt(0)]=63},{}],2:[function(require,module,exports){(function(Buffer){"use strict";var base64=require("base64-js"),ieee754=require("ieee754");exports.Buffer=Buffer,exports.SlowBuffer=function(length){+length!=length&&(length=0);return Buffer.alloc(+length)},exports.INSPECT_MAX_BYTES=50;var K_MAX_LENGTH=2147483647;function createBuffer(length){if(length>K_MAX_LENGTH)throw new RangeError(\'The value "\'+length+\'" is invalid for option "size"\');var buf=new Uint8Array(length);return buf.__proto__=Buffer.prototype,buf}function Buffer(arg,encodingOrOffset,length){if("number"==typeof arg){if("string"==typeof encodingOrOffset)throw new TypeError(\'The "string" argument must be of type string. Received type number\');return allocUnsafe(arg)}return from(arg,encodingOrOffset,length)}function from(value,encodingOrOffset,length){if("string"==typeof value)return function(string,encoding){"string"==typeof encoding&&""!==encoding||(encoding="utf8");if(!Buffer.isEncoding(encoding))throw new TypeError("Unknown encoding: "+encoding);var length=0|byteLength(string,encoding),buf=createBuffer(length),actual=buf.write(string,encoding);actual!==length&&(buf=buf.slice(0,actual));return buf}(value,encodingOrOffset);if(ArrayBuffer.isView(value))return fromArrayLike(value);if(null==value)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof value);if(isInstance(value,ArrayBuffer)||value&&isInstance(value.buffer,ArrayBuffer))return function(array,byteOffset,length){if(byteOffset<0||array.byteLength<byteOffset)throw new RangeError(\'"offset" is outside of buffer bounds\');if(array.byteLength<byteOffset+(length||0))throw new RangeError(\'"length" is outside of buffer bounds\');var buf;buf=void 0===byteOffset&&void 0===length?new Uint8Array(array):void 0===length?new Uint8Array(array,byteOffset):new Uint8Array(array,byteOffset,length);return buf.__proto__=Buffer.prototype,buf}(value,encodingOrOffset,length);if("number"==typeof value)throw new TypeError(\'The "value" argument must not be of type number. Received type number\');var valueOf=value.valueOf&&value.valueOf();if(null!=valueOf&&valueOf!==value)return Buffer.from(valueOf,encodingOrOffset,length);var b=function(obj){if(Buffer.isBuffer(obj)){var len=0|checked(obj.length),buf=createBuffer(len);return 0===buf.length?buf:(obj.copy(buf,0,0,len),buf)}if(void 0!==obj.length)return"number"!=typeof obj.length||numberIsNaN(obj.length)?createBuffer(0):fromArrayLike(obj);if("Buffer"===obj.type&&Array.isArray(obj.data))return fromArrayLike(obj.data)}(value);if(b)return b;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof value[Symbol.toPrimitive])return Buffer.from(value[Symbol.toPrimitive]("string"),encodingOrOffset,length);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof value)}function assertSize(size){if("number"!=typeof size)throw new TypeError(\'"size" argument must be of type number\');if(size<0)throw new RangeError(\'The value "\'+size+\'" is invalid for option "size"\')}function allocUnsafe(size){return assertSize(size),createBuffer(size<0?0:0|checked(size))}function fromArrayLike(array){for(var length=array.length<0?0:0|checked(array.length),buf=createBuffer(length),i=0;i<length;i+=1)buf[i]=255&array[i];return buf}function checked(length){if(length>=K_MAX_LENGTH)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+K_MAX_LENGTH.toString(16)+" bytes");return 0|length}function byteLength(string,encoding){if(Buffer.isBuffer(string))return string.length;if(ArrayBuffer.isView(string)||isInstance(string,ArrayBuffer))return string.byteLength;if("string"!=typeof string)throw new TypeError(\'The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type \'+typeof string);var len=string.length,mustMatch=arguments.length>2&&!0===arguments[2];if(!mustMatch&&0===len)return 0;for(var loweredCase=!1;;)switch(encoding){case"ascii":case"latin1":case"binary":return len;case"utf8":case"utf-8":return utf8ToBytes(string).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*len;case"hex":return len>>>1;case"base64":return base64ToBytes(string).length;default:if(loweredCase)return mustMatch?-1:utf8ToBytes(string).length;encoding=(""+encoding).toLowerCase(),loweredCase=!0}}function swap(b,n,m){var i=b[n];b[n]=b[m],b[m]=i}function bidirectionalIndexOf(buffer,val,byteOffset,encoding,dir){if(0===buffer.length)return-1;if("string"==typeof byteOffset?(encoding=byteOffset,byteOffset=0):byteOffset>2147483647?byteOffset=2147483647:byteOffset<-2147483648&&(byteOffset=-2147483648),numberIsNaN(byteOffset=+byteOffset)&&(byteOffset=dir?0:buffer.length-1),byteOffset<0&&(byteOffset=buffer.length+byteOffset),byteOffset>=buffer.length){if(dir)return-1;byteOffset=buffer.length-1}else if(byteOffset<0){if(!dir)return-1;byteOffset=0}if("string"==typeof val&&(val=Buffer.from(val,encoding)),Buffer.isBuffer(val))return 0===val.length?-1:arrayIndexOf(buffer,val,byteOffset,encoding,dir);if("number"==typeof val)return val&=255,"function"==typeof Uint8Array.prototype.indexOf?dir?Uint8Array.prototype.indexOf.call(buffer,val,byteOffset):Uint8Array.prototype.lastIndexOf.call(buffer,val,byteOffset):arrayIndexOf(buffer,[val],byteOffset,encoding,dir);throw new TypeError("val must be string, number or Buffer")}function arrayIndexOf(arr,val,byteOffset,encoding,dir){var i,indexSize=1,arrLength=arr.length,valLength=val.length;if(void 0!==encoding&&("ucs2"===(encoding=String(encoding).toLowerCase())||"ucs-2"===encoding||"utf16le"===encoding||"utf-16le"===encoding)){if(arr.length<2||val.length<2)return-1;indexSize=2,arrLength/=2,valLength/=2,byteOffset/=2}function read(buf,i){return 1===indexSize?buf[i]:buf.readUInt16BE(i*indexSize)}if(dir){var foundIndex=-1;for(i=byteOffset;i<arrLength;i++)if(read(arr,i)===read(val,-1===foundIndex?0:i-foundIndex)){if(-1===foundIndex&&(foundIndex=i),i-foundIndex+1===valLength)return foundIndex*indexSize}else-1!==foundIndex&&(i-=i-foundIndex),foundIndex=-1}else for(byteOffset+valLength>arrLength&&(byteOffset=arrLength-valLength),i=byteOffset;i>=0;i--){for(var found=!0,j=0;j<valLength;j++)if(read(arr,i+j)!==read(val,j)){found=!1;break}if(found)return i}return-1}function hexWrite(buf,string,offset,length){offset=Number(offset)||0;var remaining=buf.length-offset;length?(length=Number(length))>remaining&&(length=remaining):length=remaining;var strLen=string.length;length>strLen/2&&(length=strLen/2);for(var i=0;i<length;++i){var parsed=parseInt(string.substr(2*i,2),16);if(numberIsNaN(parsed))return i;buf[offset+i]=parsed}return i}function utf8Write(buf,string,offset,length){return blitBuffer(utf8ToBytes(string,buf.length-offset),buf,offset,length)}function asciiWrite(buf,string,offset,length){return blitBuffer(function(str){for(var byteArray=[],i=0;i<str.length;++i)byteArray.push(255&str.charCodeAt(i));return byteArray}(string),buf,offset,length)}function latin1Write(buf,string,offset,length){return asciiWrite(buf,string,offset,length)}function base64Write(buf,string,offset,length){return blitBuffer(base64ToBytes(string),buf,offset,length)}function ucs2Write(buf,string,offset,length){return blitBuffer(function(str,units){for(var c,hi,lo,byteArray=[],i=0;i<str.length&&!((units-=2)<0);++i)c=str.charCodeAt(i),hi=c>>8,lo=c%256,byteArray.push(lo),byteArray.push(hi);return byteArray}(string,buf.length-offset),buf,offset,length)}function base64Slice(buf,start,end){return 0===start&&end===buf.length?base64.fromByteArray(buf):base64.fromByteArray(buf.slice(start,end))}function utf8Slice(buf,start,end){end=Math.min(buf.length,end);for(var res=[],i=start;i<end;){var secondByte,thirdByte,fourthByte,tempCodePoint,firstByte=buf[i],codePoint=null,bytesPerSequence=firstByte>239?4:firstByte>223?3:firstByte>191?2:1;if(i+bytesPerSequence<=end)switch(bytesPerSequence){case 1:firstByte<128&&(codePoint=firstByte);break;case 2:128==(192&(secondByte=buf[i+1]))&&(tempCodePoint=(31&firstByte)<<6|63&secondByte)>127&&(codePoint=tempCodePoint);break;case 3:secondByte=buf[i+1],thirdByte=buf[i+2],128==(192&secondByte)&&128==(192&thirdByte)&&(tempCodePoint=(15&firstByte)<<12|(63&secondByte)<<6|63&thirdByte)>2047&&(tempCodePoint<55296||tempCodePoint>57343)&&(codePoint=tempCodePoint);break;case 4:secondByte=buf[i+1],thirdByte=buf[i+2],fourthByte=buf[i+3],128==(192&secondByte)&&128==(192&thirdByte)&&128==(192&fourthByte)&&(tempCodePoint=(15&firstByte)<<18|(63&secondByte)<<12|(63&thirdByte)<<6|63&fourthByte)>65535&&tempCodePoint<1114112&&(codePoint=tempCodePoint)}null===codePoint?(codePoint=65533,bytesPerSequence=1):codePoint>65535&&(codePoint-=65536,res.push(codePoint>>>10&1023|55296),codePoint=56320|1023&codePoint),res.push(codePoint),i+=bytesPerSequence}return function(codePoints){var len=codePoints.length;if(len<=MAX_ARGUMENTS_LENGTH)return String.fromCharCode.apply(String,codePoints);var res="",i=0;for(;i<len;)res+=String.fromCharCode.apply(String,codePoints.slice(i,i+=MAX_ARGUMENTS_LENGTH));return res}(res)}exports.kMaxLength=K_MAX_LENGTH,Buffer.TYPED_ARRAY_SUPPORT=function(){try{var arr=new Uint8Array(1);return arr.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===arr.foo()}catch(e){return!1}}(),!Buffer.TYPED_ARRAY_SUPPORT&&"undefined"!=typeof console&&console.error,Object.defineProperty(Buffer.prototype,"parent",{enumerable:!0,get:function(){if(Buffer.isBuffer(this))return this.buffer}}),Object.defineProperty(Buffer.prototype,"offset",{enumerable:!0,get:function(){if(Buffer.isBuffer(this))return this.byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&Buffer[Symbol.species]===Buffer&&Object.defineProperty(Buffer,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),Buffer.poolSize=8192,Buffer.from=function(value,encodingOrOffset,length){return from(value,encodingOrOffset,length)},Buffer.prototype.__proto__=Uint8Array.prototype,Buffer.__proto__=Uint8Array,Buffer.alloc=function(size,fill,encoding){return function(size,fill,encoding){return assertSize(size),size<=0?createBuffer(size):void 0!==fill?"string"==typeof encoding?createBuffer(size).fill(fill,encoding):createBuffer(size).fill(fill):createBuffer(size)}(size,fill,encoding)},Buffer.allocUnsafe=function(size){return allocUnsafe(size)},Buffer.allocUnsafeSlow=function(size){return allocUnsafe(size)},Buffer.isBuffer=function(b){return null!=b&&!0===b._isBuffer&&b!==Buffer.prototype},Buffer.compare=function(a,b){if(isInstance(a,Uint8Array)&&(a=Buffer.from(a,a.offset,a.byteLength)),isInstance(b,Uint8Array)&&(b=Buffer.from(b,b.offset,b.byteLength)),!Buffer.isBuffer(a)||!Buffer.isBuffer(b))throw new TypeError(\'The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array\');if(a===b)return 0;for(var x=a.length,y=b.length,i=0,len=Math.min(x,y);i<len;++i)if(a[i]!==b[i]){x=a[i],y=b[i];break}return x<y?-1:y<x?1:0},Buffer.isEncoding=function(encoding){switch(String(encoding).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Buffer.concat=function(list,length){if(!Array.isArray(list))throw new TypeError(\'"list" argument must be an Array of Buffers\');if(0===list.length)return Buffer.alloc(0);var i;if(void 0===length)for(length=0,i=0;i<list.length;++i)length+=list[i].length;var buffer=Buffer.allocUnsafe(length),pos=0;for(i=0;i<list.length;++i){var buf=list[i];if(isInstance(buf,Uint8Array)&&(buf=Buffer.from(buf)),!Buffer.isBuffer(buf))throw new TypeError(\'"list" argument must be an Array of Buffers\');buf.copy(buffer,pos),pos+=buf.length}return buffer},Buffer.byteLength=byteLength,Buffer.prototype._isBuffer=!0,Buffer.prototype.swap16=function(){var len=this.length;if(len%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var i=0;i<len;i+=2)swap(this,i,i+1);return this},Buffer.prototype.swap32=function(){var len=this.length;if(len%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var i=0;i<len;i+=4)swap(this,i,i+3),swap(this,i+1,i+2);return this},Buffer.prototype.swap64=function(){var len=this.length;if(len%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var i=0;i<len;i+=8)swap(this,i,i+7),swap(this,i+1,i+6),swap(this,i+2,i+5),swap(this,i+3,i+4);return this},Buffer.prototype.toString=function(){var length=this.length;return 0===length?"":0===arguments.length?utf8Slice(this,0,length):function(encoding,start,end){var loweredCase=!1;if((void 0===start||start<0)&&(start=0),start>this.length)return"";if((void 0===end||end>this.length)&&(end=this.length),end<=0)return"";if((end>>>=0)<=(start>>>=0))return"";for(encoding||(encoding="utf8");;)switch(encoding){case"hex":return hexSlice(this,start,end);case"utf8":case"utf-8":return utf8Slice(this,start,end);case"ascii":return asciiSlice(this,start,end);case"latin1":case"binary":return latin1Slice(this,start,end);case"base64":return base64Slice(this,start,end);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,start,end);default:if(loweredCase)throw new TypeError("Unknown encoding: "+encoding);encoding=(encoding+"").toLowerCase(),loweredCase=!0}}.apply(this,arguments)},Buffer.prototype.toLocaleString=Buffer.prototype.toString,Buffer.prototype.equals=function(b){if(!Buffer.isBuffer(b))throw new TypeError("Argument must be a Buffer");return this===b||0===Buffer.compare(this,b)},Buffer.prototype.inspect=function(){var str="",max=exports.INSPECT_MAX_BYTES;return str=this.toString("hex",0,max).replace(/(.{2})/g,"$1 ").trim(),this.length>max&&(str+=" ... "),"<Buffer "+str+">"},Buffer.prototype.compare=function(target,start,end,thisStart,thisEnd){if(isInstance(target,Uint8Array)&&(target=Buffer.from(target,target.offset,target.byteLength)),!Buffer.isBuffer(target))throw new TypeError(\'The "target" argument must be one of type Buffer or Uint8Array. Received type \'+typeof target);if(void 0===start&&(start=0),void 0===end&&(end=target?target.length:0),void 0===thisStart&&(thisStart=0),void 0===thisEnd&&(thisEnd=this.length),start<0||end>target.length||thisStart<0||thisEnd>this.length)throw new RangeError("out of range index");if(thisStart>=thisEnd&&start>=end)return 0;if(thisStart>=thisEnd)return-1;if(start>=end)return 1;if(start>>>=0,end>>>=0,thisStart>>>=0,thisEnd>>>=0,this===target)return 0;for(var x=thisEnd-thisStart,y=end-start,len=Math.min(x,y),thisCopy=this.slice(thisStart,thisEnd),targetCopy=target.slice(start,end),i=0;i<len;++i)if(thisCopy[i]!==targetCopy[i]){x=thisCopy[i],y=targetCopy[i];break}return x<y?-1:y<x?1:0},Buffer.prototype.includes=function(val,byteOffset,encoding){return-1!==this.indexOf(val,byteOffset,encoding)},Buffer.prototype.indexOf=function(val,byteOffset,encoding){return bidirectionalIndexOf(this,val,byteOffset,encoding,!0)},Buffer.prototype.lastIndexOf=function(val,byteOffset,encoding){return bidirectionalIndexOf(this,val,byteOffset,encoding,!1)},Buffer.prototype.write=function(string,offset,length,encoding){if(void 0===offset)encoding="utf8",length=this.length,offset=0;else if(void 0===length&&"string"==typeof offset)encoding=offset,length=this.length,offset=0;else{if(!isFinite(offset))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");offset>>>=0,isFinite(length)?(length>>>=0,void 0===encoding&&(encoding="utf8")):(encoding=length,length=void 0)}var remaining=this.length-offset;if((void 0===length||length>remaining)&&(length=remaining),string.length>0&&(length<0||offset<0)||offset>this.length)throw new RangeError("Attempt to write outside buffer bounds");encoding||(encoding="utf8");for(var loweredCase=!1;;)switch(encoding){case"hex":return hexWrite(this,string,offset,length);case"utf8":case"utf-8":return utf8Write(this,string,offset,length);case"ascii":return asciiWrite(this,string,offset,length);case"latin1":case"binary":return latin1Write(this,string,offset,length);case"base64":return base64Write(this,string,offset,length);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,string,offset,length);default:if(loweredCase)throw new TypeError("Unknown encoding: "+encoding);encoding=(""+encoding).toLowerCase(),loweredCase=!0}},Buffer.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var MAX_ARGUMENTS_LENGTH=4096;function asciiSlice(buf,start,end){var ret="";end=Math.min(buf.length,end);for(var i=start;i<end;++i)ret+=String.fromCharCode(127&buf[i]);return ret}function latin1Slice(buf,start,end){var ret="";end=Math.min(buf.length,end);for(var i=start;i<end;++i)ret+=String.fromCharCode(buf[i]);return ret}function hexSlice(buf,start,end){var len=buf.length;(!start||start<0)&&(start=0),(!end||end<0||end>len)&&(end=len);for(var out="",i=start;i<end;++i)out+=toHex(buf[i]);return out}function utf16leSlice(buf,start,end){for(var bytes=buf.slice(start,end),res="",i=0;i<bytes.length;i+=2)res+=String.fromCharCode(bytes[i]+256*bytes[i+1]);return res}function checkOffset(offset,ext,length){if(offset%1!=0||offset<0)throw new RangeError("offset is not uint");if(offset+ext>length)throw new RangeError("Trying to access beyond buffer length")}function checkInt(buf,value,offset,ext,max,min){if(!Buffer.isBuffer(buf))throw new TypeError(\'"buffer" argument must be a Buffer instance\');if(value>max||value<min)throw new RangeError(\'"value" argument is out of bounds\');if(offset+ext>buf.length)throw new RangeError("Index out of range")}function checkIEEE754(buf,value,offset,ext,max,min){if(offset+ext>buf.length)throw new RangeError("Index out of range");if(offset<0)throw new RangeError("Index out of range")}function writeFloat(buf,value,offset,littleEndian,noAssert){return value=+value,offset>>>=0,noAssert||checkIEEE754(buf,0,offset,4),ieee754.write(buf,value,offset,littleEndian,23,4),offset+4}function writeDouble(buf,value,offset,littleEndian,noAssert){return value=+value,offset>>>=0,noAssert||checkIEEE754(buf,0,offset,8),ieee754.write(buf,value,offset,littleEndian,52,8),offset+8}Buffer.prototype.slice=function(start,end){var len=this.length;start=~~start,end=void 0===end?len:~~end,start<0?(start+=len)<0&&(start=0):start>len&&(start=len),end<0?(end+=len)<0&&(end=0):end>len&&(end=len),end<start&&(end=start);var newBuf=this.subarray(start,end);return newBuf.__proto__=Buffer.prototype,newBuf},Buffer.prototype.readUIntLE=function(offset,byteLength,noAssert){offset>>>=0,byteLength>>>=0,noAssert||checkOffset(offset,byteLength,this.length);for(var val=this[offset],mul=1,i=0;++i<byteLength&&(mul*=256);)val+=this[offset+i]*mul;return val},Buffer.prototype.readUIntBE=function(offset,byteLength,noAssert){offset>>>=0,byteLength>>>=0,noAssert||checkOffset(offset,byteLength,this.length);for(var val=this[offset+--byteLength],mul=1;byteLength>0&&(mul*=256);)val+=this[offset+--byteLength]*mul;return val},Buffer.prototype.readUInt8=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,1,this.length),this[offset]},Buffer.prototype.readUInt16LE=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,2,this.length),this[offset]|this[offset+1]<<8},Buffer.prototype.readUInt16BE=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,2,this.length),this[offset]<<8|this[offset+1]},Buffer.prototype.readUInt32LE=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,4,this.length),(this[offset]|this[offset+1]<<8|this[offset+2]<<16)+16777216*this[offset+3]},Buffer.prototype.readUInt32BE=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,4,this.length),16777216*this[offset]+(this[offset+1]<<16|this[offset+2]<<8|this[offset+3])},Buffer.prototype.readIntLE=function(offset,byteLength,noAssert){offset>>>=0,byteLength>>>=0,noAssert||checkOffset(offset,byteLength,this.length);for(var val=this[offset],mul=1,i=0;++i<byteLength&&(mul*=256);)val+=this[offset+i]*mul;return val>=(mul*=128)&&(val-=Math.pow(2,8*byteLength)),val},Buffer.prototype.readIntBE=function(offset,byteLength,noAssert){offset>>>=0,byteLength>>>=0,noAssert||checkOffset(offset,byteLength,this.length);for(var i=byteLength,mul=1,val=this[offset+--i];i>0&&(mul*=256);)val+=this[offset+--i]*mul;return val>=(mul*=128)&&(val-=Math.pow(2,8*byteLength)),val},Buffer.prototype.readInt8=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,1,this.length),128&this[offset]?-1*(255-this[offset]+1):this[offset]},Buffer.prototype.readInt16LE=function(offset,noAssert){offset>>>=0,noAssert||checkOffset(offset,2,this.length);var val=this[offset]|this[offset+1]<<8;return 32768&val?4294901760|val:val},Buffer.prototype.readInt16BE=function(offset,noAssert){offset>>>=0,noAssert||checkOffset(offset,2,this.length);var val=this[offset+1]|this[offset]<<8;return 32768&val?4294901760|val:val},Buffer.prototype.readInt32LE=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,4,this.length),this[offset]|this[offset+1]<<8|this[offset+2]<<16|this[offset+3]<<24},Buffer.prototype.readInt32BE=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,4,this.length),this[offset]<<24|this[offset+1]<<16|this[offset+2]<<8|this[offset+3]},Buffer.prototype.readFloatLE=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,4,this.length),ieee754.read(this,offset,!0,23,4)},Buffer.prototype.readFloatBE=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,4,this.length),ieee754.read(this,offset,!1,23,4)},Buffer.prototype.readDoubleLE=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,8,this.length),ieee754.read(this,offset,!0,52,8)},Buffer.prototype.readDoubleBE=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,8,this.length),ieee754.read(this,offset,!1,52,8)},Buffer.prototype.writeUIntLE=function(value,offset,byteLength,noAssert){(value=+value,offset>>>=0,byteLength>>>=0,noAssert)||checkInt(this,value,offset,byteLength,Math.pow(2,8*byteLength)-1,0);var mul=1,i=0;for(this[offset]=255&value;++i<byteLength&&(mul*=256);)this[offset+i]=value/mul&255;return offset+byteLength},Buffer.prototype.writeUIntBE=function(value,offset,byteLength,noAssert){(value=+value,offset>>>=0,byteLength>>>=0,noAssert)||checkInt(this,value,offset,byteLength,Math.pow(2,8*byteLength)-1,0);var i=byteLength-1,mul=1;for(this[offset+i]=255&value;--i>=0&&(mul*=256);)this[offset+i]=value/mul&255;return offset+byteLength},Buffer.prototype.writeUInt8=function(value,offset,noAssert){return value=+value,offset>>>=0,noAssert||checkInt(this,value,offset,1,255,0),this[offset]=255&value,offset+1},Buffer.prototype.writeUInt16LE=function(value,offset,noAssert){return value=+value,offset>>>=0,noAssert||checkInt(this,value,offset,2,65535,0),this[offset]=255&value,this[offset+1]=value>>>8,offset+2},Buffer.prototype.writeUInt16BE=function(value,offset,noAssert){return value=+value,offset>>>=0,noAssert||checkInt(this,value,offset,2,65535,0),this[offset]=value>>>8,this[offset+1]=255&value,offset+2},Buffer.prototype.writeUInt32LE=function(value,offset,noAssert){return value=+value,offset>>>=0,noAssert||checkInt(this,value,offset,4,4294967295,0),this[offset+3]=value>>>24,this[offset+2]=value>>>16,this[offset+1]=value>>>8,this[offset]=255&value,offset+4},Buffer.prototype.writeUInt32BE=function(value,offset,noAssert){return value=+value,offset>>>=0,noAssert||checkInt(this,value,offset,4,4294967295,0),this[offset]=value>>>24,this[offset+1]=value>>>16,this[offset+2]=value>>>8,this[offset+3]=255&value,offset+4},Buffer.prototype.writeIntLE=function(value,offset,byteLength,noAssert){if(value=+value,offset>>>=0,!noAssert){var limit=Math.pow(2,8*byteLength-1);checkInt(this,value,offset,byteLength,limit-1,-limit)}var i=0,mul=1,sub=0;for(this[offset]=255&value;++i<byteLength&&(mul*=256);)value<0&&0===sub&&0!==this[offset+i-1]&&(sub=1),this[offset+i]=(value/mul>>0)-sub&255;return offset+byteLength},Buffer.prototype.writeIntBE=function(value,offset,byteLength,noAssert){if(value=+value,offset>>>=0,!noAssert){var limit=Math.pow(2,8*byteLength-1);checkInt(this,value,offset,byteLength,limit-1,-limit)}var i=byteLength-1,mul=1,sub=0;for(this[offset+i]=255&value;--i>=0&&(mul*=256);)value<0&&0===sub&&0!==this[offset+i+1]&&(sub=1),this[offset+i]=(value/mul>>0)-sub&255;return offset+byteLength},Buffer.prototype.writeInt8=function(value,offset,noAssert){return value=+value,offset>>>=0,noAssert||checkInt(this,value,offset,1,127,-128),value<0&&(value=255+value+1),this[offset]=255&value,offset+1},Buffer.prototype.writeInt16LE=function(value,offset,noAssert){return value=+value,offset>>>=0,noAssert||checkInt(this,value,offset,2,32767,-32768),this[offset]=255&value,this[offset+1]=value>>>8,offset+2},Buffer.prototype.writeInt16BE=function(value,offset,noAssert){return value=+value,offset>>>=0,noAssert||checkInt(this,value,offset,2,32767,-32768),this[offset]=value>>>8,this[offset+1]=255&value,offset+2},Buffer.prototype.writeInt32LE=function(value,offset,noAssert){return value=+value,offset>>>=0,noAssert||checkInt(this,value,offset,4,2147483647,-2147483648),this[offset]=255&value,this[offset+1]=value>>>8,this[offset+2]=value>>>16,this[offset+3]=value>>>24,offset+4},Buffer.prototype.writeInt32BE=function(value,offset,noAssert){return value=+value,offset>>>=0,noAssert||checkInt(this,value,offset,4,2147483647,-2147483648),value<0&&(value=4294967295+value+1),this[offset]=value>>>24,this[offset+1]=value>>>16,this[offset+2]=value>>>8,this[offset+3]=255&value,offset+4},Buffer.prototype.writeFloatLE=function(value,offset,noAssert){return writeFloat(this,value,offset,!0,noAssert)},Buffer.prototype.writeFloatBE=function(value,offset,noAssert){return writeFloat(this,value,offset,!1,noAssert)},Buffer.prototype.writeDoubleLE=function(value,offset,noAssert){return writeDouble(this,value,offset,!0,noAssert)},Buffer.prototype.writeDoubleBE=function(value,offset,noAssert){return writeDouble(this,value,offset,!1,noAssert)},Buffer.prototype.copy=function(target,targetStart,start,end){if(!Buffer.isBuffer(target))throw new TypeError("argument should be a Buffer");if(start||(start=0),end||0===end||(end=this.length),targetStart>=target.length&&(targetStart=target.length),targetStart||(targetStart=0),end>0&&end<start&&(end=start),end===start)return 0;if(0===target.length||0===this.length)return 0;if(targetStart<0)throw new RangeError("targetStart out of bounds");if(start<0||start>=this.length)throw new RangeError("Index out of range");if(end<0)throw new RangeError("sourceEnd out of bounds");end>this.length&&(end=this.length),target.length-targetStart<end-start&&(end=target.length-targetStart+start);var len=end-start;if(this===target&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(targetStart,start,end);else if(this===target&&start<targetStart&&targetStart<end)for(var i=len-1;i>=0;--i)target[i+targetStart]=this[i+start];else Uint8Array.prototype.set.call(target,this.subarray(start,end),targetStart);return len},Buffer.prototype.fill=function(val,start,end,encoding){if("string"==typeof val){if("string"==typeof start?(encoding=start,start=0,end=this.length):"string"==typeof end&&(encoding=end,end=this.length),void 0!==encoding&&"string"!=typeof encoding)throw new TypeError("encoding must be a string");if("string"==typeof encoding&&!Buffer.isEncoding(encoding))throw new TypeError("Unknown encoding: "+encoding);if(1===val.length){var code=val.charCodeAt(0);("utf8"===encoding&&code<128||"latin1"===encoding)&&(val=code)}}else"number"==typeof val&&(val&=255);if(start<0||this.length<start||this.length<end)throw new RangeError("Out of range index");if(end<=start)return this;var i;if(start>>>=0,end=void 0===end?this.length:end>>>0,val||(val=0),"number"==typeof val)for(i=start;i<end;++i)this[i]=val;else{var bytes=Buffer.isBuffer(val)?val:Buffer.from(val,encoding),len=bytes.length;if(0===len)throw new TypeError(\'The value "\'+val+\'" is invalid for argument "value"\');for(i=0;i<end-start;++i)this[i+start]=bytes[i%len]}return this};var INVALID_BASE64_RE=/[^+/0-9A-Za-z-_]/g;function toHex(n){return n<16?"0"+n.toString(16):n.toString(16)}function utf8ToBytes(string,units){var codePoint;units=units||1/0;for(var length=string.length,leadSurrogate=null,bytes=[],i=0;i<length;++i){if((codePoint=string.charCodeAt(i))>55295&&codePoint<57344){if(!leadSurrogate){if(codePoint>56319){(units-=3)>-1&&bytes.push(239,191,189);continue}if(i+1===length){(units-=3)>-1&&bytes.push(239,191,189);continue}leadSurrogate=codePoint;continue}if(codePoint<56320){(units-=3)>-1&&bytes.push(239,191,189),leadSurrogate=codePoint;continue}codePoint=65536+(leadSurrogate-55296<<10|codePoint-56320)}else leadSurrogate&&(units-=3)>-1&&bytes.push(239,191,189);if(leadSurrogate=null,codePoint<128){if((units-=1)<0)break;bytes.push(codePoint)}else if(codePoint<2048){if((units-=2)<0)break;bytes.push(codePoint>>6|192,63&codePoint|128)}else if(codePoint<65536){if((units-=3)<0)break;bytes.push(codePoint>>12|224,codePoint>>6&63|128,63&codePoint|128)}else{if(!(codePoint<1114112))throw new Error("Invalid code point");if((units-=4)<0)break;bytes.push(codePoint>>18|240,codePoint>>12&63|128,codePoint>>6&63|128,63&codePoint|128)}}return bytes}function base64ToBytes(str){return base64.toByteArray(function(str){if((str=(str=str.split("=")[0]).trim().replace(INVALID_BASE64_RE,"")).length<2)return"";for(;str.length%4!=0;)str+="=";return str}(str))}function blitBuffer(src,dst,offset,length){for(var i=0;i<length&&!(i+offset>=dst.length||i>=src.length);++i)dst[i+offset]=src[i];return i}function isInstance(obj,type){return obj instanceof type||null!=obj&&null!=obj.constructor&&null!=obj.constructor.name&&obj.constructor.name===type.name}function numberIsNaN(obj){return obj!=obj}}).call(this,require("buffer").Buffer)},{"base64-js":1,buffer:2,ieee754:4}],3:[function(require,module,exports){(function(global,Buffer){var $jscomp={scope:{},getGlobal:function(a){return"undefined"!=typeof window&&window===a?a:void 0!==global?global:a}};$jscomp.global=$jscomp.getGlobal(this),$jscomp.initSymbol=function(){$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol),$jscomp.initSymbol=function(){}},$jscomp.symbolCounter_=0,$jscomp.Symbol=function(a){return"jscomp_symbol_"+a+$jscomp.symbolCounter_++},$jscomp.initSymbolIterator=function(){$jscomp.initSymbol(),$jscomp.global.Symbol.iterator||($jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator")),$jscomp.initSymbolIterator=function(){}},$jscomp.makeIterator=function(a){$jscomp.initSymbolIterator(),$jscomp.initSymbol(),$jscomp.initSymbolIterator();var b=a[Symbol.iterator];if(b)return b.call(a);var c=0;return{next:function(){return c<a.length?{done:!1,value:a[c++]}:{done:!0}}}},$jscomp.arrayFromIterator=function(a){for(var b,c=[];!(b=a.next()).done;)c.push(b.value);return c},$jscomp.arrayFromIterable=function(a){return a instanceof Array?a:$jscomp.arrayFromIterator($jscomp.makeIterator(a))},$jscomp.inherits=function(a,b){function c(){}for(var d in c.prototype=b.prototype,a.prototype=new c,a.prototype.constructor=a,b)if(Object.defineProperties){var e=Object.getOwnPropertyDescriptor(b,d);e&&Object.defineProperty(a,d,e)}else a[d]=b[d]},$jscomp.array=$jscomp.array||{},$jscomp.iteratorFromArray=function(a,b){$jscomp.initSymbolIterator(),a instanceof String&&(a+="");var c=0,d={next:function(){if(c<a.length){var e=c++;return{value:b(e,a[e]),done:!1}}return d.next=function(){return{done:!0,value:void 0}},d.next()}};return $jscomp.initSymbol(),$jscomp.initSymbolIterator(),d[Symbol.iterator]=function(){return d},d},$jscomp.findInternal=function(a,b,c){a instanceof String&&(a=String(a));for(var d=a.length,e=0;e<d;e++){var f=a[e];if(b.call(c,f,e,a))return{i:e,v:f}}return{i:-1,v:void 0}},$jscomp.array.from=function(a,b,c){$jscomp.initSymbolIterator(),b=null!=b?b:function(a){return a};var d=[];if($jscomp.initSymbol(),$jscomp.initSymbolIterator(),"function"==typeof(e=a[Symbol.iterator])&&(a=e.call(a)),"function"==typeof a.next)for(;!(e=a.next()).done;)d.push(b.call(c,e.value));else for(var e=a.length,f=0;f<e;f++)d.push(b.call(c,a[f]));return d},$jscomp.array.of=function(a){return $jscomp.array.from(arguments)},$jscomp.array.entries=function(){return $jscomp.iteratorFromArray(this,function(a,b){return[a,b]})},$jscomp.array.installHelper_=function(a,b){!Array.prototype[a]&&Object.defineProperties&&Object.defineProperty&&Object.defineProperty(Array.prototype,a,{configurable:!0,enumerable:!1,writable:!0,value:b})},$jscomp.array.entries$install=function(){$jscomp.array.installHelper_("entries",$jscomp.array.entries)},$jscomp.array.keys=function(){return $jscomp.iteratorFromArray(this,function(a){return a})},$jscomp.array.keys$install=function(){$jscomp.array.installHelper_("keys",$jscomp.array.keys)},$jscomp.array.values=function(){return $jscomp.iteratorFromArray(this,function(a,b){return b})},$jscomp.array.values$install=function(){$jscomp.array.installHelper_("values",$jscomp.array.values)},$jscomp.array.copyWithin=function(a,b,c){var d=this.length;if(a=Number(a),b=Number(b),c=Number(null!=c?c:d),a<b)for(c=Math.min(c,d);b<c;)b in this?this[a++]=this[b++]:(delete this[a++],b++);else for(a+=(c=Math.min(c,d+b-a))-b;c>b;)--c in this?this[--a]=this[c]:delete this[a];return this},$jscomp.array.copyWithin$install=function(){$jscomp.array.installHelper_("copyWithin",$jscomp.array.copyWithin)},$jscomp.array.fill=function(a,b,c){var d=this.length||0;for(0>b&&(b=Math.max(0,d+b)),(null==c||c>d)&&(c=d),0>(c=Number(c))&&(c=Math.max(0,d+c)),b=Number(b||0);b<c;b++)this[b]=a;return this},$jscomp.array.fill$install=function(){$jscomp.array.installHelper_("fill",$jscomp.array.fill)},$jscomp.array.find=function(a,b){return $jscomp.findInternal(this,a,b).v},$jscomp.array.find$install=function(){$jscomp.array.installHelper_("find",$jscomp.array.find)},$jscomp.array.findIndex=function(a,b){return $jscomp.findInternal(this,a,b).i},$jscomp.array.findIndex$install=function(){$jscomp.array.installHelper_("findIndex",$jscomp.array.findIndex)},$jscomp.ASSUME_NO_NATIVE_MAP=!1,$jscomp.Map$isConformant=function(){if($jscomp.ASSUME_NO_NATIVE_MAP)return!1;var a=$jscomp.global.Map;if(!a||!a.prototype.entries||"function"!=typeof Object.seal)return!1;try{var b=Object.seal({x:4}),c=new a($jscomp.makeIterator([[b,"s"]]));if("s"!=c.get(b)||1!=c.size||c.get({x:4})||c.set({x:4},"t")!=c||2!=c.size)return!1;var d=c.entries(),e=d.next();return!e.done&&e.value[0]==b&&"s"==e.value[1]&&!((e=d.next()).done||4!=e.value[0].x||"t"!=e.value[1]||!d.next().done)}catch(f){return!1}},$jscomp.Map=function(a){if(this.data_={},this.head_=$jscomp.Map.createHead(),this.size=0,a){a=$jscomp.makeIterator(a);for(var b;!(b=a.next()).done;)b=b.value,this.set(b[0],b[1])}},$jscomp.Map.prototype.set=function(a,b){var c=$jscomp.Map.maybeGetEntry(this,a);return c.list||(c.list=this.data_[c.id]=[]),c.entry?c.entry.value=b:(c.entry={next:this.head_,previous:this.head_.previous,head:this.head_,key:a,value:b},c.list.push(c.entry),this.head_.previous.next=c.entry,this.head_.previous=c.entry,this.size++),this},$jscomp.Map.prototype.delete=function(a){return!(!(a=$jscomp.Map.maybeGetEntry(this,a)).entry||!a.list)&&(a.list.splice(a.index,1),a.list.length||delete this.data_[a.id],a.entry.previous.next=a.entry.next,a.entry.next.previous=a.entry.previous,a.entry.head=null,this.size--,!0)},$jscomp.Map.prototype.clear=function(){this.data_={},this.head_=this.head_.previous=$jscomp.Map.createHead(),this.size=0},$jscomp.Map.prototype.has=function(a){return!!$jscomp.Map.maybeGetEntry(this,a).entry},$jscomp.Map.prototype.get=function(a){return(a=$jscomp.Map.maybeGetEntry(this,a).entry)&&a.value},$jscomp.Map.prototype.entries=function(){return $jscomp.Map.makeIterator_(this,function(a){return[a.key,a.value]})},$jscomp.Map.prototype.keys=function(){return $jscomp.Map.makeIterator_(this,function(a){return a.key})},$jscomp.Map.prototype.values=function(){return $jscomp.Map.makeIterator_(this,function(a){return a.value})},$jscomp.Map.prototype.forEach=function(a,b){for(var d,c=this.entries();!(d=c.next()).done;)d=d.value,a.call(b,d[1],d[0],this)},$jscomp.Map.maybeGetEntry=function(a,b){var c=$jscomp.Map.getId(b),d=a.data_[c];if(d&&Object.prototype.hasOwnProperty.call(a.data_,c))for(var e=0;e<d.length;e++){var f=d[e];if(b!=b&&f.key!=f.key||b===f.key)return{id:c,list:d,index:e,entry:f}}return{id:c,list:d,index:-1,entry:void 0}},$jscomp.Map.makeIterator_=function(a,b){var c=a.head_,d={next:function(){if(c){for(;c.head!=a.head_;)c=c.previous;for(;c.next!=c.head;)return c=c.next,{done:!1,value:b(c)};c=null}return{done:!0,value:void 0}}};return $jscomp.initSymbol(),$jscomp.initSymbolIterator(),d[Symbol.iterator]=function(){return d},d},$jscomp.Map.mapIndex_=0,$jscomp.Map.createHead=function(){var a={};return a.previous=a.next=a.head=a},$jscomp.Map.getId=function(a){if(!(a instanceof Object))return"p_"+a;if(!($jscomp.Map.idKey in a))try{$jscomp.Map.defineProperty(a,$jscomp.Map.idKey,{value:++$jscomp.Map.mapIndex_})}catch(b){}return $jscomp.Map.idKey in a?a[$jscomp.Map.idKey]:"o_ "+a},$jscomp.Map.defineProperty=Object.defineProperty?function(a,b,c){Object.defineProperty(a,b,{value:String(c)})}:function(a,b,c){a[b]=String(c)},$jscomp.Map.Entry=function(){},$jscomp.Map$install=function(){$jscomp.initSymbol(),$jscomp.initSymbolIterator(),$jscomp.Map$isConformant()?$jscomp.Map=$jscomp.global.Map:($jscomp.initSymbol(),$jscomp.initSymbolIterator(),$jscomp.Map.prototype[Symbol.iterator]=$jscomp.Map.prototype.entries,$jscomp.initSymbol(),$jscomp.Map.idKey=Symbol("map-id-key"),$jscomp.Map$install=function(){})},$jscomp.math=$jscomp.math||{},$jscomp.math.clz32=function(a){if(0===(a=Number(a)>>>0))return 32;var b=0;return 0==(4294901760&a)&&(a<<=16,b+=16),0==(4278190080&a)&&(a<<=8,b+=8),0==(4026531840&a)&&(a<<=4,b+=4),0==(3221225472&a)&&(a<<=2,b+=2),0==(2147483648&a)&&b++,b},$jscomp.math.imul=function(a,b){var c=65535&(a=Number(a)),d=65535&(b=Number(b));return c*d+((a>>>16&65535)*d+c*(b>>>16&65535)<<16>>>0)|0},$jscomp.math.sign=function(a){return 0===(a=Number(a))||isNaN(a)?a:0<a?1:-1},$jscomp.math.log10=function(a){return Math.log(a)/Math.LN10},$jscomp.math.log2=function(a){return Math.log(a)/Math.LN2},$jscomp.math.log1p=function(a){if(.25>(a=Number(a))&&-.25<a){for(var b=a,c=1,d=a,e=0,f=1;e!=d;)d=(e=d)+(f*=-1)*(b*=a)/++c;return d}return Math.log(1+a)},$jscomp.math.expm1=function(a){if(.25>(a=Number(a))&&-.25<a){for(var b=a,c=1,d=a,e=0;e!=d;)d=(e=d)+(b*=a/++c);return d}return Math.exp(a)-1},$jscomp.math.cosh=function(a){return a=Number(a),(Math.exp(a)+Math.exp(-a))/2},$jscomp.math.sinh=function(a){return 0===(a=Number(a))?a:(Math.exp(a)-Math.exp(-a))/2},$jscomp.math.tanh=function(a){if(0===(a=Number(a)))return a;var b=(1-(b=Math.exp(-2*Math.abs(a))))/(1+b);return 0>a?-b:b},$jscomp.math.acosh=function(a){return a=Number(a),Math.log(a+Math.sqrt(a*a-1))},$jscomp.math.asinh=function(a){if(0===(a=Number(a)))return a;var b=Math.log(Math.abs(a)+Math.sqrt(a*a+1));return 0>a?-b:b},$jscomp.math.atanh=function(a){return a=Number(a),($jscomp.math.log1p(a)-$jscomp.math.log1p(-a))/2},$jscomp.math.hypot=function(a,b,c){a=Number(a),b=Number(b);var d,e,f,g=Math.max(Math.abs(a),Math.abs(b));for(d=2;d<arguments.length;d++)g=Math.max(g,Math.abs(arguments[d]));if(1e100<g||1e-100>g){for(f=(a/=g)*a+(b/=g)*b,d=2;d<arguments.length;d++)f+=(e=Number(arguments[d])/g)*e;return Math.sqrt(f)*g}for(f=a*a+b*b,d=2;d<arguments.length;d++)f+=(e=Number(arguments[d]))*e;return Math.sqrt(f)},$jscomp.math.trunc=function(a){if(a=Number(a),isNaN(a)||1/0===a||-1/0===a||0===a)return a;var b=Math.floor(Math.abs(a));return 0>a?-b:b},$jscomp.math.cbrt=function(a){if(0===a)return a;a=Number(a);var b=Math.pow(Math.abs(a),1/3);return 0>a?-b:b},$jscomp.number=$jscomp.number||{},$jscomp.number.isFinite=function(a){return"number"==typeof a&&(!isNaN(a)&&1/0!==a&&-1/0!==a)},$jscomp.number.isInteger=function(a){return!!$jscomp.number.isFinite(a)&&a===Math.floor(a)},$jscomp.number.isNaN=function(a){return"number"==typeof a&&isNaN(a)},$jscomp.number.isSafeInteger=function(a){return $jscomp.number.isInteger(a)&&Math.abs(a)<=$jscomp.number.MAX_SAFE_INTEGER},$jscomp.number.EPSILON=Math.pow(2,-52),$jscomp.number.MAX_SAFE_INTEGER=9007199254740991,$jscomp.number.MIN_SAFE_INTEGER=-9007199254740991,$jscomp.object=$jscomp.object||{},$jscomp.object.assign=function(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c];if(d)for(var e in d)Object.prototype.hasOwnProperty.call(d,e)&&(a[e]=d[e])}return a},$jscomp.object.is=function(a,b){return a===b?0!==a||1/a==1/b:a!=a&&b!=b},$jscomp.ASSUME_NO_NATIVE_SET=!1,$jscomp.Set$isConformant=function(){if($jscomp.ASSUME_NO_NATIVE_SET)return!1;var a=$jscomp.global.Set;if(!a||!a.prototype.entries||"function"!=typeof Object.seal)return!1;try{var b=Object.seal({x:4}),c=new a($jscomp.makeIterator([b]));if(!c.has(b)||1!=c.size||c.add(b)!=c||1!=c.size||c.add({x:4})!=c||2!=c.size)return!1;var d=c.entries(),e=d.next();return!e.done&&e.value[0]==b&&e.value[1]==b&&(!(e=d.next()).done&&e.value[0]!=b&&4==e.value[0].x&&e.value[1]==e.value[0]&&d.next().done)}catch(f){return!1}},$jscomp.Set=function(a){if(this.map_=new $jscomp.Map,a){a=$jscomp.makeIterator(a);for(var b;!(b=a.next()).done;)this.add(b.value)}this.size=this.map_.size},$jscomp.Set.prototype.add=function(a){return this.map_.set(a,a),this.size=this.map_.size,this},$jscomp.Set.prototype.delete=function(a){return a=this.map_.delete(a),this.size=this.map_.size,a},$jscomp.Set.prototype.clear=function(){this.map_.clear(),this.size=0},$jscomp.Set.prototype.has=function(a){return this.map_.has(a)},$jscomp.Set.prototype.entries=function(){return this.map_.entries()},$jscomp.Set.prototype.values=function(){return this.map_.values()},$jscomp.Set.prototype.forEach=function(a,b){var c=this;this.map_.forEach(function(d){return a.call(b,d,d,c)})},$jscomp.Set$install=function(){$jscomp.Map$install(),$jscomp.Set$isConformant()?$jscomp.Set=$jscomp.global.Set:($jscomp.initSymbol(),$jscomp.initSymbolIterator(),$jscomp.Set.prototype[Symbol.iterator]=$jscomp.Set.prototype.values,$jscomp.Set$install=function(){})},$jscomp.string=$jscomp.string||{},$jscomp.checkStringArgs=function(a,b,c){if(null==a)throw new TypeError("The \'this\' value for String.prototype."+c+" must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype."+c+" must not be a regular expression");return a+""},$jscomp.string.fromCodePoint=function(a){for(var b="",c=0;c<arguments.length;c++){var d=Number(arguments[c]);if(0>d||1114111<d||d!==Math.floor(d))throw new RangeError("invalid_code_point "+d);65535>=d?b+=String.fromCharCode(d):(d-=65536,b+=String.fromCharCode(d>>>10&1023|55296),b+=String.fromCharCode(1023&d|56320))}return b},$jscomp.string.repeat=function(a){var b=$jscomp.checkStringArgs(this,null,"repeat");if(0>a||1342177279<a)throw new RangeError("Invalid count value");a|=0;for(var c="";a;)1&a&&(c+=b),(a>>>=1)&&(b+=b);return c},$jscomp.string.repeat$install=function(){String.prototype.repeat||(String.prototype.repeat=$jscomp.string.repeat)},$jscomp.string.codePointAt=function(a){var b=$jscomp.checkStringArgs(this,null,"codePointAt"),c=b.length;if(0<=(a=Number(a)||0)&&a<c){a|=0;var d=b.charCodeAt(a);return 55296>d||56319<d||a+1===c?d:56320>(a=b.charCodeAt(a+1))||57343<a?d:1024*(d-55296)+a+9216}},$jscomp.string.codePointAt$install=function(){String.prototype.codePointAt||(String.prototype.codePointAt=$jscomp.string.codePointAt)},$jscomp.string.includes=function(a,b){return-1!==$jscomp.checkStringArgs(this,a,"includes").indexOf(a,b||0)},$jscomp.string.includes$install=function(){String.prototype.includes||(String.prototype.includes=$jscomp.string.includes)},$jscomp.string.startsWith=function(a,b){var c=$jscomp.checkStringArgs(this,a,"startsWith");a+="";for(var d=c.length,e=a.length,f=Math.max(0,Math.min(0|b,c.length)),g=0;g<e&&f<d;)if(c[f++]!=a[g++])return!1;return g>=e},$jscomp.string.startsWith$install=function(){String.prototype.startsWith||(String.prototype.startsWith=$jscomp.string.startsWith)},$jscomp.string.endsWith=function(a,b){var c=$jscomp.checkStringArgs(this,a,"endsWith");a+="",void 0===b&&(b=c.length);for(var d=Math.max(0,Math.min(0|b,c.length)),e=a.length;0<e&&0<d;)if(c[--d]!=a[--e])return!1;return 0>=e},$jscomp.string.endsWith$install=function(){String.prototype.endsWith||(String.prototype.endsWith=$jscomp.string.endsWith)};var COMPILED=!0,goog=goog||{};goog.global=this,goog.isDef=function(a){return void 0!==a},goog.exportPath_=function(a,b,c){a=a.split("."),c=c||goog.global,a[0]in c||!c.execScript||c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)!a.length&&goog.isDef(b)?c[d]=b:c=c[d]?c[d]:c[d]={}},goog.define=function(a,b){var c=b;COMPILED||(goog.global.CLOSURE_UNCOMPILED_DEFINES&&Object.prototype.hasOwnProperty.call(goog.global.CLOSURE_UNCOMPILED_DEFINES,a)?c=goog.global.CLOSURE_UNCOMPILED_DEFINES[a]:goog.global.CLOSURE_DEFINES&&Object.prototype.hasOwnProperty.call(goog.global.CLOSURE_DEFINES,a)&&(c=goog.global.CLOSURE_DEFINES[a])),goog.exportPath_(a,c)},goog.DEBUG=!0,goog.LOCALE="en",goog.TRUSTED_SITE=!0,goog.STRICT_MODE_COMPATIBLE=!1,goog.DISALLOW_TEST_ONLY_CODE=COMPILED&&!goog.DEBUG,goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING=!1,goog.provide=function(a){if(!COMPILED&&goog.isProvided_(a))throw Error(\'Namespace "\'+a+\'" already declared.\');goog.constructNamespace_(a)},goog.constructNamespace_=function(a,b){if(!COMPILED){delete goog.implicitNamespaces_[a];for(var c=a;(c=c.substring(0,c.lastIndexOf(".")))&&!goog.getObjectByName(c);)goog.implicitNamespaces_[c]=!0}goog.exportPath_(a,b)},goog.VALID_MODULE_RE_=/^[a-zA-Z_$][a-zA-Z0-9._$]*$/,goog.module=function(a){if(!goog.isString(a)||!a||-1==a.search(goog.VALID_MODULE_RE_))throw Error("Invalid module identifier");if(!goog.isInModuleLoader_())throw Error("Module "+a+" has been loaded incorrectly.");if(goog.moduleLoaderState_.moduleName)throw Error("goog.module may only be called once per module.");if(goog.moduleLoaderState_.moduleName=a,!COMPILED){if(goog.isProvided_(a))throw Error(\'Namespace "\'+a+\'" already declared.\');delete goog.implicitNamespaces_[a]}},goog.module.get=function(a){return goog.module.getInternal_(a)},goog.module.getInternal_=function(a){if(!COMPILED)return goog.isProvided_(a)?a in goog.loadedModules_?goog.loadedModules_[a]:goog.getObjectByName(a):null},goog.moduleLoaderState_=null,goog.isInModuleLoader_=function(){return null!=goog.moduleLoaderState_},goog.module.declareLegacyNamespace=function(){if(!COMPILED&&!goog.isInModuleLoader_())throw Error("goog.module.declareLegacyNamespace must be called from within a goog.module");if(!COMPILED&&!goog.moduleLoaderState_.moduleName)throw Error("goog.module must be called prior to goog.module.declareLegacyNamespace.");goog.moduleLoaderState_.declareLegacyNamespace=!0},goog.setTestOnly=function(a){if(goog.DISALLOW_TEST_ONLY_CODE)throw a=a||"",Error("Importing test-only code into non-debug environment"+(a?": "+a:"."))},goog.forwardDeclare=function(a){},COMPILED||(goog.isProvided_=function(a){return a in goog.loadedModules_||!goog.implicitNamespaces_[a]&&goog.isDefAndNotNull(goog.getObjectByName(a))},goog.implicitNamespaces_={"goog.module":!0}),goog.getObjectByName=function(a,b){for(var e,c=a.split("."),d=b||goog.global;e=c.shift();){if(!goog.isDefAndNotNull(d[e]))return null;d=d[e]}return d},goog.globalize=function(a,b){var d,c=b||goog.global;for(d in a)c[d]=a[d]},goog.addDependency=function(a,b,c,d){if(goog.DEPENDENCIES_ENABLED){var e;a=a.replace(/\\\\/g,"/");for(var f=goog.dependencies_,g=0;e=b[g];g++)f.nameToPath[e]=a,f.pathIsModule[a]=!!d;for(d=0;b=c[d];d++)a in f.requires||(f.requires[a]={}),f.requires[a][b]=!0}},goog.ENABLE_DEBUG_LOADER=!0,goog.logToConsole_=function(a){goog.global.console&&goog.global.console.error(a)},goog.require=function(a){if(!COMPILED){if(goog.ENABLE_DEBUG_LOADER&&goog.IS_OLD_IE_&&goog.maybeProcessDeferredDep_(a),goog.isProvided_(a))return goog.isInModuleLoader_()?goog.module.getInternal_(a):null;if(goog.ENABLE_DEBUG_LOADER){var b=goog.getPathFromDeps_(a);if(b)return goog.writeScripts_(b),null}throw a="goog.require could not find: "+a,goog.logToConsole_(a),Error(a)}},goog.basePath="",goog.nullFunction=function(){},goog.abstractMethod=function(){throw Error("unimplemented abstract method")},goog.addSingletonGetter=function(a){a.getInstance=function(){return a.instance_?a.instance_:(goog.DEBUG&&(goog.instantiatedSingletons_[goog.instantiatedSingletons_.length]=a),a.instance_=new a)}},goog.instantiatedSingletons_=[],goog.LOAD_MODULE_USING_EVAL=!0,goog.SEAL_MODULE_EXPORTS=goog.DEBUG,goog.loadedModules_={},goog.DEPENDENCIES_ENABLED=!COMPILED&&goog.ENABLE_DEBUG_LOADER,goog.DEPENDENCIES_ENABLED&&(goog.dependencies_={pathIsModule:{},nameToPath:{},requires:{},visited:{},written:{},deferred:{}},goog.inHtmlDocument_=function(){var a=goog.global.document;return null!=a&&"write"in a},goog.findBasePath_=function(){if(goog.isDef(goog.global.CLOSURE_BASE_PATH))goog.basePath=goog.global.CLOSURE_BASE_PATH;else if(goog.inHtmlDocument_())for(var a=goog.global.document.getElementsByTagName("SCRIPT"),b=a.length-1;0<=b;--b){var c=a[b].src,d=-1==(d=c.lastIndexOf("?"))?c.length:d;if("base.js"==c.substr(d-7,7)){goog.basePath=c.substr(0,d-7);break}}},goog.importScript_=function(a,b){(goog.global.CLOSURE_IMPORT_SCRIPT||goog.writeScriptTag_)(a,b)&&(goog.dependencies_.written[a]=!0)},goog.IS_OLD_IE_=!(goog.global.atob||!goog.global.document||!goog.global.document.all),goog.importModule_=function(a){goog.importScript_("",\'goog.retrieveAndExecModule_("\'+a+\'");\')&&(goog.dependencies_.written[a]=!0)},goog.queuedModules_=[],goog.wrapModule_=function(a,b){return goog.LOAD_MODULE_USING_EVAL&&goog.isDef(goog.global.JSON)?"goog.loadModule("+goog.global.JSON.stringify(b+"\\n//# sourceURL="+a+"\\n")+");":\'goog.loadModule(function(exports) {"use strict";\'+b+"\\n;return exports});\\n//# sourceURL="+a+"\\n"},goog.loadQueuedModules_=function(){var a=goog.queuedModules_.length;if(0<a){var b=goog.queuedModules_;goog.queuedModules_=[];for(var c=0;c<a;c++)goog.maybeProcessDeferredPath_(b[c])}},goog.maybeProcessDeferredDep_=function(a){goog.isDeferredModule_(a)&&goog.allDepsAreAvailable_(a)&&(a=goog.getPathFromDeps_(a),goog.maybeProcessDeferredPath_(goog.basePath+a))},goog.isDeferredModule_=function(a){return!(!(a=goog.getPathFromDeps_(a))||!goog.dependencies_.pathIsModule[a])&&goog.basePath+a in goog.dependencies_.deferred},goog.allDepsAreAvailable_=function(a){if((a=goog.getPathFromDeps_(a))&&a in goog.dependencies_.requires)for(var b in goog.dependencies_.requires[a])if(!goog.isProvided_(b)&&!goog.isDeferredModule_(b))return!1;return!0},goog.maybeProcessDeferredPath_=function(a){if(a in goog.dependencies_.deferred){var b=goog.dependencies_.deferred[a];delete goog.dependencies_.deferred[a],goog.globalEval(b)}},goog.loadModuleFromUrl=function(a){goog.retrieveAndExecModule_(a)},goog.loadModule=function(a){var b=goog.moduleLoaderState_;try{var c;if(goog.moduleLoaderState_={moduleName:void 0,declareLegacyNamespace:!1},goog.isFunction(a))c=a.call(goog.global,{});else{if(!goog.isString(a))throw Error("Invalid module definition");c=goog.loadModuleFromSource_.call(goog.global,a)}var d=goog.moduleLoaderState_.moduleName;if(!goog.isString(d)||!d)throw Error(\'Invalid module name "\'+d+\'"\');goog.moduleLoaderState_.declareLegacyNamespace?goog.constructNamespace_(d,c):goog.SEAL_MODULE_EXPORTS&&Object.seal&&Object.seal(c),goog.loadedModules_[d]=c}finally{goog.moduleLoaderState_=b}},goog.loadModuleFromSource_=function(a){return eval(a),{}},goog.writeScriptSrcNode_=function(a){goog.global.document.write(\'<script type="text/javascript" src="\'+a+\'"><\\/script>\')},goog.appendScriptSrcNode_=function(a){var b=goog.global.document,c=b.createElement("script");c.type="text/javascript",c.src=a,c.defer=!1,c.async=!1,b.head.appendChild(c)},goog.writeScriptTag_=function(a,b){if(goog.inHtmlDocument_()){var c=goog.global.document;if(!goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING&&"complete"==c.readyState){if(/\\bdeps.js$/.test(a))return!1;throw Error(\'Cannot write "\'+a+\'" after document load\')}var d=goog.IS_OLD_IE_;return void 0===b?d?(d=" onreadystatechange=\'goog.onScriptLoad_(this, "+ ++goog.lastNonModuleScriptIndex_+")\' ",c.write(\'<script type="text/javascript" src="\'+a+\'"\'+d+"><\\/script>")):goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING?goog.appendScriptSrcNode_(a):goog.writeScriptSrcNode_(a):c.write(\'<script type="text/javascript">\'+b+"<\\/script>"),!0}return!1},goog.lastNonModuleScriptIndex_=0,goog.onScriptLoad_=function(a,b){return"complete"==a.readyState&&goog.lastNonModuleScriptIndex_==b&&goog.loadQueuedModules_(),!0},goog.writeScripts_=function(a){var c=[],d={},e=goog.dependencies_;for(function b(a){if(!(a in e.written||a in e.visited)){if(e.visited[a]=!0,a in e.requires)for(var f in e.requires[a])if(!goog.isProvided_(f)){if(!(f in e.nameToPath))throw Error("Undefined nameToPath for "+f);b(e.nameToPath[f])}a in d||(d[a]=!0,c.push(a))}}(a),a=0;a<c.length;a++){var f=c[a];goog.dependencies_.written[f]=!0}var g=goog.moduleLoaderState_;for(goog.moduleLoaderState_=null,a=0;a<c.length;a++){if(!(f=c[a]))throw goog.moduleLoaderState_=g,Error("Undefined script input");e.pathIsModule[f]?goog.importModule_(goog.basePath+f):goog.importScript_(goog.basePath+f)}goog.moduleLoaderState_=g},goog.getPathFromDeps_=function(a){return a in goog.dependencies_.nameToPath?goog.dependencies_.nameToPath[a]:null},goog.findBasePath_(),goog.global.CLOSURE_NO_DEPS||goog.importScript_(goog.basePath+"deps.js")),goog.normalizePath_=function(a){a=a.split("/");for(var b=0;b<a.length;)"."==a[b]?a.splice(b,1):b&&".."==a[b]&&a[b-1]&&".."!=a[b-1]?a.splice(--b,2):b++;return a.join("/")},goog.loadFileSync_=function(a){if(goog.global.CLOSURE_LOAD_FILE_SYNC)return goog.global.CLOSURE_LOAD_FILE_SYNC(a);var b=new goog.global.XMLHttpRequest;return b.open("get",a,!1),b.send(),b.responseText},goog.retrieveAndExecModule_=function(a){if(!COMPILED){var b=a;a=goog.normalizePath_(a);var c=goog.global.CLOSURE_IMPORT_SCRIPT||goog.writeScriptTag_,d=goog.loadFileSync_(a);if(null==d)throw Error("load of "+a+"failed");d=goog.wrapModule_(a,d),goog.IS_OLD_IE_?(goog.dependencies_.deferred[b]=d,goog.queuedModules_.push(b)):c(a,d)}},goog.typeOf=function(a){var b=typeof a;if("object"==b){if(!a)return"null";if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&void 0!==a.splice&&void 0!==a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||void 0!==a.call&&void 0!==a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else if("function"==b&&void 0===a.call)return"object";return b},goog.isNull=function(a){return null===a},goog.isDefAndNotNull=function(a){return null!=a},goog.isArray=function(a){return"array"==goog.typeOf(a)},goog.isArrayLike=function(a){var b=goog.typeOf(a);return"array"==b||"object"==b&&"number"==typeof a.length},goog.isDateLike=function(a){return goog.isObject(a)&&"function"==typeof a.getFullYear},goog.isString=function(a){return"string"==typeof a},goog.isBoolean=function(a){return"boolean"==typeof a},goog.isNumber=function(a){return"number"==typeof a},goog.isFunction=function(a){return"function"==goog.typeOf(a)},goog.isObject=function(a){var b=typeof a;return"object"==b&&null!=a||"function"==b},goog.getUid=function(a){return a[goog.UID_PROPERTY_]||(a[goog.UID_PROPERTY_]=++goog.uidCounter_)},goog.hasUid=function(a){return!!a[goog.UID_PROPERTY_]},goog.removeUid=function(a){null!==a&&"removeAttribute"in a&&a.removeAttribute(goog.UID_PROPERTY_);try{delete a[goog.UID_PROPERTY_]}catch(b){}},goog.UID_PROPERTY_="closure_uid_"+(1e9*Math.random()>>>0),goog.uidCounter_=0,goog.getHashCode=goog.getUid,goog.removeHashCode=goog.removeUid,goog.cloneObject=function(a){if("object"==(b=goog.typeOf(a))||"array"==b){if(a.clone)return a.clone();var c,b="array"==b?[]:{};for(c in a)b[c]=goog.cloneObject(a[c]);return b}return a},goog.bindNative_=function(a,b,c){return a.call.apply(a.bind,arguments)},goog.bindJs_=function(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(c,d),a.apply(b,c)}}return function(){return a.apply(b,arguments)}},goog.bind=function(a,b,c){return Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?goog.bind=goog.bindNative_:goog.bind=goog.bindJs_,goog.bind.apply(null,arguments)},goog.partial=function(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();return b.push.apply(b,arguments),a.apply(this,b)}},goog.mixin=function(a,b){for(var c in b)a[c]=b[c]},goog.now=goog.TRUSTED_SITE&&Date.now||function(){return+new Date},goog.globalEval=function(a){if(goog.global.execScript)goog.global.execScript(a,"JavaScript");else{if(!goog.global.eval)throw Error("goog.globalEval not available");if(null==goog.evalWorksForGlobals_)if(goog.global.eval("var _evalTest_ = 1;"),void 0!==goog.global._evalTest_){try{delete goog.global._evalTest_}catch(d){}goog.evalWorksForGlobals_=!0}else goog.evalWorksForGlobals_=!1;if(goog.evalWorksForGlobals_)goog.global.eval(a);else{var b=goog.global.document,c=b.createElement("SCRIPT");c.type="text/javascript",c.defer=!1,c.appendChild(b.createTextNode(a)),b.body.appendChild(c),b.body.removeChild(c)}}},goog.evalWorksForGlobals_=null,goog.getCssName=function(a,b){var c=function(a){return goog.cssNameMapping_[a]||a},d=function(a){a=a.split("-");for(var b=[],d=0;d<a.length;d++)b.push(c(a[d]));return b.join("-")};d=goog.cssNameMapping_?"BY_WHOLE"==goog.cssNameMappingStyle_?c:d:function(a){return a};return b?a+"-"+d(b):d(a)},goog.setCssNameMapping=function(a,b){goog.cssNameMapping_=a,goog.cssNameMappingStyle_=b},!COMPILED&&goog.global.CLOSURE_CSS_NAME_MAPPING&&(goog.cssNameMapping_=goog.global.CLOSURE_CSS_NAME_MAPPING),goog.getMsg=function(a,b){return b&&(a=a.replace(/\\{\\$([^}]+)}/g,function(a,d){return null!=b&&d in b?b[d]:a})),a},goog.getMsgWithFallback=function(a,b){return a},goog.exportSymbol=function(a,b,c){goog.exportPath_(a,b,c)},goog.exportProperty=function(a,b,c){a[b]=c},goog.inherits=function(a,b){function c(){}c.prototype=b.prototype,a.superClass_=b.prototype,a.prototype=new c,a.prototype.constructor=a,a.base=function(a,c,f){for(var g=Array(arguments.length-2),h=2;h<arguments.length;h++)g[h-2]=arguments[h];return b.prototype[c].apply(a,g)}},goog.base=function(a,b,c){var d=arguments.callee.caller;if(goog.STRICT_MODE_COMPATIBLE||goog.DEBUG&&!d)throw Error("arguments.caller not defined.  goog.base() cannot be used with strict mode code. See http://www.ecma-international.org/ecma-262/5.1/#sec-C");if(d.superClass_){for(var e=Array(arguments.length-1),f=1;f<arguments.length;f++)e[f-1]=arguments[f];return d.superClass_.constructor.apply(a,e)}for(e=Array(arguments.length-2),f=2;f<arguments.length;f++)e[f-2]=arguments[f];f=!1;for(var g=a.constructor;g;g=g.superClass_&&g.superClass_.constructor)if(g.prototype[b]===d)f=!0;else if(f)return g.prototype[b].apply(a,e);if(a[b]===d)return a.constructor.prototype[b].apply(a,e);throw Error("goog.base called from a method of one name to a method of a different name")},goog.scope=function(a){a.call(goog.global)},COMPILED||(goog.global.COMPILED=COMPILED),goog.defineClass=function(a,b){var c=b.constructor,d=b.statics;return c&&c!=Object.prototype.constructor||(c=function(){throw Error("cannot instantiate an interface (no constructor defined).")}),c=goog.defineClass.createSealingConstructor_(c,a),a&&goog.inherits(c,a),delete b.constructor,delete b.statics,goog.defineClass.applyProperties_(c.prototype,b),null!=d&&(d instanceof Function?d(c):goog.defineClass.applyProperties_(c,d)),c},goog.defineClass.SEAL_CLASS_INSTANCES=goog.DEBUG,goog.defineClass.createSealingConstructor_=function(a,b){if(goog.defineClass.SEAL_CLASS_INSTANCES&&Object.seal instanceof Function){if(b&&b.prototype&&b.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_])return a;var c=function(){var b=a.apply(this,arguments)||this;return b[goog.UID_PROPERTY_]=b[goog.UID_PROPERTY_],this.constructor===c&&Object.seal(b),b};return c}return a},goog.defineClass.OBJECT_PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),goog.defineClass.applyProperties_=function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c]);for(var d=0;d<goog.defineClass.OBJECT_PROTOTYPE_FIELDS_.length;d++)c=goog.defineClass.OBJECT_PROTOTYPE_FIELDS_[d],Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])},goog.tagUnsealableClass=function(a){!COMPILED&&goog.defineClass.SEAL_CLASS_INSTANCES&&(a.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]=!0)},goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_="goog_defineClass_legacy_unsealable",goog.dom={},goog.dom.NodeType={ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12},goog.debug={},goog.debug.Error=function(a){if(Error.captureStackTrace)Error.captureStackTrace(this,goog.debug.Error);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a)),this.reportErrorToServer=!0},goog.inherits(goog.debug.Error,Error),goog.debug.Error.prototype.name="CustomError",goog.string={},goog.string.DETECT_DOUBLE_ESCAPING=!1,goog.string.FORCE_NON_DOM_HTML_UNESCAPING=!1,goog.string.Unicode={NBSP:""},goog.string.startsWith=function(a,b){return 0==a.lastIndexOf(b,0)},goog.string.endsWith=function(a,b){var c=a.length-b.length;return 0<=c&&a.indexOf(b,c)==c},goog.string.caseInsensitiveStartsWith=function(a,b){return 0==goog.string.caseInsensitiveCompare(b,a.substr(0,b.length))},goog.string.caseInsensitiveEndsWith=function(a,b){return 0==goog.string.caseInsensitiveCompare(b,a.substr(a.length-b.length,b.length))},goog.string.caseInsensitiveEquals=function(a,b){return a.toLowerCase()==b.toLowerCase()},goog.string.subs=function(a,b){for(var c=a.split("%s"),d="",e=Array.prototype.slice.call(arguments,1);e.length&&1<c.length;)d+=c.shift()+e.shift();return d+c.join("%s")},goog.string.collapseWhitespace=function(a){return a.replace(/[\\s\\xa0]+/g," ").replace(/^\\s+|\\s+$/g,"")},goog.string.isEmptyOrWhitespace=function(a){return/^[\\s\\xa0]*$/.test(a)},goog.string.isEmptyString=function(a){return 0==a.length},goog.string.isEmpty=goog.string.isEmptyOrWhitespace,goog.string.isEmptyOrWhitespaceSafe=function(a){return goog.string.isEmptyOrWhitespace(goog.string.makeSafe(a))},goog.string.isEmptySafe=goog.string.isEmptyOrWhitespaceSafe,goog.string.isBreakingWhitespace=function(a){return!/[^\\t\\n\\r ]/.test(a)},goog.string.isAlpha=function(a){return!/[^a-zA-Z]/.test(a)},goog.string.isNumeric=function(a){return!/[^0-9]/.test(a)},goog.string.isAlphaNumeric=function(a){return!/[^a-zA-Z0-9]/.test(a)},goog.string.isSpace=function(a){return" "==a},goog.string.isUnicodeChar=function(a){return 1==a.length&&" "<=a&&"~">=a||""<=a&&"">=a},goog.string.stripNewlines=function(a){return a.replace(/(\\r\\n|\\r|\\n)+/g," ")},goog.string.canonicalizeNewlines=function(a){return a.replace(/(\\r\\n|\\r|\\n)/g,"\\n")},goog.string.normalizeWhitespace=function(a){return a.replace(/\\xa0|\\s/g," ")},goog.string.normalizeSpaces=function(a){return a.replace(/\\xa0|[ \\t]+/g," ")},goog.string.collapseBreakingSpaces=function(a){return a.replace(/[\\t\\r\\n ]+/g," ").replace(/^[\\t\\r\\n ]+|[\\t\\r\\n ]+$/g,"")},goog.string.trim=goog.TRUSTED_SITE&&String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^[\\s\\xa0]+|[\\s\\xa0]+$/g,"")},goog.string.trimLeft=function(a){return a.replace(/^[\\s\\xa0]+/,"")},goog.string.trimRight=function(a){return a.replace(/[\\s\\xa0]+$/,"")},goog.string.caseInsensitiveCompare=function(a,b){var c=String(a).toLowerCase(),d=String(b).toLowerCase();return c<d?-1:c==d?0:1},goog.string.numberAwareCompare_=function(a,b,c){if(a==b)return 0;if(!a)return-1;if(!b)return 1;for(var d=a.toLowerCase().match(c),e=b.toLowerCase().match(c),f=Math.min(d.length,e.length),g=0;g<f;g++){c=d[g];var h=e[g];if(c!=h)return a=parseInt(c,10),!isNaN(a)&&(b=parseInt(h,10),!isNaN(b)&&a-b)?a-b:c<h?-1:1}return d.length!=e.length?d.length-e.length:a<b?-1:1},goog.string.intAwareCompare=function(a,b){return goog.string.numberAwareCompare_(a,b,/\\d+|\\D+/g)},goog.string.floatAwareCompare=function(a,b){return goog.string.numberAwareCompare_(a,b,/\\d+|\\.\\d+|\\D+/g)},goog.string.numerateCompare=goog.string.floatAwareCompare,goog.string.urlEncode=function(a){return encodeURIComponent(String(a))},goog.string.urlDecode=function(a){return decodeURIComponent(a.replace(/\\+/g," "))},goog.string.newLineToBr=function(a,b){return a.replace(/(\\r\\n|\\r|\\n)/g,b?"<br />":"<br>")},goog.string.htmlEscape=function(a,b){if(b)a=a.replace(goog.string.AMP_RE_,"&amp;").replace(goog.string.LT_RE_,"&lt;").replace(goog.string.GT_RE_,"&gt;").replace(goog.string.QUOT_RE_,"&quot;").replace(goog.string.SINGLE_QUOTE_RE_,"&#39;").replace(goog.string.NULL_RE_,"&#0;"),goog.string.DETECT_DOUBLE_ESCAPING&&(a=a.replace(goog.string.E_RE_,"&#101;"));else{if(!goog.string.ALL_RE_.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(goog.string.AMP_RE_,"&amp;")),-1!=a.indexOf("<")&&(a=a.replace(goog.string.LT_RE_,"&lt;")),-1!=a.indexOf(">")&&(a=a.replace(goog.string.GT_RE_,"&gt;")),-1!=a.indexOf(\'"\')&&(a=a.replace(goog.string.QUOT_RE_,"&quot;")),-1!=a.indexOf("\'")&&(a=a.replace(goog.string.SINGLE_QUOTE_RE_,"&#39;")),-1!=a.indexOf("\\0")&&(a=a.replace(goog.string.NULL_RE_,"&#0;")),goog.string.DETECT_DOUBLE_ESCAPING&&-1!=a.indexOf("e")&&(a=a.replace(goog.string.E_RE_,"&#101;"))}return a},goog.string.AMP_RE_=/&/g,goog.string.LT_RE_=/</g,goog.string.GT_RE_=/>/g,goog.string.QUOT_RE_=/"/g,goog.string.SINGLE_QUOTE_RE_=/\'/g,goog.string.NULL_RE_=/\\x00/g,goog.string.E_RE_=/e/g,goog.string.ALL_RE_=goog.string.DETECT_DOUBLE_ESCAPING?/[\\x00&<>"\'e]/:/[\\x00&<>"\']/,goog.string.unescapeEntities=function(a){return goog.string.contains(a,"&")?!goog.string.FORCE_NON_DOM_HTML_UNESCAPING&&"document"in goog.global?goog.string.unescapeEntitiesUsingDom_(a):goog.string.unescapePureXmlEntities_(a):a},goog.string.unescapeEntitiesWithDocument=function(a,b){return goog.string.contains(a,"&")?goog.string.unescapeEntitiesUsingDom_(a,b):a},goog.string.unescapeEntitiesUsingDom_=function(a,b){var d,c={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":\'"\'};return d=b?b.createElement("div"):goog.global.document.createElement("div"),a.replace(goog.string.HTML_ENTITY_PATTERN_,function(a,b){var g=c[a];if(g)return g;if("#"==b.charAt(0)){var h=Number("0"+b.substr(1));isNaN(h)||(g=String.fromCharCode(h))}return g||(d.innerHTML=a+" ",g=d.firstChild.nodeValue.slice(0,-1)),c[a]=g})},goog.string.unescapePureXmlEntities_=function(a){return a.replace(/&([^;]+);/g,function(a,c){switch(c){case"amp":return"&";case"lt":return"<";case"gt":return">";case"quot":return\'"\';default:if("#"==c.charAt(0)){var d=Number("0"+c.substr(1));if(!isNaN(d))return String.fromCharCode(d)}return a}})},goog.string.HTML_ENTITY_PATTERN_=/&([^;\\s<&]+);?/g,goog.string.whitespaceEscape=function(a,b){return goog.string.newLineToBr(a.replace(/  /g," &#160;"),b)},goog.string.preserveSpaces=function(a){return a.replace(/(^|[\\n ]) /g,"$1"+goog.string.Unicode.NBSP)},goog.string.stripQuotes=function(a,b){for(var c=b.length,d=0;d<c;d++){var e=1==c?b:b.charAt(d);if(a.charAt(0)==e&&a.charAt(a.length-1)==e)return a.substring(1,a.length-1)}return a},goog.string.truncate=function(a,b,c){return c&&(a=goog.string.unescapeEntities(a)),a.length>b&&(a=a.substring(0,b-3)+"..."),c&&(a=goog.string.htmlEscape(a)),a},goog.string.truncateMiddle=function(a,b,c,d){if(c&&(a=goog.string.unescapeEntities(a)),d&&a.length>b){d>b&&(d=b);var e=a.length-d;a=a.substring(0,b-d)+"..."+a.substring(e)}else a.length>b&&(d=Math.floor(b/2),e=a.length-d,a=a.substring(0,d+b%2)+"..."+a.substring(e));return c&&(a=goog.string.htmlEscape(a)),a},goog.string.specialEscapeChars_={"\\0":"\\\\0","\\b":"\\\\b","\\f":"\\\\f","\\n":"\\\\n","\\r":"\\\\r","\\t":"\\\\t","\\v":"\\\\x0B",\'"\':\'\\\\"\',"\\\\":"\\\\\\\\","<":"<"},goog.string.jsEscapeCache_={"\'":"\\\\\'"},goog.string.quote=function(a){a=String(a);for(var b=[\'"\'],c=0;c<a.length;c++){var d=a.charAt(c),e=d.charCodeAt(0);b[c+1]=goog.string.specialEscapeChars_[d]||(31<e&&127>e?d:goog.string.escapeChar(d))}return b.push(\'"\'),b.join("")},goog.string.escapeString=function(a){for(var b=[],c=0;c<a.length;c++)b[c]=goog.string.escapeChar(a.charAt(c));return b.join("")},goog.string.escapeChar=function(a){if(a in goog.string.jsEscapeCache_)return goog.string.jsEscapeCache_[a];if(a in goog.string.specialEscapeChars_)return goog.string.jsEscapeCache_[a]=goog.string.specialEscapeChars_[a];var b,c=a.charCodeAt(0);return 31<c&&127>c?b=a:(256>c?(b="\\\\x",(16>c||256<c)&&(b+="0")):(b="\\\\u",4096>c&&(b+="0")),b+=c.toString(16).toUpperCase()),goog.string.jsEscapeCache_[a]=b},goog.string.contains=function(a,b){return-1!=a.indexOf(b)},goog.string.caseInsensitiveContains=function(a,b){return goog.string.contains(a.toLowerCase(),b.toLowerCase())},goog.string.countOf=function(a,b){return a&&b?a.split(b).length-1:0},goog.string.removeAt=function(a,b,c){var d=a;return 0<=b&&b<a.length&&0<c&&(d=a.substr(0,b)+a.substr(b+c,a.length-b-c)),d},goog.string.remove=function(a,b){var c=new RegExp(goog.string.regExpEscape(b),"");return a.replace(c,"")},goog.string.removeAll=function(a,b){var c=new RegExp(goog.string.regExpEscape(b),"g");return a.replace(c,"")},goog.string.regExpEscape=function(a){return String(a).replace(/([-()\\[\\]{}+?*.$\\^|,:#<!\\\\])/g,"\\\\$1").replace(/\\x08/g,"\\\\x08")},goog.string.repeat=String.prototype.repeat?function(a,b){return a.repeat(b)}:function(a,b){return Array(b+1).join(a)},goog.string.padNumber=function(a,b,c){return-1==(c=(a=goog.isDef(c)?a.toFixed(c):String(a)).indexOf("."))&&(c=a.length),goog.string.repeat("0",Math.max(0,b-c))+a},goog.string.makeSafe=function(a){return null==a?"":String(a)},goog.string.buildString=function(a){return Array.prototype.join.call(arguments,"")},goog.string.getRandomString=function(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^goog.now()).toString(36)},goog.string.compareVersions=function(a,b){for(var c=0,d=goog.string.trim(String(a)).split("."),e=goog.string.trim(String(b)).split("."),f=Math.max(d.length,e.length),g=0;0==c&&g<f;g++){var h=d[g]||"",k=e[g]||"",l=RegExp("(\\\\d*)(\\\\D*)","g"),p=RegExp("(\\\\d*)(\\\\D*)","g");do{var m=l.exec(h)||["","",""],n=p.exec(k)||["","",""];if(0==m[0].length&&0==n[0].length)break;c=0==m[1].length?0:parseInt(m[1],10);var q=0==n[1].length?0:parseInt(n[1],10);c=goog.string.compareElements_(c,q)||goog.string.compareElements_(0==m[2].length,0==n[2].length)||goog.string.compareElements_(m[2],n[2])}while(0==c)}return c},goog.string.compareElements_=function(a,b){return a<b?-1:a>b?1:0},goog.string.hashCode=function(a){for(var b=0,c=0;c<a.length;++c)b=31*b+a.charCodeAt(c)>>>0;return b},goog.string.uniqueStringCounter_=2147483648*Math.random()|0,goog.string.createUniqueString=function(){return"goog_"+goog.string.uniqueStringCounter_++},goog.string.toNumber=function(a){var b=Number(a);return 0==b&&goog.string.isEmptyOrWhitespace(a)?NaN:b},goog.string.isLowerCamelCase=function(a){return/^[a-z]+([A-Z][a-z]*)*$/.test(a)},goog.string.isUpperCamelCase=function(a){return/^([A-Z][a-z]*)+$/.test(a)},goog.string.toCamelCase=function(a){return String(a).replace(/\\-([a-z])/g,function(a,c){return c.toUpperCase()})},goog.string.toSelectorCase=function(a){return String(a).replace(/([A-Z])/g,"-$1").toLowerCase()},goog.string.toTitleCase=function(a,b){var c=goog.isString(b)?goog.string.regExpEscape(b):"\\\\s";return a.replace(new RegExp("(^"+(c?"|["+c+"]+":"")+")([a-z])","g"),function(a,b,c){return b+c.toUpperCase()})},goog.string.capitalize=function(a){return String(a.charAt(0)).toUpperCase()+String(a.substr(1)).toLowerCase()},goog.string.parseInt=function(a){return isFinite(a)&&(a=String(a)),goog.isString(a)?/^\\s*-?0x/i.test(a)?parseInt(a,16):parseInt(a,10):NaN},goog.string.splitLimit=function(a,b,c){a=a.split(b);for(var d=[];0<c&&a.length;)d.push(a.shift()),c--;return a.length&&d.push(a.join(b)),d},goog.string.editDistance=function(a,b){var c=[],d=[];if(a==b)return 0;if(!a.length||!b.length)return Math.max(a.length,b.length);for(var e=0;e<b.length+1;e++)c[e]=e;for(e=0;e<a.length;e++){d[0]=e+1;for(var f=0;f<b.length;f++)d[f+1]=Math.min(d[f]+1,c[f+1]+1,c[f]+Number(a[e]!=b[f]));for(f=0;f<c.length;f++)c[f]=d[f]}return d[b.length]},goog.asserts={},goog.asserts.ENABLE_ASSERTS=goog.DEBUG,goog.asserts.AssertionError=function(a,b){b.unshift(a),goog.debug.Error.call(this,goog.string.subs.apply(null,b)),b.shift(),this.messagePattern=a},goog.inherits(goog.asserts.AssertionError,goog.debug.Error),goog.asserts.AssertionError.prototype.name="AssertionError",goog.asserts.DEFAULT_ERROR_HANDLER=function(a){throw a},goog.asserts.errorHandler_=goog.asserts.DEFAULT_ERROR_HANDLER,goog.asserts.doAssertFailure_=function(a,b,c,d){var e="Assertion failed";if(c){e=e+": "+c;var f=d}else a&&(e+=": "+a,f=b);a=new goog.asserts.AssertionError(""+e,f||[]),goog.asserts.errorHandler_(a)},goog.asserts.setErrorHandler=function(a){goog.asserts.ENABLE_ASSERTS&&(goog.asserts.errorHandler_=a)},goog.asserts.assert=function(a,b,c){return goog.asserts.ENABLE_ASSERTS&&!a&&goog.asserts.doAssertFailure_("",null,b,Array.prototype.slice.call(arguments,2)),a},goog.asserts.fail=function(a,b){goog.asserts.ENABLE_ASSERTS&&goog.asserts.errorHandler_(new goog.asserts.AssertionError("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1)))},goog.asserts.assertNumber=function(a,b,c){return goog.asserts.ENABLE_ASSERTS&&!goog.isNumber(a)&&goog.asserts.doAssertFailure_("Expected number but got %s: %s.",[goog.typeOf(a),a],b,Array.prototype.slice.call(arguments,2)),a},goog.asserts.assertString=function(a,b,c){return goog.asserts.ENABLE_ASSERTS&&!goog.isString(a)&&goog.asserts.doAssertFailure_("Expected string but got %s: %s.",[goog.typeOf(a),a],b,Array.prototype.slice.call(arguments,2)),a},goog.asserts.assertFunction=function(a,b,c){return goog.asserts.ENABLE_ASSERTS&&!goog.isFunction(a)&&goog.asserts.doAssertFailure_("Expected function but got %s: %s.",[goog.typeOf(a),a],b,Array.prototype.slice.call(arguments,2)),a},goog.asserts.assertObject=function(a,b,c){return goog.asserts.ENABLE_ASSERTS&&!goog.isObject(a)&&goog.asserts.doAssertFailure_("Expected object but got %s: %s.",[goog.typeOf(a),a],b,Array.prototype.slice.call(arguments,2)),a},goog.asserts.assertArray=function(a,b,c){return goog.asserts.ENABLE_ASSERTS&&!goog.isArray(a)&&goog.asserts.doAssertFailure_("Expected array but got %s: %s.",[goog.typeOf(a),a],b,Array.prototype.slice.call(arguments,2)),a},goog.asserts.assertBoolean=function(a,b,c){return goog.asserts.ENABLE_ASSERTS&&!goog.isBoolean(a)&&goog.asserts.doAssertFailure_("Expected boolean but got %s: %s.",[goog.typeOf(a),a],b,Array.prototype.slice.call(arguments,2)),a},goog.asserts.assertElement=function(a,b,c){return!goog.asserts.ENABLE_ASSERTS||goog.isObject(a)&&a.nodeType==goog.dom.NodeType.ELEMENT||goog.asserts.doAssertFailure_("Expected Element but got %s: %s.",[goog.typeOf(a),a],b,Array.prototype.slice.call(arguments,2)),a},goog.asserts.assertInstanceof=function(a,b,c,d){return!goog.asserts.ENABLE_ASSERTS||a instanceof b||goog.asserts.doAssertFailure_("Expected instanceof %s but got %s.",[goog.asserts.getType_(b),goog.asserts.getType_(a)],c,Array.prototype.slice.call(arguments,3)),a},goog.asserts.assertObjectPrototypeIsIntact=function(){for(var a in Object.prototype)goog.asserts.fail(a+" should not be enumerable in Object.prototype.")},goog.asserts.getType_=function(a){return a instanceof Function?a.displayName||a.name||"unknown type name":a instanceof Object?a.constructor.displayName||a.constructor.name||Object.prototype.toString.call(a):null===a?"null":typeof a};var jspb={Map:function(a,b){this.arr_=a,this.valueCtor_=b,this.map_={},this.arrClean=!0,0<this.arr_.length&&this.loadFromArray_()}},a,b;jspb.Map.prototype.loadFromArray_=function(){for(var a=0;a<this.arr_.length;a++){var b=this.arr_[a],c=b[0];this.map_[c.toString()]=new jspb.Map.Entry_(c,b[1])}this.arrClean=!0},jspb.Map.prototype.toArray=function(){if(this.arrClean){if(this.valueCtor_){var b,a=this.map_;for(b in a)if(Object.prototype.hasOwnProperty.call(a,b)){var c=a[b].valueWrapper;c&&c.toArray()}}}else{for(this.arr_.length=0,(a=this.stringKeys_()).sort(),b=0;b<a.length;b++){var d=this.map_[a[b]];(c=d.valueWrapper)&&c.toArray(),this.arr_.push([d.key,d.value])}this.arrClean=!0}return this.arr_},jspb.Map.prototype.toObject=function(a,b){for(var c=this.toArray(),d=[],e=0;e<c.length;e++){var f=this.map_[c[e][0].toString()];this.wrapEntry_(f);var g=f.valueWrapper;g?(goog.asserts.assert(b),d.push([f.key,b(a,g)])):d.push([f.key,f.value])}return d},jspb.Map.fromObject=function(a,b,c){b=new jspb.Map([],b);for(var d=0;d<a.length;d++){var e=a[d][0],f=c(a[d][1]);b.set(e,f)}return b},jspb.Map.ArrayIteratorIterable_=function(a){this.idx_=0,this.arr_=a},jspb.Map.ArrayIteratorIterable_.prototype.next=function(){return this.idx_<this.arr_.length?{done:!1,value:this.arr_[this.idx_++]}:{done:!0,value:void 0}},$jscomp.initSymbol(),"undefined"!=typeof Symbol&&($jscomp.initSymbol(),$jscomp.initSymbolIterator(),jspb.Map.ArrayIteratorIterable_.prototype[Symbol.iterator]=function(){return this}),jspb.Map.prototype.getLength=function(){return this.stringKeys_().length},jspb.Map.prototype.clear=function(){this.map_={},this.arrClean=!1},jspb.Map.prototype.del=function(a){a=a.toString();var b=this.map_.hasOwnProperty(a);return delete this.map_[a],this.arrClean=!1,b},jspb.Map.prototype.getEntryList=function(){var a=[],b=this.stringKeys_();b.sort();for(var c=0;c<b.length;c++){var d=this.map_[b[c]];a.push([d.key,d.value])}return a},jspb.Map.prototype.entries=function(){var a=[],b=this.stringKeys_();b.sort();for(var c=0;c<b.length;c++){var d=this.map_[b[c]];a.push([d.key,this.wrapEntry_(d)])}return new jspb.Map.ArrayIteratorIterable_(a)},jspb.Map.prototype.keys=function(){var a=[],b=this.stringKeys_();b.sort();for(var c=0;c<b.length;c++)a.push(this.map_[b[c]].key);return new jspb.Map.ArrayIteratorIterable_(a)},jspb.Map.prototype.values=function(){var a=[],b=this.stringKeys_();b.sort();for(var c=0;c<b.length;c++)a.push(this.wrapEntry_(this.map_[b[c]]));return new jspb.Map.ArrayIteratorIterable_(a)},jspb.Map.prototype.forEach=function(a,b){var c=this.stringKeys_();c.sort();for(var d=0;d<c.length;d++){var e=this.map_[c[d]];a.call(b,this.wrapEntry_(e),e.key,this)}},jspb.Map.prototype.set=function(a,b){var c=new jspb.Map.Entry_(a);return this.valueCtor_?(c.valueWrapper=b,c.value=b.toArray()):c.value=b,this.map_[a.toString()]=c,this.arrClean=!1,this},jspb.Map.prototype.wrapEntry_=function(a){return this.valueCtor_?(a.valueWrapper||(a.valueWrapper=new this.valueCtor_(a.value)),a.valueWrapper):a.value},jspb.Map.prototype.get=function(a){if(a=this.map_[a.toString()])return this.wrapEntry_(a)},jspb.Map.prototype.has=function(a){return a.toString()in this.map_},jspb.Map.prototype.serializeBinary=function(a,b,c,d,e){var f=this.stringKeys_();f.sort();for(var g=0;g<f.length;g++){var h=this.map_[f[g]];b.beginSubMessage(a),c.call(b,1,h.key),this.valueCtor_?d.call(b,2,this.wrapEntry_(h),e):d.call(b,2,h.value),b.endSubMessage()}},jspb.Map.deserializeBinary=function(a,b,c,d,e,f){for(var g=void 0;b.nextField()&&!b.isEndGroup();){var h=b.getFieldNumber();1==h?f=c.call(b):2==h&&(a.valueCtor_?(goog.asserts.assert(e),g=new a.valueCtor_,d.call(b,g,e)):g=d.call(b))}goog.asserts.assert(void 0!=f),goog.asserts.assert(void 0!=g),a.set(f,g)},jspb.Map.prototype.stringKeys_=function(){var c,a=this.map_,b=[];for(c in a)Object.prototype.hasOwnProperty.call(a,c)&&b.push(c);return b},jspb.Map.Entry_=function(a,b){this.key=a,this.value=b,this.valueWrapper=void 0},goog.array={},goog.NATIVE_ARRAY_PROTOTYPES=goog.TRUSTED_SITE,goog.array.ASSUME_NATIVE_FUNCTIONS=!1,goog.array.peek=function(a){return a[a.length-1]},goog.array.last=goog.array.peek,goog.array.indexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.indexOf)?function(a,b,c){return goog.asserts.assert(null!=a.length),Array.prototype.indexOf.call(a,b,c)}:function(a,b,c){if(c=null==c?0:0>c?Math.max(0,a.length+c):c,goog.isString(a))return goog.isString(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},goog.array.lastIndexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.lastIndexOf)?function(a,b,c){return goog.asserts.assert(null!=a.length),Array.prototype.lastIndexOf.call(a,b,null==c?a.length-1:c)}:function(a,b,c){if(0>(c=null==c?a.length-1:c)&&(c=Math.max(0,a.length+c)),goog.isString(a))return goog.isString(b)&&1==b.length?a.lastIndexOf(b,c):-1;for(;0<=c;c--)if(c in a&&a[c]===b)return c;return-1},goog.array.forEach=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.forEach)?function(a,b,c){goog.asserts.assert(null!=a.length),Array.prototype.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=goog.isString(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},goog.array.forEachRight=function(a,b,c){var d=a.length,e=goog.isString(a)?a.split(""):a;for(d=d-1;0<=d;--d)d in e&&b.call(c,e[d],d,a)},goog.array.filter=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.filter)?function(a,b,c){return goog.asserts.assert(null!=a.length),Array.prototype.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=[],f=0,g=goog.isString(a)?a.split(""):a,h=0;h<d;h++)if(h in g){var k=g[h];b.call(c,k,h,a)&&(e[f++]=k)}return e},goog.array.map=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.map)?function(a,b,c){return goog.asserts.assert(null!=a.length),Array.prototype.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=goog.isString(a)?a.split(""):a,g=0;g<d;g++)g in f&&(e[g]=b.call(c,f[g],g,a));return e},goog.array.reduce=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.reduce)?function(a,b,c,d){return goog.asserts.assert(null!=a.length),d&&(b=goog.bind(b,d)),Array.prototype.reduce.call(a,b,c)}:function(a,b,c,d){var e=c;return goog.array.forEach(a,function(c,g){e=b.call(d,e,c,g,a)}),e},goog.array.reduceRight=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.reduceRight)?function(a,b,c,d){return goog.asserts.assert(null!=a.length),goog.asserts.assert(null!=b),d&&(b=goog.bind(b,d)),Array.prototype.reduceRight.call(a,b,c)}:function(a,b,c,d){var e=c;return goog.array.forEachRight(a,function(c,g){e=b.call(d,e,c,g,a)}),e},goog.array.some=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.some)?function(a,b,c){return goog.asserts.assert(null!=a.length),Array.prototype.some.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=goog.isString(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a))return!0;return!1},goog.array.every=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.every)?function(a,b,c){return goog.asserts.assert(null!=a.length),Array.prototype.every.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=goog.isString(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&!b.call(c,e[f],f,a))return!1;return!0},goog.array.count=function(a,b,c){var d=0;return goog.array.forEach(a,function(a,f,g){b.call(c,a,f,g)&&++d},c),d},goog.array.find=function(a,b,c){return 0>(b=goog.array.findIndex(a,b,c))?null:goog.isString(a)?a.charAt(b):a[b]},goog.array.findIndex=function(a,b,c){for(var d=a.length,e=goog.isString(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a))return f;return-1},goog.array.findRight=function(a,b,c){return 0>(b=goog.array.findIndexRight(a,b,c))?null:goog.isString(a)?a.charAt(b):a[b]},goog.array.findIndexRight=function(a,b,c){var d=a.length,e=goog.isString(a)?a.split(""):a;for(d=d-1;0<=d;d--)if(d in e&&b.call(c,e[d],d,a))return d;return-1},goog.array.contains=function(a,b){return 0<=goog.array.indexOf(a,b)},goog.array.isEmpty=function(a){return 0==a.length},goog.array.clear=function(a){if(!goog.isArray(a))for(var b=a.length-1;0<=b;b--)delete a[b];a.length=0},goog.array.insert=function(a,b){goog.array.contains(a,b)||a.push(b)},goog.array.insertAt=function(a,b,c){goog.array.splice(a,c,0,b)},goog.array.insertArrayAt=function(a,b,c){goog.partial(goog.array.splice,a,c,0).apply(null,b)},goog.array.insertBefore=function(a,b,c){var d;2==arguments.length||0>(d=goog.array.indexOf(a,c))?a.push(b):goog.array.insertAt(a,b,d)},goog.array.remove=function(a,b){var d,c=goog.array.indexOf(a,b);return(d=0<=c)&&goog.array.removeAt(a,c),d},goog.array.removeAt=function(a,b){return goog.asserts.assert(null!=a.length),1==Array.prototype.splice.call(a,b,1).length},goog.array.removeIf=function(a,b,c){return 0<=(b=goog.array.findIndex(a,b,c))&&(goog.array.removeAt(a,b),!0)},goog.array.removeAllIf=function(a,b,c){var d=0;return goog.array.forEachRight(a,function(e,f){b.call(c,e,f,a)&&goog.array.removeAt(a,f)&&d++}),d},goog.array.concat=function(a){return Array.prototype.concat.apply(Array.prototype,arguments)},goog.array.join=function(a){return Array.prototype.concat.apply(Array.prototype,arguments)},goog.array.toArray=function(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]},goog.array.clone=goog.array.toArray,goog.array.extend=function(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c];if(goog.isArrayLike(d)){var e=a.length||0,f=d.length||0;a.length=e+f;for(var g=0;g<f;g++)a[e+g]=d[g]}else a.push(d)}},goog.array.splice=function(a,b,c,d){return goog.asserts.assert(null!=a.length),Array.prototype.splice.apply(a,goog.array.slice(arguments,1))},goog.array.slice=function(a,b,c){return goog.asserts.assert(null!=a.length),2>=arguments.length?Array.prototype.slice.call(a,b):Array.prototype.slice.call(a,b,c)},goog.array.removeDuplicates=function(a,b,c){b=b||a;var d=function(a){return goog.isObject(a)?"o"+goog.getUid(a):(typeof a).charAt(0)+a};c=c||d;d={};for(var e=0,f=0;f<a.length;){var g=a[f++],h=c(g);Object.prototype.hasOwnProperty.call(d,h)||(d[h]=!0,b[e++]=g)}b.length=e},goog.array.binarySearch=function(a,b,c){return goog.array.binarySearch_(a,c||goog.array.defaultCompare,!1,b)},goog.array.binarySelect=function(a,b,c){return goog.array.binarySearch_(a,b,!0,void 0,c)},goog.array.binarySearch_=function(a,b,c,d,e){for(var h,f=0,g=a.length;f<g;){var l,k=f+g>>1;0<(l=c?b.call(e,a[k],k,a):b(d,a[k]))?f=k+1:(g=k,h=!l)}return h?f:~f},goog.array.sort=function(a,b){a.sort(b||goog.array.defaultCompare)},goog.array.stableSort=function(a,b){for(var c=0;c<a.length;c++)a[c]={index:c,value:a[c]};var d=b||goog.array.defaultCompare;for(goog.array.sort(a,function(a,b){return d(a.value,b.value)||a.index-b.index}),c=0;c<a.length;c++)a[c]=a[c].value},goog.array.sortByKey=function(a,b,c){var d=c||goog.array.defaultCompare;goog.array.sort(a,function(a,c){return d(b(a),b(c))})},goog.array.sortObjectsByKey=function(a,b,c){goog.array.sortByKey(a,function(a){return a[b]},c)},goog.array.isSorted=function(a,b,c){b=b||goog.array.defaultCompare;for(var d=1;d<a.length;d++){var e=b(a[d-1],a[d]);if(0<e||0==e&&c)return!1}return!0},goog.array.equals=function(a,b,c){if(!goog.isArrayLike(a)||!goog.isArrayLike(b)||a.length!=b.length)return!1;var d=a.length;c=c||goog.array.defaultCompareEquality;for(var e=0;e<d;e++)if(!c(a[e],b[e]))return!1;return!0},goog.array.compare3=function(a,b,c){c=c||goog.array.defaultCompare;for(var d=Math.min(a.length,b.length),e=0;e<d;e++){var f=c(a[e],b[e]);if(0!=f)return f}return goog.array.defaultCompare(a.length,b.length)},goog.array.defaultCompare=function(a,b){return a>b?1:a<b?-1:0},goog.array.inverseDefaultCompare=function(a,b){return-goog.array.defaultCompare(a,b)},goog.array.defaultCompareEquality=function(a,b){return a===b},goog.array.binaryInsert=function(a,b,c){return 0>(c=goog.array.binarySearch(a,b,c))&&(goog.array.insertAt(a,b,-(c+1)),!0)},goog.array.binaryRemove=function(a,b,c){return 0<=(b=goog.array.binarySearch(a,b,c))&&goog.array.removeAt(a,b)},goog.array.bucket=function(a,b,c){for(var d={},e=0;e<a.length;e++){var f=a[e],g=b.call(c,f,e,a);goog.isDef(g)&&(d[g]||(d[g]=[])).push(f)}return d},goog.array.toObject=function(a,b,c){var d={};return goog.array.forEach(a,function(e,f){d[b.call(c,e,f,a)]=e}),d},goog.array.range=function(a,b,c){var d=[],e=0,f=a;if(c=c||1,void 0!==b&&(e=a,f=b),0>c*(f-e))return[];if(0<c)for(a=e;a<f;a+=c)d.push(a);else for(a=e;a>f;a+=c)d.push(a);return d},goog.array.repeat=function(a,b){for(var c=[],d=0;d<b;d++)c[d]=a;return c},goog.array.flatten=function(a){for(var b=[],c=0;c<arguments.length;c++){var d=arguments[c];if(goog.isArray(d))for(var e=0;e<d.length;e+=8192)for(var f=goog.array.slice(d,e,e+8192),g=(f=goog.array.flatten.apply(null,f),0);g<f.length;g++)b.push(f[g]);else b.push(d)}return b},goog.array.rotate=function(a,b){return goog.asserts.assert(null!=a.length),a.length&&(0<(b%=a.length)?Array.prototype.unshift.apply(a,a.splice(-b,b)):0>b&&Array.prototype.push.apply(a,a.splice(0,-b))),a},goog.array.moveItem=function(a,b,c){goog.asserts.assert(0<=b&&b<a.length),goog.asserts.assert(0<=c&&c<a.length),b=Array.prototype.splice.call(a,b,1),Array.prototype.splice.call(a,c,0,b[0])},goog.array.zip=function(a){if(!arguments.length)return[];for(var b=[],c=arguments[0].length,d=1;d<arguments.length;d++)arguments[d].length<c&&(c=arguments[d].length);for(d=0;d<c;d++){for(var e=[],f=0;f<arguments.length;f++)e.push(arguments[f][d]);b.push(e)}return b},goog.array.shuffle=function(a,b){for(var c=b||Math.random,d=a.length-1;0<d;d--){var e=Math.floor(c()*(d+1)),f=a[d];a[d]=a[e],a[e]=f}},goog.array.copyByIndex=function(a,b){var c=[];return goog.array.forEach(b,function(b){c.push(a[b])}),c},jspb.BinaryConstants={},jspb.ConstBinaryMessage=function(){},jspb.BinaryMessage=function(){},jspb.BinaryConstants.FieldType={INVALID:-1,DOUBLE:1,FLOAT:2,INT64:3,UINT64:4,INT32:5,FIXED64:6,FIXED32:7,BOOL:8,STRING:9,GROUP:10,MESSAGE:11,BYTES:12,UINT32:13,ENUM:14,SFIXED32:15,SFIXED64:16,SINT32:17,SINT64:18,FHASH64:30,VHASH64:31},jspb.BinaryConstants.WireType={INVALID:-1,VARINT:0,FIXED64:1,DELIMITED:2,START_GROUP:3,END_GROUP:4,FIXED32:5},jspb.BinaryConstants.FieldTypeToWireType=function(a){var b=jspb.BinaryConstants.FieldType,c=jspb.BinaryConstants.WireType;switch(a){case b.INT32:case b.INT64:case b.UINT32:case b.UINT64:case b.SINT32:case b.SINT64:case b.BOOL:case b.ENUM:case b.VHASH64:return c.VARINT;case b.DOUBLE:case b.FIXED64:case b.SFIXED64:case b.FHASH64:return c.FIXED64;case b.STRING:case b.MESSAGE:case b.BYTES:return c.DELIMITED;case b.FLOAT:case b.FIXED32:case b.SFIXED32:return c.FIXED32;default:return c.INVALID}},jspb.BinaryConstants.INVALID_FIELD_NUMBER=-1,jspb.BinaryConstants.FLOAT32_EPS=1.401298464324817e-45,jspb.BinaryConstants.FLOAT32_MIN=1.1754943508222875e-38,jspb.BinaryConstants.FLOAT32_MAX=3.4028234663852886e38,jspb.BinaryConstants.FLOAT64_EPS=5e-324,jspb.BinaryConstants.FLOAT64_MIN=2.2250738585072014e-308,jspb.BinaryConstants.FLOAT64_MAX=1.7976931348623157e308,jspb.BinaryConstants.TWO_TO_20=1048576,jspb.BinaryConstants.TWO_TO_23=8388608,jspb.BinaryConstants.TWO_TO_31=2147483648,jspb.BinaryConstants.TWO_TO_32=4294967296,jspb.BinaryConstants.TWO_TO_52=4503599627370496,jspb.BinaryConstants.TWO_TO_63=0x8000000000000000,jspb.BinaryConstants.TWO_TO_64=0x10000000000000000,jspb.BinaryConstants.ZERO_HASH="\\0\\0\\0\\0\\0\\0\\0\\0",goog.crypt={},goog.crypt.stringToByteArray=function(a){for(var b=[],c=0,d=0;d<a.length;d++){for(var e=a.charCodeAt(d);255<e;)b[c++]=255&e,e>>=8;b[c++]=e}return b},goog.crypt.byteArrayToString=function(a){if(8192>=a.length)return String.fromCharCode.apply(null,a);for(var b="",c=0;c<a.length;c+=8192){var d=goog.array.slice(a,c,c+8192);b=b+String.fromCharCode.apply(null,d)}return b},goog.crypt.byteArrayToHex=function(a){return goog.array.map(a,function(a){return 1<(a=a.toString(16)).length?a:"0"+a}).join("")},goog.crypt.hexToByteArray=function(a){goog.asserts.assert(0==a.length%2,"Key string length must be multiple of 2");for(var b=[],c=0;c<a.length;c+=2)b.push(parseInt(a.substring(c,c+2),16));return b},goog.crypt.stringToUtf8ByteArray=function(a){for(var b=[],c=0,d=0;d<a.length;d++){var e=a.charCodeAt(d);128>e?b[c++]=e:(2048>e?b[c++]=e>>6|192:(55296==(64512&e)&&d+1<a.length&&56320==(64512&a.charCodeAt(d+1))?(e=65536+((1023&e)<<10)+(1023&a.charCodeAt(++d)),b[c++]=e>>18|240,b[c++]=e>>12&63|128):b[c++]=e>>12|224,b[c++]=e>>6&63|128),b[c++]=63&e|128)}return b},goog.crypt.utf8ByteArrayToString=function(a){for(var b=[],c=0,d=0;c<a.length;){if(128>(e=a[c++]))b[d++]=String.fromCharCode(e);else if(191<e&&224>e){var f=a[c++];b[d++]=String.fromCharCode((31&e)<<6|63&f)}else if(239<e&&365>e){f=a[c++];var g=a[c++],e=((7&e)<<18|(63&f)<<12|(63&g)<<6|63&a[c++])-65536;b[d++]=String.fromCharCode(55296+(e>>10)),b[d++]=String.fromCharCode(56320+(1023&e))}else f=a[c++],g=a[c++],b[d++]=String.fromCharCode((15&e)<<12|(63&f)<<6|63&g)}return b.join("")},goog.crypt.xorByteArray=function(a,b){goog.asserts.assert(a.length==b.length,"XOR array lengths must match");for(var c=[],d=0;d<a.length;d++)c.push(a[d]^b[d]);return c},goog.labs={},goog.labs.userAgent={},goog.labs.userAgent.util={},goog.labs.userAgent.util.getNativeUserAgentString_=function(){var a=goog.labs.userAgent.util.getNavigator_();return a&&(a=a.userAgent)?a:""},goog.labs.userAgent.util.getNavigator_=function(){return goog.global.navigator},goog.labs.userAgent.util.userAgent_=goog.labs.userAgent.util.getNativeUserAgentString_(),goog.labs.userAgent.util.setUserAgent=function(a){goog.labs.userAgent.util.userAgent_=a||goog.labs.userAgent.util.getNativeUserAgentString_()},goog.labs.userAgent.util.getUserAgent=function(){return goog.labs.userAgent.util.userAgent_},goog.labs.userAgent.util.matchUserAgent=function(a){var b=goog.labs.userAgent.util.getUserAgent();return goog.string.contains(b,a)},goog.labs.userAgent.util.matchUserAgentIgnoreCase=function(a){var b=goog.labs.userAgent.util.getUserAgent();return goog.string.caseInsensitiveContains(b,a)},goog.labs.userAgent.util.extractVersionTuples=function(a){for(var d,b=RegExp("(\\\\w[\\\\w ]+)/([^\\\\s]+)\\\\s*(?:\\\\((.*?)\\\\))?","g"),c=[];d=b.exec(a);)c.push([d[1],d[2],d[3]||void 0]);return c},goog.labs.userAgent.platform={},goog.labs.userAgent.platform.isAndroid=function(){return goog.labs.userAgent.util.matchUserAgent("Android")},goog.labs.userAgent.platform.isIpod=function(){return goog.labs.userAgent.util.matchUserAgent("iPod")},goog.labs.userAgent.platform.isIphone=function(){return goog.labs.userAgent.util.matchUserAgent("iPhone")&&!goog.labs.userAgent.util.matchUserAgent("iPod")&&!goog.labs.userAgent.util.matchUserAgent("iPad")},goog.labs.userAgent.platform.isIpad=function(){return goog.labs.userAgent.util.matchUserAgent("iPad")},goog.labs.userAgent.platform.isIos=function(){return goog.labs.userAgent.platform.isIphone()||goog.labs.userAgent.platform.isIpad()||goog.labs.userAgent.platform.isIpod()},goog.labs.userAgent.platform.isMacintosh=function(){return goog.labs.userAgent.util.matchUserAgent("Macintosh")},goog.labs.userAgent.platform.isLinux=function(){return goog.labs.userAgent.util.matchUserAgent("Linux")},goog.labs.userAgent.platform.isWindows=function(){return goog.labs.userAgent.util.matchUserAgent("Windows")},goog.labs.userAgent.platform.isChromeOS=function(){return goog.labs.userAgent.util.matchUserAgent("CrOS")},goog.labs.userAgent.platform.getVersion=function(){var a=goog.labs.userAgent.util.getUserAgent(),b="";return goog.labs.userAgent.platform.isWindows()?b=(a=(b=/Windows (?:NT|Phone) ([0-9.]+)/).exec(a))?a[1]:"0.0":goog.labs.userAgent.platform.isIos()?b=(a=(b=/(?:iPhone|iPod|iPad|CPU)\\s+OS\\s+(\\S+)/).exec(a))&&a[1].replace(/_/g,"."):goog.labs.userAgent.platform.isMacintosh()?b=(a=(b=/Mac OS X ([0-9_.]+)/).exec(a))?a[1].replace(/_/g,"."):"10":goog.labs.userAgent.platform.isAndroid()?b=(a=(b=/Android\\s+([^\\);]+)(\\)|;)/).exec(a))&&a[1]:goog.labs.userAgent.platform.isChromeOS()&&(b=(a=(b=/(?:CrOS\\s+(?:i686|x86_64)\\s+([0-9.]+))/).exec(a))&&a[1]),b||""},goog.labs.userAgent.platform.isVersionOrHigher=function(a){return 0<=goog.string.compareVersions(goog.labs.userAgent.platform.getVersion(),a)},goog.object={},goog.object.forEach=function(a,b,c){for(var d in a)b.call(c,a[d],d,a)},goog.object.filter=function(a,b,c){var e,d={};for(e in a)b.call(c,a[e],e,a)&&(d[e]=a[e]);return d},goog.object.map=function(a,b,c){var e,d={};for(e in a)d[e]=b.call(c,a[e],e,a);return d},goog.object.some=function(a,b,c){for(var d in a)if(b.call(c,a[d],d,a))return!0;return!1},goog.object.every=function(a,b,c){for(var d in a)if(!b.call(c,a[d],d,a))return!1;return!0},goog.object.getCount=function(a){var c,b=0;for(c in a)b++;return b},goog.object.getAnyKey=function(a){for(var b in a)return b},goog.object.getAnyValue=function(a){for(var b in a)return a[b]},goog.object.contains=function(a,b){return goog.object.containsValue(a,b)},goog.object.getValues=function(a){var d,b=[],c=0;for(d in a)b[c++]=a[d];return b},goog.object.getKeys=function(a){var d,b=[],c=0;for(d in a)b[c++]=d;return b},goog.object.getValueByKeys=function(a,b){for(var d=(c=goog.isArrayLike(b))?b:arguments,c=c?0:1;c<d.length&&(a=a[d[c]],goog.isDef(a));c++);return a},goog.object.containsKey=function(a,b){return null!==a&&b in a},goog.object.containsValue=function(a,b){for(var c in a)if(a[c]==b)return!0;return!1},goog.object.findKey=function(a,b,c){for(var d in a)if(b.call(c,a[d],d,a))return d},goog.object.findValue=function(a,b,c){return(b=goog.object.findKey(a,b,c))&&a[b]},goog.object.isEmpty=function(a){for(var b in a)return!1;return!0},goog.object.clear=function(a){for(var b in a)delete a[b]},goog.object.remove=function(a,b){var c;return(c=b in a)&&delete a[b],c},goog.object.add=function(a,b,c){if(null!==a&&b in a)throw Error(\'The object already contains the key "\'+b+\'"\');goog.object.set(a,b,c)},goog.object.get=function(a,b,c){return null!==a&&b in a?a[b]:c},goog.object.set=function(a,b,c){a[b]=c},goog.object.setIfUndefined=function(a,b,c){return b in a?a[b]:a[b]=c},goog.object.setWithReturnValueIfNotSet=function(a,b,c){return b in a?a[b]:(c=c(),a[b]=c)},goog.object.equals=function(a,b){for(var c in a)if(!(c in b)||a[c]!==b[c])return!1;for(c in b)if(!(c in a))return!1;return!0},goog.object.clone=function(a){var c,b={};for(c in a)b[c]=a[c];return b},goog.object.unsafeClone=function(a){if("object"==(b=goog.typeOf(a))||"array"==b){if(goog.isFunction(a.clone))return a.clone();var c,b="array"==b?[]:{};for(c in a)b[c]=goog.object.unsafeClone(a[c]);return b}return a},goog.object.transpose=function(a){var c,b={};for(c in a)b[a[c]]=c;return b},goog.object.PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),goog.object.extend=function(a,b){for(var c,d,e=1;e<arguments.length;e++){for(c in d=arguments[e])a[c]=d[c];for(var f=0;f<goog.object.PROTOTYPE_FIELDS_.length;f++)c=goog.object.PROTOTYPE_FIELDS_[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}},goog.object.create=function(a){var b=arguments.length;if(1==b&&goog.isArray(arguments[0]))return goog.object.create.apply(null,arguments[0]);if(b%2)throw Error("Uneven number of arguments");for(var c={},d=0;d<b;d+=2)c[arguments[d]]=arguments[d+1];return c},goog.object.createSet=function(a){var b=arguments.length;if(1==b&&goog.isArray(arguments[0]))return goog.object.createSet.apply(null,arguments[0]);for(var c={},d=0;d<b;d++)c[arguments[d]]=!0;return c},goog.object.createImmutableView=function(a){var b=a;return Object.isFrozen&&!Object.isFrozen(a)&&(b=Object.create(a),Object.freeze(b)),b},goog.object.isImmutableView=function(a){return!!Object.isFrozen&&Object.isFrozen(a)},goog.labs.userAgent.browser={},goog.labs.userAgent.browser.matchOpera_=function(){return goog.labs.userAgent.util.matchUserAgent("Opera")||goog.labs.userAgent.util.matchUserAgent("OPR")},goog.labs.userAgent.browser.matchIE_=function(){return goog.labs.userAgent.util.matchUserAgent("Trident")||goog.labs.userAgent.util.matchUserAgent("MSIE")},goog.labs.userAgent.browser.matchEdge_=function(){return goog.labs.userAgent.util.matchUserAgent("Edge")},goog.labs.userAgent.browser.matchFirefox_=function(){return goog.labs.userAgent.util.matchUserAgent("Firefox")},goog.labs.userAgent.browser.matchSafari_=function(){return goog.labs.userAgent.util.matchUserAgent("Safari")&&!(goog.labs.userAgent.browser.matchChrome_()||goog.labs.userAgent.browser.matchCoast_()||goog.labs.userAgent.browser.matchOpera_()||goog.labs.userAgent.browser.matchEdge_()||goog.labs.userAgent.browser.isSilk()||goog.labs.userAgent.util.matchUserAgent("Android"))},goog.labs.userAgent.browser.matchCoast_=function(){return goog.labs.userAgent.util.matchUserAgent("Coast")},goog.labs.userAgent.browser.matchIosWebview_=function(){return(goog.labs.userAgent.util.matchUserAgent("iPad")||goog.labs.userAgent.util.matchUserAgent("iPhone"))&&!goog.labs.userAgent.browser.matchSafari_()&&!goog.labs.userAgent.browser.matchChrome_()&&!goog.labs.userAgent.browser.matchCoast_()&&goog.labs.userAgent.util.matchUserAgent("AppleWebKit")},goog.labs.userAgent.browser.matchChrome_=function(){return(goog.labs.userAgent.util.matchUserAgent("Chrome")||goog.labs.userAgent.util.matchUserAgent("CriOS"))&&!goog.labs.userAgent.browser.matchOpera_()&&!goog.labs.userAgent.browser.matchEdge_()},goog.labs.userAgent.browser.matchAndroidBrowser_=function(){return goog.labs.userAgent.util.matchUserAgent("Android")&&!(goog.labs.userAgent.browser.isChrome()||goog.labs.userAgent.browser.isFirefox()||goog.labs.userAgent.browser.isOpera()||goog.labs.userAgent.browser.isSilk())},goog.labs.userAgent.browser.isOpera=goog.labs.userAgent.browser.matchOpera_,goog.labs.userAgent.browser.isIE=goog.labs.userAgent.browser.matchIE_,goog.labs.userAgent.browser.isEdge=goog.labs.userAgent.browser.matchEdge_,goog.labs.userAgent.browser.isFirefox=goog.labs.userAgent.browser.matchFirefox_,goog.labs.userAgent.browser.isSafari=goog.labs.userAgent.browser.matchSafari_,goog.labs.userAgent.browser.isCoast=goog.labs.userAgent.browser.matchCoast_,goog.labs.userAgent.browser.isIosWebview=goog.labs.userAgent.browser.matchIosWebview_,goog.labs.userAgent.browser.isChrome=goog.labs.userAgent.browser.matchChrome_,goog.labs.userAgent.browser.isAndroidBrowser=goog.labs.userAgent.browser.matchAndroidBrowser_,goog.labs.userAgent.browser.isSilk=function(){return goog.labs.userAgent.util.matchUserAgent("Silk")},goog.labs.userAgent.browser.getVersion=function(){function a(a){return a=goog.array.find(a,d),c[a]||""}var b=goog.labs.userAgent.util.getUserAgent();if(goog.labs.userAgent.browser.isIE())return goog.labs.userAgent.browser.getIEVersion_(b);b=goog.labs.userAgent.util.extractVersionTuples(b);var c={};goog.array.forEach(b,function(a){c[a[0]]=a[1]});var d=goog.partial(goog.object.containsKey,c);return goog.labs.userAgent.browser.isOpera()?a(["Version","Opera","OPR"]):goog.labs.userAgent.browser.isEdge()?a(["Edge"]):goog.labs.userAgent.browser.isChrome()?a(["Chrome","CriOS"]):(b=b[2])&&b[1]||""},goog.labs.userAgent.browser.isVersionOrHigher=function(a){return 0<=goog.string.compareVersions(goog.labs.userAgent.browser.getVersion(),a)},goog.labs.userAgent.browser.getIEVersion_=function(a){if((b=/rv: *([\\d\\.]*)/.exec(a))&&b[1])return b[1];var b="",c=/MSIE +([\\d\\.]+)/.exec(a);if(c&&c[1])if(a=/Trident\\/(\\d.\\d)/.exec(a),"7.0"==c[1])if(a&&a[1])switch(a[1]){case"4.0":b="8.0";break;case"5.0":b="9.0";break;case"6.0":b="10.0";break;case"7.0":b="11.0"}else b="7.0";else b=c[1];return b},goog.labs.userAgent.engine={},goog.labs.userAgent.engine.isPresto=function(){return goog.labs.userAgent.util.matchUserAgent("Presto")},goog.labs.userAgent.engine.isTrident=function(){return goog.labs.userAgent.util.matchUserAgent("Trident")||goog.labs.userAgent.util.matchUserAgent("MSIE")},goog.labs.userAgent.engine.isEdge=function(){return goog.labs.userAgent.util.matchUserAgent("Edge")},goog.labs.userAgent.engine.isWebKit=function(){return goog.labs.userAgent.util.matchUserAgentIgnoreCase("WebKit")&&!goog.labs.userAgent.engine.isEdge()},goog.labs.userAgent.engine.isGecko=function(){return goog.labs.userAgent.util.matchUserAgent("Gecko")&&!goog.labs.userAgent.engine.isWebKit()&&!goog.labs.userAgent.engine.isTrident()&&!goog.labs.userAgent.engine.isEdge()},goog.labs.userAgent.engine.getVersion=function(){if(a=goog.labs.userAgent.util.getUserAgent()){var c,a=goog.labs.userAgent.util.extractVersionTuples(a),b=goog.labs.userAgent.engine.getEngineTuple_(a);if(b)return"Gecko"==b[0]?goog.labs.userAgent.engine.getVersionForKey_(a,"Firefox"):b[1];if((a=a[0])&&(c=a[2])&&(c=/Trident\\/([^\\s;]+)/.exec(c)))return c[1]}return""},goog.labs.userAgent.engine.getEngineTuple_=function(a){if(!goog.labs.userAgent.engine.isEdge())return a[1];for(var b=0;b<a.length;b++){var c=a[b];if("Edge"==c[0])return c}},goog.labs.userAgent.engine.isVersionOrHigher=function(a){return 0<=goog.string.compareVersions(goog.labs.userAgent.engine.getVersion(),a)},goog.labs.userAgent.engine.getVersionForKey_=function(a,b){var c=goog.array.find(a,function(a){return b==a[0]});return c&&c[1]||""},goog.userAgent={},goog.userAgent.ASSUME_IE=!1,goog.userAgent.ASSUME_EDGE=!1,goog.userAgent.ASSUME_GECKO=!1,goog.userAgent.ASSUME_WEBKIT=!1,goog.userAgent.ASSUME_MOBILE_WEBKIT=!1,goog.userAgent.ASSUME_OPERA=!1,goog.userAgent.ASSUME_ANY_VERSION=!1,goog.userAgent.BROWSER_KNOWN_=goog.userAgent.ASSUME_IE||goog.userAgent.ASSUME_EDGE||goog.userAgent.ASSUME_GECKO||goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_OPERA,goog.userAgent.getUserAgentString=function(){return goog.labs.userAgent.util.getUserAgent()},goog.userAgent.getNavigator=function(){return goog.global.navigator||null},goog.userAgent.OPERA=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_OPERA:goog.labs.userAgent.browser.isOpera(),goog.userAgent.IE=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_IE:goog.labs.userAgent.browser.isIE(),goog.userAgent.EDGE=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_EDGE:goog.labs.userAgent.engine.isEdge(),goog.userAgent.EDGE_OR_IE=goog.userAgent.EDGE||goog.userAgent.IE,goog.userAgent.GECKO=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_GECKO:goog.labs.userAgent.engine.isGecko(),goog.userAgent.WEBKIT=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_MOBILE_WEBKIT:goog.labs.userAgent.engine.isWebKit(),goog.userAgent.isMobile_=function(){return goog.userAgent.WEBKIT&&goog.labs.userAgent.util.matchUserAgent("Mobile")},goog.userAgent.MOBILE=goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.isMobile_(),goog.userAgent.SAFARI=goog.userAgent.WEBKIT,goog.userAgent.determinePlatform_=function(){var a=goog.userAgent.getNavigator();return a&&a.platform||""},goog.userAgent.PLATFORM=goog.userAgent.determinePlatform_(),goog.userAgent.ASSUME_MAC=!1,goog.userAgent.ASSUME_WINDOWS=!1,goog.userAgent.ASSUME_LINUX=!1,goog.userAgent.ASSUME_X11=!1,goog.userAgent.ASSUME_ANDROID=!1,goog.userAgent.ASSUME_IPHONE=!1,goog.userAgent.ASSUME_IPAD=!1,goog.userAgent.PLATFORM_KNOWN_=goog.userAgent.ASSUME_MAC||goog.userAgent.ASSUME_WINDOWS||goog.userAgent.ASSUME_LINUX||goog.userAgent.ASSUME_X11||goog.userAgent.ASSUME_ANDROID||goog.userAgent.ASSUME_IPHONE||goog.userAgent.ASSUME_IPAD,goog.userAgent.MAC=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_MAC:goog.labs.userAgent.platform.isMacintosh(),goog.userAgent.WINDOWS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_WINDOWS:goog.labs.userAgent.platform.isWindows(),goog.userAgent.isLegacyLinux_=function(){return goog.labs.userAgent.platform.isLinux()||goog.labs.userAgent.platform.isChromeOS()},goog.userAgent.LINUX=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_LINUX:goog.userAgent.isLegacyLinux_(),goog.userAgent.isX11_=function(){var a=goog.userAgent.getNavigator();return!!a&&goog.string.contains(a.appVersion||"","X11")},goog.userAgent.X11=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_X11:goog.userAgent.isX11_(),goog.userAgent.ANDROID=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_ANDROID:goog.labs.userAgent.platform.isAndroid(),goog.userAgent.IPHONE=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPHONE:goog.labs.userAgent.platform.isIphone(),goog.userAgent.IPAD=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPAD:goog.labs.userAgent.platform.isIpad(),goog.userAgent.operaVersion_=function(){var a=goog.global.opera.version;try{return a()}catch(b){return a}},goog.userAgent.determineVersion_=function(){if(goog.userAgent.OPERA&&goog.global.opera)return goog.userAgent.operaVersion_();var a="",b=goog.userAgent.getVersionRegexResult_();return b&&(a=b?b[1]:""),goog.userAgent.IE&&(b=goog.userAgent.getDocumentMode_())>parseFloat(a)?String(b):a},goog.userAgent.getVersionRegexResult_=function(){var a=goog.userAgent.getUserAgentString();return goog.userAgent.GECKO?/rv\\:([^\\);]+)(\\)|;)/.exec(a):goog.userAgent.EDGE?/Edge\\/([\\d\\.]+)/.exec(a):goog.userAgent.IE?/\\b(?:MSIE|rv)[: ]([^\\);]+)(\\)|;)/.exec(a):goog.userAgent.WEBKIT?/WebKit\\/(\\S+)/.exec(a):void 0},goog.userAgent.getDocumentMode_=function(){var a=goog.global.document;return a?a.documentMode:void 0},goog.userAgent.VERSION=goog.userAgent.determineVersion_(),goog.userAgent.compare=function(a,b){return goog.string.compareVersions(a,b)},goog.userAgent.isVersionOrHigherCache_={},goog.userAgent.isVersionOrHigher=function(a){return goog.userAgent.ASSUME_ANY_VERSION||goog.userAgent.isVersionOrHigherCache_[a]||(goog.userAgent.isVersionOrHigherCache_[a]=0<=goog.string.compareVersions(goog.userAgent.VERSION,a))},goog.userAgent.isVersion=goog.userAgent.isVersionOrHigher,goog.userAgent.isDocumentModeOrHigher=function(a){return Number(goog.userAgent.DOCUMENT_MODE)>=a},goog.userAgent.isDocumentMode=goog.userAgent.isDocumentModeOrHigher,goog.userAgent.DOCUMENT_MODE=(a=goog.global.document,b=goog.userAgent.getDocumentMode_(),a&&goog.userAgent.IE?b||("CSS1Compat"==a.compatMode?parseInt(goog.userAgent.VERSION,10):5):void 0),goog.userAgent.product={},goog.userAgent.product.ASSUME_FIREFOX=!1,goog.userAgent.product.ASSUME_IPHONE=!1,goog.userAgent.product.ASSUME_IPAD=!1,goog.userAgent.product.ASSUME_ANDROID=!1,goog.userAgent.product.ASSUME_CHROME=!1,goog.userAgent.product.ASSUME_SAFARI=!1,goog.userAgent.product.PRODUCT_KNOWN_=goog.userAgent.ASSUME_IE||goog.userAgent.ASSUME_EDGE||goog.userAgent.ASSUME_OPERA||goog.userAgent.product.ASSUME_FIREFOX||goog.userAgent.product.ASSUME_IPHONE||goog.userAgent.product.ASSUME_IPAD||goog.userAgent.product.ASSUME_ANDROID||goog.userAgent.product.ASSUME_CHROME||goog.userAgent.product.ASSUME_SAFARI,goog.userAgent.product.OPERA=goog.userAgent.OPERA,goog.userAgent.product.IE=goog.userAgent.IE,goog.userAgent.product.EDGE=goog.userAgent.EDGE,goog.userAgent.product.FIREFOX=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_FIREFOX:goog.labs.userAgent.browser.isFirefox(),goog.userAgent.product.isIphoneOrIpod_=function(){return goog.labs.userAgent.platform.isIphone()||goog.labs.userAgent.platform.isIpod()},goog.userAgent.product.IPHONE=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_IPHONE:goog.userAgent.product.isIphoneOrIpod_(),goog.userAgent.product.IPAD=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_IPAD:goog.labs.userAgent.platform.isIpad(),goog.userAgent.product.ANDROID=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_ANDROID:goog.labs.userAgent.browser.isAndroidBrowser(),goog.userAgent.product.CHROME=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_CHROME:goog.labs.userAgent.browser.isChrome(),goog.userAgent.product.isSafariDesktop_=function(){return goog.labs.userAgent.browser.isSafari()&&!goog.labs.userAgent.platform.isIos()},goog.userAgent.product.SAFARI=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_SAFARI:goog.userAgent.product.isSafariDesktop_(),goog.crypt.base64={},goog.crypt.base64.byteToCharMap_=null,goog.crypt.base64.charToByteMap_=null,goog.crypt.base64.byteToCharMapWebSafe_=null,goog.crypt.base64.ENCODED_VALS_BASE="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",goog.crypt.base64.ENCODED_VALS=goog.crypt.base64.ENCODED_VALS_BASE+"+/=",goog.crypt.base64.ENCODED_VALS_WEBSAFE=goog.crypt.base64.ENCODED_VALS_BASE+"-_.",goog.crypt.base64.ASSUME_NATIVE_SUPPORT_=goog.userAgent.GECKO||goog.userAgent.WEBKIT&&!goog.userAgent.product.SAFARI||goog.userAgent.OPERA,goog.crypt.base64.HAS_NATIVE_ENCODE_=goog.crypt.base64.ASSUME_NATIVE_SUPPORT_||"function"==typeof goog.global.btoa,goog.crypt.base64.HAS_NATIVE_DECODE_=goog.crypt.base64.ASSUME_NATIVE_SUPPORT_||!goog.userAgent.product.SAFARI&&!goog.userAgent.IE&&"function"==typeof goog.global.atob,goog.crypt.base64.encodeByteArray=function(a,b){goog.asserts.assert(goog.isArrayLike(a),"encodeByteArray takes an array as a parameter"),goog.crypt.base64.init_();for(var c=b?goog.crypt.base64.byteToCharMapWebSafe_:goog.crypt.base64.byteToCharMap_,d=[],e=0;e<a.length;e+=3){var f=a[e],g=e+1<a.length,h=g?a[e+1]:0,k=e+2<a.length,p=f>>2,l=(f=(3&f)<<4|h>>4,h=(15&h)<<2|(l=k?a[e+2]:0)>>6,63&l);k||(l=64,g||(h=64)),d.push(c[p],c[f],c[h],c[l])}return d.join("")},goog.crypt.base64.encodeString=function(a,b){return goog.crypt.base64.HAS_NATIVE_ENCODE_&&!b?goog.global.btoa(a):goog.crypt.base64.encodeByteArray(goog.crypt.stringToByteArray(a),b)},goog.crypt.base64.decodeString=function(a,b){if(goog.crypt.base64.HAS_NATIVE_DECODE_&&!b)return goog.global.atob(a);var c="";return goog.crypt.base64.decodeStringInternal_(a,function(a){c+=String.fromCharCode(a)}),c},goog.crypt.base64.decodeStringToByteArray=function(a,b){var c=[];return goog.crypt.base64.decodeStringInternal_(a,function(a){c.push(a)}),c},goog.crypt.base64.decodeStringToUint8Array=function(a){goog.asserts.assert(!goog.userAgent.IE||goog.userAgent.isVersionOrHigher("10"),"Browser does not support typed arrays");var b=new Uint8Array(Math.ceil(3*a.length/4)),c=0;return goog.crypt.base64.decodeStringInternal_(a,function(a){b[c++]=a}),b.subarray(0,c)},goog.crypt.base64.decodeStringInternal_=function(a,b){function c(b){for(;d<a.length;){var c=a.charAt(d++),e=goog.crypt.base64.charToByteMap_[c];if(null!=e)return e;if(!goog.string.isEmptyOrWhitespace(c))throw Error("Unknown base64 encoding at char: "+c)}return b}goog.crypt.base64.init_();for(var d=0;;){var e=c(-1),f=c(0),g=c(64),h=c(64);if(64===h&&-1===e)break;b(e<<2|f>>4),64!=g&&(b(f<<4&240|g>>2),64!=h&&b(g<<6&192|h))}},goog.crypt.base64.init_=function(){if(!goog.crypt.base64.byteToCharMap_){goog.crypt.base64.byteToCharMap_={},goog.crypt.base64.charToByteMap_={},goog.crypt.base64.byteToCharMapWebSafe_={};for(var a=0;a<goog.crypt.base64.ENCODED_VALS.length;a++)goog.crypt.base64.byteToCharMap_[a]=goog.crypt.base64.ENCODED_VALS.charAt(a),goog.crypt.base64.charToByteMap_[goog.crypt.base64.byteToCharMap_[a]]=a,goog.crypt.base64.byteToCharMapWebSafe_[a]=goog.crypt.base64.ENCODED_VALS_WEBSAFE.charAt(a),a>=goog.crypt.base64.ENCODED_VALS_BASE.length&&(goog.crypt.base64.charToByteMap_[goog.crypt.base64.ENCODED_VALS_WEBSAFE.charAt(a)]=a)}},jspb.utils={},jspb.utils.split64Low=0,jspb.utils.split64High=0,jspb.utils.splitUint64=function(a){var b=a>>>0;a=Math.floor((a-b)/jspb.BinaryConstants.TWO_TO_32)>>>0,jspb.utils.split64Low=b,jspb.utils.split64High=a},jspb.utils.splitInt64=function(a){var b=0>a,c=(a=Math.abs(a))>>>0;a=Math.floor((a-c)/jspb.BinaryConstants.TWO_TO_32),a>>>=0,b&&(a=~a>>>0,4294967295<(c=1+(~c>>>0))&&(c=0,4294967295<++a&&(a=0))),jspb.utils.split64Low=c,jspb.utils.split64High=a},jspb.utils.splitZigzag64=function(a){var b=0>a;a=2*Math.abs(a),jspb.utils.splitUint64(a),a=jspb.utils.split64Low;var c=jspb.utils.split64High;b&&(0==a?0==c?c=a=4294967295:(c--,a=4294967295):a--),jspb.utils.split64Low=a,jspb.utils.split64High=c},jspb.utils.splitFloat32=function(a){var c,b=0>a?1:0;0===(a=b?-a:a)?0<1/a?(jspb.utils.split64High=0,jspb.utils.split64Low=0):(jspb.utils.split64High=0,jspb.utils.split64Low=2147483648):isNaN(a)?(jspb.utils.split64High=0,jspb.utils.split64Low=2147483647):a>jspb.BinaryConstants.FLOAT32_MAX?(jspb.utils.split64High=0,jspb.utils.split64Low=(b<<31|2139095040)>>>0):a<jspb.BinaryConstants.FLOAT32_MIN?(a=Math.round(a/Math.pow(2,-149)),jspb.utils.split64High=0,jspb.utils.split64Low=(b<<31|a)>>>0):(c=Math.floor(Math.log(a)/Math.LN2),a*=Math.pow(2,-c),a=8388607&Math.round(a*jspb.BinaryConstants.TWO_TO_23),jspb.utils.split64High=0,jspb.utils.split64Low=(b<<31|c+127<<23|a)>>>0)},jspb.utils.splitFloat64=function(a){var b=0>a?1:0;if(0===(a=b?-a:a))jspb.utils.split64High=0<1/a?0:2147483648,jspb.utils.split64Low=0;else if(isNaN(a))jspb.utils.split64High=2147483647,jspb.utils.split64Low=4294967295;else if(a>jspb.BinaryConstants.FLOAT64_MAX)jspb.utils.split64High=(b<<31|2146435072)>>>0,jspb.utils.split64Low=0;else if(a<jspb.BinaryConstants.FLOAT64_MIN){var c=a/Math.pow(2,-1074);a=c/jspb.BinaryConstants.TWO_TO_32,jspb.utils.split64High=(b<<31|a)>>>0,jspb.utils.split64Low=c>>>0}else{var d=Math.floor(Math.log(a)/Math.LN2);1024==d&&(d=1023),a=(c=a*Math.pow(2,-d))*jspb.BinaryConstants.TWO_TO_20&1048575,c=c*jspb.BinaryConstants.TWO_TO_52>>>0,jspb.utils.split64High=(b<<31|d+1023<<20|a)>>>0,jspb.utils.split64Low=c}},jspb.utils.splitHash64=function(a){var b=a.charCodeAt(0),c=a.charCodeAt(1),d=a.charCodeAt(2),e=a.charCodeAt(3),f=a.charCodeAt(4),g=a.charCodeAt(5),h=a.charCodeAt(6);a=a.charCodeAt(7),jspb.utils.split64Low=b+(c<<8)+(d<<16)+(e<<24)>>>0,jspb.utils.split64High=f+(g<<8)+(h<<16)+(a<<24)>>>0},jspb.utils.joinUint64=function(a,b){return b*jspb.BinaryConstants.TWO_TO_32+a},jspb.utils.joinInt64=function(a,b){var c=2147483648&b;c&&(b=~b>>>0,0==(a=1+~a>>>0)&&(b=b+1>>>0));var d=jspb.utils.joinUint64(a,b);return c?-d:d},jspb.utils.joinZigzag64=function(a,b){var c=1&a;a=(a>>>1|b<<31)>>>0,b>>>=1,c&&(0==(a=a+1>>>0)&&(b=b+1>>>0));var d=jspb.utils.joinUint64(a,b);return c?-d:d},jspb.utils.joinFloat32=function(a,b){var c=2*(a>>31)+1,d=a>>>23&255,e=8388607&a;return 255==d?e?NaN:1/0*c:0==d?c*Math.pow(2,-149)*e:c*Math.pow(2,d-150)*(e+Math.pow(2,23))},jspb.utils.joinFloat64=function(a,b){var c=2*(b>>31)+1,d=b>>>20&2047,e=jspb.BinaryConstants.TWO_TO_32*(1048575&b)+a;return 2047==d?e?NaN:1/0*c:0==d?c*Math.pow(2,-1074)*e:c*Math.pow(2,d-1075)*(e+jspb.BinaryConstants.TWO_TO_52)},jspb.utils.joinHash64=function(a,b){return String.fromCharCode(a>>>0&255,a>>>8&255,a>>>16&255,a>>>24&255,b>>>0&255,b>>>8&255,b>>>16&255,b>>>24&255)},jspb.utils.DIGITS="0123456789abcdef".split(""),jspb.utils.joinUnsignedDecimalString=function(a,b){function c(a){for(var b=1e7,c=0;7>c;c++){var d=a/(b=b/10)%10>>>0;(0!=d||h)&&(h=!0,k+=g[d])}}if(2097151>=b)return""+(jspb.BinaryConstants.TWO_TO_32*b+a);var f=(16777215&a)+6777216*(d=(a>>>24|b<<8)>>>0&16777215)+6710656*(e=b>>16&65535),d=d+8147497*e,e=2*e;1e7<=f&&(d+=Math.floor(f/1e7),f%=1e7),1e7<=d&&(e+=Math.floor(d/1e7),d%=1e7);var g=jspb.utils.DIGITS,h=!1,k="";return(e||h)&&c(e),(d||h)&&c(d),(f||h)&&c(f),k},jspb.utils.joinSignedDecimalString=function(a,b){var c=2147483648&b;c&&(b=~b+(0==(a=1+~a>>>0)?1:0)>>>0);var d=jspb.utils.joinUnsignedDecimalString(a,b);return c?"-"+d:d},jspb.utils.hash64ToDecimalString=function(a,b){jspb.utils.splitHash64(a);var c=jspb.utils.split64Low,d=jspb.utils.split64High;return b?jspb.utils.joinSignedDecimalString(c,d):jspb.utils.joinUnsignedDecimalString(c,d)},jspb.utils.hash64ArrayToDecimalStrings=function(a,b){for(var c=Array(a.length),d=0;d<a.length;d++)c[d]=jspb.utils.hash64ToDecimalString(a[d],b);return c},jspb.utils.decimalStringToHash64=function(a){function b(a,b){for(var c=0;8>c&&(1!==a||0<b);c++){var d=a*e[c]+b;e[c]=255&d,b=d>>>8}}goog.asserts.assert(0<a.length);var d=!1;"-"===a[0]&&(d=!0,a=a.slice(1));for(var e=[0,0,0,0,0,0,0,0],f=0;f<a.length;f++)b(10,jspb.utils.DIGITS.indexOf(a[f]));return d&&(function(){for(var a=0;8>a;a++)e[a]=255&~e[a]}(),b(1,1)),goog.crypt.byteArrayToString(e)},jspb.utils.splitDecimalString=function(a){jspb.utils.splitHash64(jspb.utils.decimalStringToHash64(a))},jspb.utils.hash64ToHexString=function(a){var b=Array(18);b[0]="0",b[1]="x";for(var c=0;8>c;c++){var d=a.charCodeAt(7-c);b[2*c+2]=jspb.utils.DIGITS[d>>4],b[2*c+3]=jspb.utils.DIGITS[15&d]}return b.join("")},jspb.utils.hexStringToHash64=function(a){a=a.toLowerCase(),goog.asserts.assert(18==a.length),goog.asserts.assert("0"==a[0]),goog.asserts.assert("x"==a[1]);for(var b="",c=0;8>c;c++){var d=jspb.utils.DIGITS.indexOf(a[2*c+2]),e=jspb.utils.DIGITS.indexOf(a[2*c+3]);b=String.fromCharCode(16*d+e)+b}return b},jspb.utils.hash64ToNumber=function(a,b){jspb.utils.splitHash64(a);var c=jspb.utils.split64Low,d=jspb.utils.split64High;return b?jspb.utils.joinInt64(c,d):jspb.utils.joinUint64(c,d)},jspb.utils.numberToHash64=function(a){return jspb.utils.splitInt64(a),jspb.utils.joinHash64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.utils.countVarints=function(a,b,c){for(var d=0,e=b;e<c;e++)d+=a[e]>>7;return c-b-d},jspb.utils.countVarintFields=function(a,b,c,d){var e=0;if(128>(d=8*d+jspb.BinaryConstants.WireType.VARINT))for(;b<c&&a[b++]==d;)for(e++;;){var f=a[b++];if(0==(128&f))break}else for(;b<c;){for(f=d;128<f;){if(a[b]!=(127&f|128))return e;b++,f>>=7}if(a[b++]!=f)break;for(e++;0!=(128&(f=a[b++])););}return e},jspb.utils.countFixedFields_=function(a,b,c,d,e){var f=0;if(128>d)for(;b<c&&a[b++]==d;)f++,b+=e;else for(;b<c;){for(var g=d;128<g;){if(a[b++]!=(127&g|128))return f;g>>=7}if(a[b++]!=g)break;f++,b+=e}return f},jspb.utils.countFixed32Fields=function(a,b,c,d){return jspb.utils.countFixedFields_(a,b,c,8*d+jspb.BinaryConstants.WireType.FIXED32,4)},jspb.utils.countFixed64Fields=function(a,b,c,d){return jspb.utils.countFixedFields_(a,b,c,8*d+jspb.BinaryConstants.WireType.FIXED64,8)},jspb.utils.countDelimitedFields=function(a,b,c,d){var e=0;for(d=8*d+jspb.BinaryConstants.WireType.DELIMITED;b<c;){for(var f=d;128<f;){if(a[b++]!=(127&f|128))return e;f>>=7}if(a[b++]!=f)break;e++;for(var g=0,h=1;g+=(127&(f=a[b++]))*h,h*=128,0!=(128&f););b+=g}return e},jspb.utils.debugBytesToTextFormat=function(a){var b=\'"\';if(a){a=jspb.utils.byteSourceToUint8Array(a);for(var c=0;c<a.length;c++)b+="\\\\x",16>a[c]&&(b+="0"),b+=a[c].toString(16)}return b+\'"\'},jspb.utils.debugScalarToTextFormat=function(a){return goog.isString(a)?goog.string.quote(a):a.toString()},jspb.utils.stringToByteArray=function(a){for(var b=new Uint8Array(a.length),c=0;c<a.length;c++){var d=a.charCodeAt(c);if(255<d)throw Error("Conversion error: string contains codepoint outside of byte range");b[c]=d}return b},jspb.utils.byteSourceToUint8Array=function(a){return a.constructor===Uint8Array?a:a.constructor===ArrayBuffer||void 0!==Buffer&&a.constructor===Buffer||a.constructor===Array?new Uint8Array(a):a.constructor===String?goog.crypt.base64.decodeStringToUint8Array(a):(goog.asserts.fail("Type not convertible to Uint8Array."),new Uint8Array(0))},jspb.BinaryIterator=function(a,b,c){this.elements_=this.nextMethod_=this.decoder_=null,this.cursor_=0,this.nextValue_=null,this.atEnd_=!0,this.init_(a,b,c)},jspb.BinaryIterator.prototype.init_=function(a,b,c){a&&b&&(this.decoder_=a,this.nextMethod_=b),this.elements_=c||null,this.cursor_=0,this.nextValue_=null,this.atEnd_=!this.decoder_&&!this.elements_,this.next()},jspb.BinaryIterator.instanceCache_=[],jspb.BinaryIterator.alloc=function(a,b,c){if(jspb.BinaryIterator.instanceCache_.length){var d=jspb.BinaryIterator.instanceCache_.pop();return d.init_(a,b,c),d}return new jspb.BinaryIterator(a,b,c)},jspb.BinaryIterator.prototype.free=function(){this.clear(),100>jspb.BinaryIterator.instanceCache_.length&&jspb.BinaryIterator.instanceCache_.push(this)},jspb.BinaryIterator.prototype.clear=function(){this.decoder_&&this.decoder_.free(),this.elements_=this.nextMethod_=this.decoder_=null,this.cursor_=0,this.nextValue_=null,this.atEnd_=!0},jspb.BinaryIterator.prototype.get=function(){return this.nextValue_},jspb.BinaryIterator.prototype.atEnd=function(){return this.atEnd_},jspb.BinaryIterator.prototype.next=function(){var a=this.nextValue_;return this.decoder_?this.decoder_.atEnd()?(this.nextValue_=null,this.atEnd_=!0):this.nextValue_=this.nextMethod_.call(this.decoder_):this.elements_&&(this.cursor_==this.elements_.length?(this.nextValue_=null,this.atEnd_=!0):this.nextValue_=this.elements_[this.cursor_++]),a},jspb.BinaryDecoder=function(a,b,c){this.bytes_=null,this.tempHigh_=this.tempLow_=this.cursor_=this.end_=this.start_=0,this.error_=!1,a&&this.setBlock(a,b,c)},jspb.BinaryDecoder.instanceCache_=[],jspb.BinaryDecoder.alloc=function(a,b,c){if(jspb.BinaryDecoder.instanceCache_.length){var d=jspb.BinaryDecoder.instanceCache_.pop();return a&&d.setBlock(a,b,c),d}return new jspb.BinaryDecoder(a,b,c)},jspb.BinaryDecoder.prototype.free=function(){this.clear(),100>jspb.BinaryDecoder.instanceCache_.length&&jspb.BinaryDecoder.instanceCache_.push(this)},jspb.BinaryDecoder.prototype.clone=function(){return jspb.BinaryDecoder.alloc(this.bytes_,this.start_,this.end_-this.start_)},jspb.BinaryDecoder.prototype.clear=function(){this.bytes_=null,this.cursor_=this.end_=this.start_=0,this.error_=!1},jspb.BinaryDecoder.prototype.getBuffer=function(){return this.bytes_},jspb.BinaryDecoder.prototype.setBlock=function(a,b,c){this.bytes_=jspb.utils.byteSourceToUint8Array(a),this.start_=goog.isDef(b)?b:0,this.end_=goog.isDef(c)?this.start_+c:this.bytes_.length,this.cursor_=this.start_},jspb.BinaryDecoder.prototype.getEnd=function(){return this.end_},jspb.BinaryDecoder.prototype.setEnd=function(a){this.end_=a},jspb.BinaryDecoder.prototype.reset=function(){this.cursor_=this.start_},jspb.BinaryDecoder.prototype.getCursor=function(){return this.cursor_},jspb.BinaryDecoder.prototype.setCursor=function(a){this.cursor_=a},jspb.BinaryDecoder.prototype.advance=function(a){this.cursor_+=a,goog.asserts.assert(this.cursor_<=this.end_)},jspb.BinaryDecoder.prototype.atEnd=function(){return this.cursor_==this.end_},jspb.BinaryDecoder.prototype.pastEnd=function(){return this.cursor_>this.end_},jspb.BinaryDecoder.prototype.getError=function(){return this.error_||0>this.cursor_||this.cursor_>this.end_},jspb.BinaryDecoder.prototype.readSplitVarint64_=function(){for(var a,c,b=0,d=0;4>d;d++)if(b|=(127&(a=this.bytes_[this.cursor_++]))<<7*d,128>a)return this.tempLow_=b>>>0,void(this.tempHigh_=0);if(b|=(127&(a=this.bytes_[this.cursor_++]))<<28,c=0|(127&a)>>4,128>a)this.tempLow_=b>>>0,this.tempHigh_=c>>>0;else{for(d=0;5>d;d++)if(c|=(127&(a=this.bytes_[this.cursor_++]))<<7*d+3,128>a)return this.tempLow_=b>>>0,void(this.tempHigh_=c>>>0);goog.asserts.fail("Failed to read varint, encoding is invalid."),this.error_=!0}},jspb.BinaryDecoder.prototype.skipVarint=function(){for(;128&this.bytes_[this.cursor_];)this.cursor_++;this.cursor_++},jspb.BinaryDecoder.prototype.unskipVarint=function(a){for(;128<a;)this.cursor_--,a>>>=7;this.cursor_--},jspb.BinaryDecoder.prototype.readUnsignedVarint32=function(){var a,b=this.bytes_,c=127&(a=b[this.cursor_+0]);return 128>a?(this.cursor_+=1,goog.asserts.assert(this.cursor_<=this.end_),c):(c|=(127&(a=b[this.cursor_+1]))<<7,128>a?(this.cursor_+=2,goog.asserts.assert(this.cursor_<=this.end_),c):(c|=(127&(a=b[this.cursor_+2]))<<14,128>a?(this.cursor_+=3,goog.asserts.assert(this.cursor_<=this.end_),c):(c|=(127&(a=b[this.cursor_+3]))<<21,128>a?(this.cursor_+=4,goog.asserts.assert(this.cursor_<=this.end_),c):(c|=(15&(a=b[this.cursor_+4]))<<28,128>a?(this.cursor_+=5,goog.asserts.assert(this.cursor_<=this.end_),c>>>0):(this.cursor_+=5,128<=b[this.cursor_++]&&128<=b[this.cursor_++]&&128<=b[this.cursor_++]&&128<=b[this.cursor_++]&&128<=b[this.cursor_++]&&goog.asserts.assert(!1),goog.asserts.assert(this.cursor_<=this.end_),c)))))},jspb.BinaryDecoder.prototype.readSignedVarint32=jspb.BinaryDecoder.prototype.readUnsignedVarint32,jspb.BinaryDecoder.prototype.readUnsignedVarint32String=function(){return this.readUnsignedVarint32().toString()},jspb.BinaryDecoder.prototype.readSignedVarint32String=function(){return this.readSignedVarint32().toString()},jspb.BinaryDecoder.prototype.readZigzagVarint32=function(){var a=this.readUnsignedVarint32();return a>>>1^-(1&a)},jspb.BinaryDecoder.prototype.readUnsignedVarint64=function(){return this.readSplitVarint64_(),jspb.utils.joinUint64(this.tempLow_,this.tempHigh_)},jspb.BinaryDecoder.prototype.readUnsignedVarint64String=function(){return this.readSplitVarint64_(),jspb.utils.joinUnsignedDecimalString(this.tempLow_,this.tempHigh_)},jspb.BinaryDecoder.prototype.readSignedVarint64=function(){return this.readSplitVarint64_(),jspb.utils.joinInt64(this.tempLow_,this.tempHigh_)},jspb.BinaryDecoder.prototype.readSignedVarint64String=function(){return this.readSplitVarint64_(),jspb.utils.joinSignedDecimalString(this.tempLow_,this.tempHigh_)},jspb.BinaryDecoder.prototype.readZigzagVarint64=function(){return this.readSplitVarint64_(),jspb.utils.joinZigzag64(this.tempLow_,this.tempHigh_)},jspb.BinaryDecoder.prototype.readZigzagVarint64String=function(){return this.readZigzagVarint64().toString()},jspb.BinaryDecoder.prototype.readUint8=function(){var a=this.bytes_[this.cursor_+0];return this.cursor_+=1,goog.asserts.assert(this.cursor_<=this.end_),a},jspb.BinaryDecoder.prototype.readUint16=function(){var a=this.bytes_[this.cursor_+0],b=this.bytes_[this.cursor_+1];return this.cursor_+=2,goog.asserts.assert(this.cursor_<=this.end_),a<<0|b<<8},jspb.BinaryDecoder.prototype.readUint32=function(){var a=this.bytes_[this.cursor_+0],b=this.bytes_[this.cursor_+1],c=this.bytes_[this.cursor_+2],d=this.bytes_[this.cursor_+3];return this.cursor_+=4,goog.asserts.assert(this.cursor_<=this.end_),(a<<0|b<<8|c<<16|d<<24)>>>0},jspb.BinaryDecoder.prototype.readUint64=function(){var a=this.readUint32(),b=this.readUint32();return jspb.utils.joinUint64(a,b)},jspb.BinaryDecoder.prototype.readUint64String=function(){var a=this.readUint32(),b=this.readUint32();return jspb.utils.joinUnsignedDecimalString(a,b)},jspb.BinaryDecoder.prototype.readInt8=function(){var a=this.bytes_[this.cursor_+0];return this.cursor_+=1,goog.asserts.assert(this.cursor_<=this.end_),a<<24>>24},jspb.BinaryDecoder.prototype.readInt16=function(){var a=this.bytes_[this.cursor_+0],b=this.bytes_[this.cursor_+1];return this.cursor_+=2,goog.asserts.assert(this.cursor_<=this.end_),(a<<0|b<<8)<<16>>16},jspb.BinaryDecoder.prototype.readInt32=function(){var a=this.bytes_[this.cursor_+0],b=this.bytes_[this.cursor_+1],c=this.bytes_[this.cursor_+2],d=this.bytes_[this.cursor_+3];return this.cursor_+=4,goog.asserts.assert(this.cursor_<=this.end_),a<<0|b<<8|c<<16|d<<24},jspb.BinaryDecoder.prototype.readInt64=function(){var a=this.readUint32(),b=this.readUint32();return jspb.utils.joinInt64(a,b)},jspb.BinaryDecoder.prototype.readInt64String=function(){var a=this.readUint32(),b=this.readUint32();return jspb.utils.joinSignedDecimalString(a,b)},jspb.BinaryDecoder.prototype.readFloat=function(){var a=this.readUint32();return jspb.utils.joinFloat32(a,0)},jspb.BinaryDecoder.prototype.readDouble=function(){var a=this.readUint32(),b=this.readUint32();return jspb.utils.joinFloat64(a,b)},jspb.BinaryDecoder.prototype.readBool=function(){return!!this.bytes_[this.cursor_++]},jspb.BinaryDecoder.prototype.readEnum=function(){return this.readSignedVarint32()},jspb.BinaryDecoder.prototype.readString=function(a){var b=this.bytes_,c=this.cursor_;a=c+a;for(var d=[],e="";c<a;){if(128>(f=b[c++]))d.push(f);else{if(192>f)continue;if(224>f){var g=b[c++];d.push((31&f)<<6|63&g)}else if(240>f){g=b[c++];var h=b[c++];d.push((15&f)<<12|(63&g)<<6|63&h)}else if(248>f){var f=(f=(7&f)<<18|(63&(g=b[c++]))<<12|(63&(h=b[c++]))<<6|63&b[c++])-65536;d.push(55296+(f>>10&1023),56320+(1023&f))}}8192<=d.length&&(e+=String.fromCharCode.apply(null,d),d.length=0)}return e+=goog.crypt.byteArrayToString(d),this.cursor_=c,e},jspb.BinaryDecoder.prototype.readStringWithLength=function(){var a=this.readUnsignedVarint32();return this.readString(a)},jspb.BinaryDecoder.prototype.readBytes=function(a){if(0>a||this.cursor_+a>this.bytes_.length)return this.error_=!0,goog.asserts.fail("Invalid byte length!"),new Uint8Array(0);var b=this.bytes_.subarray(this.cursor_,this.cursor_+a);return this.cursor_+=a,goog.asserts.assert(this.cursor_<=this.end_),b},jspb.BinaryDecoder.prototype.readVarintHash64=function(){return this.readSplitVarint64_(),jspb.utils.joinHash64(this.tempLow_,this.tempHigh_)},jspb.BinaryDecoder.prototype.readFixedHash64=function(){var a=this.bytes_,b=this.cursor_,c=a[b+0],d=a[b+1],e=a[b+2],f=a[b+3],g=a[b+4],h=a[b+5],k=a[b+6];a=a[b+7];return this.cursor_+=8,String.fromCharCode(c,d,e,f,g,h,k,a)},jspb.BinaryReader=function(a,b,c){this.decoder_=jspb.BinaryDecoder.alloc(a,b,c),this.fieldCursor_=this.decoder_.getCursor(),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID,this.error_=!1,this.readCallbacks_=null},jspb.BinaryReader.instanceCache_=[],jspb.BinaryReader.alloc=function(a,b,c){if(jspb.BinaryReader.instanceCache_.length){var d=jspb.BinaryReader.instanceCache_.pop();return a&&d.decoder_.setBlock(a,b,c),d}return new jspb.BinaryReader(a,b,c)},jspb.BinaryReader.prototype.alloc=jspb.BinaryReader.alloc,jspb.BinaryReader.prototype.free=function(){this.decoder_.clear(),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID,this.error_=!1,this.readCallbacks_=null,100>jspb.BinaryReader.instanceCache_.length&&jspb.BinaryReader.instanceCache_.push(this)},jspb.BinaryReader.prototype.getFieldCursor=function(){return this.fieldCursor_},jspb.BinaryReader.prototype.getCursor=function(){return this.decoder_.getCursor()},jspb.BinaryReader.prototype.getBuffer=function(){return this.decoder_.getBuffer()},jspb.BinaryReader.prototype.getFieldNumber=function(){return this.nextField_},jspb.BinaryReader.prototype.getWireType=function(){return this.nextWireType_},jspb.BinaryReader.prototype.isEndGroup=function(){return this.nextWireType_==jspb.BinaryConstants.WireType.END_GROUP},jspb.BinaryReader.prototype.getError=function(){return this.error_||this.decoder_.getError()},jspb.BinaryReader.prototype.setBlock=function(a,b,c){this.decoder_.setBlock(a,b,c),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID},jspb.BinaryReader.prototype.reset=function(){this.decoder_.reset(),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID},jspb.BinaryReader.prototype.advance=function(a){this.decoder_.advance(a)},jspb.BinaryReader.prototype.nextField=function(){if(this.decoder_.atEnd())return!1;if(this.getError())return goog.asserts.fail("Decoder hit an error"),!1;this.fieldCursor_=this.decoder_.getCursor();var a,b=(a=this.decoder_.readUnsignedVarint32())>>>3;return(a=7&a)!=jspb.BinaryConstants.WireType.VARINT&&a!=jspb.BinaryConstants.WireType.FIXED32&&a!=jspb.BinaryConstants.WireType.FIXED64&&a!=jspb.BinaryConstants.WireType.DELIMITED&&a!=jspb.BinaryConstants.WireType.START_GROUP&&a!=jspb.BinaryConstants.WireType.END_GROUP?(goog.asserts.fail("Invalid wire type: %s (at position %s)",a,this.fieldCursor_),this.error_=!0,!1):(this.nextField_=b,this.nextWireType_=a,!0)},jspb.BinaryReader.prototype.unskipHeader=function(){this.decoder_.unskipVarint(this.nextField_<<3|this.nextWireType_)},jspb.BinaryReader.prototype.skipMatchingFields=function(){var a=this.nextField_;for(this.unskipHeader();this.nextField()&&this.getFieldNumber()==a;)this.skipField();this.decoder_.atEnd()||this.unskipHeader()},jspb.BinaryReader.prototype.skipVarintField=function(){this.nextWireType_!=jspb.BinaryConstants.WireType.VARINT?(goog.asserts.fail("Invalid wire type for skipVarintField"),this.skipField()):this.decoder_.skipVarint()},jspb.BinaryReader.prototype.skipDelimitedField=function(){if(this.nextWireType_!=jspb.BinaryConstants.WireType.DELIMITED)goog.asserts.fail("Invalid wire type for skipDelimitedField"),this.skipField();else{var a=this.decoder_.readUnsignedVarint32();this.decoder_.advance(a)}},jspb.BinaryReader.prototype.skipFixed32Field=function(){this.nextWireType_!=jspb.BinaryConstants.WireType.FIXED32?(goog.asserts.fail("Invalid wire type for skipFixed32Field"),this.skipField()):this.decoder_.advance(4)},jspb.BinaryReader.prototype.skipFixed64Field=function(){this.nextWireType_!=jspb.BinaryConstants.WireType.FIXED64?(goog.asserts.fail("Invalid wire type for skipFixed64Field"),this.skipField()):this.decoder_.advance(8)},jspb.BinaryReader.prototype.skipGroup=function(){for(var a=this.nextField_;;){if(!this.nextField()){goog.asserts.fail("Unmatched start-group tag: stream EOF"),this.error_=!0;break}if(this.nextWireType_==jspb.BinaryConstants.WireType.END_GROUP){this.nextField_!=a&&(goog.asserts.fail("Unmatched end-group tag"),this.error_=!0);break}this.skipField()}},jspb.BinaryReader.prototype.skipField=function(){switch(this.nextWireType_){case jspb.BinaryConstants.WireType.VARINT:this.skipVarintField();break;case jspb.BinaryConstants.WireType.FIXED64:this.skipFixed64Field();break;case jspb.BinaryConstants.WireType.DELIMITED:this.skipDelimitedField();break;case jspb.BinaryConstants.WireType.FIXED32:this.skipFixed32Field();break;case jspb.BinaryConstants.WireType.START_GROUP:this.skipGroup();break;default:goog.asserts.fail("Invalid wire encoding for field.")}},jspb.BinaryReader.prototype.registerReadCallback=function(a,b){goog.isNull(this.readCallbacks_)&&(this.readCallbacks_={}),goog.asserts.assert(!this.readCallbacks_[a]),this.readCallbacks_[a]=b},jspb.BinaryReader.prototype.runReadCallback=function(a){return goog.asserts.assert(!goog.isNull(this.readCallbacks_)),a=this.readCallbacks_[a],goog.asserts.assert(a),a(this)},jspb.BinaryReader.prototype.readAny=function(a){this.nextWireType_=jspb.BinaryConstants.FieldTypeToWireType(a);var b=jspb.BinaryConstants.FieldType;switch(a){case b.DOUBLE:return this.readDouble();case b.FLOAT:return this.readFloat();case b.INT64:return this.readInt64();case b.UINT64:return this.readUint64();case b.INT32:return this.readInt32();case b.FIXED64:return this.readFixed64();case b.FIXED32:return this.readFixed32();case b.BOOL:return this.readBool();case b.STRING:return this.readString();case b.GROUP:goog.asserts.fail("Group field type not supported in readAny()");case b.MESSAGE:goog.asserts.fail("Message field type not supported in readAny()");case b.BYTES:return this.readBytes();case b.UINT32:return this.readUint32();case b.ENUM:return this.readEnum();case b.SFIXED32:return this.readSfixed32();case b.SFIXED64:return this.readSfixed64();case b.SINT32:return this.readSint32();case b.SINT64:return this.readSint64();case b.FHASH64:return this.readFixedHash64();case b.VHASH64:return this.readVarintHash64();default:goog.asserts.fail("Invalid field type in readAny()")}return 0},jspb.BinaryReader.prototype.readMessage=function(a,b){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var c=this.decoder_.getEnd(),d=this.decoder_.readUnsignedVarint32();d=this.decoder_.getCursor()+d;this.decoder_.setEnd(d),b(a,this),this.decoder_.setCursor(d),this.decoder_.setEnd(c)},jspb.BinaryReader.prototype.readGroup=function(a,b,c){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.START_GROUP),goog.asserts.assert(this.nextField_==a),c(b,this),this.error_||this.nextWireType_==jspb.BinaryConstants.WireType.END_GROUP||(goog.asserts.fail("Group submessage did not end with an END_GROUP tag"),this.error_=!0)},jspb.BinaryReader.prototype.getFieldDecoder=function(){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var a=this.decoder_.readUnsignedVarint32(),b=this.decoder_.getCursor(),c=b+a;a=jspb.BinaryDecoder.alloc(this.decoder_.getBuffer(),b,a);return this.decoder_.setCursor(c),a},jspb.BinaryReader.prototype.readInt32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint32()},jspb.BinaryReader.prototype.readInt32String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint32String()},jspb.BinaryReader.prototype.readInt64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint64()},jspb.BinaryReader.prototype.readInt64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint64String()},jspb.BinaryReader.prototype.readUint32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint32()},jspb.BinaryReader.prototype.readUint32String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint32String()},jspb.BinaryReader.prototype.readUint64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint64()},jspb.BinaryReader.prototype.readUint64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint64String()},jspb.BinaryReader.prototype.readSint32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarint32()},jspb.BinaryReader.prototype.readSint64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarint64()},jspb.BinaryReader.prototype.readSint64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarint64String()},jspb.BinaryReader.prototype.readFixed32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readUint32()},jspb.BinaryReader.prototype.readFixed64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readUint64()},jspb.BinaryReader.prototype.readFixed64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readUint64String()},jspb.BinaryReader.prototype.readSfixed32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readInt32()},jspb.BinaryReader.prototype.readSfixed32String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readInt32().toString()},jspb.BinaryReader.prototype.readSfixed64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readInt64()},jspb.BinaryReader.prototype.readSfixed64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readInt64String()},jspb.BinaryReader.prototype.readFloat=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readFloat()},jspb.BinaryReader.prototype.readDouble=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readDouble()},jspb.BinaryReader.prototype.readBool=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),!!this.decoder_.readUnsignedVarint32()},jspb.BinaryReader.prototype.readEnum=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint64()},jspb.BinaryReader.prototype.readString=function(){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var a=this.decoder_.readUnsignedVarint32();return this.decoder_.readString(a)},jspb.BinaryReader.prototype.readBytes=function(){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var a=this.decoder_.readUnsignedVarint32();return this.decoder_.readBytes(a)},jspb.BinaryReader.prototype.readVarintHash64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readVarintHash64()},jspb.BinaryReader.prototype.readFixedHash64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readFixedHash64()},jspb.BinaryReader.prototype.readPackedField_=function(a){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);for(var b=this.decoder_.readUnsignedVarint32(),c=(b=this.decoder_.getCursor()+b,[]);this.decoder_.getCursor()<b;)c.push(a.call(this.decoder_));return c},jspb.BinaryReader.prototype.readPackedInt32=function(){return this.readPackedField_(this.decoder_.readSignedVarint32)},jspb.BinaryReader.prototype.readPackedInt32String=function(){return this.readPackedField_(this.decoder_.readSignedVarint32String)},jspb.BinaryReader.prototype.readPackedInt64=function(){return this.readPackedField_(this.decoder_.readSignedVarint64)},jspb.BinaryReader.prototype.readPackedInt64String=function(){return this.readPackedField_(this.decoder_.readSignedVarint64String)},jspb.BinaryReader.prototype.readPackedUint32=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint32)},jspb.BinaryReader.prototype.readPackedUint32String=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint32String)},jspb.BinaryReader.prototype.readPackedUint64=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint64)},jspb.BinaryReader.prototype.readPackedUint64String=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint64String)},jspb.BinaryReader.prototype.readPackedSint32=function(){return this.readPackedField_(this.decoder_.readZigzagVarint32)},jspb.BinaryReader.prototype.readPackedSint64=function(){return this.readPackedField_(this.decoder_.readZigzagVarint64)},jspb.BinaryReader.prototype.readPackedSint64String=function(){return this.readPackedField_(this.decoder_.readZigzagVarint64String)},jspb.BinaryReader.prototype.readPackedFixed32=function(){return this.readPackedField_(this.decoder_.readUint32)},jspb.BinaryReader.prototype.readPackedFixed64=function(){return this.readPackedField_(this.decoder_.readUint64)},jspb.BinaryReader.prototype.readPackedFixed64String=function(){return this.readPackedField_(this.decoder_.readUint64String)},jspb.BinaryReader.prototype.readPackedSfixed32=function(){return this.readPackedField_(this.decoder_.readInt32)},jspb.BinaryReader.prototype.readPackedSfixed64=function(){return this.readPackedField_(this.decoder_.readInt64)},jspb.BinaryReader.prototype.readPackedSfixed64String=function(){return this.readPackedField_(this.decoder_.readInt64String)},jspb.BinaryReader.prototype.readPackedFloat=function(){return this.readPackedField_(this.decoder_.readFloat)},jspb.BinaryReader.prototype.readPackedDouble=function(){return this.readPackedField_(this.decoder_.readDouble)},jspb.BinaryReader.prototype.readPackedBool=function(){return this.readPackedField_(this.decoder_.readBool)},jspb.BinaryReader.prototype.readPackedEnum=function(){return this.readPackedField_(this.decoder_.readEnum)},jspb.BinaryReader.prototype.readPackedVarintHash64=function(){return this.readPackedField_(this.decoder_.readVarintHash64)},jspb.BinaryReader.prototype.readPackedFixedHash64=function(){return this.readPackedField_(this.decoder_.readFixedHash64)},jspb.ExtensionFieldInfo=function(a,b,c,d,e){this.fieldIndex=a,this.fieldName=b,this.ctor=c,this.toObjectFn=d,this.isRepeated=e},jspb.ExtensionFieldBinaryInfo=function(a,b,c,d,e,f){this.fieldInfo=a,this.binaryReaderFn=b,this.binaryWriterFn=c,this.binaryMessageSerializeFn=d,this.binaryMessageDeserializeFn=e,this.isPacked=f},jspb.ExtensionFieldInfo.prototype.isMessageType=function(){return!!this.ctor},jspb.Message=function(){},jspb.Message.GENERATE_TO_OBJECT=!0,jspb.Message.GENERATE_FROM_OBJECT=!goog.DISALLOW_TEST_ONLY_CODE,jspb.Message.GENERATE_TO_STRING=!0,jspb.Message.ASSUME_LOCAL_ARRAYS=!1,jspb.Message.SERIALIZE_EMPTY_TRAILING_FIELDS=!0,jspb.Message.SUPPORTS_UINT8ARRAY_="function"==typeof Uint8Array,jspb.Message.prototype.getJsPbMessageId=function(){return this.messageId_},jspb.Message.getIndex_=function(a,b){return b+a.arrayIndexOffset_},jspb.Message.getFieldNumber_=function(a,b){return b-a.arrayIndexOffset_},jspb.Message.initialize=function(a,b,c,d,e,f){if(a.wrappers_=null,b||(b=c?[c]:[]),a.messageId_=c?String(c):void 0,a.arrayIndexOffset_=0===c?-1:0,a.array=b,jspb.Message.initPivotAndExtensionObject_(a,d),a.convertedFloatingPointFields_={},jspb.Message.SERIALIZE_EMPTY_TRAILING_FIELDS||(a.repeatedFields=e),e)for(b=0;b<e.length;b++)(c=e[b])<a.pivot_?(c=jspb.Message.getIndex_(a,c),a.array[c]=a.array[c]||jspb.Message.EMPTY_LIST_SENTINEL_):(jspb.Message.maybeInitEmptyExtensionObject_(a),a.extensionObject_[c]=a.extensionObject_[c]||jspb.Message.EMPTY_LIST_SENTINEL_);if(f&&f.length)for(b=0;b<f.length;b++)jspb.Message.computeOneofCase(a,f[b])},jspb.Message.EMPTY_LIST_SENTINEL_=goog.DEBUG&&Object.freeze?Object.freeze([]):[],jspb.Message.isArray_=function(a){return jspb.Message.ASSUME_LOCAL_ARRAYS?a instanceof Array:goog.isArray(a)},jspb.Message.isExtensionObject_=function(a){return!(null===a||"object"!=typeof a||jspb.Message.isArray_(a)||jspb.Message.SUPPORTS_UINT8ARRAY_&&a instanceof Uint8Array)},jspb.Message.initPivotAndExtensionObject_=function(a,b){var c=a.array.length,d=-1;if(c&&(d=c-1,c=a.array[d],jspb.Message.isExtensionObject_(c)))return a.pivot_=jspb.Message.getFieldNumber_(a,d),void(a.extensionObject_=c);-1<b?(a.pivot_=Math.max(b,jspb.Message.getFieldNumber_(a,d+1)),a.extensionObject_=null):a.pivot_=Number.MAX_VALUE},jspb.Message.maybeInitEmptyExtensionObject_=function(a){var b=jspb.Message.getIndex_(a,a.pivot_);a.array[b]||(a.extensionObject_=a.array[b]={})},jspb.Message.toObjectList=function(a,b,c){for(var d=[],e=0;e<a.length;e++)d[e]=b.call(a[e],c,a[e]);return d},jspb.Message.toObjectExtension=function(a,b,c,d,e){for(var f in c){var g=c[f],h=d.call(a,g);if(null!=h){for(var k in g.fieldName)if(g.fieldName.hasOwnProperty(k))break;b[k]=g.toObjectFn?g.isRepeated?jspb.Message.toObjectList(h,g.toObjectFn,e):g.toObjectFn(e,h):h}}},jspb.Message.serializeBinaryExtensions=function(a,b,c,d){for(var e in c){var f=c[e],g=f.fieldInfo;if(!f.binaryWriterFn)throw Error("Message extension present that was generated without binary serialization support");var h=d.call(a,g);if(null!=h)if(g.isMessageType()){if(!f.binaryMessageSerializeFn)throw Error("Message extension present holding submessage without binary support enabled, and message is being serialized to binary format");f.binaryWriterFn.call(b,g.fieldIndex,h,f.binaryMessageSerializeFn)}else f.binaryWriterFn.call(b,g.fieldIndex,h)}},jspb.Message.readBinaryExtension=function(a,b,c,d,e){var f=c[b.getFieldNumber()];if(f){if(c=f.fieldInfo,!f.binaryReaderFn)throw Error("Deserializing extension whose generated code does not support binary format");var g;c.isMessageType()?(g=new c.ctor,f.binaryReaderFn.call(b,g,f.binaryMessageDeserializeFn)):g=f.binaryReaderFn.call(b),c.isRepeated&&!f.isPacked?(b=d.call(a,c))?b.push(g):e.call(a,c,[g]):e.call(a,c,g)}else b.skipField()},jspb.Message.getField=function(a,b){if(b<a.pivot_){var c=jspb.Message.getIndex_(a,b),d=a.array[c];return d===jspb.Message.EMPTY_LIST_SENTINEL_?a.array[c]=[]:d}if(a.extensionObject_)return(d=a.extensionObject_[b])===jspb.Message.EMPTY_LIST_SENTINEL_?a.extensionObject_[b]=[]:d},jspb.Message.getRepeatedField=function(a,b){if(b<a.pivot_){var c=jspb.Message.getIndex_(a,b),d=a.array[c];return d===jspb.Message.EMPTY_LIST_SENTINEL_?a.array[c]=[]:d}return(d=a.extensionObject_[b])===jspb.Message.EMPTY_LIST_SENTINEL_?a.extensionObject_[b]=[]:d},jspb.Message.getOptionalFloatingPointField=function(a,b){var c=jspb.Message.getField(a,b);return null==c?c:+c},jspb.Message.getRepeatedFloatingPointField=function(a,b){var c=jspb.Message.getRepeatedField(a,b);if(a.convertedFloatingPointFields_||(a.convertedFloatingPointFields_={}),!a.convertedFloatingPointFields_[b]){for(var d=0;d<c.length;d++)c[d]=+c[d];a.convertedFloatingPointFields_[b]=!0}return c},jspb.Message.bytesAsB64=function(a){return null==a||goog.isString(a)?a:jspb.Message.SUPPORTS_UINT8ARRAY_&&a instanceof Uint8Array?goog.crypt.base64.encodeByteArray(a):(goog.asserts.fail("Cannot coerce to b64 string: "+goog.typeOf(a)),null)},jspb.Message.bytesAsU8=function(a){return null==a||a instanceof Uint8Array?a:goog.isString(a)?goog.crypt.base64.decodeStringToUint8Array(a):(goog.asserts.fail("Cannot coerce to Uint8Array: "+goog.typeOf(a)),null)},jspb.Message.bytesListAsB64=function(a){return jspb.Message.assertConsistentTypes_(a),!a.length||goog.isString(a[0])?a:goog.array.map(a,jspb.Message.bytesAsB64)},jspb.Message.bytesListAsU8=function(a){return jspb.Message.assertConsistentTypes_(a),!a.length||a[0]instanceof Uint8Array?a:goog.array.map(a,jspb.Message.bytesAsU8)},jspb.Message.assertConsistentTypes_=function(a){if(goog.DEBUG&&a&&1<a.length){var b=goog.typeOf(a[0]);goog.array.forEach(a,function(a){goog.typeOf(a)!=b&&goog.asserts.fail("Inconsistent type in JSPB repeated field array. Got "+goog.typeOf(a)+" expected "+b)})}},jspb.Message.getFieldWithDefault=function(a,b,c){return null==(a=jspb.Message.getField(a,b))?c:a},jspb.Message.getFieldProto3=jspb.Message.getFieldWithDefault,jspb.Message.getMapField=function(a,b,c,d){return a.wrappers_||(a.wrappers_={}),b in a.wrappers_?a.wrappers_[b]:c?void 0:((c=jspb.Message.getField(a,b))||(c=[],jspb.Message.setField(a,b,c)),a.wrappers_[b]=new jspb.Map(c,d))},jspb.Message.setField=function(a,b,c){b<a.pivot_?a.array[jspb.Message.getIndex_(a,b)]=c:(jspb.Message.maybeInitEmptyExtensionObject_(a),a.extensionObject_[b]=c)},jspb.Message.setProto3IntField=function(a,b,c){jspb.Message.setFieldIgnoringDefault_(a,b,c,0)},jspb.Message.setProto3FloatField=function(a,b,c){jspb.Message.setFieldIgnoringDefault_(a,b,c,0)},jspb.Message.setProto3BooleanField=function(a,b,c){jspb.Message.setFieldIgnoringDefault_(a,b,c,!1)},jspb.Message.setProto3StringField=function(a,b,c){jspb.Message.setFieldIgnoringDefault_(a,b,c,"")},jspb.Message.setProto3BytesField=function(a,b,c){jspb.Message.setFieldIgnoringDefault_(a,b,c,"")},jspb.Message.setProto3EnumField=function(a,b,c){jspb.Message.setFieldIgnoringDefault_(a,b,c,0)},jspb.Message.setProto3StringIntField=function(a,b,c){jspb.Message.setFieldIgnoringDefault_(a,b,c,"0")},jspb.Message.setFieldIgnoringDefault_=function(a,b,c,d){c!==d?jspb.Message.setField(a,b,c):a.array[jspb.Message.getIndex_(a,b)]=null},jspb.Message.addToRepeatedField=function(a,b,c,d){a=jspb.Message.getRepeatedField(a,b),void 0!=d?a.splice(d,0,c):a.push(c)},jspb.Message.setOneofField=function(a,b,c,d){(c=jspb.Message.computeOneofCase(a,c))&&c!==b&&void 0!==d&&(a.wrappers_&&c in a.wrappers_&&(a.wrappers_[c]=void 0),jspb.Message.setField(a,c,void 0)),jspb.Message.setField(a,b,d)},jspb.Message.computeOneofCase=function(a,b){for(var c,d,e=0;e<b.length;e++){var f=b[e],g=jspb.Message.getField(a,f);null!=g&&(c=f,d=g,jspb.Message.setField(a,f,void 0))}return c?(jspb.Message.setField(a,c,d),c):0},jspb.Message.getWrapperField=function(a,b,c,d){if(a.wrappers_||(a.wrappers_={}),!a.wrappers_[c]){var e=jspb.Message.getField(a,c);(d||e)&&(a.wrappers_[c]=new b(e))}return a.wrappers_[c]},jspb.Message.getRepeatedWrapperField=function(a,b,c){return jspb.Message.wrapRepeatedField_(a,b,c),(b=a.wrappers_[c])==jspb.Message.EMPTY_LIST_SENTINEL_&&(b=a.wrappers_[c]=[]),b},jspb.Message.wrapRepeatedField_=function(a,b,c){if(a.wrappers_||(a.wrappers_={}),!a.wrappers_[c]){for(var d=jspb.Message.getRepeatedField(a,c),e=[],f=0;f<d.length;f++)e[f]=new b(d[f]);a.wrappers_[c]=e}},jspb.Message.setWrapperField=function(a,b,c){a.wrappers_||(a.wrappers_={});var d=c?c.toArray():c;a.wrappers_[b]=c,jspb.Message.setField(a,b,d)},jspb.Message.setOneofWrapperField=function(a,b,c,d){a.wrappers_||(a.wrappers_={});var e=d?d.toArray():d;a.wrappers_[b]=d,jspb.Message.setOneofField(a,b,c,e)},jspb.Message.setRepeatedWrapperField=function(a,b,c){a.wrappers_||(a.wrappers_={}),c=c||[];for(var d=[],e=0;e<c.length;e++)d[e]=c[e].toArray();a.wrappers_[b]=c,jspb.Message.setField(a,b,d)},jspb.Message.addToRepeatedWrapperField=function(a,b,c,d,e){jspb.Message.wrapRepeatedField_(a,d,b);var f=a.wrappers_[b];return f||(f=a.wrappers_[b]=[]),c=c||new d,a=jspb.Message.getRepeatedField(a,b),void 0!=e?(f.splice(e,0,c),a.splice(e,0,c.toArray())):(f.push(c),a.push(c.toArray())),c},jspb.Message.toMap=function(a,b,c,d){for(var e={},f=0;f<a.length;f++)e[b.call(a[f])]=c?c.call(a[f],d,a[f]):a[f];return e},jspb.Message.prototype.syncMapFields_=function(){if(this.wrappers_)for(var a in this.wrappers_){var b=this.wrappers_[a];if(goog.isArray(b))for(var c=0;c<b.length;c++)b[c]&&b[c].toArray();else b&&b.toArray()}},jspb.Message.prototype.toArray=function(){return this.syncMapFields_(),this.array},jspb.Message.GENERATE_TO_STRING&&(jspb.Message.prototype.toString=function(){return this.syncMapFields_(),this.array.toString()}),jspb.Message.prototype.getExtension=function(a){if(this.extensionObject_){this.wrappers_||(this.wrappers_={});var b=a.fieldIndex;if(a.isRepeated){if(a.isMessageType())return this.wrappers_[b]||(this.wrappers_[b]=goog.array.map(this.extensionObject_[b]||[],function(b){return new a.ctor(b)})),this.wrappers_[b]}else if(a.isMessageType())return!this.wrappers_[b]&&this.extensionObject_[b]&&(this.wrappers_[b]=new a.ctor(this.extensionObject_[b])),this.wrappers_[b];return this.extensionObject_[b]}},jspb.Message.prototype.setExtension=function(a,b){this.wrappers_||(this.wrappers_={}),jspb.Message.maybeInitEmptyExtensionObject_(this);var c=a.fieldIndex;return a.isRepeated?(b=b||[],a.isMessageType()?(this.wrappers_[c]=b,this.extensionObject_[c]=goog.array.map(b,function(a){return a.toArray()})):this.extensionObject_[c]=b):a.isMessageType()?(this.wrappers_[c]=b,this.extensionObject_[c]=b?b.toArray():b):this.extensionObject_[c]=b,this},jspb.Message.difference=function(a,b){if(!(a instanceof b.constructor))throw Error("Messages have different types.");var c=a.toArray(),d=b.toArray(),e=[],f=0,g=c.length>d.length?c.length:d.length;for(a.getJsPbMessageId()&&(e[0]=a.getJsPbMessageId(),f=1);f<g;f++)jspb.Message.compareFields(c[f],d[f])||(e[f]=d[f]);return new a.constructor(e)},jspb.Message.equals=function(a,b){return a==b||!(!a||!b)&&a instanceof b.constructor&&jspb.Message.compareFields(a.toArray(),b.toArray())},jspb.Message.compareExtensions=function(a,b){a=a||{},b=b||{};var d,c={};for(d in a)c[d]=0;for(d in b)c[d]=0;for(d in c)if(!jspb.Message.compareFields(a[d],b[d]))return!1;return!0},jspb.Message.compareFields=function(a,b){if(a==b)return!0;if(!goog.isObject(a)||!goog.isObject(b))return!!(goog.isNumber(a)&&isNaN(a)||goog.isNumber(b)&&isNaN(b))&&String(a)==String(b);if(a.constructor!=b.constructor)return!1;if(jspb.Message.SUPPORTS_UINT8ARRAY_&&a.constructor===Uint8Array){if(a.length!=b.length)return!1;for(var c=0;c<a.length;c++)if(a[c]!=b[c])return!1;return!0}if(a.constructor===Array){var d=void 0,e=void 0,f=Math.max(a.length,b.length);for(c=0;c<f;c++){var g=a[c],h=b[c];if(g&&g.constructor==Object&&(goog.asserts.assert(void 0===d),goog.asserts.assert(c===a.length-1),d=g,g=void 0),h&&h.constructor==Object&&(goog.asserts.assert(void 0===e),goog.asserts.assert(c===b.length-1),e=h,h=void 0),!jspb.Message.compareFields(g,h))return!1}return!d&&!e||(d=d||{},e=e||{},jspb.Message.compareExtensions(d,e))}if(a.constructor===Object)return jspb.Message.compareExtensions(a,b);throw Error("Invalid type in JSPB array")},jspb.Message.prototype.cloneMessage=function(){return jspb.Message.cloneMessage(this)},jspb.Message.prototype.clone=function(){return jspb.Message.cloneMessage(this)},jspb.Message.clone=function(a){return jspb.Message.cloneMessage(a)},jspb.Message.cloneMessage=function(a){return new a.constructor(jspb.Message.clone_(a.toArray()))},jspb.Message.copyInto=function(a,b){goog.asserts.assertInstanceof(a,jspb.Message),goog.asserts.assertInstanceof(b,jspb.Message),goog.asserts.assert(a.constructor==b.constructor,"Copy source and target message should have the same type.");for(var c=jspb.Message.clone(a),d=b.toArray(),e=c.toArray(),f=d.length=0;f<e.length;f++)d[f]=e[f];b.wrappers_=c.wrappers_,b.extensionObject_=c.extensionObject_},jspb.Message.clone_=function(a){var b;if(goog.isArray(a)){for(var c=Array(a.length),d=0;d<a.length;d++)null!=(b=a[d])&&(c[d]="object"==typeof b?jspb.Message.clone_(goog.asserts.assert(b)):b);return c}if(jspb.Message.SUPPORTS_UINT8ARRAY_&&a instanceof Uint8Array)return new Uint8Array(a);for(d in c={},a)null!=(b=a[d])&&(c[d]="object"==typeof b?jspb.Message.clone_(goog.asserts.assert(b)):b);return c},jspb.Message.registerMessageType=function(a,b){jspb.Message.registry_[a]=b,b.messageId=a},jspb.Message.registry_={},jspb.Message.messageSetExtensions={},jspb.Message.messageSetExtensionsBinary={},jspb.arith={},jspb.arith.UInt64=function(a,b){this.lo=a,this.hi=b},jspb.arith.UInt64.prototype.cmp=function(a){return this.hi<a.hi||this.hi==a.hi&&this.lo<a.lo?-1:this.hi==a.hi&&this.lo==a.lo?0:1},jspb.arith.UInt64.prototype.rightShift=function(){return new jspb.arith.UInt64((this.lo>>>1|(1&this.hi)<<31)>>>0,this.hi>>>1>>>0)},jspb.arith.UInt64.prototype.leftShift=function(){return new jspb.arith.UInt64(this.lo<<1>>>0,(this.hi<<1|this.lo>>>31)>>>0)},jspb.arith.UInt64.prototype.msb=function(){return!!(2147483648&this.hi)},jspb.arith.UInt64.prototype.lsb=function(){return!!(1&this.lo)},jspb.arith.UInt64.prototype.zero=function(){return 0==this.lo&&0==this.hi},jspb.arith.UInt64.prototype.add=function(a){return new jspb.arith.UInt64((this.lo+a.lo&4294967295)>>>0>>>0,((this.hi+a.hi&4294967295)>>>0)+(4294967296<=this.lo+a.lo?1:0)>>>0)},jspb.arith.UInt64.prototype.sub=function(a){return new jspb.arith.UInt64((this.lo-a.lo&4294967295)>>>0>>>0,((this.hi-a.hi&4294967295)>>>0)-(0>this.lo-a.lo?1:0)>>>0)},jspb.arith.UInt64.mul32x32=function(a,b){for(var d=a>>>16,e=65535&b,f=b>>>16,g=(c=65535&a)*e+65536*(c*f&65535)+65536*(d*e&65535),c=d*f+(c*f>>>16)+(d*e>>>16);4294967296<=g;)g-=4294967296,c+=1;return new jspb.arith.UInt64(g>>>0,c>>>0)},jspb.arith.UInt64.prototype.mul=function(a){var b=jspb.arith.UInt64.mul32x32(this.lo,a);return(a=jspb.arith.UInt64.mul32x32(this.hi,a)).hi=a.lo,a.lo=0,b.add(a)},jspb.arith.UInt64.prototype.div=function(a){if(0==a)return[];var b=new jspb.arith.UInt64(0,0),c=new jspb.arith.UInt64(this.lo,this.hi);a=new jspb.arith.UInt64(a,0);for(var d=new jspb.arith.UInt64(1,0);!a.msb();)a=a.leftShift(),d=d.leftShift();for(;!d.zero();)0>=a.cmp(c)&&(b=b.add(d),c=c.sub(a)),a=a.rightShift(),d=d.rightShift();return[b,c]},jspb.arith.UInt64.prototype.toString=function(){for(var a="",b=this;!b.zero();){var c=(b=b.div(10))[0];a=b[1].lo+a,b=c}return""==a&&(a="0"),a},jspb.arith.UInt64.fromString=function(a){for(var b=new jspb.arith.UInt64(0,0),c=new jspb.arith.UInt64(0,0),d=0;d<a.length;d++){if("0">a[d]||"9"<a[d])return null;var e=parseInt(a[d],10);c.lo=e,b=b.mul(10).add(c)}return b},jspb.arith.UInt64.prototype.clone=function(){return new jspb.arith.UInt64(this.lo,this.hi)},jspb.arith.Int64=function(a,b){this.lo=a,this.hi=b},jspb.arith.Int64.prototype.add=function(a){return new jspb.arith.Int64((this.lo+a.lo&4294967295)>>>0>>>0,((this.hi+a.hi&4294967295)>>>0)+(4294967296<=this.lo+a.lo?1:0)>>>0)},jspb.arith.Int64.prototype.sub=function(a){return new jspb.arith.Int64((this.lo-a.lo&4294967295)>>>0>>>0,((this.hi-a.hi&4294967295)>>>0)-(0>this.lo-a.lo?1:0)>>>0)},jspb.arith.Int64.prototype.clone=function(){return new jspb.arith.Int64(this.lo,this.hi)},jspb.arith.Int64.prototype.toString=function(){var a=0!=(2147483648&this.hi),b=new jspb.arith.UInt64(this.lo,this.hi);return a&&(b=new jspb.arith.UInt64(0,0).sub(b)),(a?"-":"")+b.toString()},jspb.arith.Int64.fromString=function(a){var b=0<a.length&&"-"==a[0];return b&&(a=a.substring(1)),null===(a=jspb.arith.UInt64.fromString(a))?null:(b&&(a=new jspb.arith.UInt64(0,0).sub(a)),new jspb.arith.Int64(a.lo,a.hi))},jspb.BinaryEncoder=function(){this.buffer_=[]},jspb.BinaryEncoder.prototype.length=function(){return this.buffer_.length},jspb.BinaryEncoder.prototype.end=function(){var a=this.buffer_;return this.buffer_=[],a},jspb.BinaryEncoder.prototype.writeSplitVarint64=function(a,b){for(goog.asserts.assert(a==Math.floor(a)),goog.asserts.assert(b==Math.floor(b)),goog.asserts.assert(0<=a&&a<jspb.BinaryConstants.TWO_TO_32),goog.asserts.assert(0<=b&&b<jspb.BinaryConstants.TWO_TO_32);0<b||127<a;)this.buffer_.push(127&a|128),a=(a>>>7|b<<25)>>>0,b>>>=7;this.buffer_.push(a)},jspb.BinaryEncoder.prototype.writeSplitFixed64=function(a,b){goog.asserts.assert(a==Math.floor(a)),goog.asserts.assert(b==Math.floor(b)),goog.asserts.assert(0<=a&&a<jspb.BinaryConstants.TWO_TO_32),goog.asserts.assert(0<=b&&b<jspb.BinaryConstants.TWO_TO_32),this.writeUint32(a),this.writeUint32(b)},jspb.BinaryEncoder.prototype.writeUnsignedVarint32=function(a){for(goog.asserts.assert(a==Math.floor(a)),goog.asserts.assert(0<=a&&a<jspb.BinaryConstants.TWO_TO_32);127<a;)this.buffer_.push(127&a|128),a>>>=7;this.buffer_.push(a)},jspb.BinaryEncoder.prototype.writeSignedVarint32=function(a){if(goog.asserts.assert(a==Math.floor(a)),goog.asserts.assert(a>=-jspb.BinaryConstants.TWO_TO_31&&a<jspb.BinaryConstants.TWO_TO_31),0<=a)this.writeUnsignedVarint32(a);else{for(var b=0;9>b;b++)this.buffer_.push(127&a|128),a>>=7;this.buffer_.push(1)}},jspb.BinaryEncoder.prototype.writeUnsignedVarint64=function(a){goog.asserts.assert(a==Math.floor(a)),goog.asserts.assert(0<=a&&a<jspb.BinaryConstants.TWO_TO_64),jspb.utils.splitInt64(a),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeSignedVarint64=function(a){goog.asserts.assert(a==Math.floor(a)),goog.asserts.assert(a>=-jspb.BinaryConstants.TWO_TO_63&&a<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitInt64(a),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeZigzagVarint32=function(a){goog.asserts.assert(a==Math.floor(a)),goog.asserts.assert(a>=-jspb.BinaryConstants.TWO_TO_31&&a<jspb.BinaryConstants.TWO_TO_31),this.writeUnsignedVarint32((a<<1^a>>31)>>>0)},jspb.BinaryEncoder.prototype.writeZigzagVarint64=function(a){goog.asserts.assert(a==Math.floor(a)),goog.asserts.assert(a>=-jspb.BinaryConstants.TWO_TO_63&&a<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitZigzag64(a),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeZigzagVarint64String=function(a){this.writeZigzagVarint64(parseInt(a,10))},jspb.BinaryEncoder.prototype.writeUint8=function(a){goog.asserts.assert(a==Math.floor(a)),goog.asserts.assert(0<=a&&256>a),this.buffer_.push(a>>>0&255)},jspb.BinaryEncoder.prototype.writeUint16=function(a){goog.asserts.assert(a==Math.floor(a)),goog.asserts.assert(0<=a&&65536>a),this.buffer_.push(a>>>0&255),this.buffer_.push(a>>>8&255)},jspb.BinaryEncoder.prototype.writeUint32=function(a){goog.asserts.assert(a==Math.floor(a)),goog.asserts.assert(0<=a&&a<jspb.BinaryConstants.TWO_TO_32),this.buffer_.push(a>>>0&255),this.buffer_.push(a>>>8&255),this.buffer_.push(a>>>16&255),this.buffer_.push(a>>>24&255)},jspb.BinaryEncoder.prototype.writeUint64=function(a){goog.asserts.assert(a==Math.floor(a)),goog.asserts.assert(0<=a&&a<jspb.BinaryConstants.TWO_TO_64),jspb.utils.splitUint64(a),this.writeUint32(jspb.utils.split64Low),this.writeUint32(jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeInt8=function(a){goog.asserts.assert(a==Math.floor(a)),goog.asserts.assert(-128<=a&&128>a),this.buffer_.push(a>>>0&255)},jspb.BinaryEncoder.prototype.writeInt16=function(a){goog.asserts.assert(a==Math.floor(a)),goog.asserts.assert(-32768<=a&&32768>a),this.buffer_.push(a>>>0&255),this.buffer_.push(a>>>8&255)},jspb.BinaryEncoder.prototype.writeInt32=function(a){goog.asserts.assert(a==Math.floor(a)),goog.asserts.assert(a>=-jspb.BinaryConstants.TWO_TO_31&&a<jspb.BinaryConstants.TWO_TO_31),this.buffer_.push(a>>>0&255),this.buffer_.push(a>>>8&255),this.buffer_.push(a>>>16&255),this.buffer_.push(a>>>24&255)},jspb.BinaryEncoder.prototype.writeInt64=function(a){goog.asserts.assert(a==Math.floor(a)),goog.asserts.assert(a>=-jspb.BinaryConstants.TWO_TO_63&&a<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitInt64(a),this.writeSplitFixed64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeInt64String=function(a){goog.asserts.assert(a==Math.floor(a)),goog.asserts.assert(+a>=-jspb.BinaryConstants.TWO_TO_63&&+a<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitHash64(jspb.utils.decimalStringToHash64(a)),this.writeSplitFixed64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeFloat=function(a){goog.asserts.assert(a>=-jspb.BinaryConstants.FLOAT32_MAX&&a<=jspb.BinaryConstants.FLOAT32_MAX),jspb.utils.splitFloat32(a),this.writeUint32(jspb.utils.split64Low)},jspb.BinaryEncoder.prototype.writeDouble=function(a){goog.asserts.assert(a>=-jspb.BinaryConstants.FLOAT64_MAX&&a<=jspb.BinaryConstants.FLOAT64_MAX),jspb.utils.splitFloat64(a),this.writeUint32(jspb.utils.split64Low),this.writeUint32(jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeBool=function(a){goog.asserts.assert(goog.isBoolean(a)||goog.isNumber(a)),this.buffer_.push(a?1:0)},jspb.BinaryEncoder.prototype.writeEnum=function(a){goog.asserts.assert(a==Math.floor(a)),goog.asserts.assert(a>=-jspb.BinaryConstants.TWO_TO_31&&a<jspb.BinaryConstants.TWO_TO_31),this.writeSignedVarint32(a)},jspb.BinaryEncoder.prototype.writeBytes=function(a){this.buffer_.push.apply(this.buffer_,a)},jspb.BinaryEncoder.prototype.writeVarintHash64=function(a){jspb.utils.splitHash64(a),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeFixedHash64=function(a){jspb.utils.splitHash64(a),this.writeUint32(jspb.utils.split64Low),this.writeUint32(jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeString=function(a){for(var b=this.buffer_.length,c=0;c<a.length;c++){var d=a.charCodeAt(c);if(128>d)this.buffer_.push(d);else if(2048>d)this.buffer_.push(d>>6|192),this.buffer_.push(63&d|128);else if(65536>d)if(55296<=d&&56319>=d&&c+1<a.length){var e=a.charCodeAt(c+1);56320<=e&&57343>=e&&(d=1024*(d-55296)+e-56320+65536,this.buffer_.push(d>>18|240),this.buffer_.push(d>>12&63|128),this.buffer_.push(d>>6&63|128),this.buffer_.push(63&d|128),c++)}else this.buffer_.push(d>>12|224),this.buffer_.push(d>>6&63|128),this.buffer_.push(63&d|128)}return this.buffer_.length-b},jspb.BinaryWriter=function(){this.blocks_=[],this.totalLength_=0,this.encoder_=new jspb.BinaryEncoder,this.bookmarks_=[]},jspb.BinaryWriter.prototype.appendUint8Array_=function(a){var b=this.encoder_.end();this.blocks_.push(b),this.blocks_.push(a),this.totalLength_+=b.length+a.length},jspb.BinaryWriter.prototype.beginDelimited_=function(a){return this.writeFieldHeader_(a,jspb.BinaryConstants.WireType.DELIMITED),a=this.encoder_.end(),this.blocks_.push(a),this.totalLength_+=a.length,a.push(this.totalLength_),a},jspb.BinaryWriter.prototype.endDelimited_=function(a){var b=a.pop();b=this.totalLength_+this.encoder_.length()-b;for(goog.asserts.assert(0<=b);127<b;)a.push(127&b|128),b>>>=7,this.totalLength_++;a.push(b),this.totalLength_++},jspb.BinaryWriter.prototype.writeSerializedMessage=function(a,b,c){this.appendUint8Array_(a.subarray(b,c))},jspb.BinaryWriter.prototype.maybeWriteSerializedMessage=function(a,b,c){null!=a&&null!=b&&null!=c&&this.writeSerializedMessage(a,b,c)},jspb.BinaryWriter.prototype.reset=function(){this.blocks_=[],this.encoder_.end(),this.totalLength_=0,this.bookmarks_=[]},jspb.BinaryWriter.prototype.getResultBuffer=function(){goog.asserts.assert(0==this.bookmarks_.length);for(var a=new Uint8Array(this.totalLength_+this.encoder_.length()),b=this.blocks_,c=b.length,d=0,e=0;e<c;e++){var f=b[e];a.set(f,d),d+=f.length}return b=this.encoder_.end(),a.set(b,d),d+=b.length,goog.asserts.assert(d==a.length),this.blocks_=[a],a},jspb.BinaryWriter.prototype.getResultBase64String=function(a){return goog.crypt.base64.encodeByteArray(this.getResultBuffer(),a)},jspb.BinaryWriter.prototype.beginSubMessage=function(a){this.bookmarks_.push(this.beginDelimited_(a))},jspb.BinaryWriter.prototype.endSubMessage=function(){goog.asserts.assert(0<=this.bookmarks_.length),this.endDelimited_(this.bookmarks_.pop())},jspb.BinaryWriter.prototype.writeFieldHeader_=function(a,b){goog.asserts.assert(1<=a&&a==Math.floor(a)),this.encoder_.writeUnsignedVarint32(8*a+b)},jspb.BinaryWriter.prototype.writeAny=function(a,b,c){var d=jspb.BinaryConstants.FieldType;switch(a){case d.DOUBLE:this.writeDouble(b,c);break;case d.FLOAT:this.writeFloat(b,c);break;case d.INT64:this.writeInt64(b,c);break;case d.UINT64:this.writeUint64(b,c);break;case d.INT32:this.writeInt32(b,c);break;case d.FIXED64:this.writeFixed64(b,c);break;case d.FIXED32:this.writeFixed32(b,c);break;case d.BOOL:this.writeBool(b,c);break;case d.STRING:this.writeString(b,c);break;case d.GROUP:goog.asserts.fail("Group field type not supported in writeAny()");break;case d.MESSAGE:goog.asserts.fail("Message field type not supported in writeAny()");break;case d.BYTES:this.writeBytes(b,c);break;case d.UINT32:this.writeUint32(b,c);break;case d.ENUM:this.writeEnum(b,c);break;case d.SFIXED32:this.writeSfixed32(b,c);break;case d.SFIXED64:this.writeSfixed64(b,c);break;case d.SINT32:this.writeSint32(b,c);break;case d.SINT64:this.writeSint64(b,c);break;case d.FHASH64:this.writeFixedHash64(b,c);break;case d.VHASH64:this.writeVarintHash64(b,c);break;default:goog.asserts.fail("Invalid field type in writeAny()")}},jspb.BinaryWriter.prototype.writeUnsignedVarint32_=function(a,b){null!=b&&(this.writeFieldHeader_(a,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeUnsignedVarint32(b))},jspb.BinaryWriter.prototype.writeSignedVarint32_=function(a,b){null!=b&&(this.writeFieldHeader_(a,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint32(b))},jspb.BinaryWriter.prototype.writeUnsignedVarint64_=function(a,b){null!=b&&(this.writeFieldHeader_(a,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeUnsignedVarint64(b))},jspb.BinaryWriter.prototype.writeSignedVarint64_=function(a,b){null!=b&&(this.writeFieldHeader_(a,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint64(b))},jspb.BinaryWriter.prototype.writeZigzagVarint32_=function(a,b){null!=b&&(this.writeFieldHeader_(a,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarint32(b))},jspb.BinaryWriter.prototype.writeZigzagVarint64_=function(a,b){null!=b&&(this.writeFieldHeader_(a,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarint64(b))},jspb.BinaryWriter.prototype.writeZigzagVarint64String_=function(a,b){null!=b&&(this.writeFieldHeader_(a,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarint64String(b))},jspb.BinaryWriter.prototype.writeInt32=function(a,b){null!=b&&(goog.asserts.assert(b>=-jspb.BinaryConstants.TWO_TO_31&&b<jspb.BinaryConstants.TWO_TO_31),this.writeSignedVarint32_(a,b))},jspb.BinaryWriter.prototype.writeInt32String=function(a,b){if(null!=b){var c=parseInt(b,10);goog.asserts.assert(c>=-jspb.BinaryConstants.TWO_TO_31&&c<jspb.BinaryConstants.TWO_TO_31),this.writeSignedVarint32_(a,c)}},jspb.BinaryWriter.prototype.writeInt64=function(a,b){null!=b&&(goog.asserts.assert(b>=-jspb.BinaryConstants.TWO_TO_63&&b<jspb.BinaryConstants.TWO_TO_63),this.writeSignedVarint64_(a,b))},jspb.BinaryWriter.prototype.writeInt64String=function(a,b){if(null!=b){var c=jspb.arith.Int64.fromString(b);this.writeFieldHeader_(a,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSplitVarint64(c.lo,c.hi)}},jspb.BinaryWriter.prototype.writeUint32=function(a,b){null!=b&&(goog.asserts.assert(0<=b&&b<jspb.BinaryConstants.TWO_TO_32),this.writeUnsignedVarint32_(a,b))},jspb.BinaryWriter.prototype.writeUint32String=function(a,b){if(null!=b){var c=parseInt(b,10);goog.asserts.assert(0<=c&&c<jspb.BinaryConstants.TWO_TO_32),this.writeUnsignedVarint32_(a,c)}},jspb.BinaryWriter.prototype.writeUint64=function(a,b){null!=b&&(goog.asserts.assert(0<=b&&b<jspb.BinaryConstants.TWO_TO_64),this.writeUnsignedVarint64_(a,b))},jspb.BinaryWriter.prototype.writeUint64String=function(a,b){if(null!=b){var c=jspb.arith.UInt64.fromString(b);this.writeFieldHeader_(a,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSplitVarint64(c.lo,c.hi)}},jspb.BinaryWriter.prototype.writeSint32=function(a,b){null!=b&&(goog.asserts.assert(b>=-jspb.BinaryConstants.TWO_TO_31&&b<jspb.BinaryConstants.TWO_TO_31),this.writeZigzagVarint32_(a,b))},jspb.BinaryWriter.prototype.writeSint64=function(a,b){null!=b&&(goog.asserts.assert(b>=-jspb.BinaryConstants.TWO_TO_63&&b<jspb.BinaryConstants.TWO_TO_63),this.writeZigzagVarint64_(a,b))},jspb.BinaryWriter.prototype.writeSint64String=function(a,b){null!=b&&(goog.asserts.assert(+b>=-jspb.BinaryConstants.TWO_TO_63&&+b<jspb.BinaryConstants.TWO_TO_63),this.writeZigzagVarint64String_(a,b))},jspb.BinaryWriter.prototype.writeFixed32=function(a,b){null!=b&&(goog.asserts.assert(0<=b&&b<jspb.BinaryConstants.TWO_TO_32),this.writeFieldHeader_(a,jspb.BinaryConstants.WireType.FIXED32),this.encoder_.writeUint32(b))},jspb.BinaryWriter.prototype.writeFixed64=function(a,b){null!=b&&(goog.asserts.assert(0<=b&&b<jspb.BinaryConstants.TWO_TO_64),this.writeFieldHeader_(a,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeUint64(b))},jspb.BinaryWriter.prototype.writeFixed64String=function(a,b){if(null!=b){var c=jspb.arith.UInt64.fromString(b);this.writeFieldHeader_(a,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeSplitFixed64(c.lo,c.hi)}},jspb.BinaryWriter.prototype.writeSfixed32=function(a,b){null!=b&&(goog.asserts.assert(b>=-jspb.BinaryConstants.TWO_TO_31&&b<jspb.BinaryConstants.TWO_TO_31),this.writeFieldHeader_(a,jspb.BinaryConstants.WireType.FIXED32),this.encoder_.writeInt32(b))},jspb.BinaryWriter.prototype.writeSfixed64=function(a,b){null!=b&&(goog.asserts.assert(b>=-jspb.BinaryConstants.TWO_TO_63&&b<jspb.BinaryConstants.TWO_TO_63),this.writeFieldHeader_(a,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeInt64(b))},jspb.BinaryWriter.prototype.writeSfixed64String=function(a,b){if(null!=b){var c=jspb.arith.Int64.fromString(b);this.writeFieldHeader_(a,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeSplitFixed64(c.lo,c.hi)}},jspb.BinaryWriter.prototype.writeFloat=function(a,b){null!=b&&(this.writeFieldHeader_(a,jspb.BinaryConstants.WireType.FIXED32),this.encoder_.writeFloat(b))},jspb.BinaryWriter.prototype.writeDouble=function(a,b){null!=b&&(this.writeFieldHeader_(a,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeDouble(b))},jspb.BinaryWriter.prototype.writeBool=function(a,b){null!=b&&(goog.asserts.assert(goog.isBoolean(b)||goog.isNumber(b)),this.writeFieldHeader_(a,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeBool(b))},jspb.BinaryWriter.prototype.writeEnum=function(a,b){null!=b&&(goog.asserts.assert(b>=-jspb.BinaryConstants.TWO_TO_31&&b<jspb.BinaryConstants.TWO_TO_31),this.writeFieldHeader_(a,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint32(b))},jspb.BinaryWriter.prototype.writeString=function(a,b){if(null!=b){var c=this.beginDelimited_(a);this.encoder_.writeString(b),this.endDelimited_(c)}},jspb.BinaryWriter.prototype.writeBytes=function(a,b){if(null!=b){var c=jspb.utils.byteSourceToUint8Array(b);this.writeFieldHeader_(a,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(c.length),this.appendUint8Array_(c)}},jspb.BinaryWriter.prototype.writeMessage=function(a,b,c){null!=b&&(a=this.beginDelimited_(a),c(b,this),this.endDelimited_(a))},jspb.BinaryWriter.prototype.writeGroup=function(a,b,c){null!=b&&(this.writeFieldHeader_(a,jspb.BinaryConstants.WireType.START_GROUP),c(b,this),this.writeFieldHeader_(a,jspb.BinaryConstants.WireType.END_GROUP))},jspb.BinaryWriter.prototype.writeFixedHash64=function(a,b){null!=b&&(goog.asserts.assert(8==b.length),this.writeFieldHeader_(a,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeFixedHash64(b))},jspb.BinaryWriter.prototype.writeVarintHash64=function(a,b){null!=b&&(goog.asserts.assert(8==b.length),this.writeFieldHeader_(a,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeVarintHash64(b))},jspb.BinaryWriter.prototype.writeRepeatedInt32=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeSignedVarint32_(a,b[c])},jspb.BinaryWriter.prototype.writeRepeatedInt32String=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeInt32String(a,b[c])},jspb.BinaryWriter.prototype.writeRepeatedInt64=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeSignedVarint64_(a,b[c])},jspb.BinaryWriter.prototype.writeRepeatedInt64String=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeInt64String(a,b[c])},jspb.BinaryWriter.prototype.writeRepeatedUint32=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeUnsignedVarint32_(a,b[c])},jspb.BinaryWriter.prototype.writeRepeatedUint32String=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeUint32String(a,b[c])},jspb.BinaryWriter.prototype.writeRepeatedUint64=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeUnsignedVarint64_(a,b[c])},jspb.BinaryWriter.prototype.writeRepeatedUint64String=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeUint64String(a,b[c])},jspb.BinaryWriter.prototype.writeRepeatedSint32=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeZigzagVarint32_(a,b[c])},jspb.BinaryWriter.prototype.writeRepeatedSint64=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeZigzagVarint64_(a,b[c])},jspb.BinaryWriter.prototype.writeRepeatedSint64String=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeZigzagVarint64String_(a,b[c])},jspb.BinaryWriter.prototype.writeRepeatedFixed32=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeFixed32(a,b[c])},jspb.BinaryWriter.prototype.writeRepeatedFixed64=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeFixed64(a,b[c])},jspb.BinaryWriter.prototype.writeRepeatedFixed64String=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeFixed64String(a,b[c])},jspb.BinaryWriter.prototype.writeRepeatedSfixed32=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeSfixed32(a,b[c])},jspb.BinaryWriter.prototype.writeRepeatedSfixed64=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeSfixed64(a,b[c])},jspb.BinaryWriter.prototype.writeRepeatedSfixed64String=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeSfixed64String(a,b[c])},jspb.BinaryWriter.prototype.writeRepeatedFloat=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeFloat(a,b[c])},jspb.BinaryWriter.prototype.writeRepeatedDouble=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeDouble(a,b[c])},jspb.BinaryWriter.prototype.writeRepeatedBool=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeBool(a,b[c])},jspb.BinaryWriter.prototype.writeRepeatedEnum=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeEnum(a,b[c])},jspb.BinaryWriter.prototype.writeRepeatedString=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeString(a,b[c])},jspb.BinaryWriter.prototype.writeRepeatedBytes=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeBytes(a,b[c])},jspb.BinaryWriter.prototype.writeRepeatedMessage=function(a,b,c){if(null!=b)for(var d=0;d<b.length;d++){var e=this.beginDelimited_(a);c(b[d],this),this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writeRepeatedGroup=function(a,b,c){if(null!=b)for(var d=0;d<b.length;d++)this.writeFieldHeader_(a,jspb.BinaryConstants.WireType.START_GROUP),c(b[d],this),this.writeFieldHeader_(a,jspb.BinaryConstants.WireType.END_GROUP)},jspb.BinaryWriter.prototype.writeRepeatedFixedHash64=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeFixedHash64(a,b[c])},jspb.BinaryWriter.prototype.writeRepeatedVarintHash64=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeVarintHash64(a,b[c])},jspb.BinaryWriter.prototype.writePackedInt32=function(a,b){if(null!=b&&b.length){for(var c=this.beginDelimited_(a),d=0;d<b.length;d++)this.encoder_.writeSignedVarint32(b[d]);this.endDelimited_(c)}},jspb.BinaryWriter.prototype.writePackedInt32String=function(a,b){if(null!=b&&b.length){for(var c=this.beginDelimited_(a),d=0;d<b.length;d++)this.encoder_.writeSignedVarint32(parseInt(b[d],10));this.endDelimited_(c)}},jspb.BinaryWriter.prototype.writePackedInt64=function(a,b){if(null!=b&&b.length){for(var c=this.beginDelimited_(a),d=0;d<b.length;d++)this.encoder_.writeSignedVarint64(b[d]);this.endDelimited_(c)}},jspb.BinaryWriter.prototype.writePackedInt64String=function(a,b){if(null!=b&&b.length){for(var c=this.beginDelimited_(a),d=0;d<b.length;d++){var e=jspb.arith.Int64.fromString(b[d]);this.encoder_.writeSplitVarint64(e.lo,e.hi)}this.endDelimited_(c)}},jspb.BinaryWriter.prototype.writePackedUint32=function(a,b){if(null!=b&&b.length){for(var c=this.beginDelimited_(a),d=0;d<b.length;d++)this.encoder_.writeUnsignedVarint32(b[d]);this.endDelimited_(c)}},jspb.BinaryWriter.prototype.writePackedUint32String=function(a,b){if(null!=b&&b.length){for(var c=this.beginDelimited_(a),d=0;d<b.length;d++)this.encoder_.writeUnsignedVarint32(parseInt(b[d],10));this.endDelimited_(c)}},jspb.BinaryWriter.prototype.writePackedUint64=function(a,b){if(null!=b&&b.length){for(var c=this.beginDelimited_(a),d=0;d<b.length;d++)this.encoder_.writeUnsignedVarint64(b[d]);this.endDelimited_(c)}},jspb.BinaryWriter.prototype.writePackedUint64String=function(a,b){if(null!=b&&b.length){for(var c=this.beginDelimited_(a),d=0;d<b.length;d++){var e=jspb.arith.UInt64.fromString(b[d]);this.encoder_.writeSplitVarint64(e.lo,e.hi)}this.endDelimited_(c)}},jspb.BinaryWriter.prototype.writePackedSint32=function(a,b){if(null!=b&&b.length){for(var c=this.beginDelimited_(a),d=0;d<b.length;d++)this.encoder_.writeZigzagVarint32(b[d]);this.endDelimited_(c)}},jspb.BinaryWriter.prototype.writePackedSint64=function(a,b){if(null!=b&&b.length){for(var c=this.beginDelimited_(a),d=0;d<b.length;d++)this.encoder_.writeZigzagVarint64(b[d]);this.endDelimited_(c)}},jspb.BinaryWriter.prototype.writePackedSint64String=function(a,b){if(null!=b&&b.length){for(var c=this.beginDelimited_(a),d=0;d<b.length;d++)this.encoder_.writeZigzagVarint64(parseInt(b[d],10));this.endDelimited_(c)}},jspb.BinaryWriter.prototype.writePackedFixed32=function(a,b){if(null!=b&&b.length){this.writeFieldHeader_(a,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(4*b.length);for(var c=0;c<b.length;c++)this.encoder_.writeUint32(b[c])}},jspb.BinaryWriter.prototype.writePackedFixed64=function(a,b){if(null!=b&&b.length){this.writeFieldHeader_(a,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*b.length);for(var c=0;c<b.length;c++)this.encoder_.writeUint64(b[c])}},jspb.BinaryWriter.prototype.writePackedFixed64String=function(a,b){if(null!=b&&b.length){this.writeFieldHeader_(a,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*b.length);for(var c=0;c<b.length;c++){var d=jspb.arith.UInt64.fromString(b[c]);this.encoder_.writeSplitFixed64(d.lo,d.hi)}}},jspb.BinaryWriter.prototype.writePackedSfixed32=function(a,b){if(null!=b&&b.length){this.writeFieldHeader_(a,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(4*b.length);for(var c=0;c<b.length;c++)this.encoder_.writeInt32(b[c])}},jspb.BinaryWriter.prototype.writePackedSfixed64=function(a,b){if(null!=b&&b.length){this.writeFieldHeader_(a,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*b.length);for(var c=0;c<b.length;c++)this.encoder_.writeInt64(b[c])}},jspb.BinaryWriter.prototype.writePackedSfixed64String=function(a,b){if(null!=b&&b.length){this.writeFieldHeader_(a,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*b.length);for(var c=0;c<b.length;c++)this.encoder_.writeInt64String(b[c])}},jspb.BinaryWriter.prototype.writePackedFloat=function(a,b){if(null!=b&&b.length){this.writeFieldHeader_(a,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(4*b.length);for(var c=0;c<b.length;c++)this.encoder_.writeFloat(b[c])}},jspb.BinaryWriter.prototype.writePackedDouble=function(a,b){if(null!=b&&b.length){this.writeFieldHeader_(a,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*b.length);for(var c=0;c<b.length;c++)this.encoder_.writeDouble(b[c])}},jspb.BinaryWriter.prototype.writePackedBool=function(a,b){if(null!=b&&b.length){this.writeFieldHeader_(a,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(b.length);for(var c=0;c<b.length;c++)this.encoder_.writeBool(b[c])}},jspb.BinaryWriter.prototype.writePackedEnum=function(a,b){if(null!=b&&b.length){for(var c=this.beginDelimited_(a),d=0;d<b.length;d++)this.encoder_.writeEnum(b[d]);this.endDelimited_(c)}},jspb.BinaryWriter.prototype.writePackedFixedHash64=function(a,b){if(null!=b&&b.length){this.writeFieldHeader_(a,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*b.length);for(var c=0;c<b.length;c++)this.encoder_.writeFixedHash64(b[c])}},jspb.BinaryWriter.prototype.writePackedVarintHash64=function(a,b){if(null!=b&&b.length){for(var c=this.beginDelimited_(a),d=0;d<b.length;d++)this.encoder_.writeVarintHash64(b[d]);this.endDelimited_(c)}},jspb.Export={},exports.Map=jspb.Map,exports.Message=jspb.Message,exports.BinaryReader=jspb.BinaryReader,exports.BinaryWriter=jspb.BinaryWriter,exports.ExtensionFieldInfo=jspb.ExtensionFieldInfo,exports.ExtensionFieldBinaryInfo=jspb.ExtensionFieldBinaryInfo,exports.exportSymbol=goog.exportSymbol,exports.inherits=goog.inherits,exports.object={extend:goog.object.extend},exports.typeOf=goog.typeOf}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer)},{buffer:2}],4:[function(require,module,exports){exports.read=function(buffer,offset,isLE,mLen,nBytes){var e,m,eLen=8*nBytes-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,nBits=-7,i=isLE?nBytes-1:0,d=isLE?-1:1,s=buffer[offset+i];for(i+=d,e=s&(1<<-nBits)-1,s>>=-nBits,nBits+=eLen;nBits>0;e=256*e+buffer[offset+i],i+=d,nBits-=8);for(m=e&(1<<-nBits)-1,e>>=-nBits,nBits+=mLen;nBits>0;m=256*m+buffer[offset+i],i+=d,nBits-=8);if(0===e)e=1-eBias;else{if(e===eMax)return m?NaN:1/0*(s?-1:1);m+=Math.pow(2,mLen),e-=eBias}return(s?-1:1)*m*Math.pow(2,e-mLen)},exports.write=function(buffer,value,offset,isLE,mLen,nBytes){var e,m,c,eLen=8*nBytes-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,rt=23===mLen?Math.pow(2,-24)-Math.pow(2,-77):0,i=isLE?0:nBytes-1,d=isLE?1:-1,s=value<0||0===value&&1/value<0?1:0;for(value=Math.abs(value),isNaN(value)||value===1/0?(m=isNaN(value)?1:0,e=eMax):(e=Math.floor(Math.log(value)/Math.LN2),value*(c=Math.pow(2,-e))<1&&(e--,c*=2),(value+=e+eBias>=1?rt/c:rt*Math.pow(2,1-eBias))*c>=2&&(e++,c/=2),e+eBias>=eMax?(m=0,e=eMax):e+eBias>=1?(m=(value*c-1)*Math.pow(2,mLen),e+=eBias):(m=value*Math.pow(2,eBias-1)*Math.pow(2,mLen),e=0));mLen>=8;buffer[offset+i]=255&m,i+=d,m/=256,mLen-=8);for(e=e<<mLen|m,eLen+=mLen;eLen>0;buffer[offset+i]=255&e,i+=d,e/=256,eLen-=8);buffer[offset+i-d]|=128*s}},{}],5:[function(require,module,exports){var jspb=require("google-protobuf"),goog=jspb,global=Function("return this")();goog.exportSymbol("proto.ImageWidth",null,global),goog.exportSymbol("proto.Timeline",null,global),goog.exportSymbol("proto.TimelineEntry",null,global),proto.TimelineEntry=function(opt_data){jspb.Message.initialize(this,opt_data,0,-1,null,null)},goog.inherits(proto.TimelineEntry,jspb.Message),goog.DEBUG&&!COMPILED&&(proto.TimelineEntry.displayName="proto.TimelineEntry"),jspb.Message.GENERATE_TO_OBJECT&&(proto.TimelineEntry.prototype.toObject=function(opt_includeInstance){return proto.TimelineEntry.toObject(opt_includeInstance,this)},proto.TimelineEntry.toObject=function(includeInstance,msg){var obj={surface:msg.getSurface_asB64(),display:jspb.Message.getFieldWithDefault(msg,2,0)};return includeInstance&&(obj.$jspbMessageInstance=msg),obj}),proto.TimelineEntry.deserializeBinary=function(bytes){var reader=new jspb.BinaryReader(bytes),msg=new proto.TimelineEntry;return proto.TimelineEntry.deserializeBinaryFromReader(msg,reader)},proto.TimelineEntry.deserializeBinaryFromReader=function(msg,reader){for(;reader.nextField()&&!reader.isEndGroup();){switch(reader.getFieldNumber()){case 1:var value=reader.readBytes();msg.setSurface(value);break;case 2:value=reader.readUint32();msg.setDisplay(value);break;default:reader.skipField()}}return msg},proto.TimelineEntry.prototype.serializeBinary=function(){var writer=new jspb.BinaryWriter;return proto.TimelineEntry.serializeBinaryToWriter(this,writer),writer.getResultBuffer()},proto.TimelineEntry.serializeBinaryToWriter=function(message,writer){var f=void 0;(f=message.getSurface_asU8()).length>0&&writer.writeBytes(1,f),0!==(f=message.getDisplay())&&writer.writeUint32(2,f)},proto.TimelineEntry.prototype.getSurface=function(){return jspb.Message.getFieldWithDefault(this,1,"")},proto.TimelineEntry.prototype.getSurface_asB64=function(){return jspb.Message.bytesAsB64(this.getSurface())},proto.TimelineEntry.prototype.getSurface_asU8=function(){return jspb.Message.bytesAsU8(this.getSurface())},proto.TimelineEntry.prototype.setSurface=function(value){jspb.Message.setField(this,1,value)},proto.TimelineEntry.prototype.getDisplay=function(){return jspb.Message.getFieldWithDefault(this,2,0)},proto.TimelineEntry.prototype.setDisplay=function(value){jspb.Message.setField(this,2,value)},proto.ImageWidth=function(opt_data){jspb.Message.initialize(this,opt_data,0,-1,null,null)},goog.inherits(proto.ImageWidth,jspb.Message),goog.DEBUG&&!COMPILED&&(proto.ImageWidth.displayName="proto.ImageWidth"),jspb.Message.GENERATE_TO_OBJECT&&(proto.ImageWidth.prototype.toObject=function(opt_includeInstance){return proto.ImageWidth.toObject(opt_includeInstance,this)},proto.ImageWidth.toObject=function(includeInstance,msg){var obj={width:jspb.Message.getFieldWithDefault(msg,1,0),height:jspb.Message.getFieldWithDefault(msg,2,0)};return includeInstance&&(obj.$jspbMessageInstance=msg),obj}),proto.ImageWidth.deserializeBinary=function(bytes){var reader=new jspb.BinaryReader(bytes),msg=new proto.ImageWidth;return proto.ImageWidth.deserializeBinaryFromReader(msg,reader)},proto.ImageWidth.deserializeBinaryFromReader=function(msg,reader){for(;reader.nextField()&&!reader.isEndGroup();){switch(reader.getFieldNumber()){case 1:var value=reader.readUint32();msg.setWidth(value);break;case 2:value=reader.readUint32();msg.setHeight(value);break;default:reader.skipField()}}return msg},proto.ImageWidth.prototype.serializeBinary=function(){var writer=new jspb.BinaryWriter;return proto.ImageWidth.serializeBinaryToWriter(this,writer),writer.getResultBuffer()},proto.ImageWidth.serializeBinaryToWriter=function(message,writer){var f=void 0;0!==(f=message.getWidth())&&writer.writeUint32(1,f),0!==(f=message.getHeight())&&writer.writeUint32(2,f)},proto.ImageWidth.prototype.getWidth=function(){return jspb.Message.getFieldWithDefault(this,1,0)},proto.ImageWidth.prototype.setWidth=function(value){jspb.Message.setField(this,1,value)},proto.ImageWidth.prototype.getHeight=function(){return jspb.Message.getFieldWithDefault(this,2,0)},proto.ImageWidth.prototype.setHeight=function(value){jspb.Message.setField(this,2,value)},proto.Timeline=function(opt_data){jspb.Message.initialize(this,opt_data,0,-1,proto.Timeline.repeatedFields_,null)},goog.inherits(proto.Timeline,jspb.Message),goog.DEBUG&&!COMPILED&&(proto.Timeline.displayName="proto.Timeline"),proto.Timeline.repeatedFields_=[1],jspb.Message.GENERATE_TO_OBJECT&&(proto.Timeline.prototype.toObject=function(opt_includeInstance){return proto.Timeline.toObject(opt_includeInstance,this)},proto.Timeline.toObject=function(includeInstance,msg){var f,obj={timelineList:jspb.Message.toObjectList(msg.getTimelineList(),proto.TimelineEntry.toObject,includeInstance),imgsize:(f=msg.getImgsize())&&proto.ImageWidth.toObject(includeInstance,f),expiration:jspb.Message.getFieldWithDefault(msg,3,0),issuedAt:jspb.Message.getFieldWithDefault(msg,4,0)};return includeInstance&&(obj.$jspbMessageInstance=msg),obj}),proto.Timeline.deserializeBinary=function(bytes){var reader=new jspb.BinaryReader(bytes),msg=new proto.Timeline;return proto.Timeline.deserializeBinaryFromReader(msg,reader)},proto.Timeline.deserializeBinaryFromReader=function(msg,reader){for(;reader.nextField()&&!reader.isEndGroup();){switch(reader.getFieldNumber()){case 1:var value=new proto.TimelineEntry;reader.readMessage(value,proto.TimelineEntry.deserializeBinaryFromReader),msg.addTimeline(value);break;case 2:value=new proto.ImageWidth;reader.readMessage(value,proto.ImageWidth.deserializeBinaryFromReader),msg.setImgsize(value);break;case 3:value=reader.readUint32();msg.setExpiration(value);break;case 4:value=reader.readUint32();msg.setIssuedAt(value);break;default:reader.skipField()}}return msg},proto.Timeline.prototype.serializeBinary=function(){var writer=new jspb.BinaryWriter;return proto.Timeline.serializeBinaryToWriter(this,writer),writer.getResultBuffer()},proto.Timeline.serializeBinaryToWriter=function(message,writer){var f=void 0;(f=message.getTimelineList()).length>0&&writer.writeRepeatedMessage(1,f,proto.TimelineEntry.serializeBinaryToWriter),null!=(f=message.getImgsize())&&writer.writeMessage(2,f,proto.ImageWidth.serializeBinaryToWriter),0!==(f=message.getExpiration())&&writer.writeUint32(3,f),0!==(f=message.getIssuedAt())&&writer.writeUint32(4,f)},proto.Timeline.prototype.getTimelineList=function(){return jspb.Message.getRepeatedWrapperField(this,proto.TimelineEntry,1)},proto.Timeline.prototype.setTimelineList=function(value){jspb.Message.setRepeatedWrapperField(this,1,value)},proto.Timeline.prototype.addTimeline=function(opt_value,opt_index){return jspb.Message.addToRepeatedWrapperField(this,1,opt_value,proto.TimelineEntry,opt_index)},proto.Timeline.prototype.clearTimelineList=function(){this.setTimelineList([])},proto.Timeline.prototype.getImgsize=function(){return jspb.Message.getWrapperField(this,proto.ImageWidth,2)},proto.Timeline.prototype.setImgsize=function(value){jspb.Message.setWrapperField(this,2,value)},proto.Timeline.prototype.clearImgsize=function(){this.setImgsize(void 0)},proto.Timeline.prototype.hasImgsize=function(){return null!=jspb.Message.getField(this,2)},proto.Timeline.prototype.getExpiration=function(){return jspb.Message.getFieldWithDefault(this,3,0)},proto.Timeline.prototype.setExpiration=function(value){jspb.Message.setField(this,3,value)},proto.Timeline.prototype.getIssuedAt=function(){return jspb.Message.getFieldWithDefault(this,4,0)},proto.Timeline.prototype.setIssuedAt=function(value){jspb.Message.setField(this,4,value)},goog.object.extend(exports,proto)},{"google-protobuf":3}]},{},[5]),function(Y){function C(c,a,b){var g,l,d,f,m,q,u,r,t,e=0,h=[],n=0,I=!1,v=[],w=[],y=!1,z=!1,x=-1;if(g=(b=b||{}).encoding||"UTF8",(t=b.numRounds||1)!==parseInt(t,10)||1>t)throw Error("numRounds must a integer >= 1");if("SHA-1"===c)m=512,q=K,u=Z,f=160,r=function(a){return a.slice()};else if(0===c.lastIndexOf("SHA-",0))if(q=function(a,b){return L(a,b,c)},u=function(a,b,h,e){var k,f;if("SHA-224"===c||"SHA-256"===c)k=15+(b+65>>>9<<4),f=16;else{if("SHA-384"!==c&&"SHA-512"!==c)throw Error("Unexpected error in SHA-2 implementation");k=31+(b+129>>>10<<5),f=32}for(;a.length<=k;)a.push(0);for(a[b>>>5]|=128<<24-b%32,b+=h,a[k]=4294967295&b,a[k-1]=b/4294967296|0,h=a.length,b=0;b<h;b+=f)e=L(a.slice(b,b+f),e,c);if("SHA-224"===c)a=[e[0],e[1],e[2],e[3],e[4],e[5],e[6]];else if("SHA-256"===c)a=e;else if("SHA-384"===c)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else{if("SHA-512"!==c)throw Error("Unexpected error in SHA-2 implementation");a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b]}return a},r=function(a){return a.slice()},"SHA-224"===c)m=512,f=224;else if("SHA-256"===c)m=512,f=256;else if("SHA-384"===c)m=1024,f=384;else{if("SHA-512"!==c)throw Error("Chosen SHA variant is not supported");m=1024,f=512}else{if(0!==c.lastIndexOf("SHA3-",0)&&0!==c.lastIndexOf("SHAKE",0))throw Error("Chosen SHA variant is not supported");var F=6;if(q=D,r=function(a){var e,c=[];for(e=0;5>e;e+=1)c[e]=a[e].slice();return c},x=1,"SHA3-224"===c)m=1152,f=224;else if("SHA3-256"===c)m=1088,f=256;else if("SHA3-384"===c)m=832,f=384;else if("SHA3-512"===c)m=576,f=512;else if("SHAKE128"===c)m=1344,f=-1,F=31,z=!0;else{if("SHAKE256"!==c)throw Error("Chosen SHA variant is not supported");m=1088,f=-1,F=31,z=!0}u=function(a,c,e,b,h){var f,k=F,g=[],n=(e=m)>>>5,l=0,d=c>>>5;for(f=0;f<d&&c>=e;f+=n)b=D(a.slice(f,f+n),b),c-=e;for(a=a.slice(f),c%=e;a.length<n;)a.push(0);for(a[(f=c>>>3)>>2]^=k<<f%4*8,a[n-1]^=2147483648,b=D(a,b);32*g.length<h&&(a=b[l%5][l/5|0],g.push(a.b),!(32*g.length>=h));)g.push(a.a),0==64*(l+=1)%e&&D(null,b);return g}}d=M(a,g,x),l=A(c),this.setHMACKey=function(a,b,h){var k;if(!0===I)throw Error("HMAC key already set");if(!0===y)throw Error("Cannot set HMAC key after calling update");if(!0===z)throw Error("SHAKE is not supported for HMAC");if(a=(b=M(b,g=(h||{}).encoding||"UTF8",x)(a)).binLen,b=b.value,h=(k=m>>>3)/4-1,k<a/8){for(b=u(b,a,0,A(c),f);b.length<=h;)b.push(0);b[h]&=4294967040}else if(k>a/8){for(;b.length<=h;)b.push(0);b[h]&=4294967040}for(a=0;a<=h;a+=1)v[a]=909522486^b[a],w[a]=1549556828^b[a];l=q(v,l),e=m,I=!0},this.update=function(a){var c,b,k,f=0,g=m>>>5;for(a=(c=d(a,h,n)).binLen,b=c.value,c=a>>>5,k=0;k<c;k+=g)f+m<=a&&(l=q(b.slice(k,k+g),l),f+=m);e+=f,h=b.slice(f>>>5),n=a%m,y=!0},this.getHash=function(a,b){var k,g,d,m;if(!0===I)throw Error("Cannot call getHash after setting HMAC key");if(d=N(b),!0===z){if(-1===d.shakeLen)throw Error("shakeLen must be specified in options");f=d.shakeLen}switch(a){case"HEX":k=function(a){return O(a,f,x,d)};break;case"B64":k=function(a){return P(a,f,x,d)};break;case"BYTES":k=function(a){return Q(a,f,x)};break;case"ARRAYBUFFER":try{g=new ArrayBuffer(0)}catch(p){throw Error("ARRAYBUFFER not supported by this environment")}k=function(a){return R(a,f,x)};break;default:throw Error("format must be HEX, B64, BYTES, or ARRAYBUFFER")}for(m=u(h.slice(),n,e,r(l),f),g=1;g<t;g+=1)!0===z&&0!=f%32&&(m[m.length-1]&=16777215>>>24-f%32),m=u(m,f,0,A(c),f);return k(m)},this.getHMAC=function(a,b){var k,g,d,p;if(!1===I)throw Error("Cannot call getHMAC without first setting HMAC key");switch(d=N(b),a){case"HEX":k=function(a){return O(a,f,x,d)};break;case"B64":k=function(a){return P(a,f,x,d)};break;case"BYTES":k=function(a){return Q(a,f,x)};break;case"ARRAYBUFFER":try{k=new ArrayBuffer(0)}catch(v){throw Error("ARRAYBUFFER not supported by this environment")}k=function(a){return R(a,f,x)};break;default:throw Error("outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER")}return g=u(h.slice(),n,e,r(l),f),p=q(w,A(c)),k(p=u(g,f,m,p,f))}}function b(c,a){this.a=c,this.b=a}function O(c,a,b,e){var n,g,d,h="";for(a/=8,d=-1===b?3:0,n=0;n<a;n+=1)g=c[n>>>2]>>>8*(d+n%4*b),h+="0123456789abcdef".charAt(g>>>4&15)+"0123456789abcdef".charAt(15&g);return e.outputUpper?h.toUpperCase():h}function P(c,a,b,e){var g,d,p,f,h="",n=a/8;for(f=-1===b?3:0,g=0;g<n;g+=3)for(d=g+1<n?c[g+1>>>2]:0,p=g+2<n?c[g+2>>>2]:0,p=(c[g>>>2]>>>8*(f+g%4*b)&255)<<16|(d>>>8*(f+(g+1)%4*b)&255)<<8|p>>>8*(f+(g+2)%4*b)&255,d=0;4>d;d+=1)h+=8*g+6*d<=a?"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(p>>>6*(3-d)&63):e.b64Pad;return h}function Q(c,a,b){var h,d,g,e="";for(a/=8,g=-1===b?3:0,h=0;h<a;h+=1)d=c[h>>>2]>>>8*(g+h%4*b)&255,e+=String.fromCharCode(d);return e}function R(c,a,b){a/=8;var e,d,g,h=new ArrayBuffer(a);for(g=new Uint8Array(h),d=-1===b?3:0,e=0;e<a;e+=1)g[e]=c[e>>>2]>>>8*(d+e%4*b)&255;return h}function N(c){var a={outputUpper:!1,b64Pad:"=",shakeLen:-1};if(c=c||{},a.outputUpper=c.outputUpper||!1,!0===c.hasOwnProperty("b64Pad")&&(a.b64Pad=c.b64Pad),!0===c.hasOwnProperty("shakeLen")){if(0!=c.shakeLen%8)throw Error("shakeLen must be a multiple of 8");a.shakeLen=c.shakeLen}if("boolean"!=typeof a.outputUpper)throw Error("Invalid outputUpper formatting option");if("string"!=typeof a.b64Pad)throw Error("Invalid b64Pad formatting option");return a}function M(c,a,b){switch(a){case"UTF8":case"UTF16BE":case"UTF16LE":break;default:throw Error("encoding must be UTF8, UTF16BE, or UTF16LE")}switch(c){case"HEX":c=function(a,c,d){var l,p,f,m,q,u,g=a.length;if(0!=g%2)throw Error("String of HEX type must be in byte increments");for(c=c||[0],q=(d=d||0)>>>3,u=-1===b?3:0,l=0;l<g;l+=2){if(p=parseInt(a.substr(l,2),16),isNaN(p))throw Error("String of HEX type contains invalid characters");for(f=(m=(l>>>1)+q)>>>2;c.length<=f;)c.push(0);c[f]|=p<<8*(u+m%4*b)}return{value:c,binLen:4*g+d}};break;case"TEXT":c=function(c,h,d){var g,l,f,m,q,u,r,t,p=0;if(h=h||[0],q=(d=d||0)>>>3,"UTF8"===a)for(t=-1===b?3:0,f=0;f<c.length;f+=1)for(l=[],128>(g=c.charCodeAt(f))?l.push(g):2048>g?(l.push(192|g>>>6),l.push(128|63&g)):55296>g||57344<=g?l.push(224|g>>>12,128|g>>>6&63,128|63&g):(f+=1,g=65536+((1023&g)<<10|1023&c.charCodeAt(f)),l.push(240|g>>>18,128|g>>>12&63,128|g>>>6&63,128|63&g)),m=0;m<l.length;m+=1){for(u=(r=p+q)>>>2;h.length<=u;)h.push(0);h[u]|=l[m]<<8*(t+r%4*b),p+=1}else if("UTF16BE"===a||"UTF16LE"===a)for(t=-1===b?2:0,l="UTF16LE"===a&&1!==b||"UTF16LE"!==a&&1===b,f=0;f<c.length;f+=1){for(g=c.charCodeAt(f),!0===l&&(g=(m=255&g)<<8|g>>>8),u=(r=p+q)>>>2;h.length<=u;)h.push(0);h[u]|=g<<8*(t+r%4*b),p+=2}return{value:h,binLen:8*p+d}};break;case"B64":c=function(a,c,d){var l,p,f,m,q,u,r,t,g=0;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error("Invalid character in base-64 string");if(p=a.indexOf("="),a=a.replace(/\\=/g,""),-1!==p&&p<a.length)throw Error("Invalid \'=\' found in base-64 string");for(c=c||[0],u=(d=d||0)>>>3,t=-1===b?3:0,p=0;p<a.length;p+=4){for(q=a.substr(p,4),f=m=0;f<q.length;f+=1)m|=(l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(q[f]))<<18-6*f;for(f=0;f<q.length-1;f+=1){for(l=(r=g+u)>>>2;c.length<=l;)c.push(0);c[l]|=(m>>>16-8*f&255)<<8*(t+r%4*b),g+=1}}return{value:c,binLen:8*g+d}};break;case"BYTES":c=function(a,c,d){var g,l,p,f,m,q;for(c=c||[0],p=(d=d||0)>>>3,q=-1===b?3:0,l=0;l<a.length;l+=1)g=a.charCodeAt(l),f=(m=l+p)>>>2,c.length<=f&&c.push(0),c[f]|=g<<8*(q+m%4*b);return{value:c,binLen:8*a.length+d}};break;case"ARRAYBUFFER":try{c=new ArrayBuffer(0)}catch(e){throw Error("ARRAYBUFFER not supported by this environment")}c=function(a,c,d){var g,l,p,f,m,q;for(c=c||[0],l=(d=d||0)>>>3,m=-1===b?3:0,q=new Uint8Array(a),g=0;g<a.byteLength;g+=1)p=(f=g+l)>>>2,c.length<=p&&c.push(0),c[p]|=q[g]<<8*(m+f%4*b);return{value:c,binLen:8*a.byteLength+d}};break;default:throw Error("format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER")}return c}function y(c,a){return c<<a|c>>>32-a}function S(c,a){return 32<a?(a-=32,new b(c.b<<a|c.a>>>32-a,c.a<<a|c.b>>>32-a)):0!==a?new b(c.a<<a|c.b>>>32-a,c.b<<a|c.a>>>32-a):c}function w(c,a){return c>>>a|c<<32-a}function t(c,a){var k=null;k=new b(c.a,c.b);return 32>=a?new b(k.a>>>a|k.b<<32-a&4294967295,k.b>>>a|k.a<<32-a&4294967295):new b(k.b>>>a-32|k.a<<64-a&4294967295,k.a>>>a-32|k.b<<64-a&4294967295)}function T(c,a){return 32>=a?new b(c.a>>>a,c.b>>>a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function aa(c,a,b){return c&a^~c&b}function ba(c,a,k){return new b(c.a&a.a^~c.a&k.a,c.b&a.b^~c.b&k.b)}function U(c,a,b){return c&a^c&b^a&b}function ca(c,a,k){return new b(c.a&a.a^c.a&k.a^a.a&k.a,c.b&a.b^c.b&k.b^a.b&k.b)}function da(c){return w(c,2)^w(c,13)^w(c,22)}function ea(c){var a=t(c,28),k=t(c,34);return c=t(c,39),new b(a.a^k.a^c.a,a.b^k.b^c.b)}function fa(c){return w(c,6)^w(c,11)^w(c,25)}function ga(c){var a=t(c,14),k=t(c,18);return c=t(c,41),new b(a.a^k.a^c.a,a.b^k.b^c.b)}function ha(c){return w(c,7)^w(c,18)^c>>>3}function ia(c){var a=t(c,1),k=t(c,8);return c=T(c,7),new b(a.a^k.a^c.a,a.b^k.b^c.b)}function ja(c){return w(c,17)^w(c,19)^c>>>10}function ka(c){var a=t(c,19),k=t(c,61);return c=T(c,6),new b(a.a^k.a^c.a,a.b^k.b^c.b)}function G(c,a){var b=(65535&c)+(65535&a);return((c>>>16)+(a>>>16)+(b>>>16)&65535)<<16|65535&b}function la(c,a,b,e){var h=(65535&c)+(65535&a)+(65535&b)+(65535&e);return((c>>>16)+(a>>>16)+(b>>>16)+(e>>>16)+(h>>>16)&65535)<<16|65535&h}function H(c,a,b,e,h){var d=(65535&c)+(65535&a)+(65535&b)+(65535&e)+(65535&h);return((c>>>16)+(a>>>16)+(b>>>16)+(e>>>16)+(h>>>16)+(d>>>16)&65535)<<16|65535&d}function ma(c,a){var d,e,h;return d=(65535&c.b)+(65535&a.b),h=(65535&(e=(c.b>>>16)+(a.b>>>16)+(d>>>16)))<<16|65535&d,d=(65535&c.a)+(65535&a.a)+(e>>>16),new b((65535&(e=(c.a>>>16)+(a.a>>>16)+(d>>>16)))<<16|65535&d,h)}function na(c,a,d,e){var h,n,g;return h=(65535&c.b)+(65535&a.b)+(65535&d.b)+(65535&e.b),g=(65535&(n=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(h>>>16)))<<16|65535&h,h=(65535&c.a)+(65535&a.a)+(65535&d.a)+(65535&e.a)+(n>>>16),new b((65535&(n=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(h>>>16)))<<16|65535&h,g)}function oa(c,a,d,e,h){var n,g,l;return n=(65535&c.b)+(65535&a.b)+(65535&d.b)+(65535&e.b)+(65535&h.b),l=(65535&(g=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(h.b>>>16)+(n>>>16)))<<16|65535&n,n=(65535&c.a)+(65535&a.a)+(65535&d.a)+(65535&e.a)+(65535&h.a)+(g>>>16),new b((65535&(g=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(h.a>>>16)+(n>>>16)))<<16|65535&n,l)}function B(c,a){return new b(c.a^a.a,c.b^a.b)}function A(c){var d,a=[];if("SHA-1"===c)a=[1732584193,4023233417,2562383102,271733878,3285377520];else if(0===c.lastIndexOf("SHA-",0))switch(a=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case"SHA-224":break;case"SHA-256":a=d;break;case"SHA-384":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case"SHA-512":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error("Unknown SHA variant")}else{if(0!==c.lastIndexOf("SHA3-",0)&&0!==c.lastIndexOf("SHAKE",0))throw Error("No SHA variants supported");for(c=0;5>c;c+=1)a[c]=[new b(0,0),new b(0,0),new b(0,0),new b(0,0),new b(0,0)]}return a}function K(c,a){var e,d,n,g,l,p,f,b=[];for(e=a[0],d=a[1],n=a[2],g=a[3],l=a[4],f=0;80>f;f+=1)b[f]=16>f?c[f]:y(b[f-3]^b[f-8]^b[f-14]^b[f-16],1),p=20>f?H(y(e,5),d&n^~d&g,l,1518500249,b[f]):40>f?H(y(e,5),d^n^g,l,1859775393,b[f]):60>f?H(y(e,5),U(d,n,g),l,2400959708,b[f]):H(y(e,5),d^n^g,l,3395469782,b[f]),l=g,g=n,n=y(d,30),d=e,e=p;return a[0]=G(e,a[0]),a[1]=G(d,a[1]),a[2]=G(n,a[2]),a[3]=G(g,a[3]),a[4]=G(l,a[4]),a}function Z(c,a,b,e){var d;for(d=15+(a+65>>>9<<4);c.length<=d;)c.push(0);for(c[a>>>5]|=128<<24-a%32,a+=b,c[d]=4294967295&a,c[d-1]=a/4294967296|0,a=c.length,d=0;d<a;d+=16)e=K(c.slice(d,d+16),e);return e}function L(c,a,k){var e,h,n,g,l,p,f,m,q,u,r,t,v,w,y,A,z,x,F,B,C,D,J,E=[];if("SHA-224"===k||"SHA-256"===k)u=64,t=1,D=Number,v=G,w=la,y=H,A=ha,z=ja,x=da,F=fa,C=U,B=aa,J=d;else{if("SHA-384"!==k&&"SHA-512"!==k)throw Error("Unexpected error in SHA-2 implementation");u=80,t=2,D=b,v=ma,w=na,y=oa,A=ia,z=ka,x=ea,F=ga,C=ca,B=ba,J=V}for(k=a[0],e=a[1],h=a[2],n=a[3],g=a[4],l=a[5],p=a[6],f=a[7],r=0;r<u;r+=1)16>r?(q=r*t,m=c.length<=q?0:c[q],q=c.length<=q+1?0:c[q+1],E[r]=new D(m,q)):E[r]=w(z(E[r-2]),E[r-7],A(E[r-15]),E[r-16]),m=y(f,F(g),B(g,l,p),J[r],E[r]),q=v(x(k),C(k,e,h)),f=p,p=l,l=g,g=v(n,m),n=h,h=e,e=k,k=v(m,q);return a[0]=v(k,a[0]),a[1]=v(e,a[1]),a[2]=v(h,a[2]),a[3]=v(n,a[3]),a[4]=v(g,a[4]),a[5]=v(l,a[5]),a[6]=v(p,a[6]),a[7]=v(f,a[7]),a}function D(c,a){var d,e,h,n,g=[],l=[];if(null!==c)for(e=0;e<c.length;e+=2)a[(e>>>1)%5][(e>>>1)/5|0]=B(a[(e>>>1)%5][(e>>>1)/5|0],new b(c[e+1],c[e]));for(d=0;24>d;d+=1){for(n=A("SHA3-"),e=0;5>e;e+=1){h=a[e][0];var p=a[e][1],f=a[e][2],m=a[e][3],q=a[e][4];g[e]=new b(h.a^p.a^f.a^m.a^q.a,h.b^p.b^f.b^m.b^q.b)}for(e=0;5>e;e+=1)l[e]=B(g[(e+4)%5],S(g[(e+1)%5],1));for(e=0;5>e;e+=1)for(h=0;5>h;h+=1)a[e][h]=B(a[e][h],l[e]);for(e=0;5>e;e+=1)for(h=0;5>h;h+=1)n[h][(2*e+3*h)%5]=S(a[e][h],W[e][h]);for(e=0;5>e;e+=1)for(h=0;5>h;h+=1)a[e][h]=B(n[e][h],new b(~n[(e+1)%5][h].a&n[(e+2)%5][h].a,~n[(e+1)%5][h].b&n[(e+2)%5][h].b));a[0][0]=B(a[0][0],X[d])}return a}var d,V,W,X;V=[new b((d=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298])[0],3609767458),new b(d[1],602891725),new b(d[2],3964484399),new b(d[3],2173295548),new b(d[4],4081628472),new b(d[5],3053834265),new b(d[6],2937671579),new b(d[7],3664609560),new b(d[8],2734883394),new b(d[9],1164996542),new b(d[10],1323610764),new b(d[11],3590304994),new b(d[12],4068182383),new b(d[13],991336113),new b(d[14],633803317),new b(d[15],3479774868),new b(d[16],2666613458),new b(d[17],944711139),new b(d[18],2341262773),new b(d[19],2007800933),new b(d[20],1495990901),new b(d[21],1856431235),new b(d[22],3175218132),new b(d[23],2198950837),new b(d[24],3999719339),new b(d[25],766784016),new b(d[26],2566594879),new b(d[27],3203337956),new b(d[28],1034457026),new b(d[29],2466948901),new b(d[30],3758326383),new b(d[31],168717936),new b(d[32],1188179964),new b(d[33],1546045734),new b(d[34],1522805485),new b(d[35],2643833823),new b(d[36],2343527390),new b(d[37],1014477480),new b(d[38],1206759142),new b(d[39],344077627),new b(d[40],1290863460),new b(d[41],3158454273),new b(d[42],3505952657),new b(d[43],106217008),new b(d[44],3606008344),new b(d[45],1432725776),new b(d[46],1467031594),new b(d[47],851169720),new b(d[48],3100823752),new b(d[49],1363258195),new b(d[50],3750685593),new b(d[51],3785050280),new b(d[52],3318307427),new b(d[53],3812723403),new b(d[54],2003034995),new b(d[55],3602036899),new b(d[56],1575990012),new b(d[57],1125592928),new b(d[58],2716904306),new b(d[59],442776044),new b(d[60],593698344),new b(d[61],3733110249),new b(d[62],2999351573),new b(d[63],3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)],X=[new b(0,1),new b(0,32898),new b(2147483648,32906),new b(2147483648,2147516416),new b(0,32907),new b(0,2147483649),new b(2147483648,2147516545),new b(2147483648,32777),new b(0,138),new b(0,136),new b(0,2147516425),new b(0,2147483658),new b(0,2147516555),new b(2147483648,139),new b(2147483648,32905),new b(2147483648,32771),new b(2147483648,32770),new b(2147483648,128),new b(0,32778),new b(2147483648,2147483658),new b(2147483648,2147516545),new b(2147483648,32896),new b(0,2147483649),new b(2147483648,2147516424)],W=[[0,36,3,41,18],[1,44,10,45,2],[62,6,43,15,61],[28,55,25,21,56],[27,20,39,8,14]],"function"==typeof define&&define.amd?define(function(){return C}):"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(module.exports=C),exports=C):Y.jsSHA=C}(this);var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var isNode="undefined"==typeof window;if(isNode)var XMLHttpRequest=require("xmlhttprequest").XMLHttpRequest,jsSHA=require("jssha");var ErrorEnum=Object.freeze({no_error:0,invalid_token:1,invalid_url:2,cannot_contact_server:3,invalid_server_answer:4}),jswbw=function(){function jswbw(){var config=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,jswbw);var _config$callback=config.callback,callback=void 0===_config$callback?null:_config$callback,_config$service=config.service,service=void 0===_config$service?null:_config$service,_config$token=config.token,token=void 0===_config$token?null:_config$token,_config$tenant=config.tenant,tenant=void 0===_config$tenant?null:_config$tenant,_config$apikey=config.apikey,apikey=void 0===_config$apikey?null:_config$apikey,_config$secret=config.secret,secret=void 0===_config$secret?null:_config$secret;if(null==callback||"function"!=typeof callback.message||"function"!=typeof callback.error||"function"!=typeof callback.image)throw new Error("object configuration is invalid, no callback provided");if(null==secret)throw new Error("object configuration is invalid, no secret provided");this.state_STARTED="started",this.state_STARTED_INVALIDCONF="invalidconf",this.state_STOPPED="stopped",this.callback=callback,this.service=service,this.tenant=tenant,this.token=token,this.apikey=apikey,this.state=this.state_STOPPED,this.timeline=new Timeline(this,callback,null),this.initial_delay=100,this.max_delay=18e4,this.retry_count=0,this.array=[],this.sendOk=!1,this.sigKey=secret,this.callback.message("jswbw "+this.getVersion()+" initialized")}return _createClass(jswbw,[{key:"changeState",value:function(newstate){this.state!==newstate&&(newstate===this.state_STOPPED&&this.timeline.pause(),newstate===this.state_STARTED&&(this.fetchTimeline(),this.timeline.resume()),this.state=newstate,this.callback.message("Changing state to "+newstate))}},{key:"setTenant",value:function(tenant){var isStarted=this.state===this.state_STARTED,isStopped=this.state===this.state_STOPPED;this.tenant!==tenant&&(this.changeState(this.state_STARTED_INVALIDCONF),this.timeline.invalidate()),this.tenant=tenant,this.callback.message("Setting tenant to \'"+tenant+"\'"),this.state===this.state_STARTED_INVALIDCONF&&(isStarted?this.changeState(this.state_STARTED):isStopped&&(this.state=this.state_STOPPED))}},{key:"setToken",value:function(token){var isStarted=this.state===this.state_STARTED,isStopped=this.state===this.state_STOPPED;this.token!==token&&(this.changeState(this.state_STARTED_INVALIDCONF),this.timeline.invalidate()),this.token=token,this.callback.message("Setting token"),this.state===this.state_STARTED_INVALIDCONF&&(isStarted?this.changeState(this.state_STARTED):isStopped&&(this.state=this.state_STOPPED))}},{key:"setURL",value:function(url){var isStarted=this.state===this.state_STARTED,isStopped=this.state===this.state_STOPPED;this.service!==url&&(this.changeState(this.state_STARTED_INVALIDCONF),this.timeline.invalidate()),this.service=url,this.callback.message("Setting URL to \'"+url+"\'"),this.state===this.state_STARTED_INVALIDCONF&&(isStarted?this.changeState(this.state_STARTED):isStopped&&(this.state=this.state_STOPPED))}},{key:"setApiKey",value:function(apikey){var isStarted=this.state===this.state_STARTED,isStopped=this.state===this.state_STOPPED;this.apikey!==apikey&&(this.changeState(this.state_STARTED_INVALIDCONF),this.timeline.invalidate()),this.apikey=apikey,this.callback.message("Setting api key"),this.state===this.state_STARTED_INVALIDCONF&&(isStarted?this.changeState(this.state_STARTED):isStopped&&(this.state=this.state_STOPPED))}},{key:"checkSignature",value:function(response,signature){var shaObj=new jsSHA("SHA-1","ARRAYBUFFER");shaObj.setHMACKey(this.sigKey,"BYTES"),shaObj.update(response);var check=shaObj.getHMAC("HEX");return check===signature||(this.callback.message("Signature is incorrect"),!1)}},{key:"setSmartRetryOptions",value:function(initialDelay,maxDelay){this.initial_delay=initialDelay,this.max_delay=maxDelay}},{key:"fetchTimelineRepeat",value:function(object,isMain,isLast){if(!object.sendOk){isMain||(object.retry_count+=1);var url=object.service+"/"+object.tenant+"/qm/v1/surfaces",timelineRequest=new XMLHttpRequest;timelineRequest.timeout=2e3,timelineRequest.addEventListener("readystatechange",function(){}),timelineRequest.addEventListener("progress",function(){}),timelineRequest.addEventListener("timeout",function(){isMain&&object.createTimelineMap(),isLast&&(event?object.callback.error(ErrorEnum.cannot_contact_server,"Invalid answer from server ("+event.target.status+")"):object.callback.error(ErrorEnum.cannot_contact_server,"Invalid answer from server"),object.cleanTimelineMap())}),timelineRequest.addEventListener("loadstart",function(){}),timelineRequest.addEventListener("loadend",function(){}),timelineRequest.addEventListener("abort",function(){}),timelineRequest.addEventListener("load",function(){if(this.status>400)isMain&&object.createTimelineMap(),isLast&&(object.callback.error(ErrorEnum.invalid_token,"Token rejected by server"),object.cleanTimelineMap());else{object.sendOk=!0,object.cleanTimelineMap();timelineRequest.getAllResponseHeaders().replace(/[\\n\\r]+/g,", ");var signature=timelineRequest.getResponseHeader("nv-qm-signature");null==signature?object.callback.error(ErrorEnum.invalid_server_answer,"Signature missing"):!0===object.checkSignature(new Uint8Array(this.response),signature)?object.timeline.update(this.response):object.callback.error(ErrorEnum.invalid_server_answesr,"Signature doesn\'t match")}}),timelineRequest.addEventListener("error",function(event){isMain&&object.createTimelineMap(),isLast&&(event?object.callback.error(ErrorEnum.cannot_contact_server,"Invalid answer from server ("+event.target.status+")"):object.callback.error(ErrorEnum.cannot_contact_server,"Invalid answer from server"),object.cleanTimelineMap())}),timelineRequest.responseType="arraybuffer",timelineRequest.open("GET",url,!0),null!=object.apikey&&""!==object.apikey&&timelineRequest.setRequestHeader("x-api-key",this.apikey),timelineRequest.setRequestHeader("Accept","application/octet-stream"),timelineRequest.setRequestHeader("nv-authorizations",object.token);try{timelineRequest.send()}catch(e){isMain&&object.createTimelineMap(),isLast&&(object.callback.error(ErrorEnum.invalid_server_answer,"Request error ("+e+")"),object.cleanTimelineMap())}}}},{key:"fetchTimeline",value:function(){return null==this.token||""===this.token?(this.callback.error(ErrorEnum.invalid_token,"Missing token"),void this.changeState(this.state_STARTED_INVALIDCONF)):null==this.service||""===this.service?(this.callback.error(ErrorEnum.invalid_url,"Missing service URL"),void this.changeState(this.state_STARTED_INVALIDCONF)):null==this.tenant||""===this.tenant?(this.callback.error(ErrorEnum.invalid_url,"Missing tenant"),void this.changeState(this.state_STARTED_INVALIDCONF)):(this.sendOk=!1,this.retry_count=0,this.cleanTimelineMap(),void this.fetchTimelineRepeat(this,!0,!1))}},{key:"createTimelineMap",value:function(){var delay;if(0===this.array.length)for(delay=this.initial_delay;delay<this.max_delay;){var increment=delay*(.4+.2*Math.random()),isTheLast=delay+increment>this.max_delay;this.array[this.array.length]=setTimeout(function(object,isMain,isLast){object.fetchTimelineRepeat(object,isMain,isLast)},delay,this,!1,isTheLast),delay+=increment}}},{key:"cleanTimelineMap",value:function(){var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=this.array[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var key=_step.value;clearTimeout(key)}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{!_iteratorNormalCompletion&&_iterator.return&&_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}this.array.splice(0,this.array.length)}},{key:"start",value:function(){this.changeState(this.state_STARTED)}},{key:"stop",value:function(){this.changeState(this.state_STOPPED)}},{key:"getVersion",value:function(){return"1.2.0"}}]),jswbw}(),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var isNode="undefined"==typeof window,expgr=180,ErrorEnum=Object.freeze({no_error:0,invalid_token:1,invalid_url:2,cannot_contact_server:3,invalid_server_answer:4}),Timeline=function(){function Timeline(jsw,callback,xNodeToInsertBefore){_classCallCheck(this,Timeline),this.latestProto=null,this.timelineEntries=[],this.callback=callback,this.jsw=jsw,this.nodeToInsertBefore=xNodeToInsertBefore,this.currentEntry=null,this.timeUntilTimelineRefresh=0,this.resumeTime=0,this.timeSinceLastRefresh=0,this.imageTimeout=null,this.timelineRefreshTimeout=null,this.timelinePlaying=!1}return _createClass(Timeline,[{key:"update",value:function(protoBytes){this.refreshTimeout=null,this.latestProto=protoBytes,this.parse(),null==this.currentEntry&&this.timelinePlaying&&this.nextImage()}},{key:"invalidate",value:function(){this.pause(),this.currentEntry=null,this.timeUntilTimelineRefresh=0,this.resumeTime=0,this.timeSinceLastRefresh=0,this.timelineRefreshTimeout=null,this.timelinePlaying=!1}},{key:"parse",value:function(){if(this.latestProto&&this.latestProto.byteLength>0&&this.latestProto.byteLength<2097152)try{var timeline=proto.Timeline.deserializeBinary(this.latestProto),currentTime=Math.floor((new Date).getTime()/1e3),expirationTime=timeline.getExpiration()+expgr,issuedAtTime=timeline.getIssuedAt()-expgr;if(currentTime<issuedAtTime||currentTime>expirationTime)return void this.callback.error(ErrorEnum.invalid_server_answer,"Server answer is not yet valid/expired");if(timeline.getTimelineList().length<=0)return void this.callback.error(ErrorEnum.invalid_server_answer,"Timeline is empty");for(var i=0;i<timeline.getTimelineList().length;i++){for(var surface="",bytes=new Uint8Array(timeline.getTimelineList()[i].getSurface()),len=bytes.byteLength,j=0;j<len;j++)surface+=String.fromCharCode(bytes[j]);surface=isNode?"data:image/png;base64,"+Buffer.from(surface).toString("base64"):"data:image/png;base64,"+window.btoa(surface);var duration=timeline.getTimelineList()[i].getDisplay();duration<1e3&&(duration=1e3),this.timelineEntries[this.timelineEntries.length]=new TimelineEntry(surface,duration)}}catch(e){this.callback.error(ErrorEnum.invalid_server_answer,"Unknown error : "+e.message)}else this.latestProto,this.callback.error(ErrorEnum.invalid_server_answer,"Out of bounds byte array")}},{key:"getTimeInMillis",value:function(){return(new Date).getTime()}},{key:"nextImage",value:function(){if(null!=this.currentEntry&&(this.currentEntry.clearImage(),this.currentEntry=null),!(this.timelineEntries.length<=0)){this.currentEntry=this.timelineEntries[0],this.timelineEntries.shift(),this.callback.message("Displaying new image"),this.callback.image(this.currentEntry.imageData);var timeNow=this.getTimeInMillis();if(this.currentEntry.resumedAtTime(timeNow),this.startImageTimeout(),null==this.refreshTimeout){this.resumedAtTime(timeNow);var timeUntilNoMoreEntries=this.currentEntry.displayDuration;this.timelineEntries.length&&(timeUntilNoMoreEntries+=this.timelineEntries.map(function(entry){return entry.displayDuration}).reduce(function(x,y){return x+y})),this.timeUntilTimelineRefresh=timeUntilNoMoreEntries,this.startRefreshTimeout()}}}},{key:"startRefreshTimeout",value:function(){this.refreshTimeout=setTimeout(this.jsw.fetchTimeline.bind(this.jsw),this.timeUntilRefresh())}},{key:"startImageTimeout",value:function(){null!=this.currentEntry&&(this.imageTimeout=setTimeout(this.nextImage.bind(this),this.currentEntry.timeLeftToDisplay()))}},{key:"resume",value:function(){if(!this.timelinePlaying){if(null!=this.currentEntry){var timeNow=this.getTimeInMillis();this.resumedAtTime(timeNow),this.currentEntry.resumedAtTime(timeNow),this.startImageTimeout(),this.startRefreshTimeout()}else this.nextImage();this.timelinePlaying=!0}}},{key:"pausedAtTime",value:function(xTime){this.timeSinceLastRefresh+=xTime-this.resumeTime}},{key:"resumedAtTime",value:function(xTime){this.resumeTime=xTime}},{key:"timeUntilRefresh",value:function(){return this.timeUntilTimelineRefresh-this.timeSinceLastRefresh}},{key:"pause",value:function(){if(!0===this.timelinePlaying){null!=this.imageTimeout&&(clearTimeout(this.imageTimeout),this.imageTimeout=null),null!==this.refreshTimeout&&(clearTimeout(this.refreshTimeout),this.refreshTimeout=null);var timeNow=this.getTimeInMillis();this.pausedAtTime(timeNow),null!=this.currentEntry&&this.currentEntry.pausedAtTime(timeNow),this.timelinePlaying=!1}}}]),Timeline}(),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var TimelineEntry=function(){function TimelineEntry(xImageDataOrUri,xDuration){_classCallCheck(this,TimelineEntry),this.imageDataOrUri=xImageDataOrUri,this.imageData=null,this.displayDuration=xDuration,this.displayTime=null,this.displayedDuration=0,this.parseImage()}return _createClass(TimelineEntry,[{key:"parseImage",value:function(){this.imageData=this.imageDataOrUri}},{key:"clearImage",value:function(){this.imageDataOrUri=null,this.imageData=null}},{key:"resumedAtTime",value:function(xTime){this.displayTime=xTime}},{key:"pausedAtTime",value:function(xTime){this.displayedDuration+=xTime-this.displayTime}},{key:"timeLeftToDisplay",value:function(){return this.displayDuration-this.displayedDuration}}]),TimelineEntry}();isNode&&(module.exports={jswbw:jswbw,Timeline:Timeline,TimelineEntry:TimelineEntry});/* Version=1.2.0 */\n'},function(e,t,r){"use strict";"function"==typeof Symbol&&Symbol.iterator;!function(){var e=function(e,t){return function(r){return window.getComputedStyle?window.getComputedStyle(e,t)[r]:e.currentStyle[r]}},t=function t(r){return"HTML"!==r.nodeName&&"static"===e(r)("position")?t(r.offsetParent):r},r=function(){return window.pageXOffset?{x:window.pageXOffset,y:window.pageYOffset}:{x:document.documentElement.scrollLeft,y:document.documentElement.scrollTop}},n=function(e){if(-1!==navigator.userAgent.toLowerCase().indexOf("android")){var t=e.controlBar.progressControl,r=function(){t.addClass("fake-active")},n=function(){t.removeClass("fake-active")};t.on("touchstart",r),t.on("touchend",n),t.on("touchcancel",n)}},i=function(e,t){var r=document.createElement("base");r.href=e;var n=document.getElementsByTagName("head")[0];n.insertBefore(r,n.firstChild);var i=document.createElement("a");i.href=t;var o=i.href;return n.removeChild(r),o},o=function(e,t){for(var r={},n=e.cues,o=0;o<n.length;o++){var a=n[o],s=r[a.startTime]={src:i(t,a.text.split("#")[0])},u=a.text.split("#")[1];if(u&&"xywh="===u.substring(0,5)){var l=u.substring(5).split(",");s.width=l[2],s.height=l[3],s.style={left:"-"+l[0]+"px",top:"-"+l[1]+"px"}}}return r},a=function(e,i){if(e._thumbs)return void(e._thumbs.settings=i);e._thumbs={settings:i},n(e);var o=document.createElement("div");o.className="vjs-thumbnail-holder";var a=document.createElement("div");o.appendChild(a),a.className="vjs-thumbnail";var s=e.duration();e.on("durationchange",function(t){s=e.duration()}),e.on("loadedmetadata",function(t){s=e.duration()});var u=e.controlBar.progressControl,l=u.seekBar,c=u.el();c.firstChild?c.insertBefore(o,c.firstChild):c.appendChild(o);var d=window.getComputedStyle(o),f=parseInt(d.getPropertyValue("--thumbnails-height"),10),g=function(n){if(n.target!==o&&n.target!==a){var i=r().x,c=t(u.el()).getBoundingClientRect(),d=(c.width||c.right)+i,g=n.pageX;n.changedTouches&&(g=n.changedTouches[0].pageX);var p=g||n.clientX+document.body.scrollLeft+document.documentElement.scrollLeft;p-=t(u.el()).getBoundingClientRect().left+i;var h=Math.floor(l.calculateDistance(n)*s),y=0,m=e._thumbs.settings;for(var v in m)h>v&&(y=Math.max(y,v));var b=m[y];if(b){var A=/^https?:\/\//i;b.src&&a.style.background.replace(A,"//")!=b.src.replace(A,"//")&&(a.style.background="url("+b.src+") no-repeat");var _=e.currentDimensions(),E=_.width/screen.width,T=_.height/screen.height,S=parseFloat(b.width||m[0].width),I=parseFloat(b.height||m[0].height);a.style.width=S+"px",a.style.height=I+"px",b.style&&(a.style.backgroundPosition=b.style.left+" "+b.style.top),e.hasClass("vjs-fullscreen")?a.style.transform="":a.style.transform="scale("+E+","+T+")";var w=S*E,C=I*T,D=w/2;p+D>d?p=d-w:p<D?p=0:p-=D,o.style.width=w+"px",o.style.height=C+"px",o.style.left=p+"px",o.style.top="-"+(C+f)+"px",o.style.display="block"}}};u.on("mousemove",g),u.on("touchmove",g);var p=function(e){o.style.display="none"};u.on("touchcancel",p),u.on("touchend",p),e.on("userinactive",p)},s=function(e){a(e,{vtt:""}),e.$(".vjs-thumbnail-holder").style.display="none"},u=!1,l=0;videojs.registerPlugin("thumbnails",function(e){var t=this;if(!e)return void s(t);var r="metadata";if(function(){return-1!==window.navigator.userAgent.indexOf("Safari")&&-1===window.navigator.userAgent.indexOf("Chrome")}()&&(r="chapters"),u||(t.textTracks().on("removetrack",function(e){e.track.kind===r&&"thumbnails"===e.track.id&&e.track.label===l.toString()&&s(t)}),u=!0),!e.vtt)return void a(t,e);s(t),l++;var n=t.addRemoteTextTrack({id:"thumbnails",kind:r,label:l.toString(),src:e.vtt},!1);e.vtt&&n.addEventListener("load",function r(){n.removeEventListener("load",r);var i=t.textTracks().getTrackById("thumbnails");a(t,o(i,e.vtt))})})}()}])});